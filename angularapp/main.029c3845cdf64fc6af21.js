(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{8255:zt=>{function je(de){return Promise.resolve().then(()=>{var I=new Error("Cannot find module '"+de+"'");throw I.code="MODULE_NOT_FOUND",I})}je.keys=()=>[],je.resolve=je,je.id=8255,zt.exports=je},8583:(zt,je,de)=>{"use strict";de.d(je,{mr:()=>Je,ez:()=>Xn,K0:()=>Ae,x:()=>me,Do:()=>kt,V_:()=>oe,Ye:()=>Pn,S$:()=>ot,sg:()=>Vn,O5:()=>Wr,tP:()=>so,b0:()=>Ft,Zx:()=>ci,lw:()=>ke,Tn:()=>K,EM:()=>$,JF:()=>xt,p6:()=>rt,Mn:()=>Nt,ol:()=>pt,UT:()=>tt,NF:()=>Pi,PM:()=>Mo,w_:()=>Be,bD:()=>lo,q:()=>ee,Mx:()=>Cr,HT:()=>xe});var I=de(7716);let u=null;function ee(){return u}function xe(j){u||(u=j)}class Be{}const Ae=new I.OlP("DocumentToken");let ke=(()=>{class j{historyGo(G){throw new Error("Not implemented")}}return j.\u0275fac=function(G){return new(G||j)},j.\u0275prov=(0,I.Yz7)({factory:ue,token:j,providedIn:"platform"}),j})();function ue(){return(0,I.LFG)(Te)}const oe=new I.OlP("Location Initialized");let Te=(()=>{class j extends ke{constructor(G){super(),this._doc=G,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(G){const fe=ee().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",G,!1),()=>fe.removeEventListener("popstate",G)}onHashChange(G){const fe=ee().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",G,!1),()=>fe.removeEventListener("hashchange",G)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(G){this.location.pathname=G}pushState(G,fe,Se){we()?this._history.pushState(G,fe,Se):this.location.hash=Se}replaceState(G,fe,Se){we()?this._history.replaceState(G,fe,Se):this.location.hash=Se}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return j.\u0275fac=function(G){return new(G||j)(I.LFG(Ae))},j.\u0275prov=(0,I.Yz7)({factory:Ce,token:j,providedIn:"platform"}),j})();function we(){return!!window.history.pushState}function Ce(){return new Te((0,I.LFG)(Ae))}function it(j,re){if(0==j.length)return re;if(0==re.length)return j;let G=0;return j.endsWith("/")&&G++,re.startsWith("/")&&G++,2==G?j+re.substring(1):1==G?j+re:j+"/"+re}function _t(j){const re=j.match(/#|\?|$/),G=re&&re.index||j.length;return j.slice(0,G-("/"===j[G-1]?1:0))+j.slice(G)}function dt(j){return j&&"?"!==j[0]?"?"+j:j}let ot=(()=>{class j{historyGo(G){throw new Error("Not implemented")}}return j.\u0275fac=function(G){return new(G||j)},j.\u0275prov=(0,I.Yz7)({factory:Ke,token:j,providedIn:"root"}),j})();function Ke(j){const re=(0,I.LFG)(Ae).location;return new Ft((0,I.LFG)(ke),re&&re.origin||"")}const Je=new I.OlP("appBaseHref");let Ft=(()=>{class j extends ot{constructor(G,fe){if(super(),this._platformLocation=G,this._removeListenerFns=[],null==fe&&(fe=this._platformLocation.getBaseHrefFromDOM()),null==fe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=fe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return it(this._baseHref,G)}path(G=!1){const fe=this._platformLocation.pathname+dt(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&G?`${fe}${Se}`:fe}pushState(G,fe,Se,ct){const vt=this.prepareExternalUrl(Se+dt(ct));this._platformLocation.pushState(G,fe,vt)}replaceState(G,fe,Se,ct){const vt=this.prepareExternalUrl(Se+dt(ct));this._platformLocation.replaceState(G,fe,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var fe,Se;null===(Se=(fe=this._platformLocation).historyGo)||void 0===Se||Se.call(fe,G)}}return j.\u0275fac=function(G){return new(G||j)(I.LFG(ke),I.LFG(Je,8))},j.\u0275prov=I.Yz7({token:j,factory:j.\u0275fac}),j})(),kt=(()=>{class j extends ot{constructor(G,fe){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl(G){const fe=it(this._baseHref,G);return fe.length>0?"#"+fe:fe}pushState(G,fe,Se,ct){let vt=this.prepareExternalUrl(Se+dt(ct));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(G,fe,vt)}replaceState(G,fe,Se,ct){let vt=this.prepareExternalUrl(Se+dt(ct));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(G,fe,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(G=0){var fe,Se;null===(Se=(fe=this._platformLocation).historyGo)||void 0===Se||Se.call(fe,G)}}return j.\u0275fac=function(G){return new(G||j)(I.LFG(ke),I.LFG(Je,8))},j.\u0275prov=I.Yz7({token:j,factory:j.\u0275fac}),j})(),Pn=(()=>{class j{constructor(G,fe){this._subject=new I.vpe,this._urlChangeListeners=[],this._platformStrategy=G;const Se=this._platformStrategy.getBaseHref();this._platformLocation=fe,this._baseHref=_t(z(Se)),this._platformStrategy.onPopState(ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:ct.state,type:ct.type})})}path(G=!1){return this.normalize(this._platformStrategy.path(G))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(G,fe=""){return this.path()==this.normalize(G+dt(fe))}normalize(G){return j.stripTrailingSlash(function(j,re){return j&&re.startsWith(j)?re.substring(j.length):re}(this._baseHref,z(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._platformStrategy.prepareExternalUrl(G)}go(G,fe="",Se=null){this._platformStrategy.pushState(Se,"",G,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+dt(fe)),Se)}replaceState(G,fe="",Se=null){this._platformStrategy.replaceState(Se,"",G,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+dt(fe)),Se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(G=0){var fe,Se;null===(Se=(fe=this._platformStrategy).historyGo)||void 0===Se||Se.call(fe,G)}onUrlChange(G){this._urlChangeListeners.push(G),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)}))}_notifyUrlChangeListeners(G="",fe){this._urlChangeListeners.forEach(Se=>Se(G,fe))}subscribe(G,fe,Se){return this._subject.subscribe({next:G,error:fe,complete:Se})}}return j.\u0275fac=function(G){return new(G||j)(I.LFG(ot),I.LFG(ke))},j.normalizeQueryParams=dt,j.joinWithSlash=it,j.stripTrailingSlash=_t,j.\u0275prov=(0,I.Yz7)({factory:Dn,token:j,providedIn:"root"}),j})();function Dn(){return new Pn((0,I.LFG)(ot),(0,I.LFG)(ke))}function z(j){return j.replace(/\/index.html$/,"")}var Z=(()=>((Z=Z||{})[Z.Decimal=0]="Decimal",Z[Z.Percent=1]="Percent",Z[Z.Currency=2]="Currency",Z[Z.Scientific=3]="Scientific",Z))(),le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))(),me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),K=(()=>((K=K||{})[K.Narrow=0]="Narrow",K[K.Abbreviated=1]="Abbreviated",K[K.Wide=2]="Wide",K[K.Short=3]="Short",K))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function pt(j,re,G){const fe=(0,I.cg1)(j),ct=cr([fe[I.wAp.DayPeriodsFormat],fe[I.wAp.DayPeriodsStandalone]],re);return cr(ct,G)}function Nt(j,re,G){const fe=(0,I.cg1)(j),ct=cr([fe[I.wAp.DaysFormat],fe[I.wAp.DaysStandalone]],re);return cr(ct,G)}function tt(j,re,G){const fe=(0,I.cg1)(j),ct=cr([fe[I.wAp.MonthsFormat],fe[I.wAp.MonthsStandalone]],re);return cr(ct,G)}function gi(j,re){return cr((0,I.cg1)(j)[I.wAp.DateFormat],re)}function pn(j,re){return cr((0,I.cg1)(j)[I.wAp.TimeFormat],re)}function qn(j,re){return cr((0,I.cg1)(j)[I.wAp.DateTimeFormat],re)}function Rn(j,re){const G=(0,I.cg1)(j),fe=G[I.wAp.NumberSymbols][re];if(void 0===fe){if(re===Le.CurrencyDecimal)return G[I.wAp.NumberSymbols][Le.Decimal];if(re===Le.CurrencyGroup)return G[I.wAp.NumberSymbols][Le.Group]}return fe}const rr=I.kL8;function zn(j){if(!j[I.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[I.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cr(j,re){for(let G=re;G>-1;G--)if(void 0!==j[G])return j[G];throw new Error("Locale data API: locale data undefined")}function zr(j){const[re,G]=j.split(":");return{hours:+re,minutes:+G}}const At=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qt={},mi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ge=(()=>((Ge=Ge||{})[Ge.Short=0]="Short",Ge[Ge.ShortGMT=1]="ShortGMT",Ge[Ge.Long=2]="Long",Ge[Ge.Extended=3]="Extended",Ge))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),Ue=(()=>((Ue=Ue||{})[Ue.DayPeriods=0]="DayPeriods",Ue[Ue.Days=1]="Days",Ue[Ue.Months=2]="Months",Ue[Ue.Eras=3]="Eras",Ue))();function rt(j,re,G,fe){let Se=function(j){if(Io(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[Se,ct=1,vt=1]=j.split("-").map(qt=>+qt);return Ze(Se,ct-1,vt)}const G=parseFloat(j);if(!isNaN(j-G))return new Date(G);let fe;if(fe=j.match(At))return function(j){const re=new Date(0);let G=0,fe=0;const Se=j[8]?re.setUTCFullYear:re.setFullYear,ct=j[8]?re.setUTCHours:re.setHours;j[9]&&(G=Number(j[9]+j[10]),fe=Number(j[9]+j[11])),Se.call(re,Number(j[1]),Number(j[2])-1,Number(j[3]));const vt=Number(j[4]||0)-G,qt=Number(j[5]||0)-fe,fn=Number(j[6]||0),er=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return ct.call(re,vt,qt,fn,er),re}(fe)}const re=new Date(j);if(!Io(re))throw new Error(`Unable to convert "${j}" into a date`);return re}(j);re=Tt(G,re)||re;let qt,vt=[];for(;re;){if(qt=mi.exec(re),!qt){vt.push(re);break}{vt=vt.concat(qt.slice(1));const jn=vt.pop();if(!jn)break;re=jn}}let fn=Se.getTimezoneOffset();fe&&(fn=Sr(fe,fn),Se=function(j,re,G){const Se=j.getTimezoneOffset();return function(j,re){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+re),j}(j,-1*(Sr(re,Se)-Se))}(Se,fe));let er="";return vt.forEach(jn=>{const Cn=function(j){if(qi[j])return qi[j];let re;switch(j){case"G":case"GG":case"GGG":re=on(Ue.Eras,K.Abbreviated);break;case"GGGG":re=on(Ue.Eras,K.Wide);break;case"GGGGG":re=on(Ue.Eras,K.Narrow);break;case"y":re=an(Ee.FullYear,1,0,!1,!0);break;case"yy":re=an(Ee.FullYear,2,0,!0,!0);break;case"yyy":re=an(Ee.FullYear,3,0,!1,!0);break;case"yyyy":re=an(Ee.FullYear,4,0,!1,!0);break;case"Y":re=ei(1);break;case"YY":re=ei(2,!0);break;case"YYY":re=ei(3);break;case"YYYY":re=ei(4);break;case"M":case"L":re=an(Ee.Month,1,1);break;case"MM":case"LL":re=an(Ee.Month,2,1);break;case"MMM":re=on(Ue.Months,K.Abbreviated);break;case"MMMM":re=on(Ue.Months,K.Wide);break;case"MMMMM":re=on(Ue.Months,K.Narrow);break;case"LLL":re=on(Ue.Months,K.Abbreviated,me.Standalone);break;case"LLLL":re=on(Ue.Months,K.Wide,me.Standalone);break;case"LLLLL":re=on(Ue.Months,K.Narrow,me.Standalone);break;case"w":re=ds(1);break;case"ww":re=ds(2);break;case"W":re=ds(1,!0);break;case"d":re=an(Ee.Date,1);break;case"dd":re=an(Ee.Date,2);break;case"c":case"cc":re=an(Ee.Day,1);break;case"ccc":re=on(Ue.Days,K.Abbreviated,me.Standalone);break;case"cccc":re=on(Ue.Days,K.Wide,me.Standalone);break;case"ccccc":re=on(Ue.Days,K.Narrow,me.Standalone);break;case"cccccc":re=on(Ue.Days,K.Short,me.Standalone);break;case"E":case"EE":case"EEE":re=on(Ue.Days,K.Abbreviated);break;case"EEEE":re=on(Ue.Days,K.Wide);break;case"EEEEE":re=on(Ue.Days,K.Narrow);break;case"EEEEEE":re=on(Ue.Days,K.Short);break;case"a":case"aa":case"aaa":re=on(Ue.DayPeriods,K.Abbreviated);break;case"aaaa":re=on(Ue.DayPeriods,K.Wide);break;case"aaaaa":re=on(Ue.DayPeriods,K.Narrow);break;case"b":case"bb":case"bbb":re=on(Ue.DayPeriods,K.Abbreviated,me.Standalone,!0);break;case"bbbb":re=on(Ue.DayPeriods,K.Wide,me.Standalone,!0);break;case"bbbbb":re=on(Ue.DayPeriods,K.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":re=on(Ue.DayPeriods,K.Abbreviated,me.Format,!0);break;case"BBBB":re=on(Ue.DayPeriods,K.Wide,me.Format,!0);break;case"BBBBB":re=on(Ue.DayPeriods,K.Narrow,me.Format,!0);break;case"h":re=an(Ee.Hours,1,-12);break;case"hh":re=an(Ee.Hours,2,-12);break;case"H":re=an(Ee.Hours,1);break;case"HH":re=an(Ee.Hours,2);break;case"m":re=an(Ee.Minutes,1);break;case"mm":re=an(Ee.Minutes,2);break;case"s":re=an(Ee.Seconds,1);break;case"ss":re=an(Ee.Seconds,2);break;case"S":re=an(Ee.FractionalSeconds,1);break;case"SS":re=an(Ee.FractionalSeconds,2);break;case"SSS":re=an(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":re=Fn(Ge.Short);break;case"ZZZZZ":re=Fn(Ge.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":re=Fn(Ge.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":re=Fn(Ge.Long);break;default:return null}return qi[j]=re,re}(jn);er+=Cn?Cn(Se,G,fn):"''"===jn?"'":jn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),er}function Ze(j,re,G){const fe=new Date(0);return fe.setFullYear(j,re,G),fe.setHours(0,0,0),fe}function Tt(j,re){const G=function(j){return(0,I.cg1)(j)[I.wAp.LocaleId]}(j);if(Qt[G]=Qt[G]||{},Qt[G][re])return Qt[G][re];let fe="";switch(re){case"shortDate":fe=gi(j,Ne.Short);break;case"mediumDate":fe=gi(j,Ne.Medium);break;case"longDate":fe=gi(j,Ne.Long);break;case"fullDate":fe=gi(j,Ne.Full);break;case"shortTime":fe=pn(j,Ne.Short);break;case"mediumTime":fe=pn(j,Ne.Medium);break;case"longTime":fe=pn(j,Ne.Long);break;case"fullTime":fe=pn(j,Ne.Full);break;case"short":const Se=Tt(j,"shortTime"),ct=Tt(j,"shortDate");fe=Vt(qn(j,Ne.Short),[Se,ct]);break;case"medium":const vt=Tt(j,"mediumTime"),qt=Tt(j,"mediumDate");fe=Vt(qn(j,Ne.Medium),[vt,qt]);break;case"long":const fn=Tt(j,"longTime"),er=Tt(j,"longDate");fe=Vt(qn(j,Ne.Long),[fn,er]);break;case"full":const jn=Tt(j,"fullTime"),Cn=Tt(j,"fullDate");fe=Vt(qn(j,Ne.Full),[jn,Cn])}return fe&&(Qt[G][re]=fe),fe}function Vt(j,re){return re&&(j=j.replace(/\{([^}]+)}/g,function(G,fe){return null!=re&&fe in re?re[fe]:G})),j}function Jt(j,re,G="-",fe,Se){let ct="";(j<0||Se&&j<=0)&&(Se?j=1-j:(j=-j,ct=G));let vt=String(j);for(;vt.length<re;)vt="0"+vt;return fe&&(vt=vt.substr(vt.length-re)),ct+vt}function an(j,re,G=0,fe=!1,Se=!1){return function(ct,vt){let qt=function(j,re){switch(j){case Ee.FullYear:return re.getFullYear();case Ee.Month:return re.getMonth();case Ee.Date:return re.getDate();case Ee.Hours:return re.getHours();case Ee.Minutes:return re.getMinutes();case Ee.Seconds:return re.getSeconds();case Ee.FractionalSeconds:return re.getMilliseconds();case Ee.Day:return re.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,ct);if((G>0||qt>-G)&&(qt+=G),j===Ee.Hours)0===qt&&-12===G&&(qt=12);else if(j===Ee.FractionalSeconds)return function(j,re){return Jt(j,3).substr(0,re)}(qt,re);const fn=Rn(vt,Le.MinusSign);return Jt(qt,re,fn,fe,Se)}}function on(j,re,G=me.Format,fe=!1){return function(Se,ct){return function(j,re,G,fe,Se,ct){switch(G){case Ue.Months:return tt(re,Se,fe)[j.getMonth()];case Ue.Days:return Nt(re,Se,fe)[j.getDay()];case Ue.DayPeriods:const vt=j.getHours(),qt=j.getMinutes();if(ct){const er=function(j){const re=(0,I.cg1)(j);return zn(re),(re[I.wAp.ExtraData][2]||[]).map(fe=>"string"==typeof fe?zr(fe):[zr(fe[0]),zr(fe[1])])}(re),jn=function(j,re,G){const fe=(0,I.cg1)(j);zn(fe);const ct=cr([fe[I.wAp.ExtraData][0],fe[I.wAp.ExtraData][1]],re)||[];return cr(ct,G)||[]}(re,Se,fe),Cn=er.findIndex(Hn=>{if(Array.isArray(Hn)){const[sr,ai]=Hn,Xi=vt>=sr.hours&&qt>=sr.minutes,Kr=vt<ai.hours||vt===ai.hours&&qt<ai.minutes;if(sr.hours<ai.hours){if(Xi&&Kr)return!0}else if(Xi||Kr)return!0}else if(Hn.hours===vt&&Hn.minutes===qt)return!0;return!1});if(-1!==Cn)return jn[Cn]}return pt(re,Se,fe)[vt<12?0:1];case Ue.Eras:return function(j,re){return cr((0,I.cg1)(j)[I.wAp.Eras],re)}(re,fe)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${G}`)}}(Se,ct,j,re,G,fe)}}function Fn(j){return function(re,G,fe){const Se=-1*fe,ct=Rn(G,Le.MinusSign),vt=Se>0?Math.floor(Se/60):Math.ceil(Se/60);switch(j){case Ge.Short:return(Se>=0?"+":"")+Jt(vt,2,ct)+Jt(Math.abs(Se%60),2,ct);case Ge.ShortGMT:return"GMT"+(Se>=0?"+":"")+Jt(vt,1,ct);case Ge.Long:return"GMT"+(Se>=0?"+":"")+Jt(vt,2,ct)+":"+Jt(Math.abs(Se%60),2,ct);case Ge.Extended:return 0===fe?"Z":(Se>=0?"+":"")+Jt(vt,2,ct)+":"+Jt(Math.abs(Se%60),2,ct);default:throw new Error(`Unknown zone width "${j}"`)}}}function Wi(j){return Ze(j.getFullYear(),j.getMonth(),j.getDate()+(4-j.getDay()))}function ds(j,re=!1){return function(G,fe){let Se;if(re){const ct=new Date(G.getFullYear(),G.getMonth(),1).getDay()-1,vt=G.getDate();Se=1+Math.floor((vt+ct)/7)}else{const ct=Wi(G),vt=function(j){const re=Ze(j,0,1).getDay();return Ze(j,0,1+(re<=4?4:11)-re)}(ct.getFullYear()),qt=ct.getTime()-vt.getTime();Se=1+Math.round(qt/6048e5)}return Jt(Se,j,Rn(fe,Le.MinusSign))}}function ei(j,re=!1){return function(G,fe){return Jt(Wi(G).getFullYear(),j,Rn(fe,Le.MinusSign),re)}}const qi={};function Sr(j,re){j=j.replace(/:/g,"");const G=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(G)?re:G}function Io(j){return j instanceof Date&&!isNaN(j.valueOf())}const Vo=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ln(j){const re=parseInt(j);if(isNaN(re))throw new Error("Invalid integer literal when parsing "+j);return re}class Tn{}let bs=(()=>{class j extends Tn{constructor(G){super(),this.locale=G}getPluralCategory(G,fe){switch(rr(fe||this.locale)(G)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return j.\u0275fac=function(G){return new(G||j)(I.LFG(I.soG))},j.\u0275prov=I.Yz7({token:j,factory:j.\u0275fac}),j})();function Cr(j,re){re=encodeURIComponent(re);for(const G of j.split(";")){const fe=G.indexOf("="),[Se,ct]=-1==fe?[G,""]:[G.slice(0,fe),G.slice(fe+1)];if(Se.trim()===re)return decodeURIComponent(ct)}return null}class ir{constructor(re,G,fe,Se){this.$implicit=re,this.ngForOf=G,this.index=fe,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vn=(()=>{class j{constructor(G,fe,Se){this._viewContainer=G,this._template=fe,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;if(!this._differ&&G)try{this._differ=this._differs.find(G).create(this.ngForTrackBy)}catch(fe){throw new Error(`Cannot find a differ supporting object '${G}' of type '${function(j){return j.name||typeof j}(G)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const fe=[];G.forEachOperation((Se,ct,vt)=>{if(null==Se.previousIndex){const qt=this._viewContainer.createEmbeddedView(this._template,new ir(null,this._ngForOf,-1,-1),null===vt?void 0:vt),fn=new Sn(Se,qt);fe.push(fn)}else if(null==vt)this._viewContainer.remove(null===ct?void 0:ct);else if(null!==ct){const qt=this._viewContainer.get(ct);this._viewContainer.move(qt,vt);const fn=new Sn(Se,qt);fe.push(fn)}});for(let Se=0;Se<fe.length;Se++)this._perViewChange(fe[Se].view,fe[Se].record);for(let Se=0,ct=this._viewContainer.length;Se<ct;Se++){const vt=this._viewContainer.get(Se);vt.context.index=Se,vt.context.count=ct,vt.context.ngForOf=this._ngForOf}G.forEachIdentityChange(Se=>{this._viewContainer.get(Se.currentIndex).context.$implicit=Se.item})}_perViewChange(G,fe){G.context.$implicit=fe.item}static ngTemplateContextGuard(G,fe){return!0}}return j.\u0275fac=function(G){return new(G||j)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(I.ZZ4))},j.\u0275dir=I.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();class Sn{constructor(re,G){this.record=re,this.view=G}}let Wr=(()=>{class j{constructor(G,fe){this._viewContainer=G,this._context=new vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){or("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){or("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,fe){return!0}}return j.\u0275fac=function(G){return new(G||j)(I.Y36(I.s_b),I.Y36(I.Rgc))},j.\u0275dir=I.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class vi{constructor(){this.$implicit=null,this.ngIf=null}}function or(j,re){if(re&&!re.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,I.AaK)(re)}'.`)}let so=(()=>{class j{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(G){if(G.ngTemplateOutlet){const fe=this._viewContainerRef;this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?fe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&G.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function(G){return new(G||j)(I.Y36(I.s_b))},j.\u0275dir=I.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[I.TTD]}),j})();let ci=(()=>{class j{constructor(G){this._locale=G}transform(G,fe,Se){if(!function(j){return!(null==j||""===j||j!=j)}(G))return null;Se=Se||this._locale;try{return function(j,re,G){return function(j,re,G,fe,Se,ct,vt=!1){let qt="",fn=!1;if(isFinite(j)){let er=function(j){let fe,Se,ct,vt,qt,re=Math.abs(j)+"",G=0;for((Se=re.indexOf("."))>-1&&(re=re.replace(".","")),(ct=re.search(/e/i))>0?(Se<0&&(Se=ct),Se+=+re.slice(ct+1),re=re.substring(0,ct)):Se<0&&(Se=re.length),ct=0;"0"===re.charAt(ct);ct++);if(ct===(qt=re.length))fe=[0],Se=1;else{for(qt--;"0"===re.charAt(qt);)qt--;for(Se-=ct,fe=[],vt=0;ct<=qt;ct++,vt++)fe[vt]=Number(re.charAt(ct))}return Se>22&&(fe=fe.splice(0,21),G=Se-1,Se=1),{digits:fe,exponent:G,integerLen:Se}}(j);vt&&(er=function(j){if(0===j.digits[0])return j;const re=j.digits.length-j.integerLen;return j.exponent?j.exponent+=2:(0===re?j.digits.push(0,0):1===re&&j.digits.push(0),j.integerLen+=2),j}(er));let jn=re.minInt,Cn=re.minFrac,Hn=re.maxFrac;if(ct){const fr=ct.match(Vo);if(null===fr)throw new Error(`${ct} is not a valid digit info`);const Rt=fr[1],ui=fr[3],hs=fr[5];null!=Rt&&(jn=ln(Rt)),null!=ui&&(Cn=ln(ui)),null!=hs?Hn=ln(hs):null!=ui&&Cn>Hn&&(Hn=Cn)}!function(j,re,G){if(re>G)throw new Error(`The minimum number of digits after fraction (${re}) is higher than the maximum (${G}).`);let fe=j.digits,Se=fe.length-j.integerLen;const ct=Math.min(Math.max(re,Se),G);let vt=ct+j.integerLen,qt=fe[vt];if(vt>0){fe.splice(Math.max(j.integerLen,vt));for(let Cn=vt;Cn<fe.length;Cn++)fe[Cn]=0}else{Se=Math.max(0,Se),j.integerLen=1,fe.length=Math.max(1,vt=ct+1),fe[0]=0;for(let Cn=1;Cn<vt;Cn++)fe[Cn]=0}if(qt>=5)if(vt-1<0){for(let Cn=0;Cn>vt;Cn--)fe.unshift(0),j.integerLen++;fe.unshift(1),j.integerLen++}else fe[vt-1]++;for(;Se<Math.max(0,ct);Se++)fe.push(0);let fn=0!==ct;const er=re+j.integerLen,jn=fe.reduceRight(function(Cn,Hn,sr,ai){return ai[sr]=(Hn+=Cn)<10?Hn:Hn-10,fn&&(0===ai[sr]&&sr>=er?ai.pop():fn=!1),Hn>=10?1:0},0);jn&&(fe.unshift(jn),j.integerLen++)}(er,Cn,Hn);let sr=er.digits,ai=er.integerLen;const Xi=er.exponent;let Kr=[];for(fn=sr.every(fr=>!fr);ai<jn;ai++)sr.unshift(0);for(;ai<0;ai++)sr.unshift(0);ai>0?Kr=sr.splice(ai,sr.length):(Kr=sr,sr=[0]);const Fs=[];for(sr.length>=re.lgSize&&Fs.unshift(sr.splice(-re.lgSize,sr.length).join(""));sr.length>re.gSize;)Fs.unshift(sr.splice(-re.gSize,sr.length).join(""));sr.length&&Fs.unshift(sr.join("")),qt=Fs.join(Rn(G,fe)),Kr.length&&(qt+=Rn(G,Se)+Kr.join("")),Xi&&(qt+=Rn(G,Le.Exponential)+"+"+Xi)}else qt=Rn(G,Le.Infinity);return qt=j<0&&!fn?re.negPre+qt+re.negSuf:re.posPre+qt+re.posSuf,qt}(j,function(j,re="-"){const G={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},fe=j.split(";"),Se=fe[0],ct=fe[1],vt=-1!==Se.indexOf(".")?Se.split("."):[Se.substring(0,Se.lastIndexOf("0")+1),Se.substring(Se.lastIndexOf("0")+1)],qt=vt[0],fn=vt[1]||"";G.posPre=qt.substr(0,qt.indexOf("#"));for(let jn=0;jn<fn.length;jn++){const Cn=fn.charAt(jn);"0"===Cn?G.minFrac=G.maxFrac=jn+1:"#"===Cn?G.maxFrac=jn+1:G.posSuf+=Cn}const er=qt.split(",");if(G.gSize=er[1]?er[1].length:0,G.lgSize=er[2]||er[1]?(er[2]||er[1]).length:0,ct){const jn=Se.length-G.posPre.length-G.posSuf.length,Cn=ct.indexOf("#");G.negPre=ct.substr(0,Cn).replace(/'/g,""),G.negSuf=ct.substr(Cn+jn).replace(/'/g,"")}else G.negPre=re+G.posPre,G.negSuf=G.posSuf;return G}(function(j,re){return(0,I.cg1)(j)[I.wAp.NumberFormats][re]}(re,Z.Percent),Rn(re,Le.MinusSign)),re,Le.Group,Le.Decimal,G,!0).replace(new RegExp("%","g"),Rn(re,Le.PercentSign))}(function(j){if("string"==typeof j&&!isNaN(Number(j)-parseFloat(j)))return Number(j);if("number"!=typeof j)throw new Error(`${j} is not a number`);return j}(G),Se,fe)}catch(ct){throw function(j,re){return Error(`InvalidPipeArgument: '${re}' for pipe '${(0,I.AaK)(j)}'`)}(j,ct.message)}}}return j.\u0275fac=function(G){return new(G||j)(I.Y36(I.soG,16))},j.\u0275pipe=I.Yjl({name:"percent",type:j,pure:!0}),j})();let Xn=(()=>{class j{}return j.\u0275fac=function(G){return new(G||j)},j.\u0275mod=I.oAB({type:j}),j.\u0275inj=I.cJS({providers:[{provide:Tn,useClass:bs}]}),j})();const lo="browser";function Pi(j){return j===lo}function Mo(j){return"server"===j}let $=(()=>{class j{}return j.\u0275prov=(0,I.Yz7)({token:j,providedIn:"root",factory:()=>new H((0,I.LFG)(Ae),window)}),j})();class H{constructor(re,G){this.document=re,this.window=G,this.offset=()=>[0,0]}setOffset(re){this.offset=Array.isArray(re)?()=>re:re}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(re){this.supportsScrolling()&&this.window.scrollTo(re[0],re[1])}scrollToAnchor(re){if(!this.supportsScrolling())return;const G=function(j,re){const G=j.getElementById(re)||j.getElementsByName(re)[0];if(G)return G;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const fe=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let Se=fe.currentNode;for(;Se;){const ct=Se.shadowRoot;if(ct){const vt=ct.getElementById(re)||ct.querySelector(`[name="${re}"]`);if(vt)return vt}Se=fe.nextNode()}}return null}(this.document,re);G&&(this.scrollToElement(G),this.attemptFocus(G))}setHistoryScrollRestoration(re){if(this.supportScrollRestoration()){const G=this.window.history;G&&G.scrollRestoration&&(G.scrollRestoration=re)}}scrollToElement(re){const G=re.getBoundingClientRect(),fe=G.left+this.window.pageXOffset,Se=G.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(fe-ct[0],Se-ct[1])}attemptFocus(re){return re.focus(),this.document.activeElement===re}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const re=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!re||!re.writable&&!re.set)}catch(re){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(re){return!1}}}function F(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class xt{}},7716:(zt,je,de)=>{"use strict";de.d(je,{deG:()=>za,tb:()=>ww,AFp:()=>yw,ip1:()=>Yv,CZH:()=>Lf,hGG:()=>LS,z2F:()=>$p,sBO:()=>NE,Sil:()=>Gp,_Vd:()=>yd,EJc:()=>Ew,SBq:()=>fl,qLn:()=>nu,vpe:()=>hl,gxx:()=>id,tBr:()=>yu,XFs:()=>Gt,OlP:()=>yr,zs3:()=>pi,ZZ4:()=>c_,aQg:()=>d_,soG:()=>C_,YKP:()=>a1,v3s:()=>mS,h0i:()=>vd,PXZ:()=>cS,R0b:()=>Wa,FiY:()=>Oa,Lbi:()=>bw,g9A:()=>vw,Qsj:()=>hE,FYo:()=>l_,JOm:()=>W,Tiy:()=>wv,q3G:()=>Ai,tp0:()=>Qo,EAV:()=>bS,Rgc:()=>xp,dDg:()=>Iw,DyG:()=>gl,q4F:()=>Cv,GfV:()=>e1,s_b:()=>p_,ifc:()=>Ee,eFA:()=>Ow,G48:()=>rS,Gpc:()=>Te,_c5:()=>MS,VLi:()=>nS,c2e:()=>Cw,zSh:()=>sf,wAp:()=>mn,vHH:()=>_t,EiD:()=>jc,mCW:()=>Xu,qzn:()=>Eu,JVY:()=>Xf,pB0:()=>th,eBb:()=>Lc,L6k:()=>eh,LAX:()=>Vc,cg1:()=>go,Tjo:()=>NS,kL8:()=>cs,yhl:()=>xd,dqk:()=>Vt,sIi:()=>mf,CqO:()=>Am,QGY:()=>ip,F4k:()=>op,RDi:()=>ae,AaK:()=>ke,z3N:()=>as,qOj:()=>um,TTD:()=>Xn,_Bn:()=>Zb,xp6:()=>mg,uIk:()=>_f,Tol:()=>bp,DjV:()=>n_,ekj:()=>vp,Suo:()=>Z1,Xpm:()=>ei,lG2:()=>Io,Yz7:()=>pn,cJS:()=>Rn,oAB:()=>zi,Yjl:()=>Vo,Y36:()=>pd,_UZ:()=>np,BQk:()=>rp,ynx:()=>Df,qZA:()=>Ef,TgZ:()=>Cf,EpF:()=>Nm,n5z:()=>Ss,Ikx:()=>Xt,SDv:()=>qb,QtT:()=>zb,pQV:()=>gv,LFG:()=>Ei,$8M:()=>os,NdJ:()=>sp,CRH:()=>Q1,kcU:()=>k,O4$:()=>Vr,oxw:()=>up,ALo:()=>G1,lcZ:()=>$1,Hsn:()=>lp,F$t:()=>Ky,Q6J:()=>bf,s9C:()=>cp,MGl:()=>dp,VKq:()=>F1,WLB:()=>k1,kEZ:()=>L1,iGM:()=>z1,MAs:()=>ky,CHM:()=>Er,LSH:()=>Tl,kYT:()=>kn,Udp:()=>yp,YNc:()=>Yh,W1O:()=>ew,_uU:()=>Ep,Oqu:()=>If,hij:()=>Nf,Gf:()=>Y1});var I=de(9765),u=de(5319),ee=de(7574),Qe=de(6682),xe=de(8819);function Be(e){for(let t in e)if(e[t]===Be)return t;throw Error("Could not find renamed property on target object.")}function Ae(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function ue(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const oe=Be({__forward_ref__:Be});function Te(e){return e.__forward_ref__=Te,e.toString=function(){return ke(this())},e}function we(e){return Ce(e)?e():e}function Ce(e){return"function"==typeof e&&e.hasOwnProperty(oe)&&e.__forward_ref__===Te}class _t extends Error{constructor(t,r){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,r)),this.code=t}}function Ke(e){return"string"==typeof e?e:null==e?"":String(e)}function Je(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ke(e)}function Dn(e,t){const r=t?` in ${t}`:"";throw new _t("201",`No provider for ${Je(e)} found${r}`)}function wt(e,t,r,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${r} ${s} ${t} <=Actual]`))}function pn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Et(e){return li(e,rr)||li(e,un)}function li(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ht(e){return e&&(e.hasOwnProperty(zn)||e.hasOwnProperty(lr))?e[zn]:null}const rr=Be({\u0275prov:Be}),zn=Be({\u0275inj:Be}),un=Be({ngInjectableDef:Be}),lr=Be({ngInjectorDef:Be});var Gt=(()=>((Gt=Gt||{})[Gt.Default=0]="Default",Gt[Gt.Host=1]="Host",Gt[Gt.Self=2]="Self",Gt[Gt.SkipSelf=4]="SkipSelf",Gt[Gt.Optional=8]="Optional",Gt))();let cr;function Yr(e){const t=cr;return cr=e,t}function mo(e,t,r){const s=Et(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Gt.Optional?null:void 0!==t?t:void Dn(ke(e),"Injector")}function At(e){return{toString:e}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),Ee=(()=>((Ee=Ee||{})[Ee.Emulated=0]="Emulated",Ee[Ee.None=2]="None",Ee[Ee.ShadowDom=3]="ShadowDom",Ee))();const Ue="undefined"!=typeof globalThis&&globalThis,rt="undefined"!=typeof window&&window,Ze="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,Vt=Ue||Tt||rt||Ze,an={},Yt=[],on=Be({\u0275cmp:Be}),br=Be({\u0275dir:Be}),Fn=Be({\u0275pipe:Be}),oo=Be({\u0275mod:Be}),mr=Be({\u0275loc:Be}),Zn=Be({\u0275fac:Be}),Wi=Be({__NG_ELEMENT_ID__:Be});let ds=0;function ei(e){return At(()=>{const r={},s={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Yt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ee.Emulated,id:"c",styles:e.styles||Yt,_:null,setInput:null,schemas:e.schemas||null,tView:null},f=e.directives,m=e.features,C=e.pipes;return s.id+=ds++,s.inputs=Vi(e.inputs,r),s.outputs=Vi(e.outputs),m&&m.forEach(T=>T(s)),s.directiveDefs=f?()=>("function"==typeof f?f():f).map(sn):null,s.pipeDefs=C?()=>("function"==typeof C?C():C).map(Sr):null,s})}function sn(e){return Lr(e)||function(e){return e[br]||null}(e)}function Sr(e){return function(e){return e[Fn]||null}(e)}const En={};function zi(e){return At(()=>{const t={type:e.type,bootstrap:e.bootstrap||Yt,declarations:e.declarations||Yt,imports:e.imports||Yt,exports:e.exports||Yt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(En[e.id]=e.type),t})}function kn(e,t){return At(()=>{const r=Ur(e,!0);r.declarations=t.declarations||Yt,r.imports=t.imports||Yt,r.exports=t.exports||Yt})}function Vi(e,t){if(null==e)return an;const r={};for(const s in e)if(e.hasOwnProperty(s)){let f=e[s],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),r[f]=s,t&&(t[f]=m)}return r}const Io=ei;function Vo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Lr(e){return e[on]||null}function Ur(e,t){const r=e[oo]||null;if(!r&&!0===t)throw new Error(`Type ${ke(e)} does not have '\u0275mod' property.`);return r}function oi(e){return Array.isArray(e)&&"object"==typeof e[1]}function Qr(e){return Array.isArray(e)&&!0===e[1]}function No(e){return 0!=(8&e.flags)}function vo(e){return 2==(2&e.flags)}function so(e){return 1==(1&e.flags)}function Mr(e){return null!==e.template}function Jr(e){return 0!=(512&e[2])}function Ri(e,t){return e.hasOwnProperty(Zn)?e[Zn]:null}class uo{constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Xn(){return lo}function lo(e){return e.type.prototype.ngOnChanges&&(e.setInput=Eo),co}function co(){const e=Pi(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===an)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Eo(e,t,r,s){const f=Pi(e)||function(e,t){return e[Oi]=t}(e,{previous:an,current:null}),m=f.current||(f.current={}),C=f.previous,T=this.declaredInputs[r],R=C[T];m[T]=new uo(R&&R.currentValue,t,C===an),e[s]=t}Xn.ngInherit=!0;const Oi="__ngSimpleChanges__";function Pi(e){return e[Oi]||null}const $="http://www.w3.org/2000/svg";let F;function ae(e){F=e}function ut(){return void 0!==F?F:"undefined"!=typeof document?document:void 0}function j(e){return!!e.listen}const G={createRenderer:(e,t)=>ut()};function Se(e){for(;Array.isArray(e);)e=e[0];return e}function qt(e,t){return Se(t[e])}function fn(e,t){return Se(t[e.index])}function jn(e,t){return e.data[t]}function Cn(e,t){return e[t]}function Hn(e,t){const r=t[e];return oi(r)?r:r[0]}function sr(e){return 4==(4&e[2])}function ai(e){return 128==(128&e[2])}function Kr(e,t){return null==t?null:e[t]}function Fs(e){e[18]=0}function fr(e,t){e[5]+=t;let r=e,s=e[3];for(;null!==s&&(1===t&&1===r[5]||-1===t&&0===r[5]);)s[5]+=t,r=s,s=s[3]}const Rt={lFrame:Or(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $o(){return Rt.bindingsEnabled}function mt(){return Rt.lFrame.lView}function Bn(){return Rt.lFrame.tView}function Er(e){return Rt.lFrame.contextLView=e,e[8]}function tr(){let e=di();for(;null!==e&&64===e.type;)e=e.parent;return e}function di(){return Rt.lFrame.currentTNode}function wi(){const e=Rt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function On(e,t){const r=Rt.lFrame;r.currentTNode=e,r.isParent=t}function Cs(){return Rt.lFrame.isParent}function Wo(){Rt.lFrame.isParent=!1}function xo(){return Rt.isInCheckNoChangesMode}function zs(e){Rt.isInCheckNoChangesMode=e}function In(){const e=Rt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hr(){return Rt.lFrame.bindingIndex}function ns(){return Rt.lFrame.bindingIndex++}function fi(e){const t=Rt.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function xa(e){Rt.lFrame.inI18n=e}function ks(e,t){const r=Rt.lFrame;r.bindingIndex=r.bindingRootIndex=e,Hr(t)}function Hr(e){Rt.lFrame.currentDirectiveIndex=e}function Ys(){return Rt.lFrame.currentQueryIndex}function rs(e){Rt.lFrame.currentQueryIndex=e}function ps(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ya(e,t,r){if(r&Gt.SkipSelf){let f=t,m=e;for(;!(f=f.parent,null!==f||r&Gt.Host||(f=ps(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;t=f,e=m}const s=Rt.lFrame=nr();return s.currentTNode=t,s.lView=e,!0}function Ds(e){const t=nr(),r=e[1];Rt.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function nr(){const e=Rt.lFrame,t=null===e?null:e.child;return null===t?Or(e):t}function Or(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ct(){const e=Rt.lFrame;return Rt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const pr=Ct;function is(){const e=Ct();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ar(){return Rt.lFrame.selectedIndex}function zo(e){Rt.lFrame.selectedIndex=e}function gr(){const e=Rt.lFrame;return jn(e.tView,e.selectedIndex)}function Vr(){Rt.lFrame.currentNamespace=$}function k(){Rt.lFrame.currentNamespace=null}function Xe(e,t){for(let r=t.directiveStart,s=t.directiveEnd;r<s;r++){const m=e.data[r].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:U,ngOnDestroy:J}=m;C&&(e.contentHooks||(e.contentHooks=[])).push(-r,C),T&&((e.contentHooks||(e.contentHooks=[])).push(r,T),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,T)),R&&(e.viewHooks||(e.viewHooks=[])).push(-r,R),U&&((e.viewHooks||(e.viewHooks=[])).push(r,U),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,U)),null!=J&&(e.destroyHooks||(e.destroyHooks=[])).push(r,J)}}function Dt(e,t,r){Pr(e,t,3,r)}function xn(e,t,r,s){(3&e[2])===r&&Pr(e,t,r,s)}function Nn(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function Pr(e,t,r,s){const m=null!=s?s:-1,C=t.length-1;let T=0;for(let R=void 0!==s?65535&e[18]:0;R<C;R++)if("number"==typeof t[R+1]){if(T=t[R],null!=s&&T>=s)break}else t[R]<0&&(e[18]+=65536),(T<m||-1==m)&&(Do(e,r,t,R),e[18]=(4294901760&e[18])+R+2),R++}function Do(e,t,r,s){const f=r[s]<0,m=r[s+1],T=e[f?-r[s]:r[s]];if(f){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class Fi{constructor(t,r,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}function to(e,t,r){const s=j(e);let f=0;for(;f<r.length;){const m=r[f];if("number"==typeof m){if(0!==m)break;f++;const C=r[f++],T=r[f++],R=r[f++];s?e.setAttribute(t,T,R,C):t.setAttributeNS(C,T,R)}else{const C=m,T=r[++f];Ts(C)?s&&e.setProperty(t,C,T):s?e.setAttribute(t,C,T):t.setAttribute(C,T),f++}}return f}function qu(e){return 3===e||4===e||6===e}function Ts(e){return 64===e.charCodeAt(0)}function ra(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){const f=t[s];"number"==typeof f?r=f:0===r||ia(e,r,f,null,-1===r||2===r?t[++s]:null)}}return e}function ia(e,t,r,s,f){let m=0,C=e.length;if(-1===t)C=-1;else for(;m<e.length;){const T=e[m++];if("number"==typeof T){if(T===t){C=-1;break}if(T>t){C=m-1;break}}}for(;m<e.length;){const T=e[m];if("number"==typeof T)break;if(T===r){if(null===s)return void(null!==f&&(e[m+1]=f));if(s===e[m+1])return void(e[m+2]=f)}m++,null!==s&&m++,null!==f&&m++}-1!==C&&(e.splice(C,0,t),m=C+1),e.splice(m++,0,r),null!==s&&e.splice(m++,0,s),null!==f&&e.splice(m++,0,f)}function Qs(e){return-1!==e}function v(e){return 32767&e}function _(e,t){let r=function(e){return e>>16}(e),s=t;for(;r>0;)s=s[15],r--;return s}let w=!0;function M(e){const t=w;return w=e,t}let ye=0;function We(e,t){const r=x(e,t);if(-1!==r)return r;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,nt(s.data,e),nt(t,null),nt(s.blueprint,null));const f=N(e,t),m=e.injectorIndex;if(Qs(f)){const C=v(f),T=_(f,t),R=T[1].data;for(let U=0;U<8;U++)t[m+U]=T[C+U]|R[C+U]}return t[m+8]=f,m}function nt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function x(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function N(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,f=t;for(;null!==f;){const m=f[1],C=m.type;if(s=2===C?m.declTNode:1===C?f[6]:null,null===s)return-1;if(r++,f=f[15],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return-1}function S(e,t,r){!function(e,t,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Wi)&&(s=r[Wi]),null==s&&(s=r[Wi]=ye++);const f=255&s;t.data[e+(f>>5)]|=1<<f}(e,t,r)}function q(e,t,r){if(r&Gt.Optional)return e;Dn(t,"NodeInjector")}function ne(e,t,r,s){if(r&Gt.Optional&&void 0===s&&(s=null),0==(r&(Gt.Self|Gt.Host))){const f=e[9],m=Yr(void 0);try{return f?f.get(t,s,r&Gt.Optional):mo(t,s,r&Gt.Optional)}finally{Yr(m)}}return q(s,t,r)}function De(e,t,r,s=Gt.Default,f){if(null!==e){const m=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Wi)?e[Wi]:void 0;return"number"==typeof t?t>=0?255&t:ft:t}(r);if("function"==typeof m){if(!ya(t,e,s))return s&Gt.Host?q(f,r,s):ne(t,r,s,f);try{const C=m(s);if(null!=C||s&Gt.Optional)return C;Dn(r)}finally{pr()}}else if("number"==typeof m){let C=null,T=x(e,t),R=-1,U=s&Gt.Host?t[16][6]:null;for((-1===T||s&Gt.SkipSelf)&&(R=-1===T?N(e,t):t[T+8],-1!==R&&gs(s,!1)?(C=t[1],T=v(R),t=_(R,t)):T=-1);-1!==T;){const J=t[1];if(Gn(m,T,J.data)){const pe=Bt(T,t,r,C,s,U);if(pe!==Fe)return pe}R=t[T+8],-1!==R&&gs(s,t[1].data[T+8]===U)&&Gn(m,T,t)?(C=J,T=v(R),t=_(R,t)):T=-1}}}return ne(t,r,s,f)}const Fe={};function ft(){return new Xr(tr(),mt())}function Bt(e,t,r,s,f,m){const C=t[1],T=C.data[e+8],J=cn(T,C,r,null==s?vo(T)&&w:s!=C&&0!=(3&T.type),f&Gt.Host&&m===T);return null!==J?dn(t,C,J,T):Fe}function cn(e,t,r,s,f){const m=e.providerIndexes,C=t.data,T=1048575&m,R=e.directiveStart,J=m>>20,ve=f?T+J:e.directiveEnd;for(let Me=s?T:T+J;Me<ve;Me++){const ze=C[Me];if(Me<R&&r===ze||Me>=R&&ze.type===r)return Me}if(f){const Me=C[R];if(Me&&Mr(Me)&&Me.type===r)return R}return null}function dn(e,t,r,s){let f=e[r];const m=t.data;if(function(e){return e instanceof Fi}(f)){const C=f;C.resolving&&function(e,t){throw new _t("200",`Circular dependency in DI detected for ${e}`)}(Je(m[r]));const T=M(C.canSeeViewProviders);C.resolving=!0;const R=C.injectImpl?Yr(C.injectImpl):null;ya(e,s,Gt.Default);try{f=e[r]=C.factory(void 0,m,e,s),t.firstCreatePass&&r>=s.directiveStart&&function(e,t,r){const{ngOnChanges:s,ngOnInit:f,ngDoCheck:m}=t.type.prototype;if(s){const C=lo(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,C),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,C)}f&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,f),m&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,m),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,m))}(r,m[r],t)}finally{null!==R&&Yr(R),M(T),C.resolving=!1,pr()}}return f}function Gn(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function gs(e,t){return!(e&Gt.Self||e&Gt.Host&&t)}class Xr{constructor(t,r){this._tNode=t,this._lView=r}get(t,r){return De(this._tNode,this._lView,t,void 0,r)}}function Ss(e){return At(()=>{const t=e.prototype.constructor,r=t[Zn]||Oo(t),s=Object.prototype;let f=Object.getPrototypeOf(e.prototype).constructor;for(;f&&f!==s;){const m=f[Zn]||Oo(f);if(m&&m!==r)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Oo(e){return Ce(e)?()=>{const t=Oo(we(e));return t&&t()}:Ri(e)}function os(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const s=r.length;let f=0;for(;f<s;){const m=r[f];if(qu(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<s&&"string"==typeof r[f];)f++;else{if(m===t)return r[f+1];f+=2}}}return null}(tr(),e)}const no="__parameters__";function Js(e,t,r){return At(()=>{const s=function(e){return function(...r){if(e){const s=e(...r);for(const f in s)this[f]=s[f]}}}(t);function f(...m){if(this instanceof f)return s.apply(this,m),this;const C=new f(...m);return T.annotation=C,T;function T(R,U,J){const pe=R.hasOwnProperty(no)?R[no]:Object.defineProperty(R,no,{value:[]})[no];for(;pe.length<=J;)pe.push(null);return(pe[J]=pe[J]||[]).push(C),R}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=e,f.annotationCls=f,f})}class yr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=pn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const za=new yr("AnalyzeForEntryComponents"),gl=Function;function Fo(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?(t===e&&(t=e.slice(0,r)),Fo(s,t)):t!==e&&t.push(s)}return t}function Is(e,t){e.forEach(r=>Array.isArray(r)?Is(r,t):t(r))}function ji(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ns(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function $n(e,t){const r=[];for(let s=0;s<e;s++)r.push(t);return r}function As(e,t,r){let s=Us(e,t);return s>=0?e[1|s]=r:(s=~s,function(e,t,r,s){let f=e.length;if(f==t)e.push(r,s);else if(1===f)e.push(s,e[0]),e[0]=r;else{for(f--,e.push(e[f-1],e[f]);f>t;)e[f]=e[f-2],f--;e[t]=r,e[t+1]=s}}(e,s,t,r)),s}function Ya(e,t){const r=Us(e,t);if(r>=0)return e[1|r]}function Us(e,t){return function(e,t,r){let s=0,f=e.length>>r;for(;f!==s;){const m=s+(f-s>>1),C=e[m<<r];if(t===C)return m<<r;C>t?f=m:s=m+1}return~(f<<r)}(e,t,1)}const yl={},Wl="__NG_DI_FLAG__",Da="ngTempTokenPath",Zf=/\n/gm,vl="__source",Oc=Be({provide:String,useValue:Be});let bl;function Qa(e){const t=bl;return bl=e,t}function Qu(e,t=Gt.Default){if(void 0===bl)throw new Error("inject() must be called from an injection context");return null===bl?mo(e,void 0,t):bl.get(e,t&Gt.Optional?null:void 0,t)}function Ei(e,t=Gt.Default){return(cr||Qu)(we(e),t)}function sa(e){const t=[];for(let r=0;r<e.length;r++){const s=we(e[r]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let f,m=Gt.Default;for(let C=0;C<s.length;C++){const T=s[C],R=Td(T);"number"==typeof R?-1===R?f=T.token:m|=R:f=T}t.push(Ei(f,m))}else t.push(Ei(s))}return t}function _u(e,t){return e[Wl]=t,e.prototype[Wl]=t,e}function Td(e){return e[Wl]}function Cl(e,t,r,s){const f=e[Da];throw t[vl]&&f.unshift(t[vl]),e.message=function(e,t,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let f=ke(t);if(Array.isArray(t))f=t.map(ke).join(" -> ");else if("object"==typeof t){let m=[];for(let C in t)if(t.hasOwnProperty(C)){let T=t[C];m.push(C+":"+("string"==typeof T?JSON.stringify(T):ke(T)))}f=`{${m.join(", ")}}`}return`${r}${s?"("+s+")":""}[${f}]: ${e.replace(Zf,"\n  ")}`}("\n"+e.message,f,r,s),e.ngTokenPath=f,e[Da]=null,e}const yu=_u(Js("Inject",e=>({token:e})),-1),Oa=_u(Js("Optional"),8),Qo=_u(Js("SkipSelf"),4);let Fc;function _s(e){var t;return(null===(t=function(){if(void 0===Fc&&(Fc=null,Vt.trustedTypes))try{Fc=Vt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Fc}())||void 0===t?void 0:t.createHTML(e))||e}class Jo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wu extends Jo{getTypeName(){return"HTML"}}class ec extends Jo{getTypeName(){return"Style"}}class Md extends Jo{getTypeName(){return"Script"}}class kc extends Jo{getTypeName(){return"URL"}}class Cu extends Jo{getTypeName(){return"ResourceURL"}}function as(e){return e instanceof Jo?e.changingThisBreaksApplicationSecurity:e}function Eu(e,t){const r=xd(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function xd(e){return e instanceof Jo&&e.getTypeName()||null}function Xf(e){return new wu(e)}function eh(e){return new ec(e)}function Lc(e){return new Md(e)}function Vc(e){return new kc(e)}function th(e){return new Cu(e)}function Rd(e){const t=new Bc(e);return function(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch(e){return!1}}()?new nh(t):t}class nh{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(_s(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class Bc{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const s=this.inertDocument.createElement("body");r.appendChild(s)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=_s(t),r;const s=this.inertDocument.createElement("body");return s.innerHTML=_s(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const r=t.attributes;for(let f=r.length-1;0<f;f--){const C=r.item(f).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&t.removeAttribute(C)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const rh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ka=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xu(e){return(e=String(e)).match(rh)||e.match(Ka)?e:"unsafe:"+e}function tc(e){return(e=String(e)).split(",").map(t=>Xu(t.trim())).join(", ")}function ko(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function el(...e){const t={};for(const r of e)for(const s in r)r.hasOwnProperty(s)&&(t[s]=!0);return t}const Du=ko("area,br,col,hr,img,wbr"),nc=ko("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rc=ko("rp,rt"),Pa=el(Du,el(nc,ko("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),el(rc,ko("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),el(rc,nc)),ua=ko("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tu=ko("srcset"),Dl=el(ua,Tu,ko("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ko("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ic=ko("script,style,template");class Iu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,s=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let f=this.checkClobberedElement(r,r.nextSibling);if(f){r=f;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Pa.hasOwnProperty(r))return this.sanitizedSomething=!0,!ic.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=t.attributes;for(let f=0;f<s.length;f++){const m=s.item(f),C=m.name,T=C.toLowerCase();if(!Dl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let R=m.value;ua[T]&&(R=Xu(R)),Tu[T]&&(R=tc(R)),this.buf.push(" ",C,'="',Na(R),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Pa.hasOwnProperty(r)&&!Du.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Na(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const sh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ia=/([^\#-~ |!])/g;function Na(e){return e.replace(/&/g,"&amp;").replace(sh,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ia,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tl;function jc(e,t){let r=null;try{tl=tl||Rd(e);let s=t?String(t):"";r=tl.getInertBodyElement(s);let f=5,m=s;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,s=m,m=r.innerHTML,r=tl.getInertBodyElement(s)}while(s!==m);return _s((new Iu).sanitizeChildren(oc(r)||r))}finally{if(r){const s=oc(r)||r;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function oc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ai=(()=>((Ai=Ai||{})[Ai.NONE=0]="NONE",Ai[Ai.HTML=1]="HTML",Ai[Ai.STYLE=2]="STYLE",Ai[Ai.SCRIPT=3]="SCRIPT",Ai[Ai.URL=4]="URL",Ai[Ai.RESOURCE_URL=5]="RESOURCE_URL",Ai))();function Tl(e){const t=function(){const e=mt();return e&&e[12]}();return t?t.sanitize(Ai.URL,e)||"":Eu(e,"URL")?as(e):Xu(Ke(e))}const js="__ngContext__";function vr(e,t){e[js]=t}function Sl(e){const t=function(e){return e[js]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function uc(e){return e.ngOriginalError}function qc(e,...t){e.error(...t)}class nu{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),s=this._findContext(t),f=(e=t)&&e.ngErrorLogger||qc;var e;f(this._console,"ERROR",t),r&&f(this._console,"ORIGINAL ERROR",r),s&&f(this._console,"ERROR CONTEXT",s)}_findContext(t){return t?t.ngDebugContext||this._findContext(uc(t)):null}_findOriginalError(t){let r=t&&uc(t);for(;r&&uc(r);)r=uc(r);return r||null}}const lc=/^>|^->|<!--|-->|--!>|<!-$/g,zc=/(<|>)/;const $d=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function p(e){return e instanceof Function?e():e}var W=(()=>((W=W||{})[W.Important=1]="Important",W[W.DashCase=2]="DashCase",W))();let se;function be(e,t){return se(e,t)}function Ye(e){const t=e[3];return Qr(t)?t[3]:t}function Zt(e){return yn(e[13])}function Wt(e){return yn(e[4])}function yn(e){for(;null!==e&&!Qr(e);)e=e[4];return e}function Qn(e,t,r,s,f){if(null!=s){let m,C=!1;Qr(s)?m=s:oi(s)&&(C=!0,s=s[0]);const T=Se(s);0===e&&null!==r?null==f?sg(t,r,T):xl(t,r,T,f||null,!0):1===e&&null!==r?xl(t,r,T,f||null,!0):2===e?cg(t,T,C):3===e&&t.destroyNode(T),null!=m&&function(e,t,r,s,f){const m=r[7];m!==Se(r)&&Qn(t,e,s,m,f);for(let T=10;T<r.length;T++){const R=r[T];Kc(R[1],R,e,t,s,m)}}(t,e,m,r,f)}}function Gr(e,t){return j(e)?e.createText(t):e.createTextNode(t)}function Fr(e,t,r){j(e)?e.setValue(t,r):t.textContent=r}function la(e,t){return e.createComment(function(e){return e.replace(lc,t=>t.replace(zc,"\u200b$1\u200b"))}(t))}function ca(e,t,r){return j(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function qd(e,t){const r=e[9],s=r.indexOf(t),f=t[3];1024&t[2]&&(t[2]&=-1025,fr(f,-1)),r.splice(s,1)}function Gs(e,t){if(e.length<=10)return;const r=10+t,s=e[r];if(s){const f=s[17];null!==f&&f!==e&&qd(f,s),t>0&&(e[r-1][4]=s[4]);const m=Ns(e,10+t);!function(e,t){Kc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const C=m[19];null!==C&&C.detachView(m[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function Ba(e,t){if(!(256&t[2])){const r=t[11];j(r)&&r.destroyNode&&Kc(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return dh(e[1],e);for(;t;){let r=null;if(oi(t))r=t[13];else{const s=t[10];s&&(r=s)}if(!r){for(;t&&!t[4]&&t!==e;)oi(t)&&dh(t[1],t),t=t[3];null===t&&(t=e),oi(t)&&dh(t[1],t),r=t&&t[4]}t=r}}(t)}}function dh(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const f=t[r[s]];if(!(f instanceof Fi)){const m=r[s+1];if(Array.isArray(m))for(let C=0;C<m.length;C+=2){const T=f[m[C]],R=m[C+1];try{R.call(T)}finally{}}else try{m.call(f)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,s=t[7];let f=-1;if(null!==r)for(let m=0;m<r.length-1;m+=2)if("string"==typeof r[m]){const C=r[m+1],T="function"==typeof C?C(t):Se(t[C]),R=s[f=r[m+2]],U=r[m+3];"boolean"==typeof U?T.removeEventListener(r[m],R,U):U>=0?s[f=U]():s[f=-U].unsubscribe(),m+=2}else{const C=s[f=r[m+1]];r[m].call(C)}if(null!==s){for(let m=f+1;m<s.length;m++)s[m]();t[7]=null}}(e,t),1===t[1].type&&j(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Qr(t[3])){r!==t[3]&&qd(r,t);const s=t[19];null!==s&&s.detachView(e)}}}function og(e,t,r){return io(e,t.parent,r)}function io(e,t,r){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return r[0];if(2&s.flags){const f=e.data[s.directiveStart].encapsulation;if(f===Ee.None||f===Ee.Emulated)return null}return fn(s,r)}function xl(e,t,r,s,f){j(e)?e.insertBefore(t,r,s,f):t.insertBefore(r,s,f)}function sg(e,t,r){j(e)?e.appendChild(t,r):t.appendChild(r)}function fa(e,t,r,s,f){null!==s?xl(e,t,r,s,f):sg(e,t,r)}function Rl(e,t){return j(e)?e.parentNode(t):t.parentNode}function ag(e,t,r){return ug(e,t,r)}function Qc(e,t,r){return 40&e.type?fn(e,r):null}let hh,ug=Qc;function lg(e,t){ug=e,hh=t}function Jc(e,t,r,s){const f=og(e,s,t),m=t[11],T=ag(s.parent||t[6],s,t);if(null!=f)if(Array.isArray(r))for(let R=0;R<r.length;R++)fa(m,f,r[R],T,!1);else fa(m,f,r,T,!1);void 0!==hh&&hh(m,s,t,r,f)}function Yd(e,t){if(null!==t){const r=t.type;if(3&r)return fn(t,e);if(4&r)return ph(-1,e[t.index]);if(8&r){const s=t.child;if(null!==s)return Yd(e,s);{const f=e[t.index];return Qr(f)?ph(-1,f):Se(f)}}if(32&r)return be(t,e)()||Se(e[t.index]);{const s=Zd(e,t);return null!==s?Array.isArray(s)?s[0]:Yd(Ye(e[16]),s):Yd(e,t.next)}}return null}function Zd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ph(e,t){const r=10+e+1;if(r<t.length){const s=t[r],f=s[1].firstChild;if(null!==f)return Yd(s,f)}return t[7]}function cg(e,t,r){const s=Rl(e,t);s&&function(e,t,r,s){j(e)?e.removeChild(t,r,s):t.removeChild(r)}(e,s,t,r)}function gh(e,t,r,s,f,m,C){for(;null!=r;){const T=s[r.index],R=r.type;if(C&&0===t&&(T&&vr(Se(T),s),r.flags|=4),64!=(64&r.flags))if(8&R)gh(e,t,r.child,s,f,m,!1),Qn(t,e,f,T,m);else if(32&R){const U=be(r,s);let J;for(;J=U();)Qn(t,e,f,J,m);Qn(t,e,f,T,m)}else 16&R?mh(e,t,s,r,f,m):Qn(t,e,f,T,m);r=C?r.projectionNext:r.next}}function Kc(e,t,r,s,f,m){gh(r,s,e.firstChild,t,f,m,!1)}function mh(e,t,r,s,f,m){const C=r[16],R=C[6].projection[s.projection];if(Array.isArray(R))for(let U=0;U<R.length;U++)Qn(t,e,f,R[U],m);else gh(e,t,R,C[3],f,m,!0)}function dg(e,t,r){j(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function _h(e,t,r){j(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function fg(e,t,r){let s=e.length;for(;;){const f=e.indexOf(t,r);if(-1===f)return f;if(0===f||e.charCodeAt(f-1)<=32){const m=t.length;if(f+m===s||e.charCodeAt(f+m)<=32)return f}r=f+1}}const hg="ng-template";function V_(e,t,r){let s=0;for(;s<e.length;){let f=e[s++];if(r&&"class"===f){if(f=e[s],-1!==fg(f.toLowerCase(),t,0))return!0}else if(1===f){for(;s<e.length&&"string"==typeof(f=e[s++]);)if(f.toLowerCase()===t)return!0;return!1}}return!1}function Ol(e){return 4===e.type&&e.value!==hg}function B_(e,t,r){return t===(4!==e.type||r?e.value:hg)}function U_(e,t,r){let s=4;const f=e.attrs||[],m=function(e){for(let t=0;t<e.length;t++)if(qu(e[t]))return t;return e.length}(f);let C=!1;for(let T=0;T<t.length;T++){const R=t[T];if("number"!=typeof R){if(!C)if(4&s){if(s=2|1&s,""!==R&&!B_(e,R,r)||""===R&&1===t.length){if(Ua(s))return!1;C=!0}}else{const U=8&s?R:t[++T];if(8&s&&null!==e.attrs){if(!V_(e.attrs,U,r)){if(Ua(s))return!1;C=!0}continue}const pe=j_(8&s?"class":R,f,Ol(e),r);if(-1===pe){if(Ua(s))return!1;C=!0;continue}if(""!==U){let ve;ve=pe>m?"":f[pe+1].toLowerCase();const Me=8&s?ve:null;if(Me&&-1!==fg(Me,U,0)||2&s&&U!==ve){if(Ua(s))return!1;C=!0}}}}else{if(!C&&!Ua(s)&&!Ua(R))return!1;if(C&&Ua(R))continue;C=!1,s=R|1&s}}return Ua(s)||C}function Ua(e){return 0==(1&e)}function j_(e,t,r,s){if(null===t)return-1;let f=0;if(s||!r){let m=!1;for(;f<t.length;){const C=t[f];if(C===e)return f;if(3===C||6===C)m=!0;else{if(1===C||2===C){let T=t[++f];for(;"string"==typeof T;)T=t[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=m?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===t)return r;r++}return-1}(t,e)}function pg(e,t,r=!1){for(let s=0;s<t.length;s++)if(U_(e,t[s],r))return!0;return!1}function W_(e,t){e:for(let r=0;r<t.length;r++){const s=t[r];if(e.length===s.length){for(let f=0;f<e.length;f++)if(e[f]!==s[f])continue e;return!0}}return!1}function gg(e,t){return e?":not("+t.trim()+")":t}function q_(e){let t=e[0],r=1,s=2,f="",m=!1;for(;r<e.length;){let C=e[r];if("string"==typeof C)if(2&s){const T=e[++r];f+="["+C+(T.length>0?'="'+T+'"':"")+"]"}else 8&s?f+="."+C:4&s&&(f+=" "+C);else""!==f&&!Ua(C)&&(t+=gg(m,f),f=""),s=C,m=m||!Ua(s);r++}return""!==f&&(t+=gg(m,f)),t}const Wn={};function mg(e){_g(Bn(),mt(),ar()+e,xo())}function _g(e,t,r,s){if(!s)if(3==(3&t[2])){const m=e.preOrderCheckHooks;null!==m&&Dt(t,m,r)}else{const m=e.preOrderHooks;null!==m&&xn(t,m,0,r)}zo(r)}function Qd(e,t){return e<<17|t<<2}function ja(e){return e>>17&32767}function yh(e){return 2|e}function Ou(e){return(131068&e)>>2}function vh(e,t){return-131069&e|t<<2}function bh(e){return 1|e}function Ig(e,t){const r=e.contentQueries;if(null!==r)for(let s=0;s<r.length;s+=2){const f=r[s],m=r[s+1];if(-1!==m){const C=e.data[m];rs(f),C.contentQueries(2,t[m],m)}}}function Xc(e,t,r,s,f,m,C,T,R,U){const J=t.blueprint.slice();return J[0]=f,J[2]=140|s,Fs(J),J[3]=J[15]=e,J[8]=r,J[10]=C||e&&e[10],J[11]=T||e&&e[11],J[12]=R||e&&e[12]||null,J[9]=U||e&&e[9]||null,J[6]=m,J[16]=2==t.type?e[16]:J,J}function fc(e,t,r,s,f){let m=e.data[t];if(null===m)m=Nh(e,t,r,s,f),Rt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=r,m.value=s,m.attrs=f;const C=wi();m.injectorIndex=null===C?-1:C.injectorIndex}return On(m,!0),m}function Nh(e,t,r,s,f){const m=di(),C=Cs(),R=e.data[t]=function(e,t,r,s,f,m){return{type:r,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?m:m&&m.parent,r,t,s,f);return null===e.firstChild&&(e.firstChild=R),null!==m&&(C?null==m.child&&null!==R.parent&&(m.child=R):null===m.next&&(m.next=R)),R}function hc(e,t,r,s){if(0===r)return-1;const f=t.length;for(let m=0;m<r;m++)t.push(s),e.blueprint.push(s),e.data.push(null);return f}function ed(e,t,r){Ds(t);try{const s=e.viewQuery;null!==s&&rf(1,s,r);const f=e.template;null!==f&&Ng(e,t,f,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ig(e,t),e.staticViewQueries&&rf(2,e.viewQuery,r);const m=e.components;null!==m&&function(e,t){for(let r=0;r<t.length;r++)Gg(e,t[r])}(t,m)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,is()}}function pc(e,t,r,s){const f=t[2];if(256==(256&f))return;Ds(t);const m=xo();try{Fs(t),function(e){Rt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Ng(e,t,r,2,s);const C=3==(3&f);if(!m)if(C){const U=e.preOrderCheckHooks;null!==U&&Dt(t,U,null)}else{const U=e.preOrderHooks;null!==U&&xn(t,U,0,null),Nn(t,0)}if(function(e){for(let t=Zt(e);null!==t;t=Wt(t)){if(!t[2])continue;const r=t[9];for(let s=0;s<r.length;s++){const f=r[s],m=f[3];0==(1024&f[2])&&fr(m,1),f[2]|=1024}}}(t),function(e){for(let t=Zt(e);null!==t;t=Wt(t))for(let r=10;r<t.length;r++){const s=t[r],f=s[1];ai(s)&&pc(f,s,f.template,s[8])}}(t),null!==e.contentQueries&&Ig(e,t),!m)if(C){const U=e.contentCheckHooks;null!==U&&Dt(t,U)}else{const U=e.contentHooks;null!==U&&xn(t,U,1),Nn(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const f=r[s];if(f<0)zo(~f);else{const m=f,C=r[++s],T=r[++s];ks(C,m),T(2,t[m])}}}finally{zo(-1)}}(e,t);const T=e.components;null!==T&&function(e,t){for(let r=0;r<t.length;r++)gy(e,t[r])}(t,T);const R=e.viewQuery;if(null!==R&&rf(2,R,s),!m)if(C){const U=e.viewCheckHooks;null!==U&&Dt(t,U)}else{const U=e.viewHooks;null!==U&&xn(t,U,2),Nn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),m||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,fr(t[3],-1))}finally{is()}}function iy(e,t,r,s){const f=t[10],m=!xo(),C=sr(t);try{m&&!C&&f.begin&&f.begin(),C&&ed(e,t,s),pc(e,t,r,s)}finally{m&&!C&&f.end&&f.end()}}function Ng(e,t,r,s,f){const m=ar(),C=2&s;try{zo(-1),C&&t.length>20&&_g(e,t,20,xo()),r(s,f)}finally{zo(m)}}function Ag(e,t,r){if(No(t)){const f=t.directiveEnd;for(let m=t.directiveStart;m<f;m++){const C=e.data[m];C.contentQueries&&C.contentQueries(1,r[m],m)}}}function Ah(e,t,r){!$o()||(function(e,t,r,s){const f=r.directiveStart,m=r.directiveEnd;e.firstCreatePass||We(r,t),vr(s,t);const C=r.initialInputs;for(let T=f;T<m;T++){const R=e.data[T],U=Mr(R);U&&fy(t,r,R);const J=dn(t,e,T,r);vr(J,t),null!==C&&hy(0,T-f,J,R,0,C),U&&(Hn(r.index,t)[8]=J)}}(e,t,r,fn(r,t)),128==(128&r.flags)&&function(e,t,r){const s=r.directiveStart,f=r.directiveEnd,C=r.index,T=Rt.lFrame.currentDirectiveIndex;try{zo(C);for(let R=s;R<f;R++){const U=e.data[R],J=t[R];Hr(R),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&kg(U,J)}}finally{zo(-1),Hr(T)}}(e,t,r))}function Mh(e,t,r=fn){const s=t.localNames;if(null!==s){let f=t.index+1;for(let m=0;m<s.length;m+=2){const C=s[m+1],T=-1===C?r(t,e):e[C];e[f++]=T}}}function Mg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Xd(e,t,r,s,f,m,C,T,R,U){const J=20+s,pe=J+f,ve=function(e,t){const r=[];for(let s=0;s<t;s++)r.push(s<e?null:Wn);return r}(J,pe),Me="function"==typeof U?U():U;return ve[1]={type:e,blueprint:ve,template:r,queries:null,viewQuery:T,declTNode:t,data:ve.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:R,consts:Me,incompleteFirstPass:!1}}function Og(e,t,r,s){const f=Zg(t);null===r?f.push(s):(f.push(r),e.firstCreatePass&&Oh(e).push(s,f.length-1))}function Pg(e,t,r){for(let s in e)if(e.hasOwnProperty(s)){const f=e[s];(r=null===r?{}:r).hasOwnProperty(s)?r[s].push(t,f):r[s]=[t,f]}return r}function ha(e,t,r,s,f,m,C,T){const R=fn(t,r);let J,U=t.inputs;!T&&null!=U&&(J=U[s])?(Ph(e,r,J,s,f),vo(t)&&function(e,t){const r=Hn(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(s=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),f=null!=C?C(f,t.value||"",s):f,j(m)?m.setProperty(R,s,f):Ts(s)||(R.setProperty?R.setProperty(s,f):R[s]=f))}function ki(e,t,r,s){let f=!1;if($o()){const m=function(e,t,r){const s=e.directiveRegistry;let f=null;if(s)for(let m=0;m<s.length;m++){const C=s[m];pg(r,C.selectors,!1)&&(f||(f=[]),S(We(r,t),e,C.type),Mr(C)?(Lg(e,r),f.unshift(C)):f.push(C))}return f}(e,t,r),C=null===s?null:{"":-1};if(null!==m){f=!0,Xo(r,e.data.length,m.length);for(let J=0;J<m.length;J++){const pe=m[J];pe.providersResolver&&pe.providersResolver(pe)}let T=!1,R=!1,U=hc(e,t,m.length,null);for(let J=0;J<m.length;J++){const pe=m[J];r.mergedAttrs=ra(r.mergedAttrs,pe.hostAttrs),Ug(e,r,t,U,pe),Bg(U,pe,C),null!==pe.contentQueries&&(r.flags|=8),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(r.flags|=128);const ve=pe.type.prototype;!T&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),T=!0),!R&&(ve.ngOnChanges||ve.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),R=!0),U++}!function(e,t){const s=t.directiveEnd,f=e.data,m=t.attrs,C=[];let T=null,R=null;for(let U=t.directiveStart;U<s;U++){const J=f[U],pe=J.inputs,ve=null===m||Ol(t)?null:nd(pe,m);C.push(ve),T=Pg(pe,U,T),R=Pg(J.outputs,U,R)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=16),T.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=C,t.inputs=T,t.outputs=R}(e,r)}C&&function(e,t,r){if(t){const s=e.localNames=[];for(let f=0;f<t.length;f+=2){const m=r[t[f+1]];if(null==m)throw new _t("301",`Export of name '${t[f+1]}' not found!`);s.push(t[f],m)}}}(r,s,C)}return r.mergedAttrs=ra(r.mergedAttrs,r.attrs),f}function Fu(e,t,r,s,f,m){const C=m.hostBindings;if(C){let T=e.hostBindingOpCodes;null===T&&(T=e.hostBindingOpCodes=[]);const R=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(T)!=R&&T.push(R),T.push(s,f,C)}}function kg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Lg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Bg(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;Mr(t)&&(r[""]=e)}}function Xo(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Ug(e,t,r,s,f){e.data[s]=f;const m=f.factory||(f.factory=Ri(f.type)),C=new Fi(m,Mr(f),null);e.blueprint[s]=C,r[s]=C,Fu(e,t,0,s,hc(e,r,f.hostVars,Wn),f)}function fy(e,t,r){const s=fn(t,e),f=Mg(r),m=e[10],C=_c(e,Xc(e,f,null,r.onPush?64:16,s,t,m,m.createRenderer(s,r),null,null));e[t.index]=C}function jg(e,t,r,s,f,m,C){if(null==m)j(e)?e.removeAttribute(t,f,r):t.removeAttribute(f);else{const T=null==C?Ke(m):C(m,s||"",f);j(e)?e.setAttribute(t,f,T,r):r?t.setAttributeNS(r,f,T):t.setAttribute(f,T)}}function hy(e,t,r,s,f,m){const C=m[t];if(null!==C){const T=s.setInput;for(let R=0;R<C.length;){const U=C[R++],J=C[R++],pe=C[R++];null!==T?s.setInput(r,pe,U,J):r[J]=pe}}}function nd(e,t){let r=null,s=0;for(;s<t.length;){const f=t[s];if(0!==f)if(5!==f){if("number"==typeof f)break;e.hasOwnProperty(f)&&(null===r&&(r=[]),r.push(f,e[f],t[s+1])),s+=2}else s+=2;else s+=4}return r}function Hg(e,t,r,s){return new Array(e,!0,!1,t,null,0,s,r,null,null)}function gy(e,t){const r=Hn(t,e);if(ai(r)){const s=r[1];80&r[2]?pc(s,r,s.template,r[8]):r[5]>0&&rd(r)}}function rd(e){for(let s=Zt(e);null!==s;s=Wt(s))for(let f=10;f<s.length;f++){const m=s[f];if(1024&m[2]){const C=m[1];pc(C,m,C.template,m[8])}else m[5]>0&&rd(m)}const r=e[1].components;if(null!==r)for(let s=0;s<r.length;s++){const f=Hn(r[s],e);ai(f)&&f[5]>0&&rd(f)}}function Gg(e,t){const r=Hn(t,e),s=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(s,r),ed(s,r,r[8])}function _c(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function tf(e){for(;e;){e[2]|=64;const t=Ye(e);if(Jr(e)&&!t)return e;e=t}return null}function nf(e,t,r){const s=t[10];s.begin&&s.begin();try{pc(e,t,e.template,r)}catch(f){throw yy(t,f),f}finally{s.end&&s.end()}}function zg(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],s=Sl(r),f=s[1];iy(f,s,f.template,r)}}(e[8])}function rf(e,t,r){rs(0),t(e,r)}const _y=(()=>Promise.resolve(null))();function Zg(e){return e[7]||(e[7]=[])}function Oh(e){return e.cleanup||(e.cleanup=[])}function yy(e,t){const r=e[9],s=r?r.get(nu,null):null;s&&s.handleError(t)}function Ph(e,t,r,s,f){for(let m=0;m<r.length;){const C=r[m++],T=r[m++],R=t[C],U=e.data[C];null!==U.setInput?U.setInput(R,f,s,T):R[T]=f}}function Ha(e,t,r){let s=r?e.styles:null,f=r?e.classes:null,m=0;if(null!==t)for(let C=0;C<t.length;C++){const T=t[C];"number"==typeof T?m=T:1==m?f=ue(f,T):2==m&&(s=ue(s,T+": "+t[++C]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=f:e.classesWithoutHost=f}const id=new yr("INJECTOR",-1);class od{get(t,r=yl){if(r===yl){const s=new Error(`NullInjectorError: No provider for ${ke(t)}!`);throw s.name="NullInjectorError",s}return r}}const sf=new yr("Set Injector scope."),sd={},vy={};let Fh;function kh(){return void 0===Fh&&(Fh=new od),Fh}function ul(e,t=null,r=null,s){return new H0(e,r,t||kh(),s)}class H0{constructor(t,r,s,f=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];r&&Is(r,T=>this.processProvider(T,t,r)),Is([t],T=>this.processInjectorType(T,[],m)),this.records.set(id,Hi(void 0,this));const C=this.records.get(sf);this.scope=null!=C?C.value:null,this.source=f||("object"==typeof t?null:ke(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=yl,s=Gt.Default){this.assertNotDestroyed();const f=Qa(this),m=Yr(void 0);try{if(!(s&Gt.SkipSelf)){let T=this.records.get(t);if(void 0===T){const R=("function"==typeof(e=t)||"object"==typeof e&&e instanceof yr)&&Et(t);T=R&&this.injectableDefInScope(R)?Hi(af(t),sd):null,this.records.set(t,T)}if(null!=T)return this.hydrate(t,T)}return(s&Gt.Self?kh():this.parent).get(t,r=s&Gt.Optional&&r===yl?null:r)}catch(C){if("NullInjectorError"===C.name){if((C[Da]=C[Da]||[]).unshift(ke(t)),f)throw C;return Cl(C,t,"R3InjectorError",this.source)}throw C}finally{Yr(m),Qa(f)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((s,f)=>t.push(ke(f))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,r,s){if(!(t=we(t)))return!1;let f=Ht(t);const m=null==f&&t.ngModule||void 0,C=void 0===m?t:m,T=-1!==s.indexOf(C);if(void 0!==m&&(f=Ht(m)),null==f)return!1;if(null!=f.imports&&!T){let J;s.push(C);try{Is(f.imports,pe=>{this.processInjectorType(pe,r,s)&&(void 0===J&&(J=[]),J.push(pe))})}finally{}if(void 0!==J)for(let pe=0;pe<J.length;pe++){const{ngModule:ve,providers:Me}=J[pe];Is(Me,ze=>this.processProvider(ze,ve,Me||Yt))}}this.injectorDefTypes.add(C);const R=Ri(C)||(()=>new C);this.records.set(C,Hi(R,sd));const U=f.providers;if(null!=U&&!T){const J=t;Is(U,pe=>this.processProvider(pe,J,U))}return void 0!==m&&void 0!==t.providers}processProvider(t,r,s){let f=Lu(t=we(t))?t:we(t&&t.provide);const m=Vh(e=t)?Hi(void 0,e.useValue):Hi(Lh(e),sd);var e;if(Lu(t)||!0!==t.multi)this.records.get(f);else{let C=this.records.get(f);C||(C=Hi(void 0,sd,!0),C.factory=()=>sa(C.multi),this.records.set(f,C)),f=t,C.multi.push(t)}this.records.set(f,m)}hydrate(t,r){return r.value===sd&&(r.value=vy,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(e=r.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const r=we(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function af(e){const t=Et(e),r=null!==t?t.factory:Ri(e);if(null!==r)return r;if(e instanceof yr)throw new Error(`Token ${ke(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const s=$n(t,"?");throw new Error(`Can't resolve all parameters for ${ke(e)}: (${s.join(", ")}).`)}const r=function(e){const t=e&&(e[rr]||e[un]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function Lh(e,t,r){let s;if(Lu(e)){const f=we(e);return Ri(f)||af(f)}if(Vh(e))s=()=>we(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...sa(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))s=()=>Ei(we(e.useExisting));else{const f=we(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ri(f)||af(f);s=()=>new f(...sa(e.deps))}return s}function Hi(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Vh(e){return null!==e&&"object"==typeof e&&Oc in e}function Lu(e){return"function"==typeof e}const cf=function(e,t,r){return function(e,t=null,r=null,s){const f=ul(e,t,r,s);return f._resolveInjectorDefTypes(),f}({name:r},t,e,r)};class pi{static create(t,r){return Array.isArray(t)?cf(t,r,""):cf(t.providers,t.parent,t.name||"")}}function Py(e,t){Xe(Sl(e)[1],tr())}function um(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;t;){let f;if(Mr(e))f=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");f=t.\u0275dir}if(f){if(r){s.push(f);const C=e;C.inputs=lm(e.inputs),C.declaredInputs=lm(e.declaredInputs),C.outputs=lm(e.outputs);const T=f.hostBindings;T&&eb(e,T);const R=f.viewQuery,U=f.contentQueries;if(R&&K0(e,R),U&&X0(e,U),Ae(e.inputs,f.inputs),Ae(e.declaredInputs,f.declaredInputs),Ae(e.outputs,f.outputs),Mr(f)&&f.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let C=0;C<m.length;C++){const T=m[C];T&&T.ngInherit&&T(e),T===um&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let s=e.length-1;s>=0;s--){const f=e[s];f.hostVars=t+=f.hostVars,f.hostAttrs=ra(f.hostAttrs,r=ra(r,f.hostAttrs))}}(s)}function lm(e){return e===an?{}:e===Yt?[]:e}function K0(e,t){const r=e.viewQuery;e.viewQuery=r?(s,f)=>{t(s,f),r(s,f)}:t}function X0(e,t){const r=e.contentQueries;e.contentQueries=r?(s,f,m)=>{t(s,f,m),r(s,f,m)}:t}function eb(e,t){const r=e.hostBindings;e.hostBindings=r?(s,f)=>{t(s,f),r(s,f)}:t}pi.THROW_IF_NOT_FOUND=yl,pi.NULL=new od,pi.\u0275prov=pn({token:pi,providedIn:"any",factory:()=>Ei(id)}),pi.__NG_ELEMENT_ID__=-1;let qh=null;function ud(){if(!qh){const e=Vt.Symbol;if(e&&e.iterator)qh=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const s=t[r];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(qh=s)}}}return qh}class ou{constructor(t){this.wrapped=t}static wrap(t){return new ou(t)}static unwrap(t){return ou.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ou}}function mf(e){return!!dm(e)&&(Array.isArray(e)||!(e instanceof Map)&&ud()in e)}function dm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bu(e,t,r){return e[t]=r}function Ws(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function ys(e,t,r,s){const f=Ws(e,t,r);return Ws(e,t+1,s)||f}function _f(e,t,r,s){const f=mt();return Ws(f,ns(),t)&&(Bn(),function(e,t,r,s,f,m){const C=fn(e,t);jg(t[11],C,m,e.value,r,s,f)}(gr(),f,e,t,r,s)),_f}function bc(e,t,r,s){return Ws(e,ns(),r)?t+Ke(r)+s:Wn}function ld(e,t,r,s,f,m,C,T,R,U){const pe=function(e,t,r,s,f,m){const C=ys(e,t,r,s);return ys(e,t+2,f,m)||C}(e,hr(),r,f,C,R);return fi(4),pe?t+Ke(r)+s+Ke(f)+m+Ke(C)+T+Ke(R)+U:Wn}function Yh(e,t,r,s,f,m,C,T){const R=mt(),U=Bn(),J=e+20,pe=U.firstCreatePass?function(e,t,r,s,f,m,C,T,R){const U=t.consts,J=fc(t,e,4,C||null,Kr(U,T));ki(t,r,J,Kr(U,R)),Xe(t,J);const pe=J.tViews=Xd(2,J,s,f,m,t.directiveRegistry,t.pipeRegistry,null,t.schemas,U);return null!==t.queries&&(t.queries.template(t,J),pe.queries=t.queries.embeddedTView(J)),J}(J,U,R,t,r,s,f,m,C):U.data[J];On(pe,!1);const ve=R[11].createComment("");Jc(U,R,ve,pe),vr(ve,R),_c(R,R[J]=Hg(ve,R,ve,pe)),so(pe)&&Ah(U,R,pe),null!=C&&Mh(R,pe,T)}function ky(e){return Cn(Rt.lFrame.contextLView,20+e)}function pd(e,t=Gt.Default){const r=mt();return null===r?Ei(e,t):De(tr(),r,we(e),t)}function bf(e,t,r){const s=mt();return Ws(s,ns(),t)&&ha(Bn(),gr(),s,e,t,s[11],r,!1),bf}function wf(e,t,r,s,f){const C=f?"class":"style";Ph(e,r,t.inputs[C],C,s)}function Cf(e,t,r,s){const f=mt(),m=Bn(),C=20+e,T=f[11],R=f[C]=ca(T,t,Rt.lFrame.currentNamespace),U=m.firstCreatePass?function(e,t,r,s,f,m,C){const T=t.consts,U=fc(t,e,2,f,Kr(T,m));return ki(t,r,U,Kr(T,C)),null!==U.attrs&&Ha(U,U.attrs,!1),null!==U.mergedAttrs&&Ha(U,U.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,U),U}(C,m,f,0,t,r,s):m.data[C];On(U,!0);const J=U.mergedAttrs;null!==J&&to(T,R,J);const pe=U.classes;null!==pe&&_h(T,R,pe);const ve=U.styles;null!==ve&&dg(T,R,ve),64!=(64&U.flags)&&Jc(m,f,R,U),0===Rt.lFrame.elementDepthCount&&vr(R,f),Rt.lFrame.elementDepthCount++,so(U)&&(Ah(m,f,U),Ag(m,U,f)),null!==s&&Mh(f,U)}function Ef(){let e=tr();Cs()?Wo():(e=e.parent,On(e,!1));const t=e;Rt.lFrame.elementDepthCount--;const r=Bn();r.firstCreatePass&&(Xe(r,e),No(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&wf(r,t,mt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&wf(r,t,mt(),t.stylesWithoutHost,!1)}function np(e,t,r,s){Cf(e,t,r,s),Ef()}function Df(e,t,r){const s=mt(),f=Bn(),m=e+20,C=f.firstCreatePass?function(e,t,r,s,f){const m=t.consts,C=Kr(m,s),T=fc(t,e,8,"ng-container",C);return null!==C&&Ha(T,C,!0),ki(t,r,T,Kr(m,f)),null!==t.queries&&t.queries.elementStart(t,T),T}(m,f,s,t,r):f.data[m];On(C,!0);const T=s[m]=s[11].createComment("");Jc(f,s,T,C),vr(T,s),so(C)&&(Ah(f,s,C),Ag(f,C,s)),null!=r&&Mh(s,C)}function rp(){let e=tr();const t=Bn();Cs()?Wo():(e=e.parent,On(e,!1)),t.firstCreatePass&&(Xe(t,e),No(e)&&t.queries.elementEnd(e))}function Nm(){return mt()}function ip(e){return!!e&&"function"==typeof e.then}function op(e){return!!e&&"function"==typeof e.subscribe}const Am=op;function sp(e,t,r,s){const f=mt(),m=Bn(),C=tr();return function(e,t,r,s,f,m,C,T){const R=so(s),J=e.firstCreatePass&&Oh(e),pe=t[8],ve=Zg(t);let Me=!0;if(3&s.type||T){const et=fn(s,t),St=T?T(et):et,yt=ve.length,vn=T?Ln=>T(Se(Ln[s.index])):s.index;if(j(r)){let Ln=null;if(!T&&R&&(Ln=function(e,t,r,s){const f=e.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const C=f[m];if(C===r&&f[m+1]===s){const T=t[7],R=f[m+2];return T.length>R?T[R]:null}"string"==typeof C&&(m+=2)}return null}(e,t,f,s.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=m,Ln.__ngLastListenerFn__=m,Me=!1;else{m=Rm(s,t,pe,m,!1);const kr=r.listen(St,f,m);ve.push(m,kr),J&&J.push(f,vn,yt,yt+1)}}else m=Rm(s,t,pe,m,!0),St.addEventListener(f,m,C),ve.push(m),J&&J.push(f,vn,yt,C)}else m=Rm(s,t,pe,m,!1);const ze=s.outputs;let lt;if(Me&&null!==ze&&(lt=ze[f])){const et=lt.length;if(et)for(let St=0;St<et;St+=2){const vs=t[lt[St]][lt[St+1]].subscribe(m),du=ve.length;ve.push(m,vs),J&&J.push(f,s.index,du,-(du+1))}}}(m,f,f[11],C,e,t,!!r,s),sp}function xm(e,t,r,s){try{return!1!==r(s)}catch(f){return yy(e,f),!1}}function Rm(e,t,r,s,f){return function m(C){if(C===Function)return s;const T=2&e.flags?Hn(e.index,t):t;0==(32&t[2])&&tf(T);let R=xm(t,0,s,C),U=m.__ngNextListenerFn__;for(;U;)R=xm(t,0,U,C)&&R,U=U.__ngNextListenerFn__;return f&&!1===R&&(C.preventDefault(),C.returnValue=!1),R}}function up(e=1){return function(e){return(Rt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Rt.lFrame.contextLView))[8]}(e)}function Jy(e,t){let r=null;const s=function(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(0==(1&r))return t[r+1]}return null}(e);for(let f=0;f<t.length;f++){const m=t[f];if("*"!==m){if(null===s?pg(e,m,!0):W_(s,m))return f}else r=f}return r}function Ky(e){const t=mt()[16][6];if(!t.projection){const s=t.projection=$n(e?e.length:1,null),f=s.slice();let m=t.child;for(;null!==m;){const C=e?Jy(m,e):0;null!==C&&(f[C]?f[C].projectionNext=m:s[C]=m,f[C]=m),m=m.next}}}function lp(e,t=0,r){const s=mt(),f=Bn(),m=fc(f,20+e,16,null,r||null);null===m.projection&&(m.projection=t),Wo(),64!=(64&m.flags)&&function(e,t,r){mh(t[11],0,t,r,og(e,r,t),ag(r.parent||t[6],r,t))}(f,s,m)}function cp(e,t,r){return dp(e,"",t,"",r),cp}function dp(e,t,r,s,f){const m=mt(),C=bc(m,t,r,s);return C!==Wn&&ha(Bn(),gr(),m,e,C,m[11],f,!1),dp}function mp(e,t,r,s,f){const m=e[r+1],C=null===t;let T=s?ja(m):Ou(m),R=!1;for(;0!==T&&(!1===R||C);){const J=e[T+1];ev(e[T],t)&&(R=!0,e[T+1]=s?bh(J):yh(J)),T=s?ja(J):Ou(J)}R&&(e[r+1]=s?yh(m):bh(m))}function ev(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Us(e,t)>=0}const es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lm(e){return e.substring(es.key,es.keyEnd)}function _p(e,t){const r=es.textEnd;return r===t?-1:(t=es.keyEnd=function(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,es.key=t,r),gd(e,t,r))}function gd(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function yp(e,t,r){return Ga(e,t,r,!1),yp}function vp(e,t){return Ga(e,t,null,!0),vp}function bp(e){$a(As,uu,e,!0)}function uu(e,t){for(let r=function(e){return function(e){es.key=0,es.keyEnd=0,es.value=0,es.valueEnd=0,es.textEnd=e.length}(e),_p(e,gd(e,0,es.textEnd))}(t);r>=0;r=_p(t,r))As(e,Lm(t),!0)}function Ga(e,t,r,s){const f=mt(),m=Bn(),C=fi(2);m.firstUpdatePass&&Wm(m,e,C,s),t!==Wn&&Ws(f,C,t)&&Zm(m,m.data[ar()],f,f[11],e,f[C+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ke(as(e)))),e}(t,r),s,C)}function $a(e,t,r,s){const f=Bn(),m=fi(2);f.firstUpdatePass&&Wm(f,null,m,s);const C=mt();if(r!==Wn&&Ws(C,m,r)){const T=f.data[ar()];if(Cp(T,s)&&!$m(f,m)){let R=s?T.classesWithoutHost:T.stylesWithoutHost;null!==R&&(r=ue(R,r||"")),wf(f,T,C,r,s)}else!function(e,t,r,s,f,m,C,T){f===Wn&&(f=Yt);let R=0,U=0,J=0<f.length?f[0]:null,pe=0<m.length?m[0]:null;for(;null!==J||null!==pe;){const ve=R<f.length?f[R+1]:void 0,Me=U<m.length?m[U+1]:void 0;let lt,ze=null;J===pe?(R+=2,U+=2,ve!==Me&&(ze=pe,lt=Me)):null===pe||null!==J&&J<pe?(R+=2,ze=J):(U+=2,ze=pe,lt=Me),null!==ze&&Zm(e,t,r,s,ze,lt,C,T),J=R<f.length?f[R]:null,pe=U<m.length?m[U]:null}}(f,T,C,C[11],C[m+1],C[m+1]=function(e,t,r){if(null==r||""===r)return Yt;const s=[],f=as(r);if(Array.isArray(f))for(let m=0;m<f.length;m++)e(s,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&e(s,m,f[m]);else"string"==typeof f&&t(s,f);return s}(e,t,r),s,m)}}function $m(e,t){return t>=e.expandoStartIndex}function Wm(e,t,r,s){const f=e.data;if(null===f[r+1]){const m=f[ar()],C=$m(e,r);Cp(m,s)&&null===t&&!C&&(t=!1),t=function(e,t,r,s){const f=function(e){const t=Rt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let m=s?t.residualClasses:t.residualStyles;if(null===f)0===(s?t.classBindings:t.styleBindings)&&(r=Ic(r=Tf(null,e,t,r,s),t.attrs,s),m=null);else{const C=t.directiveStylingLast;if(-1===C||e[C]!==f)if(r=Tf(f,e,t,r,s),null===m){let R=function(e,t,r){const s=r?t.classBindings:t.styleBindings;if(0!==Ou(s))return e[ja(s)]}(e,t,s);void 0!==R&&Array.isArray(R)&&(R=Tf(null,e,t,R[1],s),R=Ic(R,t.attrs,s),function(e,t,r,s){e[ja(r?t.classBindings:t.styleBindings)]=s}(e,t,s,R))}else m=function(e,t,r){let s;const f=t.directiveEnd;for(let m=1+t.directiveStylingLast;m<f;m++)s=Ic(s,e[m].hostAttrs,r);return Ic(s,t.attrs,r)}(e,t,s)}return void 0!==m&&(s?t.residualClasses=m:t.residualStyles=m),r}(f,m,t,s),function(e,t,r,s,f,m){let C=m?t.classBindings:t.styleBindings,T=ja(C),R=Ou(C);e[s]=r;let J,U=!1;if(Array.isArray(r)){const pe=r;J=pe[1],(null===J||Us(pe,J)>0)&&(U=!0)}else J=r;if(f)if(0!==R){const ve=ja(e[T+1]);e[s+1]=Qd(ve,T),0!==ve&&(e[ve+1]=vh(e[ve+1],s)),e[T+1]=function(e,t){return 131071&e|t<<17}(e[T+1],s)}else e[s+1]=Qd(T,0),0!==T&&(e[T+1]=vh(e[T+1],s)),T=s;else e[s+1]=Qd(R,0),0===T?T=s:e[R+1]=vh(e[R+1],s),R=s;U&&(e[s+1]=yh(e[s+1])),mp(e,J,s,!0),mp(e,J,s,!1),function(e,t,r,s,f){const m=f?e.residualClasses:e.residualStyles;null!=m&&"string"==typeof t&&Us(m,t)>=0&&(r[s+1]=bh(r[s+1]))}(t,J,e,s,m),C=Qd(T,R),m?t.classBindings=C:t.styleBindings=C}(f,m,t,r,C,s)}}function Tf(e,t,r,s,f){let m=null;const C=r.directiveEnd;let T=r.directiveStylingLast;for(-1===T?T=r.directiveStart:T++;T<C&&(m=t[T],s=Ic(s,m.hostAttrs,f),m!==e);)T++;return null!==e&&(r.directiveStylingLast=T),s}function Ic(e,t,r){const s=r?1:2;let f=-1;if(null!==t)for(let m=0;m<t.length;m++){const C=t[m];"number"==typeof C?f=C:f===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),As(e,C,!!r||t[++m]))}return void 0===e?null:e}function Zm(e,t,r,s,f,m,C,T){if(!(3&t.type))return;const R=e.data,U=R[T+1];Sf(function(e){return 1==(1&e)}(U)?wp(R,t,r,f,Ou(U),C):void 0)||(Sf(m)||function(e){return 2==(2&e)}(U)&&(m=wp(R,null,r,f,T,C)),function(e,t,r,s,f){const m=j(e);if(t)f?m?e.addClass(r,s):r.classList.add(s):m?e.removeClass(r,s):r.classList.remove(s);else{let C=-1===s.indexOf("-")?void 0:W.DashCase;if(null==f)m?e.removeStyle(r,s,C):r.style.removeProperty(s);else{const T="string"==typeof f&&f.endsWith("!important");T&&(f=f.slice(0,-10),C|=W.Important),m?e.setStyle(r,s,f,C):r.style.setProperty(s,f,T?"important":"")}}}(s,C,qt(ar(),r),f,m))}function wp(e,t,r,s,f,m){const C=null===t;let T;for(;f>0;){const R=e[f],U=Array.isArray(R),J=U?R[1]:R,pe=null===J;let ve=r[f+1];ve===Wn&&(ve=pe?Yt:void 0);let Me=pe?Ya(ve,s):J===s?ve:void 0;if(U&&!Sf(Me)&&(Me=Ya(R,s)),Sf(Me)&&(T=Me,C))return T;const ze=e[f+1];f=C?ja(ze):Ou(ze)}if(null!==t){let R=m?t.residualClasses:t.residualStyles;null!=R&&(T=Ya(R,s))}return T}function Sf(e){return void 0!==e}function Cp(e,t){return 0!=(e.flags&(t?16:32))}function Ep(e,t=""){const r=mt(),s=Bn(),f=e+20,m=s.firstCreatePass?fc(s,f,1,t,null):s.data[f],C=r[f]=Gr(r[11],t);Jc(s,r,C,m),On(m,!1)}function If(e){return Nf("",e,""),If}function Nf(e,t,r){const s=mt(),f=bc(s,e,t,r);return f!==Wn&&function(e,t,r){const s=qt(t,e);Fr(e[11],s,r)}(s,ar(),f),Nf}function n_(e,t,r,s,f,m,C,T,R){$a(As,uu,ld(mt(),e,t,r,s,f,m,C,T,R),!0)}function Xt(e,t,r){const s=mt();return Ws(s,ns(),t)&&ha(Bn(),gr(),s,e,t,s[11],r,!0),Xt}const $t=void 0;var Gi=["en",[["a","p"],["AM","PM"],$t],[["AM","PM"],$t,$t],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$t,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$t,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$t,"{1} 'at' {0}",$t],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let $i={};function go(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=pa(t);if(r)return r;const s=t.split("-")[0];if(r=pa(s),r)return r;if("en"===s)return Gi;throw new Error(`Missing locale data for the locale "${e}".`)}function cs(e){return go(e)[mn.PluralCase]}function pa(e){return e in $i||($i[e]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[e]),$i[e]}var mn=(()=>((mn=mn||{})[mn.LocaleId=0]="LocaleId",mn[mn.DayPeriodsFormat=1]="DayPeriodsFormat",mn[mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",mn[mn.DaysFormat=3]="DaysFormat",mn[mn.DaysStandalone=4]="DaysStandalone",mn[mn.MonthsFormat=5]="MonthsFormat",mn[mn.MonthsStandalone=6]="MonthsStandalone",mn[mn.Eras=7]="Eras",mn[mn.FirstDayOfWeek=8]="FirstDayOfWeek",mn[mn.WeekendRange=9]="WeekendRange",mn[mn.DateFormat=10]="DateFormat",mn[mn.TimeFormat=11]="TimeFormat",mn[mn.DateTimeFormat=12]="DateTimeFormat",mn[mn.NumberSymbols=13]="NumberSymbols",mn[mn.NumberFormats=14]="NumberFormats",mn[mn.CurrencyCode=15]="CurrencyCode",mn[mn.CurrencySymbol=16]="CurrencySymbol",mn[mn.CurrencyName=17]="CurrencyName",mn[mn.Currencies=18]="Currencies",mn[mn.Directionality=19]="Directionality",mn[mn.PluralCase=20]="PluralCase",mn[mn.ExtraData=21]="ExtraData",mn))();const Bl=["zero","one","two","few","many"],Ma="en-US",i_={marker:"element"},o_={marker:"ICU"};var Lo=(()=>((Lo=Lo||{})[Lo.SHIFT=2]="SHIFT",Lo[Lo.APPEND_EAGERLY=1]="APPEND_EAGERLY",Lo[Lo.COMMENT=2]="COMMENT",Lo))();let Eb=Ma;function fv(e){(function(e,t){null==e&&wt(t,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(Eb=e.toLowerCase().replace(/_/g,"-"))}function Db(e,t,r){const s=t.insertBeforeIndex,f=Array.isArray(s)?s[0]:s;return null===f?Qc(e,0,r):Se(r[f])}function Tb(e,t,r,s,f){const m=t.insertBeforeIndex;if(Array.isArray(m)){let C=s,T=null;if(3&t.type||(T=C,C=f),null!==C&&0==(2&t.flags))for(let R=1;R<m.length;R++)xl(e,C,r[m[R]],T,!1)}}function Sb(e,t){if(e.push(t),e.length>1)for(let r=e.length-2;r>=0;r--){const s=e[r];Ib(s)||_C(s,t)&&null===yC(s)&&vC(s,t.index)}}function Ib(e){return!(64&e.type)}function _C(e,t){return Ib(t)||e.index>t.index}function yC(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function vC(e,t){const r=e.insertBeforeIndex;Array.isArray(r)?r[0]=t:(lg(Db,Tb),e.insertBeforeIndex=t)}function Sp(e,t){const r=e.data[t];return null===r||"string"==typeof r?null:r.hasOwnProperty("currentCaseLViewIndex")?r:r.value}function CC(e,t,r){const s=Nh(e,r,64,null,null);return Sb(t,s),s}function s_(e,t){const r=t[e.currentCaseLViewIndex];return null===r?r:r<0?~r:r}function Nb(e){return e>>>17}function Ab(e){return(131070&e)>>>1}let Ip=0,Np=0;function xb(e,t,r,s){const f=r[11];let C,m=null;for(let T=0;T<t.length;T++){const R=t[T];if("string"==typeof R){const U=t[++T];null===r[U]&&(r[U]=Gr(f,R))}else if("number"==typeof R)switch(1&R){case 0:const U=Nb(R);let J,pe;if(null===m&&(m=U,C=Rl(f,s)),U===m?(J=s,pe=C):(J=null,pe=Se(r[U])),null!==pe){const lt=Ab(R);xl(f,pe,r[lt],J,!1);const St=Sp(e,lt);if(null!==St&&"object"==typeof St){const yt=s_(St,r);null!==yt&&xb(e,St.create[yt],r,r[St.anchorIdx])}}break;case 1:const Me=t[++T],ze=t[++T];jg(f,qt(R>>>1,r),null,null,Me,ze,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${R}"`)}else switch(R){case o_:const U=t[++T],J=t[++T];null===r[J]&&vr(r[J]=la(f,U),r);break;case i_:const pe=t[++T],ve=t[++T];null===r[ve]&&vr(r[ve]=ca(f,pe,null),r)}}}function Rb(e,t,r,s,f){for(let m=0;m<r.length;m++){const C=r[m],T=r[++m];if(C&f){let R="";for(let U=m+1;U<=m+T;U++){const J=r[U];if("string"==typeof J)R+=J;else if("number"==typeof J)if(J<0)R+=Ke(t[s-J]);else{const pe=J>>>2;switch(3&J){case 1:const ve=r[++U],Me=r[++U],ze=e.data[pe];"string"==typeof ze?jg(t[11],t[pe],null,ze,ve,R,Me):ha(e,ze,t,ve,R,t[11],Me,!1);break;case 0:const lt=t[pe];null!==lt&&Fr(t[11],lt,R);break;case 2:IC(e,Sp(e,pe),t,R);break;case 3:Ob(e,Sp(e,pe),s,t)}}}}else{const R=r[m+1];if(R>0&&3==(3&R)){const J=Sp(e,R>>>2);t[J.currentCaseLViewIndex]<0&&Ob(e,J,s,t)}}m+=T}}function Ob(e,t,r,s){let f=s[t.currentCaseLViewIndex];if(null!==f){let m=Ip;f<0&&(f=s[t.currentCaseLViewIndex]=~f,m=-1),Rb(e,s,t.update[f],r,m)}}function IC(e,t,r,s){const f=function(e,t){let r=e.cases.indexOf(t);if(-1===r)switch(e.type){case 1:{const s=function(e,t){const r=cs(t)(parseInt(e,10)),s=Bl[r];return void 0!==s?s:"other"}(t,Eb);r=e.cases.indexOf(s),-1===r&&"other"!==s&&(r=e.cases.indexOf("other"));break}case 0:r=e.cases.indexOf("other")}return-1===r?null:r}(t,s);if(s_(t,r)!==f&&(Pb(e,t,r),r[t.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const C=r[t.anchorIdx];C&&xb(e,t.create[f],r,C)}}function Pb(e,t,r){let s=s_(t,r);if(null!==s){const f=t.remove[s];for(let m=0;m<f.length;m++){const C=f[m];if(C>0){const T=qt(C,r);null!==T&&cg(r[11],T)}else Pb(e,Sp(e,~C),r)}}}function AC(){const e=[];let r,s,t=-1;function m(T,R){t=0;const U=s_(T,R);s=null!==U?T.remove[U]:Yt}function C(){if(t<s.length){const T=s[t++];return T>0?r[T]:(e.push(t,s),m(r[1].data[~T],r),C())}return 0===e.length?null:(s=e.pop(),t=e.pop(),C())}return function(T,R){for(r=R;e.length;)e.pop();return m(T.value,R),C}}const a_=/\ufffd(\d+):?\d*\ufffd/gi,xC=/\ufffd(\d+)\ufffd/,kb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,RC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,OC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,PC=/\uE500/g;function Lb(e,t,r,s,f,m,C){const T=hc(e,s,1,null);let R=T<<Lo.SHIFT,U=wi();t===U&&(U=null),null===U&&(R|=Lo.APPEND_EAGERLY),C&&(R|=Lo.COMMENT,function(e){void 0===se&&(se=e())}(AC)),f.push(R,null===m?"":m);const J=Nh(e,T,C?32:1,null===m?"":m,null);Sb(r,J);const pe=J.index;return On(J,!1),null!==U&&t!==U&&function(e,t){let r=e.insertBeforeIndex;null===r?(lg(Db,Tb),r=e.insertBeforeIndex=[null,t]):(function(e,t,r){e!=t&&wt(r,e,t,"==")}(Array.isArray(r),!0,"Expecting array here"),r.push(t))}(U,pe),J}function LC(e,t,r,s,f,m,C){const T=C.match(a_),R=Lb(e,t,r,m,s,T?null:C,!1);T&&Af(f,C,R.index,null,0,null)}function Af(e,t,r,s,f,m){const C=e.length,T=C+1;e.push(null,null);const R=C+2,U=t.split(a_);let J=0;for(let pe=0;pe<U.length;pe++){const ve=U[pe];if(1&pe){const Me=f+parseInt(ve,10);e.push(-1-Me),J|=Vb(Me)}else""!==ve&&e.push(ve)}return e.push(r<<2|(s?1:0)),s&&e.push(s,m),e[C]=J,e[T]=e.length-R,J}function Vb(e){return 1<<Math.min(e,31)}function Bb(e){let t,m,r="",s=0,f=!1;for(;null!==(t=RC.exec(e));)f?t[0]===`\ufffd/*${m}\ufffd`&&(s=t.index,f=!1):(r+=e.substring(s,t.index+t[0].length),m=t[1],f=!0);return r+=e.substr(s),r}function Ub(e,t,r,s,f,m){let C=0;const T={type:f.type,currentCaseLViewIndex:hc(e,t,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function(e,t,r){e.push(Vb(t.mainBinding),2,-1-t.mainBinding,r<<2|2)})(r,f,m),function(e,t,r){const s=e.data[t];null===s?e.data[t]=r:s.value=r}(e,m,T);const R=f.values;for(let U=0;U<R.length;U++){const J=R[U],pe=[];for(let ve=0;ve<J.length;ve++){const Me=J[ve];if("string"!=typeof Me){const ze=pe.push(Me)-1;J[ve]=`\x3c!--\ufffd${ze}\ufffd--\x3e`}}C=GC(e,T,t,r,s,f.cases[U],J.join(""),pe)|C}C&&function(e,t,r){e.push(t,1,r<<2|3)}(r,C,m)}function HC(e){const t=[],r=[];let s=1,f=0;const m=hv(e=e.replace(kb,function(C,T,R){return s="select"===R?0:1,f=parseInt(T.substr(1),10),""}));for(let C=0;C<m.length;){let T=m[C++].trim();1===s&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&t.push(T);const R=hv(m[C++]);t.length>r.length&&r.push(R)}return{type:s,mainBinding:f,cases:t,values:r}}function hv(e){if(!e)return[];let t=0;const r=[],s=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(e);){const T=m.index;if("}"==m[0]){if(r.pop(),0==r.length){const R=e.substring(t,T);kb.test(R)?s.push(HC(R)):s.push(R),t=T+1}}else{if(0==r.length){const R=e.substring(t,T);s.push(R),t=T+1}r.push("{")}}const C=e.substring(t);return s.push(C),s}function GC(e,t,r,s,f,m,C,T){const R=[],U=[],J=[];t.cases.push(m),t.create.push(R),t.remove.push(U),t.update.push(J);const ve=Rd(ut()).getInertBodyElement(C),Me=oc(ve)||ve;return Me?jb(e,t,r,s,R,U,J,Me,f,T,0):0}function jb(e,t,r,s,f,m,C,T,R,U,J){let pe=0,ve=T.firstChild;for(;ve;){const Me=hc(e,r,1,null);switch(ve.nodeType){case Node.ELEMENT_NODE:const ze=ve,lt=ze.tagName.toLowerCase();if(Pa.hasOwnProperty(lt)){pv(f,i_,lt,R,Me),e.data[Me]=lt;const vn=ze.attributes;for(let Ln=0;Ln<vn.length;Ln++){const kr=vn.item(Ln),vs=kr.name.toLowerCase();kr.value.match(a_)?Dl.hasOwnProperty(vs)&&Af(C,kr.value,Me,kr.name,0,ua[vs]?Xu:Tu[vs]?tc:null):zC(f,Me,kr)}pe=jb(e,t,r,s,f,m,C,ve,Me,U,J+1)|pe,Hb(m,Me,J)}break;case Node.TEXT_NODE:const et=ve.textContent||"",St=et.match(a_);pv(f,null,St?"":et,R,Me),Hb(m,Me,J),St&&(pe=Af(C,et,Me,null,0,null)|pe);break;case Node.COMMENT_NODE:const yt=xC.exec(ve.textContent||"");if(yt){const Ln=U[parseInt(yt[1],10)];pv(f,o_,"",R,Me),Ub(e,r,s,R,Ln,Me),$C(m,Me,J)}}ve=ve.nextSibling}return pe}function Hb(e,t,r){0===r&&e.push(t)}function $C(e,t,r){0===r&&(e.push(~t),e.push(t))}function pv(e,t,r,s,f){null!==t&&e.push(t),e.push(r,f,function(e,t,r){return 0|t<<17|r<<1}(0,s,f))}function zC(e,t,r){e.push(t<<1|1,r.name,r.value)}function $b(e,t,r=-1){const s=Bn(),f=mt(),m=20+e,C=Kr(s.consts,t),T=wi();s.firstCreatePass&&function(e,t,r,s,f,m){const C=wi(),T=[],R=[],U=[[]],J=function(e){return e.replace(PC," ")}(f=function(e,t){if(function(e){return-1===e}(t))return Bb(e);{const r=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,s=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return Bb(e.substring(r,s))}}(f,m)).split(OC);for(let pe=0;pe<J.length;pe++){let ve=J[pe];if(0==(1&pe)){const Me=hv(ve);for(let ze=0;ze<Me.length;ze++){let lt=Me[ze];if(0==(1&ze)){const et=lt;""!==et&&LC(e,C,U[0],T,R,r,et)}else{const et=lt;if("object"!=typeof et)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Ub(e,r,R,t,et,Lb(e,C,U[0],r,T,"",!0).index)}}}else{const Me=47===ve.charCodeAt(0),lt=(ve.charCodeAt(Me?1:0),20+Number.parseInt(ve.substring(Me?2:1)));if(Me)U.shift(),On(wi(),!1);else{const et=CC(e,U[0],lt);U.unshift([]),On(et,!0)}}}e.data[s]={create:T,update:R}}(s,null===T?0:T.index,f,m,C,r);const R=s.data[m],J=io(s,T===f[6]?null:T,f);(function(e,t,r,s){const f=e[11];for(let m=0;m<t.length;m++){const C=t[m++],T=t[m],R=(C&Lo.COMMENT)===Lo.COMMENT,U=(C&Lo.APPEND_EAGERLY)===Lo.APPEND_EAGERLY,J=C>>>Lo.SHIFT;let pe=e[J];null===pe&&(pe=e[J]=R?f.createComment(T):Gr(f,T)),U&&null!==r&&xl(f,r,pe,s,!1)}})(f,R.create,J,T&&8&T.type?f[T.index]:null),xa(!0)}function qb(e,t,r){$b(e,t,r),xa(!1)}function gv(e){return function(e){e&&(Ip|=1<<Math.min(Np,31)),Np++}(Ws(mt(),ns(),e)),gv}function zb(e){!function(e,t,r){if(Np>0){const s=e.data[r];Rb(e,t,Array.isArray(s)?s:s.update,hr()-Np-1,Ip)}Ip=0,Np=0}(Bn(),mt(),e+20)}function mv(e,t,r,s,f){if(e=we(e),Array.isArray(e))for(let m=0;m<e.length;m++)mv(e[m],t,r,s,f);else{const m=Bn(),C=mt();let T=Lu(e)?e:we(e.provide),R=Lh(e);const U=tr(),J=1048575&U.providerIndexes,pe=U.directiveStart,ve=U.providerIndexes>>20;if(Lu(e)||!e.multi){const Me=new Fi(R,f,pd),ze=yv(T,t,f?J:J+ve,pe);-1===ze?(S(We(U,C),m,T),_v(m,e,t.length),t.push(T),U.directiveStart++,U.directiveEnd++,f&&(U.providerIndexes+=1048576),r.push(Me),C.push(Me)):(r[ze]=Me,C[ze]=Me)}else{const Me=yv(T,t,J+ve,pe),ze=yv(T,t,J,J+ve),lt=Me>=0&&r[Me],et=ze>=0&&r[ze];if(f&&!et||!f&&!lt){S(We(U,C),m,T);const St=function(e,t,r,s,f){const m=new Fi(e,r,pd);return m.multi=[],m.index=t,m.componentProviders=0,Yb(m,f,s&&!r),m}(f?sE:oE,r.length,f,s,R);!f&&et&&(r[ze].providerFactory=St),_v(m,e,t.length,0),t.push(T),U.directiveStart++,U.directiveEnd++,f&&(U.providerIndexes+=1048576),r.push(St),C.push(St)}else _v(m,e,Me>-1?Me:ze,Yb(r[f?ze:Me],R,!f&&s));!f&&s&&et&&r[ze].componentProviders++}}}function _v(e,t,r,s){const f=Lu(t);if(f||function(e){return!!e.useClass}(t)){const C=(t.useClass||t).prototype.ngOnDestroy;if(C){const T=e.destroyHooks||(e.destroyHooks=[]);if(!f&&t.multi){const R=T.indexOf(r);-1===R?T.push(r,[s,C]):T[R+1].push(s,C)}else T.push(r,C)}}}function Yb(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function yv(e,t,r,s){for(let f=r;f<s;f++)if(t[f]===e)return f;return-1}function oE(e,t,r,s){return vv(this.multi,[])}function sE(e,t,r,s){const f=this.multi;let m;if(this.providerFactory){const C=this.providerFactory.componentProviders,T=dn(r,r[1],this.providerFactory.index,s);m=T.slice(0,C),vv(f,m);for(let R=C;R<T.length;R++)m.push(T[R])}else m=[],vv(f,m);return m}function vv(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function Zb(e,t=[]){return r=>{r.providersResolver=(s,f)=>function(e,t,r){const s=Bn();if(s.firstCreatePass){const f=Mr(e);mv(r,s.data,s.blueprint,f,!0),mv(t,s.data,s.blueprint,f,!1)}}(s,f?f(e):e,t)}}class Qb{}const Kb="ngComponent";class lE{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${ke(e)}. Did you add it to @NgModule.entryComponents?`);return t[Kb]=e,t}(t)}}class yd{}function u_(...e){}function Mf(e,t){return new fl(fn(e,t))}yd.NULL=new lE;const fE=function(){return Mf(tr(),mt())};let fl=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=fE,e})();function Xb(e){return e instanceof fl?e.nativeElement:e}class l_{}let hE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>gE(),e})();const gE=function(){const e=mt(),r=Hn(tr().index,e);return function(e){return e[11]}(oi(r)?r:e)};let wv=(()=>{class e{}return e.\u0275prov=pn({token:e,providedIn:"root",factory:()=>null}),e})();class e1{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cv=new e1("12.2.3");class t1{constructor(){}supports(t){return mf(t)}create(t){return new vE(t)}}const yE=(e,t)=>t;class vE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yE}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,s=this._removalsHead,f=0,m=null;for(;r||s;){const C=!s||r&&r.currentIndex<r1(s,f,m)?r:s,T=r1(C,f,m),R=C.currentIndex;if(C===s)f--,s=s._nextRemoved;else if(r=r._next,null==C.previousIndex)f++;else{m||(m=[]);const U=T-f,J=R-f;if(U!=J){for(let ve=0;ve<U;ve++){const Me=ve<m.length?m[ve]:m[ve]=0,ze=Me+ve;J<=ze&&ze<U&&(m[ve]=Me+1)}m[C.previousIndex]=J-U}}T!==R&&t(C,T,R)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!mf(t))throw new Error(`Error trying to diff '${ke(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let f,m,C,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let T=0;T<this.length;T++)m=t[T],C=this._trackByFn(T,m),null!==r&&Object.is(r.trackById,C)?(s&&(r=this._verifyReinsertion(r,m,C,T)),Object.is(r.item,m)||this._addIdentityChange(r,m)):(r=this._mismatch(r,m,C,T),s=!0),r=r._next}else f=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[ud()]();let s;for(;!(s=r.next()).done;)t(s.value)}}(t,T=>{C=this._trackByFn(f,T),null!==r&&Object.is(r.trackById,C)?(s&&(r=this._verifyReinsertion(r,T,C,f)),Object.is(r.item,T)||this._addIdentityChange(r,T)):(r=this._mismatch(r,T,C,f),s=!0),r=r._next,f++}),this.length=f;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,s,f){let m;return null===t?m=this._itTail:(m=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,m,f)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,f))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,m,f)):t=this._addAfter(new bE(r,s),m,f),t}_verifyReinsertion(t,r,s,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==m?t=this._reinsertAfter(m,t._prev,f):t.currentIndex!=f&&(t.currentIndex=f,this._addToMoves(t,f)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const f=t._prevRemoved,m=t._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(t,r,s),this._addToMoves(t,s),t}_moveAfter(t,r,s){return this._unlink(t),this._insertAfter(t,r,s),this._addToMoves(t,s),t}_addAfter(t,r,s){return this._insertAfter(t,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,s){const f=null===r?this._itHead:r._next;return t._next=f,t._prev=r,null===f?this._itTail=t:f._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new n1),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,s=t._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new n1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class bE{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const r=t._prevDup,s=t._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class n1{constructor(){this.map=new Map}put(t){const r=t.trackById;let s=this.map.get(r);s||(s=new wE,this.map.set(r,s)),s.add(t)}get(t,r){const f=this.map.get(t);return f?f.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function r1(e,t,r){const s=e.previousIndex;if(null===s)return s;let f=0;return r&&s<r.length&&(f=r[s]),s+t+f}class i1{constructor(){}supports(t){return t instanceof Map||dm(t)}create(){return new CE}}class CE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||dm(t)))throw new Error(`Error trying to diff '${ke(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,f)=>{if(r&&r.key===f)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const m=this._getOrCreateRecordForKey(f,s);r=this._insertBeforeOrAppend(r,m)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const f=this._records.get(t);this._maybeAddToChanges(f,r);const m=f._prev,C=f._next;return m&&(m._next=C),C&&(C._prev=m),f._next=null,f._prev=null,f}const s=new EE(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}}class EE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function o1(){return new c_([new t1])}let c_=(()=>{class e{constructor(r){this.factories=r}static create(r,s){if(null!=s){const f=s.factories.slice();r=r.concat(f)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||o1()),deps:[[e,new Qo,new Oa]]}}find(r){const s=this.factories.find(f=>f.supports(r));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(e){return e.name||typeof e}(r)}'`)}}return e.\u0275prov=pn({token:e,providedIn:"root",factory:o1}),e})();function s1(){return new d_([new i1])}let d_=(()=>{class e{constructor(r){this.factories=r}static create(r,s){if(s){const f=s.factories.slice();r=r.concat(f)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||s1()),deps:[[e,new Qo,new Oa]]}}find(r){const s=this.factories.find(f=>f.supports(r));if(s)return s;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return e.\u0275prov=pn({token:e,providedIn:"root",factory:s1}),e})();function f_(e,t,r,s,f=!1){for(;null!==r;){const m=t[r.index];if(null!==m&&s.push(Se(m)),Qr(m))for(let T=10;T<m.length;T++){const R=m[T],U=R[1].firstChild;null!==U&&f_(R[1],R,U,s)}const C=r.type;if(8&C)f_(e,t,r.child,s);else if(32&C){const T=be(r,t);let R;for(;R=T();)s.push(R)}else if(16&C){const T=Zd(t,r);if(Array.isArray(T))s.push(...T);else{const R=Ye(t[16]);f_(R[1],R,T,s,!0)}}r=f?r.projectionNext:r.next}return s}class Mp{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return f_(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Qr(t)){const r=t[8],s=r?r.indexOf(this):-1;s>-1&&(Gs(t,s),Ns(r,s))}this._attachedToViewContainer=!1}Ba(this._lView[1],this._lView)}onDestroy(t){Og(this._lView[1],this._lView,null,t)}markForCheck(){tf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){zs(!0);try{nf(e,t,r)}finally{zs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Kc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class TE extends Mp{constructor(t){super(t),this._view=t}detectChanges(){zg(this._view)}checkNoChanges(){!function(e){zs(!0);try{zg(e)}finally{zs(!1)}}(this._view)}get context(){return null}}const IE=function(e){return function(e,t,r){if(vo(e)&&!r){const s=Hn(e.index,t);return new Mp(s,s)}return 47&e.type?new Mp(t[16],t):null}(tr(),mt(),16==(16&e))};let NE=(()=>{class e{}return e.__NG_ELEMENT_ID__=IE,e})();const xE=[new i1],OE=new c_([new t1]),PE=new d_(xE),kE=function(){return h_(tr(),mt())};let xp=(()=>{class e{}return e.__NG_ELEMENT_ID__=kE,e})();const LE=xp,VE=class extends LE{constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}createEmbeddedView(t){const r=this._declarationTContainer.tViews,s=Xc(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(s[19]=m.createEmbeddedView(r)),ed(r,s,t),new Mp(s)}};function h_(e,t){return 4&e.type?new VE(t,e,Mf(e,t)):null}class vd{}class a1{}const jE=function(){return c1(tr(),mt())};let p_=(()=>{class e{}return e.__NG_ELEMENT_ID__=jE,e})();const GE=p_,u1=class extends GE{constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return Mf(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){const t=N(this._hostTNode,this._hostLView);if(Qs(t)){const r=_(t,this._hostLView),s=v(t);return new Xr(r[1].data[s+8],r)}return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=l1(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,s){const f=t.createEmbeddedView(r||{});return this.insert(f,s),f}createComponent(t,r,s,f,m){const C=s||this.parentInjector;if(!m&&null==t.ngModule&&C){const R=C.get(vd,null);R&&(m=R)}const T=t.create(C,f,void 0,m);return this.insert(T.hostView,r),T}insert(t,r){const s=t._lView,f=s[1];if(Qr(s[3])){const J=this.indexOf(t);if(-1!==J)this.detach(J);else{const pe=s[3],ve=new u1(pe,pe[6],pe[3]);ve.detach(ve.indexOf(t))}}const m=this._adjustIndex(r),C=this._lContainer;!function(e,t,r,s){const f=10+s,m=r.length;s>0&&(r[f-1][4]=t),s<m-10?(t[4]=r[f],ji(r,10+s,t)):(r.push(t),t[4]=null),t[3]=r;const C=t[17];null!==C&&r!==C&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(C,t);const T=t[19];null!==T&&T.insertView(e),t[2]|=128}(f,s,C,m);const T=ph(m,C),R=s[11],U=Rl(R,C[7]);return null!==U&&function(e,t,r,s,f,m){s[0]=f,s[6]=t,Kc(e,s,r,1,f,m)}(f,C[6],R,s,U,T),t.attachToViewContainerRef(),ji(Ev(C),m,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=l1(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),s=Gs(this._lContainer,r);s&&(Ns(Ev(this._lContainer),r),Ba(s[1],s))}detach(t){const r=this._adjustIndex(t,-1),s=Gs(this._lContainer,r);return s&&null!=Ns(Ev(this._lContainer),r)?new Mp(s):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function l1(e){return e[8]}function Ev(e){return e[8]||(e[8]=[])}function c1(e,t){let r;const s=t[e.index];if(Qr(s))r=s;else{let f;if(8&e.type)f=Se(s);else{const m=t[11];f=m.createComment("");const C=fn(e,t);xl(m,Rl(m,C),f,function(e,t){return j(e)?e.nextSibling(t):t.nextSibling}(m,C),!1)}t[e.index]=r=Hg(s,t,f,e),_c(t,r)}return new u1(r,e,t)}const Pf={};class M1 extends yd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Lr(t);return new R1(r,this.ngModule)}}function x1(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const BD=new yr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$d});class R1 extends Qb{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=t.selectors.map(q_).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return x1(this.componentDef.inputs)}get outputs(){return x1(this.componentDef.outputs)}create(t,r,s,f){const m=(f=f||this.ngModule)?function(e,t){return{get:(r,s,f)=>{const m=e.get(r,Pf,f);return m!==Pf||s===Pf?m:t.get(r,s,f)}}}(t,f.injector):t,C=m.get(l_,G),T=m.get(wv,null),R=C.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",J=s?function(e,t,r){if(j(e))return e.selectRootElement(t,r===Ee.ShadowDom);let s="string"==typeof t?e.querySelector(t):t;return s.textContent="",s}(R,s,this.componentDef.encapsulation):ca(C.createRenderer(null,this.componentDef),U,function(e){const t=e.toLowerCase();return"svg"===t?$:"math"===t?"http://www.w3.org/1998/MathML/":null}(U)),pe=this.componentDef.onPush?576:528,ve=function(e,t){return{components:[],scheduler:e||$d,clean:_y,playerHandler:t||null,flags:0}}(),Me=Xd(0,null,null,1,0,null,null,null,null,null),ze=Xc(null,Me,ve,pe,null,null,C,R,T,m);let lt,et;Ds(ze);try{const St=function(e,t,r,s,f,m){const C=r[1];r[20]=e;const R=fc(C,20,2,"#host",null),U=R.mergedAttrs=t.hostAttrs;null!==U&&(Ha(R,U,!0),null!==e&&(to(f,e,U),null!==R.classes&&_h(f,e,R.classes),null!==R.styles&&dg(f,e,R.styles)));const J=s.createRenderer(e,t),pe=Xc(r,Mg(t),null,t.onPush?64:16,r[20],R,s,J,m||null,null);return C.firstCreatePass&&(S(We(R,r),C,t.type),Lg(C,R),Xo(R,r.length,1)),_c(r,pe),r[20]=pe}(J,this.componentDef,ze,C,R);if(J)if(s)to(R,J,["ng-version",Cv.full]);else{const{attrs:yt,classes:vn}=function(e){const t=[],r=[];let s=1,f=2;for(;s<e.length;){let m=e[s];if("string"==typeof m)2===f?""!==m&&t.push(m,e[++s]):8===f&&r.push(m);else{if(!Ua(f))break;f=m}s++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);yt&&to(R,J,yt),vn&&vn.length>0&&_h(R,J,vn.join(" "))}if(et=jn(Me,20),void 0!==r){const yt=et.projection=[];for(let vn=0;vn<this.ngContentSelectors.length;vn++){const Ln=r[vn];yt.push(null!=Ln?Array.from(Ln):null)}}lt=function(e,t,r,s,f){const m=r[1],C=function(e,t,r){const s=tr();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Ug(e,s,t,hc(e,t,1,null),r));const f=dn(t,e,s.directiveStart,s);vr(f,t);const m=fn(s,t);return m&&vr(m,t),f}(m,r,t);if(s.components.push(C),e[8]=C,f&&f.forEach(R=>R(C,t)),t.contentQueries){const R=tr();t.contentQueries(1,C,R.directiveStart)}const T=tr();return!m.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(zo(T.index),Fu(r[1],T,0,T.directiveStart,T.directiveEnd,t),kg(t,C)),C}(St,this.componentDef,ze,ve,[Py]),ed(Me,ze,null)}finally{is()}return new HD(this.componentType,lt,Mf(et,ze),ze,et)}}class HD extends class{}{constructor(t,r,s,f,m){super(),this.location=s,this._rootLView=f,this._tNode=m,this.instance=r,this.hostView=this.changeDetectorRef=new TE(f),this.componentType=t}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ff=new Map;class WD extends vd{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new M1(this);const s=Ur(t),f=t[mr]||null;f&&fv(f),this._bootstrapComponents=p(s.bootstrap),this._r3Injector=ul(t,r,[{provide:vd,useValue:this},{provide:yd,useValue:this.componentFactoryResolver}],ke(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=pi.THROW_IF_NOT_FOUND,s=Gt.Default){return t===pi||t===vd||t===id?this:this._r3Injector.get(t,r,s)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kv extends a1{constructor(t){super(),this.moduleType=t,null!==Ur(t)&&function(e){const t=new Set;!function r(s){const f=Ur(s,!0),m=f.id;null!==m&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${ke(t)} vs ${ke(t.name)}`)}(m,Ff.get(m),s),Ff.set(m,s));const C=p(f.imports);for(const T of C)t.has(T)||(t.add(T),r(T))}(e)}(t)}create(t){return new WD(this.moduleType,t)}}function F1(e,t,r,s){return V1(mt(),In(),e,t,r,s)}function k1(e,t,r,s,f){return function(e,t,r,s,f,m,C){const T=t+r;return ys(e,T,f,m)?Bu(e,T+2,C?s.call(C,f,m):s(f,m)):Bp(e,T+2)}(mt(),In(),e,t,r,s,f)}function L1(e,t,r,s,f,m){return function(e,t,r,s,f,m,C,T){const R=t+r;return function(e,t,r,s,f){const m=ys(e,t,r,s);return Ws(e,t+2,f)||m}(e,R,f,m,C)?Bu(e,R+3,T?s.call(T,f,m,C):s(f,m,C)):Bp(e,R+3)}(mt(),In(),e,t,r,s,f,m)}function Bp(e,t){const r=e[t];return r===Wn?void 0:r}function V1(e,t,r,s,f,m){const C=t+r;return Ws(e,C,f)?Bu(e,C+1,m?s.call(m,f):s(f)):Bp(e,C+1)}function G1(e,t){const r=Bn();let s;const f=e+20;r.firstCreatePass?(s=function(e,t){if(t)for(let r=t.length-1;r>=0;r--){const s=t[r];if(e===s.name)return s}throw new _t("302",`The pipe '${e}' could not be found!`)}(t,r.pipeRegistry),r.data[f]=s,s.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(f,s.onDestroy)):s=r.data[f];const m=s.factory||(s.factory=Ri(s.type)),C=Yr(pd);try{const T=M(!1),R=m();return M(T),function(e,t,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=s}(r,mt(),f,R),R}finally{Yr(C)}}function $1(e,t,r){const s=e+20,f=mt(),m=Cn(f,s);return function(e,t){ou.isWrapped(t)&&(t=ou.unwrap(t),e[hr()]=Wn);return t}(f,function(e,t){return e[1].data[t].pure}(f,s)?V1(f,In(),t,m.transform,r,m):m.transform(r))}function Lv(e){return t=>{setTimeout(e,void 0,t)}}const hl=class extends I.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,s){var f,m,C;let T=t,R=r||(()=>null),U=s;if(t&&"object"==typeof t){const pe=t;T=null===(f=pe.next)||void 0===f?void 0:f.bind(pe),R=null===(m=pe.error)||void 0===m?void 0:m.bind(pe),U=null===(C=pe.complete)||void 0===C?void 0:C.bind(pe)}this.__isAsync&&(R=Lv(R),T&&(T=Lv(T)),U&&(U=Lv(U)));const J=super.subscribe({next:T,error:R,complete:U});return t instanceof u.w&&t.add(J),J}};function oT(){return this._results[ud()]()}class v_{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=ud(),s=v_.prototype;s[r]||(s[r]=oT)}get changes(){return this._changes||(this._changes=new hl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const s=this;s.dirty=!1;const f=Fo(t);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let f=e[s],m=t[s];if(r&&(f=r(f),m=r(m)),m!==f)return!1}return!0}(s._results,f,r))&&(s._results=f,s.length=f.length,s.last=f[this.length-1],s.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Vv{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const s=null!==t.contentQueries?t.contentQueries[0]:r.length,f=[];for(let m=0;m<s;m++){const C=r.getByIndex(m);f.push(this.queries[C.indexInDeclarationView].clone())}return new Bv(f)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==X1(t,r).matches&&this.queries[r].setDirty()}}class W1{constructor(t,r,s=null){this.predicate=t,this.flags=r,this.read=s}}class Uv{constructor(t=[]){this.queries=t}elementStart(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let s=0;s<this.length;s++){const f=null!==r?r.length:0,m=this.getByIndex(s).embeddedTView(t,f);m&&(m.indexInDeclarationView=s,null!==r?r.push(m):r=[m])}return null!==r?new Uv(r):null}template(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jv{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new jv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let f=0;f<s.length;f++){const m=s[f];this.matchTNodeWithReadOption(t,r,uT(r,m)),this.matchTNodeWithReadOption(t,r,cn(r,t,m,!1,!1))}else s===xp?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,cn(r,t,s,!1,!1))}matchTNodeWithReadOption(t,r,s){if(null!==s){const f=this.metadata.read;if(null!==f)if(f===fl||f===p_||f===xp&&4&r.type)this.addMatch(r.index,-2);else{const m=cn(r,t,f,!1,!1);null!==m&&this.addMatch(r.index,m)}else this.addMatch(r.index,s)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function uT(e,t){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===t)return r[s+1];return null}function cT(e,t,r,s){return-1===r?function(e,t){return 11&e.type?Mf(e,t):4&e.type?h_(e,t):null}(t,e):-2===r?function(e,t,r){return r===fl?Mf(t,e):r===xp?h_(t,e):r===p_?c1(t,e):void 0}(e,t,s):dn(e,e[1],r,t)}function q1(e,t,r,s){const f=t[19].queries[s];if(null===f.matches){const m=e.data,C=r.matches,T=[];for(let R=0;R<C.length;R+=2){const U=C[R];T.push(U<0?null:cT(t,m[U],C[R+1],r.metadata.read))}f.matches=T}return f.matches}function Hv(e,t,r,s){const f=e.queries.getByIndex(r),m=f.matches;if(null!==m){const C=q1(e,t,f,r);for(let T=0;T<m.length;T+=2){const R=m[T];if(R>0)s.push(C[T/2]);else{const U=m[T+1],J=t[-R];for(let pe=10;pe<J.length;pe++){const ve=J[pe];ve[17]===ve[3]&&Hv(ve[1],ve,U,s)}if(null!==J[9]){const pe=J[9];for(let ve=0;ve<pe.length;ve++){const Me=pe[ve];Hv(Me[1],Me,U,s)}}}}}return s}function z1(e){const t=mt(),r=Bn(),s=Ys();rs(s+1);const f=X1(r,s);if(e.dirty&&sr(t)===(2==(2&f.metadata.flags))){if(null===f.matches)e.reset([]);else{const m=f.crossesNgTemplate?Hv(r,t,s,[]):q1(r,t,f,s);e.reset(m,Xb),e.notifyOnChanges()}return!0}return!1}function Y1(e,t,r){const s=Bn();s.firstCreatePass&&(K1(s,new W1(e,t,r),-1),2==(2&t)&&(s.staticViewQueries=!0)),J1(s,mt(),t)}function Z1(e,t,r,s){const f=Bn();if(f.firstCreatePass){const m=tr();K1(f,new W1(t,r,s),m.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(f,e),2==(2&r)&&(f.staticContentQueries=!0)}J1(f,mt(),r)}function Q1(){return e=mt(),t=Ys(),e[19].queries[t].queryList;var e,t}function J1(e,t,r){const s=new v_(4==(4&r));Og(e,t,s,s.destroy),null===t[19]&&(t[19]=new Bv),t[19].queries.push(new Vv(s))}function K1(e,t,r){null===e.queries&&(e.queries=new Uv),e.queries.track(new jv(t,r))}function X1(e,t){return e.queries.getByIndex(t)}function ew(e,t){return h_(e,t)}const Yv=new yr("Application Initializer");let Lf=(()=>{class e{constructor(r){this.appInits=r,this.resolve=u_,this.reject=u_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,f)=>{this.resolve=s,this.reject=f})}runInitializers(){if(this.initialized)return;const r=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(ip(m))r.push(m);else if(Am(m)){const C=new Promise((T,R)=>{m.subscribe({complete:T,error:R})});r.push(C)}}Promise.all(r).then(()=>{s()}).catch(f=>{this.reject(f)}),0===r.length&&s(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(Ei(Yv,8))},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();const yw=new yr("AppId"),UT={provide:yw,useFactory:function(){return`${Zv()}${Zv()}${Zv()}`},deps:[]};function Zv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vw=new yr("Platform Initializer"),bw=new yr("Platform ID"),ww=new yr("appBootstrapListener");let Cw=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();const C_=new yr("LocaleId"),Ew=new yr("DefaultCurrencyCode");class HT{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}const Qv=function(e){return new kv(e)},GT=Qv,$T=function(e){return Promise.resolve(Qv(e))},Dw=function(e){const t=Qv(e),s=p(Ur(e).declarations).reduce((f,m)=>{const C=Lr(m);return C&&f.push(new R1(C)),f},[]);return new HT(t,s)},WT=Dw,qT=function(e){return Promise.resolve(Dw(e))};let Gp=(()=>{class e{constructor(){this.compileModuleSync=GT,this.compileModuleAsync=$T,this.compileModuleAndAllComponentsSync=WT,this.compileModuleAndAllComponentsAsync=qT}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();const ZT=(()=>Promise.resolve(0))();function Jv(e){"undefined"==typeof Zone?ZT.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hl(!1),this.onMicrotaskEmpty=new hl(!1),this.onStable=new hl(!1),this.onError=new hl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!s&&r,f.shouldCoalesceRunChangeDetection=s,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let e=Vt.requestAnimationFrame,t=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Vt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Xv(e),e.isCheckStableRunning=!0,Kv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Xv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,f,m,C,T)=>{try{return Tw(e),r.invokeTask(f,m,C,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),Sw(e)}},onInvoke:(r,s,f,m,C,T,R)=>{try{return Tw(e),r.invoke(f,m,C,T,R)}finally{e.shouldCoalesceRunChangeDetection&&t(),Sw(e)}},onHasTask:(r,s,f,m)=>{r.hasTask(f,m),s===f&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,Xv(e),Kv(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(r,s,f,m)=>(r.handleError(f,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,f){const m=this._inner,C=m.scheduleEventTask("NgZoneEvent: "+f,t,JT,u_,u_);try{return m.runTask(C,r,s)}finally{m.cancelTask(C)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}}const JT={};function Kv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Xv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Tw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Sw(e){e._nesting--,Kv(e)}class eS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hl,this.onMicrotaskEmpty=new hl,this.onStable=new hl,this.onError=new hl}run(t,r,s){return t.apply(r,s)}runGuarded(t,r,s){return t.apply(r,s)}runOutsideAngular(t){return t()}runTask(t,r,s,f){return t.apply(r,s)}}let Iw=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wa.assertNotInAngularZone(),Jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jv(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,f){let m=-1;s&&s>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==m),r(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:r,timeoutId:m,updateCb:f})}whenStable(r,s,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,s,f){return[]}}return e.\u0275fac=function(r){return new(r||e)(Ei(Wa))},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})(),Nw=(()=>{class e{constructor(){this._applications=new Map,e0.addToWindow(this)}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return e0.findTestabilityInTree(this,r,s)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();class tS{addToWindow(t){}findTestabilityInTree(t,r,s){return null}}function nS(e){e0=e}let e0=new tS,Aw=!0,Mw=!1;function rS(){if(Mw)throw new Error("Cannot enable prod mode after platform setup.");Aw=!1}let Gu;const Rw=new yr("AllowMultipleToken");class cS{constructor(t,r){this.name=t,this.token=r}}function Ow(e,t,r=[]){const s=`Platform: ${t}`,f=new yr(s);return(m=[])=>{let C=Pw();if(!C||C.injector.get(Rw,!1))if(e)e(r.concat(m).concat({provide:f,useValue:!0}));else{const T=r.concat(m).concat({provide:f,useValue:!0},{provide:sf,useValue:"platform"});!function(e){if(Gu&&!Gu.destroyed&&!Gu.injector.get(Rw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gu=e.get(Fw);const t=e.get(vw,null);t&&t.forEach(r=>r())}(pi.create({providers:T,name:s}))}return function(e){const t=Pw();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(f)}}function Pw(){return Gu&&!Gu.destroyed?Gu:null}let Fw=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const T=function(e,t){let r;return r="noop"===e?new eS:("zone.js"===e?void 0:e)||new Wa({enableLongStackTrace:(Mw=!0,Aw),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),R=[{provide:Wa,useValue:T}];return T.run(()=>{const U=pi.create({providers:R,parent:this.injector,name:r.moduleType.name}),J=r.create(U),pe=J.injector.get(nu,null);if(!pe)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return T.runOutsideAngular(()=>{const ve=T.onError.subscribe({next:Me=>{pe.handleError(Me)}});J.onDestroy(()=>{t0(this._modules,J),ve.unsubscribe()})}),function(e,t,r){try{const s=r();return ip(s)?s.catch(f=>{throw t.runOutsideAngular(()=>e.handleError(f)),f}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(pe,T,()=>{const ve=J.injector.get(Lf);return ve.runInitializers(),ve.donePromise.then(()=>(fv(J.injector.get(C_,Ma)||Ma),this._moduleDoBootstrap(J),J))})})}bootstrapModule(r,s=[]){const f=kw({},s);return function(e,t,r){const s=new kv(r);return Promise.resolve(s)}(0,0,r).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(r){const s=r.injector.get($p);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(f=>s.bootstrap(f));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${ke(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(s)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(Ei(pi))},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();function kw(e,t){return Array.isArray(t)?t.reduce(kw,e):Object.assign(Object.assign({},e),t)}let $p=(()=>{class e{constructor(r,s,f,m,C){this._zone=r,this._injector=s,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new ee.y(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),R=new ee.y(U=>{let J;this._zone.runOutsideAngular(()=>{J=this._zone.onStable.subscribe(()=>{Wa.assertNotInAngularZone(),Jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const pe=this._zone.onUnstable.subscribe(()=>{Wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{J.unsubscribe(),pe.unsubscribe()}});this.isStable=(0,Qe.T)(T,R.pipe((0,xe.B)()))}bootstrap(r,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=r instanceof Qb?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(f.componentType);const m=function(e){return e.isBoundToModule}(f)?void 0:this._injector.get(vd),T=f.create(pi.NULL,[],s||f.selector,m),R=T.location.nativeElement,U=T.injector.get(Iw,null),J=U&&T.injector.get(Nw);return U&&J&&J.registerApplication(R,U),T.onDestroy(()=>{this.detachView(T.hostView),t0(this.components,T),J&&J.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;t0(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(ww,[]).concat(this._bootstrapListeners).forEach(f=>f(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(Ei(Wa),Ei(pi),Ei(nu),Ei(yd),Ei(Lf))},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();function t0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class mS{}class yS{}const vS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bS=(()=>{class e{constructor(r,s){this._compiler=r,this._config=s||vS}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[s,f]=r.split("#");return void 0===f&&(f="default"),de(8255)(s).then(m=>m[f]).then(m=>Uw(m,s,f)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(r){let[s,f]=r.split("#"),m="NgFactory";return void 0===f&&(f="default",m=""),de(8255)(this._config.factoryPathPrefix+s+this._config.factoryPathSuffix).then(C=>C[f+m]).then(C=>Uw(C,s,f))}}return e.\u0275fac=function(r){return new(r||e)(Ei(Gp),Ei(yS,8))},e.\u0275prov=pn({token:e,factory:e.\u0275fac}),e})();function Uw(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}const NS=function(e){return null},MS=Ow(null,"core",[{provide:bw,useValue:"unknown"},{provide:Fw,deps:[pi]},{provide:Nw,deps:[]},{provide:Cw,deps:[]}]),FS=[{provide:$p,useClass:$p,deps:[Wa,pi,nu,yd,Lf]},{provide:BD,deps:[Wa],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:Lf,useClass:Lf,deps:[[new Oa,Yv]]},{provide:Gp,useClass:Gp,deps:[]},UT,{provide:c_,useFactory:function(){return OE},deps:[]},{provide:d_,useFactory:function(){return PE},deps:[]},{provide:C_,useFactory:function(e){return fv(e=e||"undefined"!=typeof $localize&&$localize.locale||Ma),e},deps:[[new yu(C_),new Oa,new Qo]]},{provide:Ew,useValue:"USD"}];let LS=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(Ei($p))},e.\u0275mod=zi({type:e}),e.\u0275inj=Rn({providers:FS}),e})()},665:(zt,je,de)=>{"use strict";de.d(je,{Fj:()=>Ke,u5:()=>Pi,Cf:()=>kt,JU:()=>we,JJ:()=>Yr,JL:()=>mo,F:()=>_n,On:()=>$r,YN:()=>ts,wV:()=>Nr,Q7:()=>Ki,_Y:()=>ln,Kr:()=>Rr});var I=de(7716),u=de(8583),ee=de(7574),Qe=de(9796),xe=de(8002),Be=de(1555),Ae=de(4402);function ue($,H){return new ee.y(F=>{const ae=$.length;if(0===ae)return void F.complete();const ut=new Array(ae);let xt=0,j=0;for(let re=0;re<ae;re++){const G=(0,Ae.D)($[re]);let fe=!1;F.add(G.subscribe({next:Se=>{fe||(fe=!0,j++),ut[re]=Se},error:Se=>F.error(Se),complete:()=>{xt++,(xt===ae||!fe)&&(j===ae&&F.next(H?H.reduce((Se,ct,vt)=>(Se[ct]=ut[vt],Se),{}):ut),F.complete())}}))}})}let oe=(()=>{class ${constructor(F,ae){this._renderer=F,this._elementRef=ae,this.onChange=ut=>{},this.onTouched=()=>{}}setProperty(F,ae){this._renderer.setProperty(this._elementRef.nativeElement,F,ae)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(I.Qsj),I.Y36(I.SBq))},$.\u0275dir=I.lG2({type:$}),$})(),Te=(()=>{class $ extends oe{}return $.\u0275fac=function(){let H;return function(ae){return(H||(H=I.n5z($)))(ae||$)}}(),$.\u0275dir=I.lG2({type:$,features:[I.qOj]}),$})();const we=new I.OlP("NgValueAccessor"),_t={provide:we,useExisting:(0,I.Gpc)(()=>Ke),multi:!0},ot=new I.OlP("CompositionEventMode");let Ke=(()=>{class $ extends oe{constructor(F,ae,ut){super(F,ae),this._compositionMode=ut,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const $=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(F){this.setProperty("value",null==F?"":F)}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(I.Qsj),I.Y36(I.SBq),I.Y36(ot,8))},$.\u0275dir=I.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,ae){1&F&&I.NdJ("input",function(xt){return ae._handleInput(xt.target.value)})("blur",function(){return ae.onTouched()})("compositionstart",function(){return ae._compositionStart()})("compositionend",function(xt){return ae._compositionEnd(xt.target.value)})},features:[I._Bn([_t]),I.qOj]}),$})();const kt=new I.OlP("NgValidators"),Pn=new I.OlP("NgAsyncValidators");function Pe($){return null!=$}function pt($){const H=(0,I.QGY)($)?(0,Ae.D)($):$;return(0,I.CqO)(H),H}function Nt($){let H={};return $.forEach(F=>{H=null!=F?Object.assign(Object.assign({},H),F):H}),0===Object.keys(H).length?null:H}function tt($,H){return H.map(F=>F($))}function bn($){return $.map(H=>function($){return!$.validate}(H)?H:F=>H.validate(F))}function gi($){return null!=$?function($){if(!$)return null;const H=$.filter(Pe);return 0==H.length?null:function(F){return Nt(tt(F,H))}}(bn($)):null}function qn($){return null!=$?function($){if(!$)return null;const H=$.filter(Pe);return 0==H.length?null:function(F){return function(...$){if(1===$.length){const H=$[0];if((0,Qe.k)(H))return ue(H,null);if((0,Be.K)(H)&&Object.getPrototypeOf(H)===Object.prototype){const F=Object.keys(H);return ue(F.map(ae=>H[ae]),F)}}if("function"==typeof $[$.length-1]){const H=$.pop();return ue($=1===$.length&&(0,Qe.k)($[0])?$[0]:$,null).pipe((0,xe.U)(F=>H(...F)))}return ue($,null)}(tt(F,H).map(pt)).pipe((0,xe.U)(Nt))}}(bn($)):null}function Rn($,H){return null===$?[H]:Array.isArray($)?[...$,H]:[$,H]}function Li($){return $?Array.isArray($)?$:[$]:[]}function Mn($,H){return Array.isArray($)?$.includes(H):$===H}function Ht($,H){const F=Li(H);return Li($).forEach(ut=>{Mn(F,ut)||F.push(ut)}),F}function rr($,H){return Li(H).filter(F=>!Mn($,F))}let zn=(()=>{class ${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=gi(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,ae){return!!this.control&&this.control.hasError(F,ae)}getError(F,ae){return this.control?this.control.getError(F,ae):null}}return $.\u0275fac=function(F){return new(F||$)},$.\u0275dir=I.lG2({type:$}),$})(),un=(()=>{class $ extends zn{get formDirective(){return null}get path(){return null}}return $.\u0275fac=function(){let H;return function(ae){return(H||(H=I.n5z($)))(ae||$)}}(),$.\u0275dir=I.lG2({type:$,features:[I.qOj]}),$})();class lr extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gt{constructor(H){this._cd=H}is(H){var F,ae,ut;return"submitted"===H?!!(null===(F=this._cd)||void 0===F?void 0:F.submitted):!!(null===(ut=null===(ae=this._cd)||void 0===ae?void 0:ae.control)||void 0===ut?void 0:ut[H])}}let Yr=(()=>{class $ extends Gt{constructor(F){super(F)}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(lr,2))},$.\u0275dir=I.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,ae){2&F&&I.ekj("ng-untouched",ae.is("untouched"))("ng-touched",ae.is("touched"))("ng-pristine",ae.is("pristine"))("ng-dirty",ae.is("dirty"))("ng-valid",ae.is("valid"))("ng-invalid",ae.is("invalid"))("ng-pending",ae.is("pending"))},features:[I.qOj]}),$})(),mo=(()=>{class $ extends Gt{constructor(F){super(F)}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(un,10))},$.\u0275dir=I.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,ae){2&F&&I.ekj("ng-untouched",ae.is("untouched"))("ng-touched",ae.is("touched"))("ng-pristine",ae.is("pristine"))("ng-dirty",ae.is("dirty"))("ng-valid",ae.is("valid"))("ng-invalid",ae.is("invalid"))("ng-pending",ae.is("pending"))("ng-submitted",ae.is("submitted"))},features:[I.qOj]}),$})();function mi($,H){rt($,H),H.valueAccessor.writeValue($.value),function($,H){H.valueAccessor.registerOnChange(F=>{$._pendingValue=F,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Jt($,H)})}($,H),function($,H){const F=(ae,ut)=>{H.valueAccessor.writeValue(ae),ut&&H.viewToModelUpdate(ae)};$.registerOnChange(F),H._registerOnDestroy(()=>{$._unregisterOnChange(F)})}($,H),function($,H){H.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Jt($,H),"submit"!==$.updateOn&&$.markAsTouched()})}($,H),function($,H){if(H.valueAccessor.setDisabledState){const F=ae=>{H.valueAccessor.setDisabledState(ae)};$.registerOnDisabledChange(F),H._registerOnDestroy(()=>{$._unregisterOnDisabledChange(F)})}}($,H)}function Ee($,H){$.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(H)})}function rt($,H){const F=function($){return $._rawValidators}($);null!==H.validator?$.setValidators(Rn(F,H.validator)):"function"==typeof F&&$.setValidators([F]);const ae=function($){return $._rawAsyncValidators}($);null!==H.asyncValidator?$.setAsyncValidators(Rn(ae,H.asyncValidator)):"function"==typeof ae&&$.setAsyncValidators([ae]);const ut=()=>$.updateValueAndValidity();Ee(H._rawValidators,ut),Ee(H._rawAsyncValidators,ut)}function Jt($,H){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),H.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Wi($,H){const F=$.indexOf(H);F>-1&&$.splice(F,1)}const ei="VALID",qi="INVALID",sn="PENDING",Sr="DISABLED";function zi($){return(Vo($)?$.validators:$)||null}function kn($){return Array.isArray($)?gi($):$||null}function Vi($,H){return(Vo(H)?H.asyncValidators:$)||null}function Io($){return Array.isArray($)?qn($):$||null}function Vo($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class Lr{constructor(H,F){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=H,this._rawAsyncValidators=F,this._composedValidatorFn=kn(this._rawValidators),this._composedAsyncValidatorFn=Io(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(H){this._rawValidators=this._composedValidatorFn=H}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(H){this._rawAsyncValidators=this._composedAsyncValidatorFn=H}get parent(){return this._parent}get valid(){return this.status===ei}get invalid(){return this.status===qi}get pending(){return this.status==sn}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(H){this._rawValidators=H,this._composedValidatorFn=kn(H)}setAsyncValidators(H){this._rawAsyncValidators=H,this._composedAsyncValidatorFn=Io(H)}addValidators(H){this.setValidators(Ht(H,this._rawValidators))}addAsyncValidators(H){this.setAsyncValidators(Ht(H,this._rawAsyncValidators))}removeValidators(H){this.setValidators(rr(H,this._rawValidators))}removeAsyncValidators(H){this.setAsyncValidators(rr(H,this._rawAsyncValidators))}hasValidator(H){return Mn(this._rawValidators,H)}hasAsyncValidator(H){return Mn(this._rawAsyncValidators,H)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(H={}){this.touched=!0,this._parent&&!H.onlySelf&&this._parent.markAsTouched(H)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(H=>H.markAllAsTouched())}markAsUntouched(H={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}markAsDirty(H={}){this.pristine=!1,this._parent&&!H.onlySelf&&this._parent.markAsDirty(H)}markAsPristine(H={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}markAsPending(H={}){this.status=sn,!1!==H.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!H.onlySelf&&this._parent.markAsPending(H)}disable(H={}){const F=this._parentMarkedDirty(H.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(ae=>{ae.disable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this._updateValue(),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:F})),this._onDisabledChange.forEach(ae=>ae(!0))}enable(H={}){const F=this._parentMarkedDirty(H.onlySelf);this.status=ei,this._forEachChild(ae=>{ae.enable(Object.assign(Object.assign({},H),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},H),{skipPristineCheck:F})),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(H){this._parent&&!H.onlySelf&&(this._parent.updateValueAndValidity(H),H.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(H){this._parent=H}updateValueAndValidity(H={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ei||this.status===sn)&&this._runAsyncValidator(H.emitEvent)),!1!==H.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!H.onlySelf&&this._parent.updateValueAndValidity(H)}_updateTreeValidity(H={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(H)),this.updateValueAndValidity({onlySelf:!0,emitEvent:H.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:ei}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(H){if(this.asyncValidator){this.status=sn,this._hasOwnPendingAsyncValidator=!0;const F=pt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:H})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(H,F={}){this.errors=H,this._updateControlsErrors(!1!==F.emitEvent)}get(H){return function($,H,F){if(null==H||(Array.isArray(H)||(H=H.split(".")),Array.isArray(H)&&0===H.length))return null;let ae=$;return H.forEach(ut=>{ae=ae instanceof Ir?ae.controls.hasOwnProperty(ut)?ae.controls[ut]:null:ae instanceof Ur&&ae.at(ut)||null}),ae}(this,H)}getError(H,F){const ae=F?this.get(F):this;return ae&&ae.errors?ae.errors[H]:null}hasError(H,F){return!!this.getError(H,F)}get root(){let H=this;for(;H._parent;)H=H._parent;return H}_updateControlsErrors(H){this.status=this._calculateStatus(),H&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(H)}_initObservables(){this.valueChanges=new I.vpe,this.statusChanges=new I.vpe}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?qi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sn)?sn:this._anyControlsHaveStatus(qi)?qi:ei}_anyControlsHaveStatus(H){return this._anyControls(F=>F.status===H)}_anyControlsDirty(){return this._anyControls(H=>H.dirty)}_anyControlsTouched(){return this._anyControls(H=>H.touched)}_updatePristine(H={}){this.pristine=!this._anyControlsDirty(),this._parent&&!H.onlySelf&&this._parent._updatePristine(H)}_updateTouched(H={}){this.touched=this._anyControlsTouched(),this._parent&&!H.onlySelf&&this._parent._updateTouched(H)}_isBoxedValue(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}_registerOnCollectionChange(H){this._onCollectionChange=H}_setUpdateStrategy(H){Vo(H)&&null!=H.updateOn&&(this._updateOn=H.updateOn)}_parentMarkedDirty(H){return!H&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dr extends Lr{constructor(H=null,F,ae){super(zi(F),Vi(ae,F)),this._onChange=[],this._applyFormState(H),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(H,F={}){this.value=this._pendingValue=H,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(H,F={}){this.setValue(H,F)}reset(H=null,F={}){this._applyFormState(H),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(H){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(H){this._onChange.push(H)}_unregisterOnChange(H){Wi(this._onChange,H)}registerOnDisabledChange(H){this._onDisabledChange.push(H)}_unregisterOnDisabledChange(H){Wi(this._onDisabledChange,H)}_forEachChild(H){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(H){this._isBoxedValue(H)?(this.value=this._pendingValue=H.value,H.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=H}}class Ir extends Lr{constructor(H,F,ae){super(zi(F),Vi(ae,F)),this.controls=H,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(H,F){return this.controls[H]?this.controls[H]:(this.controls[H]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(H,F,ae={}){this.registerControl(H,F),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(H,F={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(H,F,ae={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),delete this.controls[H],F&&this.registerControl(H,F),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(H){return this.controls.hasOwnProperty(H)&&this.controls[H].enabled}setValue(H,F={}){this._checkAllValuesPresent(H),Object.keys(H).forEach(ae=>{this._throwIfControlMissing(ae),this.controls[ae].setValue(H[ae],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(H,F={}){null!=H&&(Object.keys(H).forEach(ae=>{this.controls[ae]&&this.controls[ae].patchValue(H[ae],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(H={},F={}){this._forEachChild((ae,ut)=>{ae.reset(H[ut],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(H,F,ae)=>(H[ae]=F instanceof dr?F.value:F.getRawValue(),H))}_syncPendingControls(){let H=this._reduceChildren(!1,(F,ae)=>!!ae._syncPendingControls()||F);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_throwIfControlMissing(H){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[H])throw new Error(`Cannot find form control with name: ${H}.`)}_forEachChild(H){Object.keys(this.controls).forEach(F=>{const ae=this.controls[F];ae&&H(ae,F)})}_setUpControls(){this._forEachChild(H=>{H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(H){for(const F of Object.keys(this.controls)){const ae=this.controls[F];if(this.contains(F)&&H(ae))return!0}return!1}_reduceValue(){return this._reduceChildren({},(H,F,ae)=>((F.enabled||this.disabled)&&(H[ae]=F.value),H))}_reduceChildren(H,F){let ae=H;return this._forEachChild((ut,xt)=>{ae=F(ae,ut,xt)}),ae}_allControlsDisabled(){for(const H of Object.keys(this.controls))if(this.controls[H].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(H){this._forEachChild((F,ae)=>{if(void 0===H[ae])throw new Error(`Must supply a value for form control with name: '${ae}'.`)})}}class Ur extends Lr{constructor(H,F,ae){super(zi(F),Vi(ae,F)),this.controls=H,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(H){return this.controls[H]}push(H,F={}){this.controls.push(H),this._registerControl(H),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(H,F,ae={}){this.controls.splice(H,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(H,F={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(H,F,ae={}){this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),F&&(this.controls.splice(H,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(H,F={}){this._checkAllValuesPresent(H),H.forEach((ae,ut)=>{this._throwIfControlMissing(ut),this.at(ut).setValue(ae,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(H,F={}){null!=H&&(H.forEach((ae,ut)=>{this.at(ut)&&this.at(ut).patchValue(ae,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(H=[],F={}){this._forEachChild((ae,ut)=>{ae.reset(H[ut],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(H=>H instanceof dr?H.value:H.getRawValue())}clear(H={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:H.emitEvent}))}_syncPendingControls(){let H=this.controls.reduce((F,ae)=>!!ae._syncPendingControls()||F,!1);return H&&this.updateValueAndValidity({onlySelf:!0}),H}_throwIfControlMissing(H){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(H))throw new Error(`Cannot find form control at index ${H}`)}_forEachChild(H){this.controls.forEach((F,ae)=>{H(F,ae)})}_updateValue(){this.value=this.controls.filter(H=>H.enabled||this.disabled).map(H=>H.value)}_anyControls(H){return this.controls.some(F=>F.enabled&&H(F))}_setUpControls(){this._forEachChild(H=>this._registerControl(H))}_checkAllValuesPresent(H){this._forEachChild((F,ae)=>{if(void 0===H[ae])throw new Error(`Must supply a value for form control at index: ${ae}.`)})}_allControlsDisabled(){for(const H of this.controls)if(H.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(H){H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange)}}const _o={provide:un,useExisting:(0,I.Gpc)(()=>_n)},It=(()=>Promise.resolve(null))();let _n=(()=>{class $ extends un{constructor(F,ae){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new I.vpe,this.form=new Ir({},gi(F),qn(ae))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){It.then(()=>{const ae=this._findContainer(F.path);F.control=ae.registerControl(F.name,F.control),mi(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){It.then(()=>{const ae=this._findContainer(F.path);ae&&ae.removeControl(F.name),Wi(this._directives,F)})}addFormGroup(F){It.then(()=>{const ae=this._findContainer(F.path),ut=new Ir({});(function($,H){rt($,H)})(ut,F),ae.registerControl(F.name,ut),ut.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){It.then(()=>{const ae=this._findContainer(F.path);ae&&ae.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,ae){It.then(()=>{this.form.get(F.path).setValue(ae)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,function($,H){$._syncPendingControls(),H.forEach(F=>{const ae=F.control;"submit"===ae.updateOn&&ae._pendingChange&&(F.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(F),!1}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(kt,10),I.Y36(Pn,10))},$.\u0275dir=I.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,ae){1&F&&I.NdJ("submit",function(xt){return ae.onSubmit(xt)})("reset",function(){return ae.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[I._Bn([_o]),I.qOj]}),$})();const ii={provide:lr,useExisting:(0,I.Gpc)(()=>$r)},yo=(()=>Promise.resolve(null))();let $r=(()=>{class $ extends lr{constructor(F,ae,ut,xt){super(),this.control=new dr,this._registered=!1,this.update=new I.vpe,this._parent=F,this._setValidators(ae),this._setAsyncValidators(ut),this.valueAccessor=function($,H){if(!H)return null;let F,ae,ut;return Array.isArray(H),H.forEach(xt=>{xt.constructor===Ke?F=xt:function($){return Object.getPrototypeOf($.constructor)===Te}(xt)?ae=xt:ut=xt}),ut||ae||F||null}(0,xt)}ngOnChanges(F){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in F&&this._updateDisabled(F),function($,H){if(!$.hasOwnProperty("model"))return!1;const F=$.model;return!!F.isFirstChange()||!Object.is(H,F.currentValue)}(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function($,H){return[...H.path,$]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){yo.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1})})}_updateDisabled(F){const ae=F.isDisabled.currentValue,ut=""===ae||ae&&"false"!==ae;yo.then(()=>{ut&&!this.control.disabled?this.control.disable():!ut&&this.control.disabled&&this.control.enable()})}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(un,9),I.Y36(kt,10),I.Y36(Pn,10),I.Y36(we,10))},$.\u0275dir=I.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[I._Bn([ii]),I.qOj,I.TTD]}),$})(),ln=(()=>{class ${}return $.\u0275fac=function(F){return new(F||$)},$.\u0275dir=I.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const Tn={provide:we,useExisting:(0,I.Gpc)(()=>Nr),multi:!0};let Nr=(()=>{class $ extends Te{writeValue(F){this.setProperty("value",null==F?"":F)}registerOnChange(F){this.onChange=ae=>{F(""==ae?null:parseFloat(ae))}}}return $.\u0275fac=function(){let H;return function(ae){return(H||(H=I.n5z($)))(ae||$)}}(),$.\u0275dir=I.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(F,ae){1&F&&I.NdJ("input",function(xt){return ae.onChange(xt.target.value)})("blur",function(){return ae.onTouched()})},features:[I._Bn([Tn]),I.qOj]}),$})(),Cr=(()=>{class ${}return $.\u0275fac=function(F){return new(F||$)},$.\u0275mod=I.oAB({type:$}),$.\u0275inj=I.cJS({}),$})();const vo={provide:we,useExisting:(0,I.Gpc)(()=>Jr),multi:!0};function so($,H){return null==$?`${H}`:(H&&"object"==typeof H&&(H="Object"),`${$}: ${H}`.slice(0,50))}let Jr=(()=>{class $ extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const ae=this._getOptionId(F);null==ae&&this.setProperty("selectedIndex",-1);const ut=so(ae,F);this.setProperty("value",ut)}registerOnChange(F){this.onChange=ae=>{this.value=this._getOptionValue(ae),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const ae of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ae),F))return ae;return null}_getOptionValue(F){const ae=function($){return $.split(":")[0]}(F);return this._optionMap.has(ae)?this._optionMap.get(ae):F}}return $.\u0275fac=function(){let H;return function(ae){return(H||(H=I.n5z($)))(ae||$)}}(),$.\u0275dir=I.lG2({type:$,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(F,ae){1&F&&I.NdJ("change",function(xt){return ae.onChange(xt.target.value)})("blur",function(){return ae.onTouched()})},inputs:{compareWith:"compareWith"},features:[I._Bn([vo]),I.qOj]}),$})(),ts=(()=>{class ${constructor(F,ae,ut){this._element=F,this._renderer=ae,this._select=ut,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(so(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(I.SBq),I.Y36(I.Qsj),I.Y36(Jr,9))},$.\u0275dir=I.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const bi={provide:we,useExisting:(0,I.Gpc)(()=>xr),multi:!0};function si($,H){return null==$?`${H}`:("string"==typeof H&&(H=`'${H}'`),H&&"object"==typeof H&&(H="Object"),`${$}: ${H}`.slice(0,50))}let xr=(()=>{class $ extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let ae;if(this.value=F,Array.isArray(F)){const ut=F.map(xt=>this._getOptionId(xt));ae=(xt,j)=>{xt._setSelected(ut.indexOf(j.toString())>-1)}}else ae=(ut,xt)=>{ut._setSelected(!1)};this._optionMap.forEach(ae)}registerOnChange(F){this.onChange=ae=>{const ut=[];if(void 0!==ae.selectedOptions){const xt=ae.selectedOptions;for(let j=0;j<xt.length;j++){const re=xt.item(j),G=this._getOptionValue(re.value);ut.push(G)}}else{const xt=ae.options;for(let j=0;j<xt.length;j++){const re=xt.item(j);if(re.selected){const G=this._getOptionValue(re.value);ut.push(G)}}}this.value=ut,F(ut)}}_registerOption(F){const ae=(this._idCounter++).toString();return this._optionMap.set(ae,F),ae}_getOptionId(F){for(const ae of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ae)._value,F))return ae;return null}_getOptionValue(F){const ae=function($){return $.split(":")[0]}(F);return this._optionMap.has(ae)?this._optionMap.get(ae)._value:F}}return $.\u0275fac=function(){let H;return function(ae){return(H||(H=I.n5z($)))(ae||$)}}(),$.\u0275dir=I.lG2({type:$,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(F,ae){1&F&&I.NdJ("change",function(xt){return ae.onChange(xt.target)})("blur",function(){return ae.onTouched()})},inputs:{compareWith:"compareWith"},features:[I._Bn([bi]),I.qOj]}),$})(),Rr=(()=>{class ${constructor(F,ae,ut){this._element=F,this._renderer=ae,this._select=ut,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(si(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(si(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return $.\u0275fac=function(F){return new(F||$)(I.Y36(I.SBq),I.Y36(I.Qsj),I.Y36(xr,9))},$.\u0275dir=I.lG2({type:$,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),$})();const Ji={provide:kt,useExisting:(0,I.Gpc)(()=>Ki),multi:!0};let Ki=(()=>{class ${constructor(){this._required=!1}get required(){return this._required}set required(F){this._required=null!=F&&!1!==F&&"false"!=`${F}`,this._onChange&&this._onChange()}validate(F){return this.required?function($){return function($){return null==$||0===$.length}($.value)?{required:!0}:null}(F):null}registerOnValidatorChange(F){this._onChange=F}}return $.\u0275fac=function(F){return new(F||$)},$.\u0275dir=I.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,ae){2&F&&I.uIk("required",ae.required?"":null)},inputs:{required:"required"},features:[I._Bn([Ji])]}),$})(),Oi=(()=>{class ${}return $.\u0275fac=function(F){return new(F||$)},$.\u0275mod=I.oAB({type:$}),$.\u0275inj=I.cJS({imports:[[Cr]]}),$})(),Pi=(()=>{class ${}return $.\u0275fac=function(F){return new(F||$)},$.\u0275mod=I.oAB({type:$}),$.\u0275inj=I.cJS({imports:[Oi]}),$})()},3507:(zt,je,de)=>{"use strict";de.d(je,{F0:()=>Ie,rH:()=>xn,yS:()=>Nn,Bz:()=>ia,lC:()=>Fi});var I=de(8583),u=de(7716),ee=de(7574),Qe=de(4402),xe=de(9193);function Be(x){return new ee.y(N=>{let S;try{S=x()}catch(q){return void N.error(q)}return(S?(0,Qe.D)(S):(0,xe.c)()).subscribe(N)})}var Ae=de(5917),ke=de(6215),ue=de(9112),oe=de(3410),Te=de(8071),we=de(2441),Ce=de(9765),it=de(5345);function _t(x){return function(S){const B=new dt(x),q=S.lift(B);return B.caught=q}}class dt{constructor(N){this.selector=N}call(N,S){return S.subscribe(new ot(N,this.selector,this.caught))}}class ot extends it.Ds{constructor(N,S,B){super(N),this.selector=S,this.caught=B}error(N){if(!this.isStopped){let S;try{S=this.selector(N,this.caught)}catch(ne){return void super.error(ne)}this._unsubscribeAndRecycle();const B=new it.IY(this);this.add(B);const q=(0,it.ft)(S,B);q!==B&&this.add(q)}}}var Ke=de(9773);function Je(x,N){return(0,Ke.zg)(x,N,1)}var Ft=de(5435),kt=de(7393),Pn=de(7108);function Dn(x){return function(S){return 0===x?(0,xe.c)():S.lift(new Lt(x))}}class Lt{constructor(N){if(this.total=N,this.total<0)throw new Pn.W}call(N,S){return S.subscribe(new z(N,this.total))}}class z extends kt.L{constructor(N,S){super(N),this.total=S,this.ring=new Array,this.count=0}_next(N){const S=this.ring,B=this.total,q=this.count++;S.length<B?S.push(N):S[q%B]=N}_complete(){const N=this.destination;let S=this.count;if(S>0){const B=this.count>=this.total?this.total:this.count,q=this.ring;for(let ne=0;ne<B;ne++){const De=S++%B;N.next(q[De])}}N.complete()}}var te=de(4635),Z=de(5242),le=de(4487),K=de(5319);class Le{constructor(N){this.callback=N}call(N,S){return S.subscribe(new Pt(N,this.callback))}}class Pt extends kt.L{constructor(N,S){super(N),this.add(new K.w(S))}}var Pe=de(8002),pt=de(3190),Nt=de(5257),tt=de(9761),wt=de(2145),bn=de(8049),An=de(8307),gi=de(1307),pn=de(3282);class qn{constructor(N,S){this.id=N,this.url=S}}class Rn extends qn{constructor(N,S,B="imperative",q=null){super(N,S),this.navigationTrigger=B,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Et extends qn{constructor(N,S,B){super(N,S),this.urlAfterRedirects=B}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class li extends qn{constructor(N,S,B){super(N,S),this.reason=B}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Li extends qn{constructor(N,S,B){super(N,S),this.error=B}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mn extends qn{constructor(N,S,B,q){super(N,S),this.urlAfterRedirects=B,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends qn{constructor(N,S,B,q){super(N,S),this.urlAfterRedirects=B,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends qn{constructor(N,S,B,q,ne){super(N,S),this.urlAfterRedirects=B,this.state=q,this.shouldActivate=ne}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zn extends qn{constructor(N,S,B,q){super(N,S),this.urlAfterRedirects=B,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends qn{constructor(N,S,B,q){super(N,S),this.urlAfterRedirects=B,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr{constructor(N){this.route=N}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gt{constructor(N){this.route=N}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cr{constructor(N){this.snapshot=N}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(N){this.snapshot=N}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yr{constructor(N){this.snapshot=N}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(N){this.snapshot=N}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(N,S,B){this.routerEvent=N,this.position=S,this.anchor=B}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const At="primary";class Qt{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const S=this.params[N];return Array.isArray(S)?S[0]:S}return null}getAll(N){if(this.has(N)){const S=this.params[N];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function mi(x){return new Qt(x)}const Ge="ngNavigationCancelingError";function Ee(x){const N=Error("NavigationCancelingError: "+x);return N[Ge]=!0,N}function rt(x,N,S){const B=S.path.split("/");if(B.length>x.length||"full"===S.pathMatch&&(N.hasChildren()||B.length<x.length))return null;const q={};for(let ne=0;ne<B.length;ne++){const De=B[ne],Fe=x[ne];if(De.startsWith(":"))q[De.substring(1)]=Fe;else if(De!==Fe.path)return null}return{consumed:x.slice(0,B.length),posParams:q}}function Tt(x,N){const S=x?Object.keys(x):void 0,B=N?Object.keys(N):void 0;if(!S||!B||S.length!=B.length)return!1;let q;for(let ne=0;ne<S.length;ne++)if(q=S[ne],!Vt(x[q],N[q]))return!1;return!0}function Vt(x,N){if(Array.isArray(x)&&Array.isArray(N)){if(x.length!==N.length)return!1;const S=[...x].sort(),B=[...N].sort();return S.every((q,ne)=>B[ne]===q)}return x===N}function Jt(x){return Array.prototype.concat.apply([],x)}function nn(x){return x.length>0?x[x.length-1]:null}function Yt(x,N){for(const S in x)x.hasOwnProperty(S)&&N(x[S],S)}function on(x){return(0,u.CqO)(x)?x:(0,u.QGY)(x)?(0,Qe.D)(Promise.resolve(x)):(0,Ae.of)(x)}const Fn={exact:function Wi(x,N,S){if(!Vi(x.segments,N.segments)||!sn(x.segments,N.segments,S)||x.numberOfChildren!==N.numberOfChildren)return!1;for(const B in N.children)if(!x.children[B]||!Wi(x.children[B],N.children[B],S))return!1;return!0},subset:ei},oo={exact:function(x,N){return Tt(x,N)},subset:function(x,N){return Object.keys(N).length<=Object.keys(x).length&&Object.keys(N).every(S=>Vt(x[S],N[S]))},ignored:()=>!0};function mr(x,N,S){return Fn[S.paths](x.root,N.root,S.matrixParams)&&oo[S.queryParams](x.queryParams,N.queryParams)&&!("exact"===S.fragment&&x.fragment!==N.fragment)}function ei(x,N,S){return qi(x,N,N.segments,S)}function qi(x,N,S,B){if(x.segments.length>S.length){const q=x.segments.slice(0,S.length);return!(!Vi(q,S)||N.hasChildren()||!sn(q,S,B))}if(x.segments.length===S.length){if(!Vi(x.segments,S)||!sn(x.segments,S,B))return!1;for(const q in N.children)if(!x.children[q]||!ei(x.children[q],N.children[q],B))return!1;return!0}{const q=S.slice(0,x.segments.length),ne=S.slice(x.segments.length);return!!(Vi(x.segments,q)&&sn(x.segments,q,B)&&x.children[At])&&qi(x.children[At],N,ne,B)}}function sn(x,N,S){return N.every((B,q)=>oo[S](x[q].parameters,B.parameters))}class Sr{constructor(N,S,B){this.root=N,this.queryParams=S,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mi(this.queryParams)),this._queryParamMap}toString(){return dr.serialize(this)}}class En{constructor(N,S){this.segments=N,this.children=S,this.parent=null,Yt(S,(B,q)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ir(this)}}class zi{constructor(N,S){this.path=N,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=mi(this.parameters)),this._parameterMap}toString(){return ri(this)}}function Vi(x,N){return x.length===N.length&&x.every((S,B)=>S.path===N[B].path)}class Vo{}class Lr{parse(N){const S=new bs(N);return new Sr(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(N){var x;return`${`/${Ur(N.root,!0)}`}${function(x){const N=Object.keys(x).map(S=>{const B=x[S];return Array.isArray(B)?B.map(q=>`${ti(S)}=${ti(q)}`).join("&"):`${ti(S)}=${ti(B)}`}).filter(S=>!!S);return N.length?`?${N.join("&")}`:""}(N.queryParams)}${"string"==typeof N.fragment?`#${x=N.fragment,encodeURI(x)}`:""}`}}const dr=new Lr;function Ir(x){return x.segments.map(N=>ri(N)).join("/")}function Ur(x,N){if(!x.hasChildren())return Ir(x);if(N){const S=x.children[At]?Ur(x.children[At],!1):"",B=[];return Yt(x.children,(q,ne)=>{ne!==At&&B.push(`${ne}:${Ur(q,!1)}`)}),B.length>0?`${S}(${B.join("//")})`:S}{const S=function(x,N){let S=[];return Yt(x.children,(B,q)=>{q===At&&(S=S.concat(N(B,q)))}),Yt(x.children,(B,q)=>{q!==At&&(S=S.concat(N(B,q)))}),S}(x,(B,q)=>q===At?[Ur(x.children[At],!1)]:[`${q}:${Ur(B,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[At]?`${Ir(x)}/${S[0]}`:`${Ir(x)}/(${S.join("//")})`}}function _o(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(x){return _o(x).replace(/%3B/gi,";")}function _n(x){return _o(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(x){return decodeURIComponent(x)}function ni(x){return rn(x.replace(/\+/g,"%20"))}function ri(x){return`${_n(x.path)}${function(x){return Object.keys(x).map(N=>`;${_n(N)}=${_n(x[N])}`).join("")}(x.parameters)}`}const wr=/^[^\/()?;=#]+/;function yo(x){const N=x.match(wr);return N?N[0]:""}const $r=/^[^=?&#]+/,Tn=/^[^?&#]+/;class bs{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(N.length>0||Object.keys(S).length>0)&&(B[At]=new En(N,S)),B}parseSegment(){const N=yo(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(N),new zi(rn(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const S=yo(this.remaining);if(!S)return;this.capture(S);let B="";if(this.consumeOptional("=")){const q=yo(this.remaining);q&&(B=q,this.capture(B))}N[rn(S)]=rn(B)}parseQueryParam(N){const S=function(x){const N=x.match($r);return N?N[0]:""}(this.remaining);if(!S)return;this.capture(S);let B="";if(this.consumeOptional("=")){const De=function(x){const N=x.match(Tn);return N?N[0]:""}(this.remaining);De&&(B=De,this.capture(B))}const q=ni(S),ne=ni(B);if(N.hasOwnProperty(q)){let De=N[q];Array.isArray(De)||(De=[De],N[q]=De),De.push(ne)}else N[q]=ne}parseParens(N){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=yo(this.remaining),q=this.remaining[B.length];if("/"!==q&&")"!==q&&";"!==q)throw new Error(`Cannot parse url '${this.url}'`);let ne;B.indexOf(":")>-1?(ne=B.substr(0,B.indexOf(":")),this.capture(ne),this.capture(":")):N&&(ne=At);const De=this.parseChildren();S[ne]=1===Object.keys(De).length?De[At]:new En([],De),this.consumeOptional("//")}return S}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new Error(`Expected "${N}".`)}}class Yi{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const S=this.pathFromRoot(N);return S.length>1?S[S.length-2]:null}children(N){const S=Cr(N,this._root);return S?S.children.map(B=>B.value):[]}firstChild(N){const S=Cr(N,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(N){const S=Kt(N,this._root);return S.length<2?[]:S[S.length-2].children.map(q=>q.value).filter(q=>q!==N)}pathFromRoot(N){return Kt(N,this._root).map(S=>S.value)}}function Cr(x,N){if(x===N.value)return N;for(const S of N.children){const B=Cr(x,S);if(B)return B}return null}function Kt(x,N){if(x===N.value)return[N];for(const S of N.children){const B=Kt(x,S);if(B.length)return B.unshift(N),B}return[]}class wn{constructor(N,S){this.value=N,this.children=S}toString(){return`TreeNode(${this.value})`}}function ir(x){const N={};return x&&x.children.forEach(S=>N[S.value.outlet]=S),N}class Vn extends Yi{constructor(N,S){super(N),this.snapshot=S,Ar(this,N)}toString(){return this.snapshot.toString()}}function Sn(x,N){const S=function(x,N){const De=new Zi([],{},{},"",{},At,N,null,x.root,-1,{});return new Ti("",new wn(De,[]))}(x,N),B=new ke.X([new zi("",{})]),q=new ke.X({}),ne=new ke.X({}),De=new ke.X({}),Fe=new ke.X(""),ft=new Wr(B,q,De,Fe,ne,At,N,S.root);return ft.snapshot=S.root,new Vn(new wn(ft,[]),S)}class Wr{constructor(N,S,B,q,ne,De,Fe,ft){this.url=N,this.params=S,this.queryParams=B,this.fragment=q,this.data=ne,this.outlet=De,this.component=Fe,this._futureSnapshot=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pe.U)(N=>mi(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pe.U)(N=>mi(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vi(x,N="emptyOnly"){const S=x.pathFromRoot;let B=0;if("always"!==N)for(B=S.length-1;B>=1;){const q=S[B],ne=S[B-1];if(q.routeConfig&&""===q.routeConfig.path)B--;else{if(ne.component)break;B--}}return function(x){return x.reduce((N,S)=>({params:Object.assign(Object.assign({},N.params),S.params),data:Object.assign(Object.assign({},N.data),S.data),resolve:Object.assign(Object.assign({},N.resolve),S._resolvedData)}),{params:{},data:{},resolve:{}})}(S.slice(B))}class Zi{constructor(N,S,B,q,ne,De,Fe,ft,Bt,cn,dn){this.url=N,this.params=S,this.queryParams=B,this.fragment=q,this.data=ne,this.outlet=De,this.component=Fe,this.routeConfig=ft,this._urlSegment=Bt,this._lastPathIndex=cn,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ti extends Yi{constructor(N,S){super(S),this.url=N,Ar(this,S)}toString(){return Qi(this._root)}}function Ar(x,N){N.value._routerState=x,N.children.forEach(S=>Ar(x,S))}function Qi(x){const N=x.children.length>0?` { ${x.children.map(Qi).join(", ")} } `:"";return`${x.value}${N}`}function oi(x){if(x.snapshot){const N=x.snapshot,S=x._futureSnapshot;x.snapshot=S,Tt(N.queryParams,S.queryParams)||x.queryParams.next(S.queryParams),N.fragment!==S.fragment&&x.fragment.next(S.fragment),Tt(N.params,S.params)||x.params.next(S.params),function(x,N){if(x.length!==N.length)return!1;for(let S=0;S<x.length;++S)if(!Tt(x[S],N[S]))return!1;return!0}(N.url,S.url)||x.url.next(S.url),Tt(N.data,S.data)||x.data.next(S.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function Qr(x,N){return Tt(x.params,N.params)&&function(x,N){return Vi(x,N)&&x.every((S,B)=>Tt(S.parameters,N[B].parameters))}(x.url,N.url)&&!(!x.parent!=!N.parent)&&(!x.parent||Qr(x.parent,N.parent))}function vo(x,N,S){if(S&&x.shouldReuseRoute(N.value,S.value.snapshot)){const B=S.value;B._futureSnapshot=N.value;const q=function(x,N,S){return N.children.map(B=>{for(const q of S.children)if(x.shouldReuseRoute(B.value,q.value.snapshot))return vo(x,B,q);return vo(x,B)})}(x,N,S);return new wn(B,q)}{if(x.shouldAttach(N.value)){const ne=x.retrieve(N.value);if(null!==ne){const De=ne.route;return so(N,De),De}}const B=function(x){return new Wr(new ke.X(x.url),new ke.X(x.params),new ke.X(x.queryParams),new ke.X(x.fragment),new ke.X(x.data),x.outlet,x.component,x)}(N.value),q=N.children.map(ne=>vo(x,ne));return new wn(B,q)}}function so(x,N){if(x.value.routeConfig!==N.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(x.children.length!==N.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");N.value._futureSnapshot=x.value;for(let S=0;S<x.children.length;++S)so(x.children[S],N.children[S])}function bi(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function si(x){return"object"==typeof x&&null!=x&&x.outlets}function Uo(x,N,S,B,q){let ne={};return B&&Yt(B,(De,Fe)=>{ne[Fe]=Array.isArray(De)?De.map(ft=>`${ft}`):`${De}`}),new Sr(S.root===x?N:Ao(S.root,x,N),ne,q)}function Ao(x,N,S){const B={};return Yt(x.children,(q,ne)=>{B[ne]=q===N?S:Ao(q,N,S)}),new En(x.segments,B)}class xr{constructor(N,S,B){if(this.isAbsolute=N,this.numberOfDoubleDots=S,this.commands=B,N&&B.length>0&&bi(B[0]))throw new Error("Root segment cannot have matrix parameters");const q=B.find(si);if(q&&q!==nn(B))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jo{constructor(N,S,B){this.segmentGroup=N,this.processChildren=S,this.index=B}}function Ho(x,N,S){if(x||(x=new En([],{})),0===x.segments.length&&x.hasChildren())return wo(x,N,S);const B=function(x,N,S){let B=0,q=N;const ne={match:!1,pathIndex:0,commandIndex:0};for(;q<x.segments.length;){if(B>=S.length)return ne;const De=x.segments[q],Fe=S[B];if(si(Fe))break;const ft=`${Fe}`,Bt=B<S.length-1?S[B+1]:null;if(q>0&&void 0===ft)break;if(ft&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!Go(ft,Bt,De))return ne;B+=2}else{if(!Go(ft,{},De))return ne;B++}q++}return{match:!0,pathIndex:q,commandIndex:B}}(x,N,S),q=S.slice(B.commandIndex);if(B.match&&B.pathIndex<x.segments.length){const ne=new En(x.segments.slice(0,B.pathIndex),{});return ne.children[At]=new En(x.segments.slice(B.pathIndex),x.children),wo(ne,0,q)}return B.match&&0===q.length?new En(x.segments,{}):B.match&&!x.hasChildren()?Mi(x,N,S):B.match?wo(x,0,q):Mi(x,N,S)}function wo(x,N,S){if(0===S.length)return new En(x.segments,{});{const B=function(x){return si(x[0])?x[0].outlets:{[At]:x}}(S),q={};return Yt(B,(ne,De)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(q[De]=Ho(x.children[De],N,ne))}),Yt(x.children,(ne,De)=>{void 0===B[De]&&(q[De]=ne)}),new En(x.segments,q)}}function Mi(x,N,S){const B=x.segments.slice(0,N);let q=0;for(;q<S.length;){const ne=S[q];if(si(ne)){const ft=Ki(ne.outlets);return new En(B,ft)}if(0===q&&bi(S[0])){B.push(new zi(x.segments[N].path,gn(S[0]))),q++;continue}const De=si(ne)?ne.outlets[At]:`${ne}`,Fe=q<S.length-1?S[q+1]:null;De&&Fe&&bi(Fe)?(B.push(new zi(De,gn(Fe))),q+=2):(B.push(new zi(De,{})),q++)}return new En(B,{})}function Ki(x){const N={};return Yt(x,(S,B)=>{"string"==typeof S&&(S=[S]),null!==S&&(N[B]=Mi(new En([],{}),0,S))}),N}function gn(x){const N={};return Yt(x,(S,B)=>N[B]=`${S}`),N}function Go(x,N,S){return x==S.path&&Tt(N,S.parameters)}class xi{constructor(N,S,B,q){this.routeReuseStrategy=N,this.futureState=S,this.currState=B,this.forwardEvent=q}activate(N){const S=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,B,N),oi(this.futureState.root),this.activateChildRoutes(S,B,N)}deactivateChildRoutes(N,S,B){const q=ir(S);N.children.forEach(ne=>{const De=ne.value.outlet;this.deactivateRoutes(ne,q[De],B),delete q[De]}),Yt(q,(ne,De)=>{this.deactivateRouteAndItsChildren(ne,B)})}deactivateRoutes(N,S,B){const q=N.value,ne=S?S.value:null;if(q===ne)if(q.component){const De=B.getContext(q.outlet);De&&this.deactivateChildRoutes(N,S,De.children)}else this.deactivateChildRoutes(N,S,B);else ne&&this.deactivateRouteAndItsChildren(S,B)}deactivateRouteAndItsChildren(N,S){this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,S):this.deactivateRouteAndOutlet(N,S)}detachAndStoreRouteSubtree(N,S){const B=S.getContext(N.value.outlet);if(B&&B.outlet){const q=B.outlet.detach(),ne=B.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:q,route:N,contexts:ne})}}deactivateRouteAndOutlet(N,S){const B=S.getContext(N.value.outlet),q=B&&N.value.component?B.children:S,ne=ir(N);for(const De of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[De],q);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(N,S,B){const q=ir(S);N.children.forEach(ne=>{this.activateRoutes(ne,q[ne.value.outlet],B),this.forwardEvent(new mo(ne.value.snapshot))}),N.children.length&&this.forwardEvent(new zr(N.value.snapshot))}activateRoutes(N,S,B){const q=N.value,ne=S?S.value:null;if(oi(q),q===ne)if(q.component){const De=B.getOrCreateContext(q.outlet);this.activateChildRoutes(N,S,De.children)}else this.activateChildRoutes(N,S,B);else if(q.component){const De=B.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const Fe=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),De.children.onOutletReAttached(Fe.contexts),De.attachRef=Fe.componentRef,De.route=Fe.route.value,De.outlet&&De.outlet.attach(Fe.componentRef,Fe.route.value),ao(Fe.route)}else{const Fe=function(x){for(let N=x.parent;N;N=N.parent){const S=N.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig;if(S&&S.component)return null}return null}(q.snapshot),ft=Fe?Fe.module.componentFactoryResolver:null;De.attachRef=null,De.route=q,De.resolver=ft,De.outlet&&De.outlet.activateWith(q,ft),this.activateChildRoutes(N,null,De.children)}}else this.activateChildRoutes(N,null,B)}}function ao(x){oi(x.value),x.children.forEach(ao)}class Ri{constructor(N,S){this.routes=N,this.module=S}}function uo(x){return"function"==typeof x}function lo(x){return x instanceof Sr}const Mo=Symbol("INITIAL_VALUE");function Bi(){return(0,pt.w)(x=>(0,ue.aj)(x.map(N=>N.pipe((0,Nt.q)(1),(0,tt.O)(Mo)))).pipe((0,wt.R)((N,S)=>{let B=!1;return S.reduce((q,ne,De)=>q!==Mo?q:(ne===Mo&&(B=!0),B||!1!==ne&&De!==S.length-1&&!lo(ne)?q:ne),N)},Mo),(0,Ft.h)(N=>N!==Mo),(0,Pe.U)(N=>lo(N)?N:!0===N),(0,Nt.q)(1)))}let qs=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275cmp=u.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(S,B){1&S&&u._UZ(0,"router-outlet")},directives:function(){return[Fi]},encapsulation:2}),x})();function jr(x,N=""){for(let S=0;S<x.length;S++){const B=x[S];$(B,H(N,B))}}function $(x,N){x.children&&jr(x.children,N)}function H(x,N){return N?x||N.path?x&&!N.path?`${x}/`:!x&&N.path?N.path:`${x}/${N.path}`:"":x}function F(x){const N=x.children&&x.children.map(F),S=N?Object.assign(Object.assign({},x),{children:N}):Object.assign({},x);return!S.component&&(N||S.loadChildren)&&S.outlet&&S.outlet!==At&&(S.component=qs),S}function ae(x){return x.outlet||At}function ut(x,N){const S=x.filter(B=>ae(B)===N);return S.push(...x.filter(B=>ae(B)!==N)),S}const xt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function j(x,N,S){var B;if(""===N.path)return"full"===N.pathMatch&&(x.hasChildren()||S.length>0)?Object.assign({},xt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ne=(N.matcher||rt)(S,x,N);if(!ne)return Object.assign({},xt);const De={};Yt(ne.posParams,(ft,Bt)=>{De[Bt]=ft.path});const Fe=ne.consumed.length>0?Object.assign(Object.assign({},De),ne.consumed[ne.consumed.length-1].parameters):De;return{matched:!0,consumedSegments:ne.consumed,lastChild:ne.consumed.length,parameters:Fe,positionalParamSegments:null!==(B=ne.posParams)&&void 0!==B?B:{}}}function re(x,N,S,B,q="corrected"){if(S.length>0&&function(x,N,S){return S.some(B=>vt(x,N,B)&&ae(B)!==At)}(x,S,B)){const De=new En(N,function(x,N,S,B){const q={};q[At]=B,B._sourceSegment=x,B._segmentIndexShift=N.length;for(const ne of S)if(""===ne.path&&ae(ne)!==At){const De=new En([],{});De._sourceSegment=x,De._segmentIndexShift=N.length,q[ae(ne)]=De}return q}(x,N,B,new En(S,x.children)));return De._sourceSegment=x,De._segmentIndexShift=N.length,{segmentGroup:De,slicedSegments:[]}}if(0===S.length&&function(x,N,S){return S.some(B=>vt(x,N,B))}(x,S,B)){const De=new En(x.segments,function(x,N,S,B,q,ne){const De={};for(const Fe of B)if(vt(x,S,Fe)&&!q[ae(Fe)]){const ft=new En([],{});ft._sourceSegment=x,ft._segmentIndexShift="legacy"===ne?x.segments.length:N.length,De[ae(Fe)]=ft}return Object.assign(Object.assign({},q),De)}(x,N,S,B,x.children,q));return De._sourceSegment=x,De._segmentIndexShift=N.length,{segmentGroup:De,slicedSegments:S}}const ne=new En(x.segments,x.children);return ne._sourceSegment=x,ne._segmentIndexShift=N.length,{segmentGroup:ne,slicedSegments:S}}function vt(x,N,S){return(!(x.hasChildren()||N.length>0)||"full"!==S.pathMatch)&&""===S.path}function qt(x,N,S,B){return!!(ae(x)===B||B!==At&&vt(N,S,x))&&("**"===x.path||j(N,x,S).matched)}function fn(x,N,S){return 0===N.length&&!x.children[S]}class er{constructor(N){this.segmentGroup=N||null}}class jn{constructor(N){this.urlTree=N}}function Cn(x){return new ee.y(N=>N.error(new er(x)))}function Hn(x){return new ee.y(N=>N.error(new jn(x)))}function sr(x){return new ee.y(N=>N.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${x}'`)))}class Kr{constructor(N,S,B,q,ne){this.configLoader=S,this.urlSerializer=B,this.urlTree=q,this.config=ne,this.allowRedirects=!0,this.ngModule=N.get(u.h0i)}apply(){const N=re(this.urlTree.root,[],[],this.config).segmentGroup,S=new En(N.segments,N.children);return this.expandSegmentGroup(this.ngModule,this.config,S,At).pipe((0,Pe.U)(ne=>this.createUrlTree(fr(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_t(ne=>{if(ne instanceof jn)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof er?this.noMatchError(ne):ne}))}match(N){return this.expandSegmentGroup(this.ngModule,this.config,N.root,At).pipe((0,Pe.U)(q=>this.createUrlTree(fr(q),N.queryParams,N.fragment))).pipe(_t(q=>{throw q instanceof er?this.noMatchError(q):q}))}noMatchError(N){return new Error(`Cannot match any routes. URL Segment: '${N.segmentGroup}'`)}createUrlTree(N,S,B){const q=N.segments.length>0?new En([],{[At]:N}):N;return new Sr(q,S,B)}expandSegmentGroup(N,S,B,q){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(N,S,B).pipe((0,Pe.U)(ne=>new En([],ne))):this.expandSegment(N,B,S,B.segments,q,!0)}expandChildren(N,S,B){const q=[];for(const ne of Object.keys(B.children))"primary"===ne?q.unshift(ne):q.push(ne);return(0,Qe.D)(q).pipe(Je(ne=>{const De=B.children[ne],Fe=ut(S,ne);return this.expandSegmentGroup(N,Fe,De,ne).pipe((0,Pe.U)(ft=>({segment:ft,outlet:ne})))}),(0,wt.R)((ne,De)=>(ne[De.outlet]=De.segment,ne),{}),function(x,N){const S=arguments.length>=2;return B=>B.pipe(x?(0,Ft.h)((q,ne)=>x(q,ne,B)):le.y,Dn(1),S?(0,Z.d)(N):(0,te.T)(()=>new oe.K))}())}expandSegment(N,S,B,q,ne,De){return(0,Qe.D)(B).pipe(Je(Fe=>this.expandSegmentAgainstRoute(N,S,B,Fe,q,ne,De).pipe(_t(Bt=>{if(Bt instanceof er)return(0,Ae.of)(null);throw Bt}))),(0,bn.P)(Fe=>!!Fe),_t((Fe,ft)=>{if(Fe instanceof oe.K||"EmptyError"===Fe.name){if(fn(S,q,ne))return(0,Ae.of)(new En([],{}));throw new er(S)}throw Fe}))}expandSegmentAgainstRoute(N,S,B,q,ne,De,Fe){return qt(q,S,ne,De)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(N,S,q,ne,De):Fe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,S,B,q,ne,De):Cn(S):Cn(S)}expandSegmentAgainstRouteUsingRedirect(N,S,B,q,ne,De){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,B,q,De):this.expandRegularSegmentAgainstRouteUsingRedirect(N,S,B,q,ne,De)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,S,B,q){const ne=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?Hn(ne):this.lineralizeSegments(B,ne).pipe((0,Ke.zg)(De=>{const Fe=new En(De,{});return this.expandSegment(N,Fe,S,De,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,S,B,q,ne,De){const{matched:Fe,consumedSegments:ft,lastChild:Bt,positionalParamSegments:cn}=j(S,q,ne);if(!Fe)return Cn(S);const dn=this.applyRedirectCommands(ft,q.redirectTo,cn);return q.redirectTo.startsWith("/")?Hn(dn):this.lineralizeSegments(q,dn).pipe((0,Ke.zg)(Tr=>this.expandSegment(N,S,B,Tr.concat(ne.slice(Bt)),De,!1)))}matchSegmentAgainstRoute(N,S,B,q,ne){if("**"===B.path)return B.loadChildren?(B._loadedConfig?(0,Ae.of)(B._loadedConfig):this.configLoader.load(N.injector,B)).pipe((0,Pe.U)(Tr=>(B._loadedConfig=Tr,new En(q,{})))):(0,Ae.of)(new En(q,{}));const{matched:De,consumedSegments:Fe,lastChild:ft}=j(S,B,q);if(!De)return Cn(S);const Bt=q.slice(ft);return this.getChildConfig(N,B,q).pipe((0,Ke.zg)(dn=>{const Tr=dn.module,Gn=dn.routes,{segmentGroup:gs,slicedSegments:Xr}=re(S,Fe,Bt,Gn),Ss=new En(gs.segments,gs.children);if(0===Xr.length&&Ss.hasChildren())return this.expandChildren(Tr,Gn,Ss).pipe((0,Pe.U)(no=>new En(Fe,no)));if(0===Gn.length&&0===Xr.length)return(0,Ae.of)(new En(Fe,{}));const Oo=ae(B)===ne;return this.expandSegment(Tr,Ss,Gn,Xr,Oo?At:ne,!0).pipe((0,Pe.U)(ss=>new En(Fe.concat(ss.segments),ss.children)))}))}getChildConfig(N,S,B){return S.children?(0,Ae.of)(new Ri(S.children,N)):S.loadChildren?void 0!==S._loadedConfig?(0,Ae.of)(S._loadedConfig):this.runCanLoadGuards(N.injector,S,B).pipe((0,Ke.zg)(q=>{return q?this.configLoader.load(N.injector,S).pipe((0,Pe.U)(ne=>(S._loadedConfig=ne,ne))):(x=S,new ee.y(N=>N.error(Ee(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))));var x})):(0,Ae.of)(new Ri([],N))}runCanLoadGuards(N,S,B){const q=S.canLoad;if(!q||0===q.length)return(0,Ae.of)(!0);const ne=q.map(De=>{const Fe=N.get(De);let ft;if((x=Fe)&&uo(x.canLoad))ft=Fe.canLoad(S,B);else{if(!uo(Fe))throw new Error("Invalid CanLoad guard");ft=Fe(S,B)}var x;return on(ft)});return(0,Ae.of)(ne).pipe(Bi(),(0,An.b)(De=>{if(!lo(De))return;const Fe=Ee(`Redirecting to "${this.urlSerializer.serialize(De)}"`);throw Fe.url=De,Fe}),(0,Pe.U)(De=>!0===De))}lineralizeSegments(N,S){let B=[],q=S.root;for(;;){if(B=B.concat(q.segments),0===q.numberOfChildren)return(0,Ae.of)(B);if(q.numberOfChildren>1||!q.children[At])return sr(N.redirectTo);q=q.children[At]}}applyRedirectCommands(N,S,B){return this.applyRedirectCreatreUrlTree(S,this.urlSerializer.parse(S),N,B)}applyRedirectCreatreUrlTree(N,S,B,q){const ne=this.createSegmentGroup(N,S.root,B,q);return new Sr(ne,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(N,S){const B={};return Yt(N,(q,ne)=>{if("string"==typeof q&&q.startsWith(":")){const Fe=q.substring(1);B[ne]=S[Fe]}else B[ne]=q}),B}createSegmentGroup(N,S,B,q){const ne=this.createSegments(N,S.segments,B,q);let De={};return Yt(S.children,(Fe,ft)=>{De[ft]=this.createSegmentGroup(N,Fe,B,q)}),new En(ne,De)}createSegments(N,S,B,q){return S.map(ne=>ne.path.startsWith(":")?this.findPosParam(N,ne,q):this.findOrReturn(ne,B))}findPosParam(N,S,B){const q=B[S.path.substring(1)];if(!q)throw new Error(`Cannot redirect to '${N}'. Cannot find '${S.path}'.`);return q}findOrReturn(N,S){let B=0;for(const q of S){if(q.path===N.path)return S.splice(B),q;B++}return N}}function fr(x){const N={};for(const B of Object.keys(x.children)){const ne=fr(x.children[B]);(ne.segments.length>0||ne.hasChildren())&&(N[B]=ne)}return function(x){if(1===x.numberOfChildren&&x.children[At]){const N=x.children[At];return new En(x.segments.concat(N.segments),N.children)}return x}(new En(x.segments,N))}class ui{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class hs{constructor(N,S){this.component=N,this.route=S}}function ws(x,N,S){const B=x._root;return Si(B,N?N._root:null,S,[B.value])}function $o(x,N,S){const B=function(x){if(!x)return null;for(let N=x.parent;N;N=N.parent){const S=N.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig}return null}(N);return(B?B.module.injector:S).get(x)}function Si(x,N,S,B,q={canDeactivateChecks:[],canActivateChecks:[]}){const ne=ir(N);return x.children.forEach(De=>{(function(x,N,S,B,q={canDeactivateChecks:[],canActivateChecks:[]}){const ne=x.value,De=N?N.value:null,Fe=S?S.getContext(x.value.outlet):null;if(De&&ne.routeConfig===De.routeConfig){const ft=function(x,N,S){if("function"==typeof S)return S(x,N);switch(S){case"pathParamsChange":return!Vi(x.url,N.url);case"pathParamsOrQueryParamsChange":return!Vi(x.url,N.url)||!Tt(x.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qr(x,N)||!Tt(x.queryParams,N.queryParams);case"paramsChange":default:return!Qr(x,N)}}(De,ne,ne.routeConfig.runGuardsAndResolvers);ft?q.canActivateChecks.push(new ui(B)):(ne.data=De.data,ne._resolvedData=De._resolvedData),Si(x,N,ne.component?Fe?Fe.children:null:S,B,q),ft&&Fe&&Fe.outlet&&Fe.outlet.isActivated&&q.canDeactivateChecks.push(new hs(Fe.outlet.component,De))}else De&&Er(N,Fe,q),q.canActivateChecks.push(new ui(B)),Si(x,null,ne.component?Fe?Fe.children:null:S,B,q)})(De,ne[De.value.outlet],S,B.concat([De.value]),q),delete ne[De.value.outlet]}),Yt(ne,(De,Fe)=>Er(De,S.getContext(Fe),q)),q}function Er(x,N,S){const B=ir(x),q=x.value;Yt(B,(ne,De)=>{Er(ne,q.component?N?N.children.getContext(De):null:N,S)}),S.canDeactivateChecks.push(new hs(q.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,q))}class xo{}function zs(x){return new ee.y(N=>N.error(x))}class hr{constructor(N,S,B,q,ne,De){this.rootComponentType=N,this.config=S,this.urlTree=B,this.url=q,this.paramsInheritanceStrategy=ne,this.relativeLinkResolution=De}recognize(){const N=re(this.urlTree.root,[],[],this.config.filter(De=>void 0===De.redirectTo),this.relativeLinkResolution).segmentGroup,S=this.processSegmentGroup(this.config,N,At);if(null===S)return null;const B=new Zi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new wn(B,S),ne=new Ti(this.url,q);return this.inheritParamsAndData(ne._root),ne}inheritParamsAndData(N){const S=N.value,B=vi(S,this.paramsInheritanceStrategy);S.params=Object.freeze(B.params),S.data=Object.freeze(B.data),N.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(N,S,B){return 0===S.segments.length&&S.hasChildren()?this.processChildren(N,S):this.processSegment(N,S,S.segments,B)}processChildren(N,S){const B=[];for(const ne of Object.keys(S.children)){const De=S.children[ne],Fe=ut(N,ne),ft=this.processSegmentGroup(Fe,De,ne);if(null===ft)return null;B.push(...ft)}const q=Ii(B);return q.sort((N,S)=>N.value.outlet===At?-1:S.value.outlet===At?1:N.value.outlet.localeCompare(S.value.outlet)),q}processSegment(N,S,B,q){for(const ne of N){const De=this.processSegmentAgainstRoute(ne,S,B,q);if(null!==De)return De}return fn(S,B,q)?[]:null}processSegmentAgainstRoute(N,S,B,q){if(N.redirectTo||!qt(N,S,B,q))return null;let ne,De=[],Fe=[];if("**"===N.path){const Gn=B.length>0?nn(B).parameters:{};ne=new Zi(B,Gn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(N),ae(N),N.component,N,ks(S),na(S)+B.length,eo(N))}else{const Gn=j(S,N,B);if(!Gn.matched)return null;De=Gn.consumedSegments,Fe=B.slice(Gn.lastChild),ne=new Zi(De,Gn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hr(N),ae(N),N.component,N,ks(S),na(S)+De.length,eo(N))}const ft=(x=N).children?x.children:x.loadChildren?x._loadedConfig.routes:[],{segmentGroup:Bt,slicedSegments:cn}=re(S,De,Fe,ft.filter(Gn=>void 0===Gn.redirectTo),this.relativeLinkResolution);var x;if(0===cn.length&&Bt.hasChildren()){const Gn=this.processChildren(ft,Bt);return null===Gn?null:[new wn(ne,Gn)]}if(0===ft.length&&0===cn.length)return[new wn(ne,[])];const dn=ae(N)===q,Tr=this.processSegment(ft,Bt,cn,dn?At:q);return null===Tr?null:[new wn(ne,Tr)]}}function fi(x){const N=x.value.routeConfig;return N&&""===N.path&&void 0===N.redirectTo}function Ii(x){const N=[],S=new Set;for(const B of x){if(!fi(B)){N.push(B);continue}const q=N.find(ne=>B.value.routeConfig===ne.value.routeConfig);void 0!==q?(q.children.push(...B.children),S.add(q)):N.push(B)}for(const B of S){const q=Ii(B.children);N.push(new wn(B.value,q))}return N.filter(B=>!S.has(B))}function ks(x){let N=x;for(;N._sourceSegment;)N=N._sourceSegment;return N}function na(x){let N=x,S=N._segmentIndexShift?N._segmentIndexShift:0;for(;N._sourceSegment;)N=N._sourceSegment,S+=N._segmentIndexShift?N._segmentIndexShift:0;return S-1}function Hr(x){return x.data||{}}function eo(x){return x.resolve||{}}function nr(x){return(0,pt.w)(N=>{const S=x(N);return S?(0,Qe.D)(S).pipe((0,Pe.U)(()=>N)):(0,Ae.of)(N)})}class pr extends class{shouldDetach(N){return!1}store(N,S){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,S){return N.routeConfig===S.routeConfig}}{}const is=new u.OlP("ROUTES");class Ci{constructor(N,S,B,q){this.loader=N,this.compiler=S,this.onLoadStartListener=B,this.onLoadEndListener=q}load(N,S){if(S._loader$)return S._loader$;this.onLoadStartListener&&this.onLoadStartListener(S);const q=this.loadModuleFactory(S.loadChildren).pipe((0,Pe.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(S);const De=ne.create(N);return new Ri(Jt(De.injector.get(is,void 0,u.XFs.Self|u.XFs.Optional)).map(F),De)}),_t(ne=>{throw S._loader$=void 0,ne}));return S._loader$=new we.c(q,()=>new Ce.xQ).pipe((0,gi.x)()),S._loader$}loadModuleFactory(N){return"string"==typeof N?(0,Qe.D)(this.loader.load(N)):on(N()).pipe((0,Ke.zg)(S=>S instanceof u.YKP?(0,Ae.of)(S):(0,Qe.D)(this.compiler.compileModuleAsync(S))))}}class qo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ar,this.attachRef=null}}class ar{constructor(){this.contexts=new Map}onChildOutletCreated(N,S){const B=this.getOrCreateContext(N);B.outlet=S,this.contexts.set(N,B)}onChildOutletDestroyed(N){const S=this.getContext(N);S&&(S.outlet=null)}onOutletDeactivated(){const N=this.contexts;return this.contexts=new Map,N}onOutletReAttached(N){this.contexts=N}getOrCreateContext(N){let S=this.getContext(N);return S||(S=new qo,this.contexts.set(N,S)),S}getContext(N){return this.contexts.get(N)||null}}class gr{shouldProcessUrl(N){return!0}extract(N){return N}merge(N,S){return N}}function Vr(x){throw x}function b(x,N,S){return N.parse("/")}function k(x,N){return(0,Ae.of)(null)}const Y={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ge={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ie=(()=>{class x{constructor(S,B,q,ne,De,Fe,ft,Bt){this.rootComponentType=S,this.urlSerializer=B,this.rootContexts=q,this.location=ne,this.config=Bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ce.xQ,this.errorHandler=Vr,this.malformedUriErrorHandler=b,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:k,afterPreactivation:k},this.urlHandlingStrategy=new gr,this.routeReuseStrategy=new pr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=De.get(u.h0i),this.console=De.get(u.c2e);const Tr=De.get(u.R0b);this.isNgZoneEnabled=Tr instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Bt),this.currentUrlTree=new Sr(new En([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ci(Fe,ft,Gn=>this.triggerEvent(new lr(Gn)),Gn=>this.triggerEvent(new Gt(Gn))),this.routerState=Sn(this.currentUrlTree,this.rootComponentType),this.transitions=new ke.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}setupNavigations(S){const B=this.events;return S.pipe((0,Ft.h)(q=>0!==q.id),(0,Pe.U)(q=>Object.assign(Object.assign({},q),{extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,pt.w)(q=>{let ne=!1,De=!1;return(0,Ae.of)(q).pipe((0,An.b)(Fe=>{this.currentNavigation={id:Fe.id,initialUrl:Fe.currentRawUrl,extractedUrl:Fe.extractedUrl,trigger:Fe.source,extras:Fe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,pt.w)(Fe=>{const ft=!this.navigated||Fe.extractedUrl.toString()!==this.browserUrlTree.toString(),Bt=("reload"===this.onSameUrlNavigation||ft)&&this.urlHandlingStrategy.shouldProcessUrl(Fe.rawUrl);if(Dt(Fe.source)&&(this.browserUrlTree=Fe.rawUrl),Bt)return(0,Ae.of)(Fe).pipe((0,pt.w)(cn=>{const dn=this.transitions.getValue();return B.next(new Rn(cn.id,this.serializeUrl(cn.extractedUrl),cn.source,cn.restoredState)),dn!==this.transitions.getValue()?xe.E:Promise.resolve(cn)}),function(x,N,S,B){return(0,pt.w)(q=>function(x,N,S,B,q){return new Kr(x,N,S,B,q).apply()}(x,N,S,q.extractedUrl,B).pipe((0,Pe.U)(ne=>Object.assign(Object.assign({},q),{urlAfterRedirects:ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,An.b)(cn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:cn.urlAfterRedirects})}),function(x,N,S,B,q){return(0,Ke.zg)(ne=>function(x,N,S,B,q="emptyOnly",ne="legacy"){try{const De=new hr(x,N,S,B,q,ne).recognize();return null===De?zs(new xo):(0,Ae.of)(De)}catch(De){return zs(De)}}(x,N,ne.urlAfterRedirects,S(ne.urlAfterRedirects),B,q).pipe((0,Pe.U)(De=>Object.assign(Object.assign({},ne),{targetSnapshot:De}))))}(this.rootComponentType,this.config,cn=>this.serializeUrl(cn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,An.b)(cn=>{"eager"===this.urlUpdateStrategy&&(cn.extras.skipLocationChange||this.setBrowserUrl(cn.urlAfterRedirects,cn),this.browserUrlTree=cn.urlAfterRedirects);const dn=new Mn(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);B.next(dn)}));if(ft&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:dn,extractedUrl:Tr,source:Gn,restoredState:gs,extras:Xr}=Fe,Ss=new Rn(dn,this.serializeUrl(Tr),Gn,gs);B.next(Ss);const Oo=Sn(Tr,this.rootComponentType).snapshot;return(0,Ae.of)(Object.assign(Object.assign({},Fe),{targetSnapshot:Oo,urlAfterRedirects:Tr,extras:Object.assign(Object.assign({},Xr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Fe.rawUrl,this.browserUrlTree=Fe.urlAfterRedirects,Fe.resolve(null),xe.E}),nr(Fe=>{const{targetSnapshot:ft,id:Bt,extractedUrl:cn,rawUrl:dn,extras:{skipLocationChange:Tr,replaceUrl:Gn}}=Fe;return this.hooks.beforePreactivation(ft,{navigationId:Bt,appliedUrlTree:cn,rawUrlTree:dn,skipLocationChange:!!Tr,replaceUrl:!!Gn})}),(0,An.b)(Fe=>{const ft=new Ht(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot);this.triggerEvent(ft)}),(0,Pe.U)(Fe=>Object.assign(Object.assign({},Fe),{guards:ws(Fe.targetSnapshot,Fe.currentSnapshot,this.rootContexts)})),function(x,N){return(0,Ke.zg)(S=>{const{targetSnapshot:B,currentSnapshot:q,guards:{canActivateChecks:ne,canDeactivateChecks:De}}=S;return 0===De.length&&0===ne.length?(0,Ae.of)(Object.assign(Object.assign({},S),{guardsResult:!0})):function(x,N,S,B){return(0,Qe.D)(x).pipe((0,Ke.zg)(q=>function(x,N,S,B,q){const ne=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Ae.of)(!0);const De=ne.map(Fe=>{const ft=$o(Fe,N,q);let Bt;if(function(x){return x&&uo(x.canDeactivate)}(ft))Bt=on(ft.canDeactivate(x,N,S,B));else{if(!uo(ft))throw new Error("Invalid CanDeactivate guard");Bt=on(ft(x,N,S,B))}return Bt.pipe((0,bn.P)())});return(0,Ae.of)(De).pipe(Bi())}(q.component,q.route,S,N,B)),(0,bn.P)(q=>!0!==q,!0))}(De,B,q,x).pipe((0,Ke.zg)(Fe=>Fe&&function(x){return"boolean"==typeof x}(Fe)?function(x,N,S,B){return(0,Qe.D)(N).pipe(Je(q=>(0,Te.z)(function(x,N){return null!==x&&N&&N(new cr(x)),(0,Ae.of)(!0)}(q.route.parent,B),function(x,N){return null!==x&&N&&N(new Yr(x)),(0,Ae.of)(!0)}(q.route,B),function(x,N,S){const B=N[N.length-1],ne=N.slice(0,N.length-1).reverse().map(De=>function(x){const N=x.routeConfig?x.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:x,guards:N}:null}(De)).filter(De=>null!==De).map(De=>Be(()=>{const Fe=De.guards.map(ft=>{const Bt=$o(ft,De.node,S);let cn;if(function(x){return x&&uo(x.canActivateChild)}(Bt))cn=on(Bt.canActivateChild(B,x));else{if(!uo(Bt))throw new Error("Invalid CanActivateChild guard");cn=on(Bt(B,x))}return cn.pipe((0,bn.P)())});return(0,Ae.of)(Fe).pipe(Bi())}));return(0,Ae.of)(ne).pipe(Bi())}(x,q.path,S),function(x,N,S){const B=N.routeConfig?N.routeConfig.canActivate:null;if(!B||0===B.length)return(0,Ae.of)(!0);const q=B.map(ne=>Be(()=>{const De=$o(ne,N,S);let Fe;if(function(x){return x&&uo(x.canActivate)}(De))Fe=on(De.canActivate(N,x));else{if(!uo(De))throw new Error("Invalid CanActivate guard");Fe=on(De(N,x))}return Fe.pipe((0,bn.P)())}));return(0,Ae.of)(q).pipe(Bi())}(x,q.route,S))),(0,bn.P)(q=>!0!==q,!0))}(B,ne,x,N):(0,Ae.of)(Fe)),(0,Pe.U)(Fe=>Object.assign(Object.assign({},S),{guardsResult:Fe})))})}(this.ngModule.injector,Fe=>this.triggerEvent(Fe)),(0,An.b)(Fe=>{if(lo(Fe.guardsResult)){const Bt=Ee(`Redirecting to "${this.serializeUrl(Fe.guardsResult)}"`);throw Bt.url=Fe.guardsResult,Bt}const ft=new rr(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot,!!Fe.guardsResult);this.triggerEvent(ft)}),(0,Ft.h)(Fe=>!!Fe.guardsResult||(this.restoreHistory(Fe),this.cancelNavigationTransition(Fe,""),!1)),nr(Fe=>{if(Fe.guards.canActivateChecks.length)return(0,Ae.of)(Fe).pipe((0,An.b)(ft=>{const Bt=new zn(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Bt)}),(0,pt.w)(ft=>{let Bt=!1;return(0,Ae.of)(ft).pipe(function(x,N){return(0,Ke.zg)(S=>{const{targetSnapshot:B,guards:{canActivateChecks:q}}=S;if(!q.length)return(0,Ae.of)(S);let ne=0;return(0,Qe.D)(q).pipe(Je(De=>function(x,N,S,B){return function(x,N,S,B){const q=Object.keys(x);if(0===q.length)return(0,Ae.of)({});const ne={};return(0,Qe.D)(q).pipe((0,Ke.zg)(De=>function(x,N,S,B){const q=$o(x,N,B);return on(q.resolve?q.resolve(N,S):q(N,S))}(x[De],N,S,B).pipe((0,An.b)(Fe=>{ne[De]=Fe}))),Dn(1),(0,Ke.zg)(()=>Object.keys(ne).length===q.length?(0,Ae.of)(ne):xe.E))}(x._resolve,x,N,B).pipe((0,Pe.U)(ne=>(x._resolvedData=ne,x.data=Object.assign(Object.assign({},x.data),vi(x,S).resolve),null)))}(De.route,B,x,N)),(0,An.b)(()=>ne++),Dn(1),(0,Ke.zg)(De=>ne===q.length?(0,Ae.of)(S):xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,An.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(ft),this.cancelNavigationTransition(ft,"At least one route resolver didn't emit any value."))}}))}),(0,An.b)(ft=>{const Bt=new un(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Bt)}))}),nr(Fe=>{const{targetSnapshot:ft,id:Bt,extractedUrl:cn,rawUrl:dn,extras:{skipLocationChange:Tr,replaceUrl:Gn}}=Fe;return this.hooks.afterPreactivation(ft,{navigationId:Bt,appliedUrlTree:cn,rawUrlTree:dn,skipLocationChange:!!Tr,replaceUrl:!!Gn})}),(0,Pe.U)(Fe=>{const ft=function(x,N,S){const B=vo(x,N._root,S?S._root:void 0);return new Vn(B,N)}(this.routeReuseStrategy,Fe.targetSnapshot,Fe.currentRouterState);return Object.assign(Object.assign({},Fe),{targetRouterState:ft})}),(0,An.b)(Fe=>{this.currentUrlTree=Fe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Fe.rawUrl),this.routerState=Fe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Fe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Fe),this.browserUrlTree=Fe.urlAfterRedirects)}),((x,N,S)=>(0,Pe.U)(B=>(new xi(N,B.targetRouterState,B.currentRouterState,S).activate(x),B)))(this.rootContexts,this.routeReuseStrategy,Fe=>this.triggerEvent(Fe)),(0,An.b)({next(){ne=!0},complete(){ne=!0}}),function(x){return N=>N.lift(new Le(x))}(()=>{if(!ne&&!De){const Fe=`Navigation ID ${q.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(q),this.cancelNavigationTransition(q,Fe)):this.cancelNavigationTransition(q,Fe)}this.currentNavigation=null}),_t(Fe=>{if(De=!0,function(x){return x&&x[Ge]}(Fe)){const ft=lo(Fe.url);ft||(this.navigated=!0,this.restoreHistory(q,!0));const Bt=new li(q.id,this.serializeUrl(q.extractedUrl),Fe.message);B.next(Bt),ft?setTimeout(()=>{const cn=this.urlHandlingStrategy.merge(Fe.url,this.rawUrlTree),dn={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dt(q.source)};this.scheduleNavigation(cn,"imperative",null,dn,{resolve:q.resolve,reject:q.reject,promise:q.promise})},0):q.resolve(!1)}else{this.restoreHistory(q,!0);const ft=new Li(q.id,this.serializeUrl(q.extractedUrl),Fe);B.next(ft);try{q.resolve(this.errorHandler(Fe))}catch(Bt){q.reject(Bt)}}return xe.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}getTransition(){const S=this.transitions.value;return S.urlAfterRedirects=this.browserUrlTree,S}setTransition(S){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),S))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const B=this.extractLocationChangeInfoFromEvent(S);this.shouldScheduleNavigation(this.lastLocationChangeInfo,B)&&setTimeout(()=>{const{source:q,state:ne,urlTree:De}=B,Fe={replaceUrl:!0};if(ne){const ft=Object.assign({},ne);delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(Fe.state=ft)}this.scheduleNavigation(De,q,ne,Fe)},0),this.lastLocationChangeInfo=B}))}extractLocationChangeInfoFromEvent(S){var B;return{source:"popstate"===S.type?"popstate":"hashchange",urlTree:this.parseUrl(S.url),state:(null===(B=S.state)||void 0===B?void 0:B.navigationId)?S.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(S,B){if(!S)return!0;const q=B.urlTree.toString()===S.urlTree.toString();return B.transitionId!==S.transitionId||!q||!("hashchange"===B.source&&"popstate"===S.source||"popstate"===B.source&&"hashchange"===S.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){jr(S),this.config=S.map(F),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,B={}){const{relativeTo:q,queryParams:ne,fragment:De,queryParamsHandling:Fe,preserveFragment:ft}=B,Bt=q||this.routerState.root,cn=ft?this.currentUrlTree.fragment:De;let dn=null;switch(Fe){case"merge":dn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ne);break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=ne||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),function(x,N,S,B,q){if(0===S.length)return Uo(N.root,N.root,N,B,q);const ne=function(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new xr(!0,0,x);let N=0,S=!1;const B=x.reduce((q,ne,De)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const Fe={};return Yt(ne.outlets,(ft,Bt)=>{Fe[Bt]="string"==typeof ft?ft.split("/"):ft}),[...q,{outlets:Fe}]}if(ne.segmentPath)return[...q,ne.segmentPath]}return"string"!=typeof ne?[...q,ne]:0===De?(ne.split("/").forEach((Fe,ft)=>{0==ft&&"."===Fe||(0==ft&&""===Fe?S=!0:".."===Fe?N++:""!=Fe&&q.push(Fe))}),q):[...q,ne]},[]);return new xr(S,N,B)}(S);if(ne.toRoot())return Uo(N.root,new En([],{}),N,B,q);const De=function(x,N,S){if(x.isAbsolute)return new jo(N.root,!0,0);if(-1===S.snapshot._lastPathIndex){const ne=S.snapshot._urlSegment;return new jo(ne,ne===N.root,0)}const B=bi(x.commands[0])?0:1;return function(x,N,S){let B=x,q=N,ne=S;for(;ne>q;){if(ne-=q,B=B.parent,!B)throw new Error("Invalid number of '../'");q=B.segments.length}return new jo(B,!1,q-ne)}(S.snapshot._urlSegment,S.snapshot._lastPathIndex+B,x.numberOfDoubleDots)}(ne,N,x),Fe=De.processChildren?wo(De.segmentGroup,De.index,ne.commands):Ho(De.segmentGroup,De.index,ne.commands);return Uo(De.segmentGroup,Fe,N,B,q)}(Bt,this.currentUrlTree,S,dn,null!=cn?cn:null)}navigateByUrl(S,B={skipLocationChange:!1}){const q=lo(S)?S:this.parseUrl(S),ne=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,B)}navigate(S,B={skipLocationChange:!1}){return function(x){for(let N=0;N<x.length;N++){const S=x[N];if(null==S)throw new Error(`The requested path contains ${S} segment at index ${N}`)}}(S),this.navigateByUrl(this.createUrlTree(S,B),B)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let B;try{B=this.urlSerializer.parse(S)}catch(q){B=this.malformedUriErrorHandler(q,this.urlSerializer,S)}return B}isActive(S,B){let q;if(q=!0===B?Object.assign({},Y):!1===B?Object.assign({},ge):B,lo(S))return mr(this.currentUrlTree,S,q);const ne=this.parseUrl(S);return mr(this.currentUrlTree,ne,q)}removeEmptyProps(S){return Object.keys(S).reduce((B,q)=>{const ne=S[q];return null!=ne&&(B[q]=ne),B},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new Et(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,S.resolve(!0)},S=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(S,B,q,ne,De){var Fe,ft;if(this.disposed)return Promise.resolve(!1);const Bt=this.getTransition(),cn=Dt(B)&&Bt&&!Dt(Bt.source),Gn=(this.lastSuccessfulId===Bt.id||this.currentNavigation?Bt.rawUrl:Bt.urlAfterRedirects).toString()===S.toString();if(cn&&Gn)return Promise.resolve(!0);let gs,Xr,Ss;De?(gs=De.resolve,Xr=De.reject,Ss=De.promise):Ss=new Promise((ss,no)=>{gs=ss,Xr=no});const Oo=++this.navigationId;let os;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),os=q&&q.\u0275routerPageId?q.\u0275routerPageId:ne.replaceUrl||ne.skipLocationChange?null!==(Fe=this.browserPageId)&&void 0!==Fe?Fe:0:(null!==(ft=this.browserPageId)&&void 0!==ft?ft:0)+1):os=0,this.setTransition({id:Oo,targetPageId:os,source:B,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:ne,resolve:gs,reject:Xr,promise:Ss,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ss.catch(ss=>Promise.reject(ss))}setBrowserUrl(S,B){const q=this.urlSerializer.serialize(S),ne=Object.assign(Object.assign({},B.extras.state),this.generateNgRouterState(B.id,B.targetPageId));this.location.isCurrentPathEqualTo(q)||B.extras.replaceUrl?this.location.replaceState(q,"",ne):this.location.go(q,"",ne)}restoreHistory(S,B=!1){var q,ne;if("computed"===this.canceledNavigationResolution){const De=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)||0===De?this.currentUrlTree===(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.finalUrl)&&0===De&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(De)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,B){const q=new li(S.id,this.serializeUrl(S.extractedUrl),B);this.triggerEvent(q),S.resolve(!1)}generateNgRouterState(S,B){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:B}:{navigationId:S}}}return x.\u0275fac=function(S){return new(S||x)(u.LFG(u.DyG),u.LFG(Vo),u.LFG(ar),u.LFG(I.Ye),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();function Dt(x){return"imperative"!==x}let xn=(()=>{class x{constructor(S,B,q,ne,De){this.router=S,this.route=B,this.commands=[],this.onChanges=new Ce.xQ,null==q&&ne.setAttribute(De.nativeElement,"tabindex","0")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:[]}onClick(){const S={skipLocationChange:Pr(this.skipLocationChange),replaceUrl:Pr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,S),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pr(this.preserveFragment)})}}return x.\u0275fac=function(S){return new(S||x)(u.Y36(Ie),u.Y36(Wr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},x.\u0275dir=u.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,B){1&S&&u.NdJ("click",function(){return B.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),x})(),Nn=(()=>{class x{constructor(S,B,q){this.router=S,this.route=B,this.locationStrategy=q,this.commands=[],this.onChanges=new Ce.xQ,this.subscription=S.events.subscribe(ne=>{ne instanceof Et&&this.updateTargetUrlAndHref()})}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:[]}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,B,q,ne,De){if(0!==S||B||q||ne||De||"string"==typeof this.target&&"_self"!=this.target)return!0;const Fe={skipLocationChange:Pr(this.skipLocationChange),replaceUrl:Pr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Fe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pr(this.preserveFragment)})}}return x.\u0275fac=function(S){return new(S||x)(u.Y36(Ie),u.Y36(Wr),u.Y36(I.S$))},x.\u0275dir=u.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,B){1&S&&u.NdJ("click",function(ne){return B.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&S&&(u.Ikx("href",B.href,u.LSH),u.uIk("target",B.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),x})();function Pr(x){return""===x||!!x}let Fi=(()=>{class x{constructor(S,B,q,ne,De){this.parentContexts=S,this.location=B,this.resolver=q,this.changeDetector=De,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=ne||At,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,S}attach(S,B){this.activated=S,this._activatedRoute=B,this.location.insert(S.hostView)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=S;const De=(B=B||this.resolver).resolveComponentFactory(S._futureSnapshot.routeConfig.component),Fe=this.parentContexts.getOrCreateContext(this.name).children,ft=new Ls(S,Fe,this.location.injector);this.activated=this.location.createComponent(De,this.location.length,ft),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(S){return new(S||x)(u.Y36(ar),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},x.\u0275dir=u.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),x})();class Ls{constructor(N,S,B){this.route=N,this.childContexts=S,this.parent=B}get(N,S){return N===Wr?this.route:N===ar?this.childContexts:this.parent.get(N,S)}}class Dr{}class Zs{preload(N,S){return(0,Ae.of)(null)}}let va=(()=>{class x{constructor(S,B,q,ne,De){this.router=S,this.injector=ne,this.preloadingStrategy=De,this.loader=new Ci(B,q,Bt=>S.triggerEvent(new lr(Bt)),Bt=>S.triggerEvent(new Gt(Bt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ft.h)(S=>S instanceof Et),Je(()=>this.preload())).subscribe(()=>{})}preload(){const S=this.injector.get(u.h0i);return this.processRoutes(S,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,B){const q=[];for(const ne of B)if(ne.loadChildren&&!ne.canLoad&&ne._loadedConfig){const De=ne._loadedConfig;q.push(this.processRoutes(De.module,De.routes))}else ne.loadChildren&&!ne.canLoad?q.push(this.preloadConfig(S,ne)):ne.children&&q.push(this.processRoutes(S,ne.children));return(0,Qe.D)(q).pipe((0,pn.J)(),(0,Pe.U)(ne=>{}))}preloadConfig(S,B){return this.preloadingStrategy.preload(B,()=>(B._loadedConfig?(0,Ae.of)(B._loadedConfig):this.loader.load(S.injector,B)).pipe((0,Ke.zg)(ne=>(B._loadedConfig=ne,this.processRoutes(ne.module,ne.routes)))))}}return x.\u0275fac=function(S){return new(S||x)(u.LFG(Ie),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Dr))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})(),ba=(()=>{class x{constructor(S,B,q={}){this.router=S,this.viewportScroller=B,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Et&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Zr&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,B){this.router.triggerEvent(new Zr(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(S){return new(S||x)(u.LFG(Ie),u.LFG(I.EM),u.LFG(void 0))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();const Vs=new u.OlP("ROUTER_CONFIGURATION"),to=new u.OlP("ROUTER_FORROOT_GUARD"),Ts=[I.Ye,{provide:Vo,useClass:Lr},{provide:Ie,useFactory:function(x,N,S,B,q,ne,De,Fe={},ft,Bt){const cn=new Ie(null,x,N,S,B,q,ne,Jt(De));return ft&&(cn.urlHandlingStrategy=ft),Bt&&(cn.routeReuseStrategy=Bt),function(x,N){x.errorHandler&&(N.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(N.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(N.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(N.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(N.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(N.urlUpdateStrategy=x.urlUpdateStrategy)}(Fe,cn),Fe.enableTracing&&cn.events.subscribe(dn=>{var Tr,Gn;null===(Tr=console.group)||void 0===Tr||Tr.call(console,`Router Event: ${dn.constructor.name}`),console.log(dn.toString()),console.log(dn),null===(Gn=console.groupEnd)||void 0===Gn||Gn.call(console)}),cn},deps:[Vo,ar,I.Ye,u.zs3,u.v3s,u.Sil,is,Vs,[class{},new u.FiY],[class{},new u.FiY]]},ar,{provide:Wr,useFactory:function(x){return x.routerState.root},deps:[Ie]},{provide:u.v3s,useClass:u.EAV},va,Zs,class{preload(N,S){return S().pipe(_t(()=>(0,Ae.of)(null)))}},{provide:Vs,useValue:{enableTracing:!1}}];function ra(){return new u.PXZ("Router",Ie)}let ia=(()=>{class x{constructor(S,B){}static forRoot(S,B){return{ngModule:x,providers:[Ts,_(S),{provide:to,useFactory:h,deps:[[Ie,new u.FiY,new u.tp0]]},{provide:Vs,useValue:B||{}},{provide:I.S$,useFactory:v,deps:[I.lw,[new u.tBr(I.mr),new u.FiY],Vs]},{provide:ba,useFactory:Qs,deps:[Ie,I.EM,Vs]},{provide:Dr,useExisting:B&&B.preloadingStrategy?B.preloadingStrategy:Zs},{provide:u.PXZ,multi:!0,useFactory:ra},[Q,{provide:u.ip1,multi:!0,useFactory:ie,deps:[Q]},{provide:_e,useFactory:ye,deps:[Q]},{provide:u.tb,multi:!0,useExisting:_e}]]}}static forChild(S){return{ngModule:x,providers:[_(S)]}}}return x.\u0275fac=function(S){return new(S||x)(u.LFG(to,8),u.LFG(Ie,8))},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({}),x})();function Qs(x,N,S){return S.scrollOffset&&N.setOffset(S.scrollOffset),new ba(x,N,S)}function v(x,N,S={}){return S.useHash?new I.Do(x,N):new I.b0(x,N)}function h(x){return"guarded"}function _(x){return[{provide:u.deG,multi:!0,useValue:x},{provide:is,multi:!0,useValue:x}]}let Q=(()=>{class x{constructor(S){this.injector=S,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ce.xQ}appInitializer(){return this.injector.get(I.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let B=null;const q=new Promise(Fe=>B=Fe),ne=this.injector.get(Ie),De=this.injector.get(Vs);return"disabled"===De.initialNavigation?(ne.setUpLocationChangeListener(),B(!0)):"enabled"===De.initialNavigation||"enabledBlocking"===De.initialNavigation?(ne.hooks.afterPreactivation=()=>this.initNavigation?(0,Ae.of)(null):(this.initNavigation=!0,B(!0),this.resultOfPreactivationDone),ne.initialNavigation()):B(!0),q})}bootstrapListener(S){const B=this.injector.get(Vs),q=this.injector.get(va),ne=this.injector.get(ba),De=this.injector.get(Ie),Fe=this.injector.get(u.z2F);S===Fe.components[0]&&(("enabledNonBlocking"===B.initialNavigation||void 0===B.initialNavigation)&&De.initialNavigation(),q.setUpPreloading(),ne.init(),De.resetRootComponentType(Fe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(S){return new(S||x)(u.LFG(u.zs3))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();function ie(x){return x.appInitializer.bind(x)}function ye(x){return x.bootstrapListener.bind(x)}const _e=new u.OlP("Router Initializer")},6279:(zt,je,de)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe,kt,I=de(7796),u=de(1704),ee=de(1100),Qe=de(300),Be=((xe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xe["bad-app-name"]="Illegal App name: '{$appName}",xe["duplicate-app"]="Firebase App named '{$appName}' already exists",xe["app-deleted"]="Firebase App named '{$appName}' already deleted",xe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xe),Ae=new u.ErrorFactory("app","Firebase",Be),ke="@firebase/app",Pn="[DEFAULT]",Dn=((kt={})[ke]="fire-core",kt["@firebase/analytics"]="fire-analytics",kt["@firebase/auth"]="fire-auth",kt["@firebase/database"]="fire-rtdb",kt["@firebase/functions"]="fire-fn",kt["@firebase/installations"]="fire-iid",kt["@firebase/messaging"]="fire-fcm",kt["@firebase/performance"]="fire-perf",kt["@firebase/remote-config"]="fire-rc",kt["@firebase/storage"]="fire-gcs",kt["@firebase/firestore"]="fire-fst",kt["fire-js"]="fire-js",kt["firebase-wrapper"]="fire-js-all",kt),Lt=new Qe.Logger("@firebase/app"),z=function(){function Nt(tt,wt,bn){var An,gi,pn=this;this.firebase_=bn,this.isDeleted_=!1,this.name_=wt.name,this.automaticDataCollectionEnabled_=wt.automaticDataCollectionEnabled||!1,this.options_=u.deepCopy(tt),this.container=new ee.ComponentContainer(wt.name),this._addComponent(new ee.Component("app",function(){return pn},"PUBLIC"));try{for(var qn=I.__values(this.firebase_.INTERNAL.components.values()),Rn=qn.next();!Rn.done;Rn=qn.next())this._addComponent(Rn.value)}catch(li){An={error:li}}finally{try{Rn&&!Rn.done&&(gi=qn.return)&&gi.call(qn)}finally{if(An)throw An.error}}}return Object.defineProperty(Nt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(tt){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=tt},enumerable:!1,configurable:!0}),Object.defineProperty(Nt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Nt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Nt.prototype.delete=function(){var tt=this;return new Promise(function(wt){tt.checkDestroyed_(),wt()}).then(function(){return tt.firebase_.INTERNAL.removeApp(tt.name_),Promise.all(tt.container.getProviders().map(function(wt){return wt.delete()}))}).then(function(){tt.isDeleted_=!0})},Nt.prototype._getService=function(tt,wt){return void 0===wt&&(wt=Pn),this.checkDestroyed_(),this.container.getProvider(tt).getImmediate({identifier:wt})},Nt.prototype._removeServiceInstance=function(tt,wt){void 0===wt&&(wt=Pn),this.container.getProvider(tt).clearInstance(wt)},Nt.prototype._addComponent=function(tt){try{this.container.addComponent(tt)}catch(wt){Lt.debug("Component "+tt.name+" failed to register with FirebaseApp "+this.name,wt)}},Nt.prototype._addOrOverwriteComponent=function(tt){this.container.addOrOverwriteComponent(tt)},Nt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ae.create("app-deleted",{appName:this.name_})},Nt}();z.prototype.name&&z.prototype.options||z.prototype.delete||console.log("dc");var me=function le(){var Nt=function(Nt){var tt={},wt=new Map,bn={__esModule:!0,initializeApp:function(Mn,Ht){void 0===Ht&&(Ht={}),("object"!=typeof Ht||null===Ht)&&(Ht={name:Ht});var zn=Ht;void 0===zn.name&&(zn.name=Pn);var un=zn.name;if("string"!=typeof un||!un)throw Ae.create("bad-app-name",{appName:String(un)});if(u.contains(tt,un))throw Ae.create("duplicate-app",{appName:un});var lr=new Nt(Mn,zn,bn);return tt[un]=lr,lr},app:gi,registerVersion:function(Mn,Ht,rr){var zn,un=null!==(zn=Dn[Mn])&&void 0!==zn?zn:Mn;rr&&(un+="-"+rr);var lr=un.match(/\s|\//),Gt=Ht.match(/\s|\//);if(lr||Gt){var cr=['Unable to register library "'+un+'" with version "'+Ht+'":'];return lr&&cr.push('library name "'+un+'" contains illegal characters (whitespace or "/")'),lr&&Gt&&cr.push("and"),Gt&&cr.push('version name "'+Ht+'" contains illegal characters (whitespace or "/")'),void Lt.warn(cr.join(" "))}Rn(new ee.Component(un+"-version",function(){return{library:un,version:Ht}},"VERSION"))},setLogLevel:Qe.setLogLevel,onLog:function(Mn,Ht){if(null!==Mn&&"function"!=typeof Mn)throw Ae.create("invalid-log-argument",{appName:name});Qe.setUserLogHandler(Mn,Ht)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Rn,removeApp:function(Mn){delete tt[Mn]},components:wt,useAsService:function(Mn,Ht){return"serverAuth"===Ht?null:Ht}}};function gi(Mn){if(!u.contains(tt,Mn=Mn||Pn))throw Ae.create("no-app",{appName:Mn});return tt[Mn]}function Rn(Mn){var Ht,rr,zn=Mn.name;if(wt.has(zn))return Lt.debug("There were multiple attempts to register component "+zn+"."),"PUBLIC"===Mn.type?bn[zn]:null;if(wt.set(zn,Mn),"PUBLIC"===Mn.type){var un=function(zr){if(void 0===zr&&(zr=gi()),"function"!=typeof zr[zn])throw Ae.create("invalid-app-argument",{appName:zn});return zr[zn]()};void 0!==Mn.serviceProps&&u.deepExtend(un,Mn.serviceProps),bn[zn]=un,Nt.prototype[zn]=function(){for(var zr=[],Yr=0;Yr<arguments.length;Yr++)zr[Yr]=arguments[Yr];return this._getService.bind(this,zn).apply(this,Mn.multipleInstances?zr:[])}}try{for(var lr=I.__values(Object.keys(tt)),Gt=lr.next();!Gt.done;Gt=lr.next())tt[Gt.value]._addComponent(Mn)}catch(zr){Ht={error:zr}}finally{try{Gt&&!Gt.done&&(rr=lr.return)&&rr.call(lr)}finally{if(Ht)throw Ht.error}}return"PUBLIC"===Mn.type?bn[zn]:null}return bn.default=bn,Object.defineProperty(bn,"apps",{get:function(){return Object.keys(tt).map(function(Mn){return tt[Mn]})}}),gi.App=Nt,bn}(z);return Nt.INTERNAL=I.__assign(I.__assign({},Nt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(wt){u.deepExtend(Nt,wt)},createSubscribe:u.createSubscribe,ErrorFactory:u.ErrorFactory,deepExtend:u.deepExtend}),Nt}(),K=function(){function Nt(tt){this.container=tt}return Nt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(wt){if(function(Nt){var tt=Nt.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(wt)){var bn=wt.getImmediate();return bn.library+"/"+bn.version}return null}).filter(function(wt){return wt}).join(" ")},Nt}();if(u.isBrowser()&&void 0!==self.firebase){Lt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&Lt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pe=me.initializeApp;me.initializeApp=function(){for(var Nt=[],tt=0;tt<arguments.length;tt++)Nt[tt]=arguments[tt];return u.isNode()&&Lt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),Pe.apply(void 0,Nt)};var Nt,pt=me;(Nt=pt).INTERNAL.registerComponent(new ee.Component("platform-logger",function(wt){return new K(wt)},"PRIVATE")),Nt.registerVersion(ke,"0.6.11",undefined),Nt.registerVersion("fire-js",""),je.default=pt,je.firebase=pt},1100:(zt,je,de)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var I=de(5385),u=de(1704),ee=function(){function ue(oe,Te,we){this.name=oe,this.instanceFactory=Te,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return ue.prototype.setInstantiationMode=function(oe){return this.instantiationMode=oe,this},ue.prototype.setMultipleInstances=function(oe){return this.multipleInstances=oe,this},ue.prototype.setServiceProps=function(oe){return this.serviceProps=oe,this},ue}(),Qe="[DEFAULT]",xe=function(){function ue(oe,Te){this.name=oe,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return ue.prototype.get=function(oe){void 0===oe&&(oe=Qe);var Te=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(Te)){var we=new u.Deferred;this.instancesDeferred.set(Te,we);try{var Ce=this.getOrInitializeService(Te);Ce&&we.resolve(Ce)}catch(it){}}return this.instancesDeferred.get(Te).promise},ue.prototype.getImmediate=function(oe){var Te=I.__assign({identifier:Qe,optional:!1},oe),Ce=Te.optional,it=this.normalizeInstanceIdentifier(Te.identifier);try{var _t=this.getOrInitializeService(it);if(!_t){if(Ce)return null;throw Error("Service "+this.name+" is not available")}return _t}catch(dt){if(Ce)return null;throw dt}},ue.prototype.getComponent=function(){return this.component},ue.prototype.setComponent=function(oe){var Te,we;if(oe.name!==this.name)throw Error("Mismatching Component "+oe.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=oe,function(ue){return"EAGER"===ue.instantiationMode}(oe))try{this.getOrInitializeService(Qe)}catch(Ft){}try{for(var Ce=I.__values(this.instancesDeferred.entries()),it=Ce.next();!it.done;it=Ce.next()){var _t=I.__read(it.value,2),ot=_t[1],Ke=this.normalizeInstanceIdentifier(_t[0]);try{var Je=this.getOrInitializeService(Ke);ot.resolve(Je)}catch(Ft){}}}catch(Ft){Te={error:Ft}}finally{try{it&&!it.done&&(we=Ce.return)&&we.call(Ce)}finally{if(Te)throw Te.error}}},ue.prototype.clearInstance=function(oe){void 0===oe&&(oe=Qe),this.instancesDeferred.delete(oe),this.instances.delete(oe)},ue.prototype.delete=function(){return I.__awaiter(this,void 0,void 0,function(){var oe;return I.__generator(this,function(Te){switch(Te.label){case 0:return oe=Array.from(this.instances.values()),[4,Promise.all(I.__spread(oe.filter(function(we){return"INTERNAL"in we}).map(function(we){return we.INTERNAL.delete()}),oe.filter(function(we){return"_delete"in we}).map(function(we){return we._delete()})))];case 1:return Te.sent(),[2]}})})},ue.prototype.isComponentSet=function(){return null!=this.component},ue.prototype.getOrInitializeService=function(oe){var Te=this.instances.get(oe);return!Te&&this.component&&(Te=this.component.instanceFactory(this.container,function(ue){return ue===Qe?void 0:ue}(oe)),this.instances.set(oe,Te)),Te||null},ue.prototype.normalizeInstanceIdentifier=function(oe){return this.component?this.component.multipleInstances?oe:Qe:oe},ue}(),ke=function(){function ue(oe){this.name=oe,this.providers=new Map}return ue.prototype.addComponent=function(oe){var Te=this.getProvider(oe.name);if(Te.isComponentSet())throw new Error("Component "+oe.name+" has already been registered with "+this.name);Te.setComponent(oe)},ue.prototype.addOrOverwriteComponent=function(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)},ue.prototype.getProvider=function(oe){if(this.providers.has(oe))return this.providers.get(oe);var Te=new xe(oe,this);return this.providers.set(oe,Te),Te},ue.prototype.getProviders=function(){return Array.from(this.providers.values())},ue}();je.Component=ee,je.ComponentContainer=ke,je.Provider=xe},4614:(zt,je,de)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var I=de(6279),u=de(209),ee=de(1704),Qe=de(300),xe=de(1100);function Be(v){return v&&"object"==typeof v&&"default"in v?v:{default:v}}var v,Ae=Be(I),ke=function(){function v(h){this.domStorage_=h,this.prefix_="firebase:"}return v.prototype.set=function(h,_){null==_?this.domStorage_.removeItem(this.prefixedName_(h)):this.domStorage_.setItem(this.prefixedName_(h),ee.stringify(_))},v.prototype.get=function(h){var _=this.domStorage_.getItem(this.prefixedName_(h));return null==_?null:ee.jsonEval(_)},v.prototype.remove=function(h){this.domStorage_.removeItem(this.prefixedName_(h))},v.prototype.prefixedName_=function(h){return this.prefix_+h},v.prototype.toString=function(){return this.domStorage_.toString()},v}(),ue=function(){function v(){this.cache_={},this.isInMemoryStorage=!0}return v.prototype.set=function(h,_){null==_?delete this.cache_[h]:this.cache_[h]=_},v.prototype.get=function(h){return ee.contains(this.cache_,h)?this.cache_[h]:null},v.prototype.remove=function(h){delete this.cache_[h]},v}(),oe=function(v){try{if("undefined"!=typeof window&&void 0!==window[v]){var h=window[v];return h.setItem("firebase:sentinel","cache"),h.removeItem("firebase:sentinel"),new ke(h)}}catch(_){}return new ue},Te=oe("localStorage"),we=oe("sessionStorage"),Ce=new Qe.Logger("@firebase/database"),it=(v=1,function(){return v++}),_t=function(v){var h=ee.stringToByteArray(v),_=new ee.Sha1;_.update(h);var w=_.digest();return ee.base64.encodeByteArray(w)},dt=function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];for(var _="",w=0;w<v.length;w++){var M=v[w];Array.isArray(M)||M&&"object"==typeof M&&"number"==typeof M.length?_+=dt.apply(null,M):_+="object"==typeof M?ee.stringify(M):M,_+=" "}return _},ot=null,Ke=!0,Je=function(v,h){ee.assert(!h||!0===v||!1===v,"Can't turn on custom loggers persistently."),!0===v?(Ce.logLevel=Qe.LogLevel.VERBOSE,ot=Ce.log.bind(Ce),h&&we.set("logging_enabled",!0)):"function"==typeof v?ot=v:(ot=null,we.remove("logging_enabled"))},Ft=function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];if(!0===Ke&&(Ke=!1,null===ot&&!0===we.get("logging_enabled")&&Je(!0)),ot){var _=dt.apply(null,v);ot(_)}},kt=function(v){return function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];Ft.apply(void 0,u.__spread([v],h))}},Pn=function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];var _="FIREBASE INTERNAL ERROR: "+dt.apply(void 0,u.__spread(v));Ce.error(_)},Dn=function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];var _="FIREBASE FATAL ERROR: "+dt.apply(void 0,u.__spread(v));throw Ce.error(_),new Error(_)},Lt=function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];var _="FIREBASE WARNING: "+dt.apply(void 0,u.__spread(v));Ce.warn(_)},te=function(v){return"number"==typeof v&&(v!=v||v===Number.POSITIVE_INFINITY||v===Number.NEGATIVE_INFINITY)},le="[MIN_NAME]",me="[MAX_NAME]",K=function(v,h){if(v===h)return 0;if(v===le||h===me)return-1;if(h===le||v===me)return 1;var _=gi(v),w=gi(h);return null!==_?null!==w?_-w==0?v.length-h.length:_-w:-1:null!==w?1:v<h?-1:1},Ne=function(v,h){return v===h?0:v<h?-1:1},Le=function(v,h){if(h&&v in h)return h[v];throw new Error("Missing required key ("+v+") in object: "+ee.stringify(h))},Pt=function(v){if("object"!=typeof v||null===v)return ee.stringify(v);var h=[];for(var _ in v)h.push(_);h.sort();for(var w="{",M=0;M<h.length;M++)0!==M&&(w+=","),w+=ee.stringify(h[M]),w+=":",w+=Pt(v[h[M]]);return w+"}"},Pe=function(v,h){var _=v.length;if(_<=h)return[v];for(var w=[],M=0;M<_;M+=h)w.push(v.substring(M,M+h>_?_:M+h));return w};function pt(v,h){for(var _ in v)v.hasOwnProperty(_)&&h(_,v[_])}var En,Vi,dr,Ur,_o,ln,Nt=function(v){ee.assert(!te(v),"Invalid JSON number");var M,P,Q,ie,ye,w=1023;0===v?(P=0,Q=0,M=1/v==-1/0?1:0):(M=v<0,(v=Math.abs(v))>=Math.pow(2,1-w)?(P=(ie=Math.min(Math.floor(Math.log(v)/Math.LN2),w))+w,Q=Math.round(v*Math.pow(2,52-ie)-Math.pow(2,52))):(P=0,Q=Math.round(v/Math.pow(2,-1074))));var _e=[];for(ye=52;ye;ye-=1)_e.push(Q%2?1:0),Q=Math.floor(Q/2);for(ye=11;ye;ye-=1)_e.push(P%2?1:0),P=Math.floor(P/2);_e.push(M?1:0),_e.reverse();var We=_e.join(""),nt="";for(ye=0;ye<64;ye+=8){var x=parseInt(We.substr(ye,8),2).toString(16);1===x.length&&(x="0"+x),nt+=x}return nt.toLowerCase()},An=new RegExp("^-?(0*)\\d{1,10}$"),gi=function(v){if(An.test(v)){var h=Number(v);if(h>=-2147483648&&h<=2147483647)return h}return null},pn=function(v){try{v()}catch(h){setTimeout(function(){throw Lt("Exception was thrown by user callback.",h.stack||""),h},Math.floor(0))}},Rn=function(v,h){var _=setTimeout(v,h);return"object"==typeof _&&_.unref&&_.unref(),_},Et=function(){function v(h,_){if(void 0===_){this.pieces_=h.split("/");for(var w=0,M=0;M<this.pieces_.length;M++)this.pieces_[M].length>0&&(this.pieces_[w]=this.pieces_[M],w++);this.pieces_.length=w,this.pieceNum_=0}else this.pieces_=h,this.pieceNum_=_}return Object.defineProperty(v,"Empty",{get:function(){return new v("")},enumerable:!1,configurable:!0}),v.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},v.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},v.prototype.popFront=function(){var h=this.pieceNum_;return h<this.pieces_.length&&h++,new v(this.pieces_,h)},v.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},v.prototype.toString=function(){for(var h="",_=this.pieceNum_;_<this.pieces_.length;_++)""!==this.pieces_[_]&&(h+="/"+this.pieces_[_]);return h||"/"},v.prototype.toUrlEncodedString=function(){for(var h="",_=this.pieceNum_;_<this.pieces_.length;_++)""!==this.pieces_[_]&&(h+="/"+encodeURIComponent(String(this.pieces_[_])));return h||"/"},v.prototype.slice=function(h){return void 0===h&&(h=0),this.pieces_.slice(this.pieceNum_+h)},v.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var h=[],_=this.pieceNum_;_<this.pieces_.length-1;_++)h.push(this.pieces_[_]);return new v(h,0)},v.prototype.child=function(h){for(var _=[],w=this.pieceNum_;w<this.pieces_.length;w++)_.push(this.pieces_[w]);if(h instanceof v)for(w=h.pieceNum_;w<h.pieces_.length;w++)_.push(h.pieces_[w]);else{var M=h.split("/");for(w=0;w<M.length;w++)M[w].length>0&&_.push(M[w])}return new v(_,0)},v.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},v.relativePath=function(h,_){var w=h.getFront(),M=_.getFront();if(null===w)return _;if(w===M)return v.relativePath(h.popFront(),_.popFront());throw new Error("INTERNAL ERROR: innerPath ("+_+") is not within outerPath ("+h+")")},v.comparePaths=function(h,_){for(var w=h.slice(),M=_.slice(),P=0;P<w.length&&P<M.length;P++){var Q=K(w[P],M[P]);if(0!==Q)return Q}return w.length===M.length?0:w.length<M.length?-1:1},v.prototype.equals=function(h){if(this.getLength()!==h.getLength())return!1;for(var _=this.pieceNum_,w=h.pieceNum_;_<=this.pieces_.length;_++,w++)if(this.pieces_[_]!==h.pieces_[w])return!1;return!0},v.prototype.contains=function(h){var _=this.pieceNum_,w=h.pieceNum_;if(this.getLength()>h.getLength())return!1;for(;_<this.pieces_.length;){if(this.pieces_[_]!==h.pieces_[w])return!1;++_,++w}return!0},v}(),li=function(){function v(h,_){this.errorPrefix_=_,this.parts_=h.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var w=0;w<this.parts_.length;w++)this.byteLength_+=ee.stringLength(this.parts_[w]);this.checkValid_()}return Object.defineProperty(v,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(v,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),v.prototype.push=function(h){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(h),this.byteLength_+=ee.stringLength(h),this.checkValid_()},v.prototype.pop=function(){var h=this.parts_.pop();this.byteLength_-=ee.stringLength(h),this.parts_.length>0&&(this.byteLength_-=1)},v.prototype.checkValid_=function(){if(this.byteLength_>v.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+v.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>v.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+v.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},v.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},v}(),un="firebaseio.com",cr="websocket",zr="long_polling",Yr=function(){function v(h,_,w,M,P,Q,ie){void 0===P&&(P=!1),void 0===Q&&(Q=""),void 0===ie&&(ie=!1),this.secure=_,this.namespace=w,this.webSocketOnly=M,this.nodeAdmin=P,this.persistenceKey=Q,this.includeNamespaceInQueryParams=ie,this.host=h.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Te.get("host:"+h)||this.host}return v.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},v.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},v.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},v.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},v.prototype.updateHost=function(h){h!==this.internalHost&&(this.internalHost=h,this.isCacheableHost()&&Te.set("host:"+this.host,this.internalHost))},v.prototype.connectionURL=function(h,_){var w;if(ee.assert("string"==typeof h,"typeof type must == string"),ee.assert("object"==typeof _,"typeof params must == object"),h===cr)w=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(h!==zr)throw new Error("Unknown connection type: "+h);w=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(_.ns=this.namespace);var M=[];return pt(_,function(P,Q){M.push(P+"="+Q)}),w+M.join("&")},v.prototype.toString=function(){var h=this.toURLString();return this.persistenceKey&&(h+="<"+this.persistenceKey+">"),h},v.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},v}(),At=function(v,h){var _=Qt(v),w=_.namespace;return"firebase.com"===_.domain&&Dn(_.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!w||"undefined"===w)&&"localhost"!==_.domain&&Dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),_.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Yr(_.host,_.secure,w,h,"ws"===_.scheme||"wss"===_.scheme,"",w!==_.subdomain),path:new Et(_.pathString)}},Qt=function(v){var h="",_="",w="",M="",P="",Q=!0,ie="https",ye=443;if("string"==typeof v){var _e=v.indexOf("//");_e>=0&&(ie=v.substring(0,_e-1),v=v.substring(_e+2));var We=v.indexOf("/");-1===We&&(We=v.length);var nt=v.indexOf("?");-1===nt&&(nt=v.length),h=v.substring(0,Math.min(We,nt)),We<nt&&(M=function(v){for(var h="",_=v.split("/"),w=0;w<_.length;w++)if(_[w].length>0){var M=_[w];try{M=decodeURIComponent(M.replace(/\+/g," "))}catch(P){}h+="/"+M}return h}(v.substring(We,nt)));var x=function(v){var h,_,w={};"?"===v.charAt(0)&&(v=v.substring(1));try{for(var M=u.__values(v.split("&")),P=M.next();!P.done;P=M.next()){var Q=P.value;if(0!==Q.length){var ie=Q.split("=");2===ie.length?w[decodeURIComponent(ie[0])]=decodeURIComponent(ie[1]):Lt("Invalid query segment '"+Q+"' in query '"+v+"'")}}}catch(ye){h={error:ye}}finally{try{P&&!P.done&&(_=M.return)&&_.call(M)}finally{if(h)throw h.error}}return w}(v.substring(Math.min(v.length,nt)));(_e=h.indexOf(":"))>=0?(Q="https"===ie||"wss"===ie,ye=parseInt(h.substring(_e+1),10)):_e=h.length;var N=h.slice(0,_e);if("localhost"===N.toLowerCase())_="localhost";else if(N.split(".").length<=2)_=N;else{var S=h.indexOf(".");w=h.substring(0,S).toLowerCase(),_=h.substring(S+1),P=w}"ns"in x&&(P=x.ns)}return{host:h,port:ye,domain:_,subdomain:w,secure:Q,scheme:ie,pathString:M,namespace:P}},mi=/[\[\].#$\/\u0000-\u001F\u007F]/,Ge=/[\[\].#$\u0000-\u001F\u007F]/,Ee=10485760,Ue=function(v){return"string"==typeof v&&0!==v.length&&!mi.test(v)},rt=function(v){return"string"==typeof v&&0!==v.length&&!Ge.test(v)},Tt=function(v){return null===v||"string"==typeof v||"number"==typeof v&&!te(v)||v&&"object"==typeof v&&ee.contains(v,".sv")},Vt=function(v,h,_,w,M){M&&void 0===_||Jt(ee.errorPrefix(v,h,M),_,w)},Jt=function(v,h,_){var w=_ instanceof Et?new li(_,v):_;if(void 0===h)throw new Error(v+"contains undefined "+w.toErrorString());if("function"==typeof h)throw new Error(v+"contains a function "+w.toErrorString()+" with contents = "+h.toString());if(te(h))throw new Error(v+"contains "+h.toString()+" "+w.toErrorString());if("string"==typeof h&&h.length>Ee/3&&ee.stringLength(h)>Ee)throw new Error(v+"contains a string greater than "+Ee+" utf8 bytes "+w.toErrorString()+" ('"+h.substring(0,50)+"...')");if(h&&"object"==typeof h){var M=!1,P=!1;if(pt(h,function(Q,ie){if(".value"===Q)M=!0;else if(".priority"!==Q&&".sv"!==Q&&(P=!0,!Ue(Q)))throw new Error(v+" contains an invalid key ("+Q+") "+w.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');w.push(Q),Jt(v,ie,w),w.pop()}),M&&P)throw new Error(v+' contains ".value" child '+w.toErrorString()+" in addition to actual children.")}},an=function(v,h,_,w,M){if(!M||void 0!==_){var P=ee.errorPrefix(v,h,M);if(!_||"object"!=typeof _||Array.isArray(_))throw new Error(P+" must be an object containing the children to replace.");var Q=[];pt(_,function(ie,ye){var _e=new Et(ie);if(Jt(P,ye,w.child(_e)),".priority"===_e.getBack()&&!Tt(ye))throw new Error(P+"contains an invalid value for '"+_e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");Q.push(_e)}),function(v,h){var _,w;for(_=0;_<h.length;_++)for(var M=(w=h[_]).slice(),P=0;P<M.length;P++)if((".priority"!==M[P]||P!==M.length-1)&&!Ue(M[P]))throw new Error(v+"contains an invalid key ("+M[P]+") in path "+w.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');h.sort(Et.comparePaths);var Q=null;for(_=0;_<h.length;_++){if(w=h[_],null!==Q&&Q.contains(w))throw new Error(v+"contains a path "+Q.toString()+" that is ancestor of another path "+w.toString());Q=w}}(P,Q)}},Yt=function(v,h,_,w){if(!w||void 0!==_){if(te(_))throw new Error(ee.errorPrefix(v,h,w)+"is "+_.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Tt(_))throw new Error(ee.errorPrefix(v,h,w)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},on=function(v,h,_,w){if(!w||void 0!==_)switch(_){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ee.errorPrefix(v,h,w)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},br=function(v,h,_,w){if(!(w&&void 0===_||Ue(_)))throw new Error(ee.errorPrefix(v,h,w)+'was an invalid key = "'+_+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Fn=function(v,h,_,w){if(!(w&&void 0===_||rt(_)))throw new Error(ee.errorPrefix(v,h,w)+'was an invalid path = "'+_+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oo=function(v,h,_,w){_&&(_=_.replace(/^\/*\.info(\/|$)/,"/")),Fn(v,h,_,w)},mr=function(v,h){if(".info"===h.getFront())throw new Error(v+" failed = Can't modify data under /.info/")},Zn=function(v,h,_){var w=_.path.toString();if("string"!=typeof _.repoInfo.host||0===_.repoInfo.host.length||!Ue(_.repoInfo.namespace)&&"localhost"!==_.repoInfo.host.split(":")[0]||0!==w.length&&!function(v){return v&&(v=v.replace(/^\/*\.info(\/|$)/,"/")),rt(v)}(w))throw new Error(ee.errorPrefix(v,h,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Wi=function(v,h,_,w){if((!w||void 0!==_)&&"boolean"!=typeof _)throw new Error(ee.errorPrefix(v,h,w)+"must be a boolean.")},ds=function(){function v(h,_){this.repo_=h,this.path_=_}return v.prototype.cancel=function(h){ee.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),ee.validateCallback("OnDisconnect.cancel",1,h,!0);var _=new ee.Deferred;return this.repo_.onDisconnectCancel(this.path_,_.wrapCallback(h)),_.promise},v.prototype.remove=function(h){ee.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mr("OnDisconnect.remove",this.path_),ee.validateCallback("OnDisconnect.remove",1,h,!0);var _=new ee.Deferred;return this.repo_.onDisconnectSet(this.path_,null,_.wrapCallback(h)),_.promise},v.prototype.set=function(h,_){ee.validateArgCount("OnDisconnect.set",1,2,arguments.length),mr("OnDisconnect.set",this.path_),Vt("OnDisconnect.set",1,h,this.path_,!1),ee.validateCallback("OnDisconnect.set",2,_,!0);var w=new ee.Deferred;return this.repo_.onDisconnectSet(this.path_,h,w.wrapCallback(_)),w.promise},v.prototype.setWithPriority=function(h,_,w){ee.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mr("OnDisconnect.setWithPriority",this.path_),Vt("OnDisconnect.setWithPriority",1,h,this.path_,!1),Yt("OnDisconnect.setWithPriority",2,_,!1),ee.validateCallback("OnDisconnect.setWithPriority",3,w,!0);var M=new ee.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,h,_,M.wrapCallback(w)),M.promise},v.prototype.update=function(h,_){if(ee.validateArgCount("OnDisconnect.update",1,2,arguments.length),mr("OnDisconnect.update",this.path_),Array.isArray(h)){for(var w={},M=0;M<h.length;++M)w[""+M]=h[M];h=w,Lt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}an("OnDisconnect.update",1,h,this.path_,!1),ee.validateCallback("OnDisconnect.update",2,_,!0);var P=new ee.Deferred;return this.repo_.onDisconnectUpdate(this.path_,h,P.wrapCallback(_)),P.promise},v}(),ei=function(){function v(h,_){this.committed=h,this.snapshot=_}return v.prototype.toJSON=function(){return ee.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},v}(),qi=function(){var v="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",h=0,_=[];return function(w){var M=w===h;h=w;var P,Q=new Array(8);for(P=7;P>=0;P--)Q[P]=v.charAt(w%64),w=Math.floor(w/64);ee.assert(0===w,"Cannot push at time == 0");var ie=Q.join("");if(M){for(P=11;P>=0&&63===_[P];P--)_[P]=0;_[P]++}else for(P=0;P<12;P++)_[P]=Math.floor(64*Math.random());for(P=0;P<12;P++)ie+=v.charAt(_[P]);return ee.assert(20===ie.length,"nextPushId: Length should be 20."),ie}}(),sn=function(){function v(h,_){this.name=h,this.node=_}return v.Wrap=function(h,_){return new v(h,_)},v}(),Sr=function(){function v(){}return v.prototype.getCompare=function(){return this.compare.bind(this)},v.prototype.indexedValueChanged=function(h,_){var w=new sn(le,h),M=new sn(le,_);return 0!==this.compare(w,M)},v.prototype.minPost=function(){return sn.MIN},v}(),zi=function(v){function h(){return null!==v&&v.apply(this,arguments)||this}return u.__extends(h,v),Object.defineProperty(h,"__EMPTY_NODE",{get:function(){return En},set:function(_){En=_},enumerable:!1,configurable:!0}),h.prototype.compare=function(_,w){return K(_.name,w.name)},h.prototype.isDefinedOn=function(_){throw ee.assertionError("KeyIndex.isDefinedOn not expected to be called.")},h.prototype.indexedValueChanged=function(_,w){return!1},h.prototype.minPost=function(){return sn.MIN},h.prototype.maxPost=function(){return new sn(me,En)},h.prototype.makePost=function(_,w){return ee.assert("string"==typeof _,"KeyIndex indexValue must always be a string."),new sn(_,En)},h.prototype.toString=function(){return".key"},h}(Sr),kn=new zi,Vo=function(v){return"number"==typeof v?"number:"+Nt(v):"string:"+v},Lr=function(v){if(v.isLeafNode()){var h=v.val();ee.assert("string"==typeof h||"number"==typeof h||"object"==typeof h&&ee.contains(h,".sv"),"Priority must be a string or number.")}else ee.assert(v===Vi||v.isEmpty(),"priority of unexpected type.");ee.assert(v===Vi||v.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ir=function(){function v(h,_){void 0===_&&(_=v.__childrenNodeConstructor.EMPTY_NODE),this.value_=h,this.priorityNode_=_,this.lazyHash_=null,ee.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Lr(this.priorityNode_)}return Object.defineProperty(v,"__childrenNodeConstructor",{get:function(){return dr},set:function(h){dr=h},enumerable:!1,configurable:!0}),v.prototype.isLeafNode=function(){return!0},v.prototype.getPriority=function(){return this.priorityNode_},v.prototype.updatePriority=function(h){return new v(this.value_,h)},v.prototype.getImmediateChild=function(h){return".priority"===h?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE},v.prototype.getChild=function(h){return h.isEmpty()?this:".priority"===h.getFront()?this.priorityNode_:v.__childrenNodeConstructor.EMPTY_NODE},v.prototype.hasChild=function(){return!1},v.prototype.getPredecessorChildName=function(h,_){return null},v.prototype.updateImmediateChild=function(h,_){return".priority"===h?this.updatePriority(_):_.isEmpty()&&".priority"!==h?this:v.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,_).updatePriority(this.priorityNode_)},v.prototype.updateChild=function(h,_){var w=h.getFront();return null===w?_:_.isEmpty()&&".priority"!==w?this:(ee.assert(".priority"!==w||1===h.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(w,v.__childrenNodeConstructor.EMPTY_NODE.updateChild(h.popFront(),_)))},v.prototype.isEmpty=function(){return!1},v.prototype.numChildren=function(){return 0},v.prototype.forEachChild=function(h,_){return!1},v.prototype.val=function(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},v.prototype.hash=function(){if(null===this.lazyHash_){var h="";this.priorityNode_.isEmpty()||(h+="priority:"+Vo(this.priorityNode_.val())+":");var _=typeof this.value_;h+=_+":",h+="number"===_?Nt(this.value_):this.value_,this.lazyHash_=_t(h)}return this.lazyHash_},v.prototype.getValue=function(){return this.value_},v.prototype.compareTo=function(h){return h===v.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof v.__childrenNodeConstructor?-1:(ee.assert(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))},v.prototype.compareToLeafNode_=function(h){var _=typeof h.value_,w=typeof this.value_,M=v.VALUE_TYPE_ORDER.indexOf(_),P=v.VALUE_TYPE_ORDER.indexOf(w);return ee.assert(M>=0,"Unknown leaf type: "+_),ee.assert(P>=0,"Unknown leaf type: "+w),M===P?"object"===w?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:P-M},v.prototype.withIndex=function(){return this},v.prototype.isIndexed=function(){return!0},v.prototype.equals=function(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))},v.VALUE_TYPE_ORDER=["object","boolean","number","string"],v}(),rn=new(function(v){function h(){return null!==v&&v.apply(this,arguments)||this}return u.__extends(h,v),h.prototype.compare=function(_,w){var M=_.node.getPriority(),P=w.node.getPriority(),Q=M.compareTo(P);return 0===Q?K(_.name,w.name):Q},h.prototype.isDefinedOn=function(_){return!_.getPriority().isEmpty()},h.prototype.indexedValueChanged=function(_,w){return!_.getPriority().equals(w.getPriority())},h.prototype.minPost=function(){return sn.MIN},h.prototype.maxPost=function(){return new sn(me,new Ir("[PRIORITY-POST]",_o))},h.prototype.makePost=function(_,w){var M=Ur(_);return new sn(w,new Ir("[PRIORITY-POST]",M))},h.prototype.toString=function(){return".priority"},h}(Sr)),ni=function(){function v(h,_,w,M,P){void 0===P&&(P=null),this.isReverse_=M,this.resultGenerator_=P,this.nodeStack_=[];for(var Q=1;!h.isEmpty();)if(h=h,Q=_?w(h.key,_):1,M&&(Q*=-1),Q<0)h=this.isReverse_?h.left:h.right;else{if(0===Q){this.nodeStack_.push(h);break}this.nodeStack_.push(h),h=this.isReverse_?h.right:h.left}}return v.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var _,h=this.nodeStack_.pop();if(_=this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value},this.isReverse_)for(h=h.left;!h.isEmpty();)this.nodeStack_.push(h),h=h.right;else for(h=h.right;!h.isEmpty();)this.nodeStack_.push(h),h=h.left;return _},v.prototype.hasNext=function(){return this.nodeStack_.length>0},v.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var h=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(h.key,h.value):{key:h.key,value:h.value}},v}(),ri=function(){function v(h,_,w,M,P){this.key=h,this.value=_,this.color=null!=w?w:v.RED,this.left=null!=M?M:ii.EMPTY_NODE,this.right=null!=P?P:ii.EMPTY_NODE}return v.prototype.copy=function(h,_,w,M,P){return new v(null!=h?h:this.key,null!=_?_:this.value,null!=w?w:this.color,null!=M?M:this.left,null!=P?P:this.right)},v.prototype.count=function(){return this.left.count()+1+this.right.count()},v.prototype.isEmpty=function(){return!1},v.prototype.inorderTraversal=function(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)},v.prototype.reverseTraversal=function(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)},v.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},v.prototype.minKey=function(){return this.min_().key},v.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},v.prototype.insert=function(h,_,w){var M=this,P=w(h,M.key);return(M=P<0?M.copy(null,null,null,M.left.insert(h,_,w),null):0===P?M.copy(null,_,null,null,null):M.copy(null,null,null,null,M.right.insert(h,_,w))).fixUp_()},v.prototype.removeMin_=function(){if(this.left.isEmpty())return ii.EMPTY_NODE;var h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),(h=h.copy(null,null,null,h.left.removeMin_(),null)).fixUp_()},v.prototype.remove=function(h,_){var w,M;if(_(h,(w=this).key)<0)!w.left.isEmpty()&&!w.left.isRed_()&&!w.left.left.isRed_()&&(w=w.moveRedLeft_()),w=w.copy(null,null,null,w.left.remove(h,_),null);else{if(w.left.isRed_()&&(w=w.rotateRight_()),!w.right.isEmpty()&&!w.right.isRed_()&&!w.right.left.isRed_()&&(w=w.moveRedRight_()),0===_(h,w.key)){if(w.right.isEmpty())return ii.EMPTY_NODE;M=w.right.min_(),w=w.copy(M.key,M.value,null,null,w.right.removeMin_())}w=w.copy(null,null,null,null,w.right.remove(h,_))}return w.fixUp_()},v.prototype.isRed_=function(){return this.color},v.prototype.fixUp_=function(){var h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h},v.prototype.moveRedLeft_=function(){var h=this.colorFlip_();return h.right.left.isRed_()&&(h=(h=(h=h.copy(null,null,null,null,h.right.rotateRight_())).rotateLeft_()).colorFlip_()),h},v.prototype.moveRedRight_=function(){var h=this.colorFlip_();return h.left.left.isRed_()&&(h=(h=h.rotateRight_()).colorFlip_()),h},v.prototype.rotateLeft_=function(){var h=this.copy(null,null,v.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)},v.prototype.rotateRight_=function(){var h=this.copy(null,null,v.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)},v.prototype.colorFlip_=function(){var h=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,_)},v.prototype.checkMaxDepth_=function(){var h=this.check_();return Math.pow(2,h)<=this.count()+1},v.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)},v.RED=!0,v.BLACK=!1,v}(),_r=function(){function v(){}return v.prototype.copy=function(h,_,w,M,P){return this},v.prototype.insert=function(h,_,w){return new ri(h,_,null)},v.prototype.remove=function(h,_){return this},v.prototype.count=function(){return 0},v.prototype.isEmpty=function(){return!0},v.prototype.inorderTraversal=function(h){return!1},v.prototype.reverseTraversal=function(h){return!1},v.prototype.minKey=function(){return null},v.prototype.maxKey=function(){return null},v.prototype.check_=function(){return 0},v.prototype.isRed_=function(){return!1},v}(),ii=function(){function v(h,_){void 0===_&&(_=v.EMPTY_NODE),this.comparator_=h,this.root_=_}return v.prototype.insert=function(h,_){return new v(this.comparator_,this.root_.insert(h,_,this.comparator_).copy(null,null,ri.BLACK,null,null))},v.prototype.remove=function(h){return new v(this.comparator_,this.root_.remove(h,this.comparator_).copy(null,null,ri.BLACK,null,null))},v.prototype.get=function(h){for(var _,w=this.root_;!w.isEmpty();){if(0===(_=this.comparator_(h,w.key)))return w.value;_<0?w=w.left:_>0&&(w=w.right)}return null},v.prototype.getPredecessorKey=function(h){for(var _,w=this.root_,M=null;!w.isEmpty();){if(0===(_=this.comparator_(h,w.key))){if(w.left.isEmpty())return M?M.key:null;for(w=w.left;!w.right.isEmpty();)w=w.right;return w.key}_<0?w=w.left:_>0&&(M=w,w=w.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},v.prototype.isEmpty=function(){return this.root_.isEmpty()},v.prototype.count=function(){return this.root_.count()},v.prototype.minKey=function(){return this.root_.minKey()},v.prototype.maxKey=function(){return this.root_.maxKey()},v.prototype.inorderTraversal=function(h){return this.root_.inorderTraversal(h)},v.prototype.reverseTraversal=function(h){return this.root_.reverseTraversal(h)},v.prototype.getIterator=function(h){return new ni(this.root_,null,this.comparator_,!1,h)},v.prototype.getIteratorFrom=function(h,_){return new ni(this.root_,h,this.comparator_,!1,_)},v.prototype.getReverseIteratorFrom=function(h,_){return new ni(this.root_,h,this.comparator_,!0,_)},v.prototype.getReverseIterator=function(h){return new ni(this.root_,null,this.comparator_,!0,h)},v.EMPTY_NODE=new _r,v}(),wr=Math.log(2),yo=function(){function v(h){this.count=parseInt(Math.log(h+1)/wr,10),this.current_=this.count-1;var M=parseInt(Array(this.count+1).join("1"),2);this.bits_=h+1&M}return v.prototype.nextBitIsOne=function(){var h=!(this.bits_&1<<this.current_);return this.current_--,h},v}(),$r=function(v,h,_,w){v.sort(h);var M=function(ye,_e){var nt,x,We=_e-ye;if(0===We)return null;if(1===We)return nt=v[ye],x=_?_(nt):nt,new ri(x,nt.node,ri.BLACK,null,null);var N=parseInt(We/2,10)+ye,S=M(ye,N),B=M(N+1,_e);return nt=v[N],x=_?_(nt):nt,new ri(x,nt.node,ri.BLACK,S,B)},ie=function(ye){for(var _e=null,We=null,nt=v.length,x=function(ne,De){var Fe=nt-ne,ft=nt;nt-=ne;var Bt=M(Fe+1,ft),cn=v[Fe],dn=_?_(cn):cn;N(new ri(dn,cn.node,De,null,Bt))},N=function(ne){_e?(_e.left=ne,_e=ne):(We=ne,_e=ne)},S=0;S<ye.count;++S){var B=ye.nextBitIsOne(),q=Math.pow(2,ye.count-(S+1));B?x(q,ri.BLACK):(x(q,ri.BLACK),x(q,ri.RED))}return We}(new yo(v.length));return new ii(w||h,ie)},Tn={},Nr=function(){function v(h,_){this.indexes_=h,this.indexSet_=_}return Object.defineProperty(v,"Default",{get:function(){return ee.assert(Tn&&rn,"ChildrenNode.ts has not been loaded"),ln=ln||new v({".priority":Tn},{".priority":rn})},enumerable:!1,configurable:!0}),v.prototype.get=function(h){var _=ee.safeGet(this.indexes_,h);if(!_)throw new Error("No index defined for "+h);return _ instanceof ii?_:null},v.prototype.hasIndex=function(h){return ee.contains(this.indexSet_,h.toString())},v.prototype.addIndex=function(h,_){ee.assert(h!==kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var w=[],M=!1,P=_.getIterator(sn.Wrap),Q=P.getNext();Q;)M=M||h.isDefinedOn(Q.node),w.push(Q),Q=P.getNext();var ie;ie=M?$r(w,h.getCompare()):Tn;var ye=h.toString(),_e=u.__assign({},this.indexSet_);_e[ye]=h;var We=u.__assign({},this.indexes_);return We[ye]=ie,new v(We,_e)},v.prototype.addToIndexes=function(h,_){var w=this;return new v(ee.map(this.indexes_,function(P,Q){var ie=ee.safeGet(w.indexSet_,Q);if(ee.assert(ie,"Missing index implementation for "+Q),P===Tn){if(ie.isDefinedOn(h.node)){for(var ye=[],_e=_.getIterator(sn.Wrap),We=_e.getNext();We;)We.name!==h.name&&ye.push(We),We=_e.getNext();return ye.push(h),$r(ye,ie.getCompare())}return Tn}var nt=_.get(h.name),x=P;return nt&&(x=x.remove(new sn(h.name,nt))),x.insert(h,h.node)}),this.indexSet_)},v.prototype.removeFromIndexes=function(h,_){return new v(ee.map(this.indexes_,function(M){if(M===Tn)return M;var P=_.get(h.name);return P?M.remove(new sn(h.name,P)):M}),this.indexSet_)},v}();function bs(v,h){return K(v.name,h.name)}function Yi(v,h){return K(v,h)}var Cr,Kt=function(){function v(h,_,w){this.children_=h,this.priorityNode_=_,this.indexMap_=w,this.lazyHash_=null,this.priorityNode_&&Lr(this.priorityNode_),this.children_.isEmpty()&&ee.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(v,"EMPTY_NODE",{get:function(){return Cr||(Cr=new v(new ii(Yi),null,Nr.Default))},enumerable:!1,configurable:!0}),v.prototype.isLeafNode=function(){return!1},v.prototype.getPriority=function(){return this.priorityNode_||Cr},v.prototype.updatePriority=function(h){return this.children_.isEmpty()?this:new v(this.children_,h,this.indexMap_)},v.prototype.getImmediateChild=function(h){if(".priority"===h)return this.getPriority();var _=this.children_.get(h);return null===_?Cr:_},v.prototype.getChild=function(h){var _=h.getFront();return null===_?this:this.getImmediateChild(_).getChild(h.popFront())},v.prototype.hasChild=function(h){return null!==this.children_.get(h)},v.prototype.updateImmediateChild=function(h,_){if(ee.assert(_,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(_);var w=new sn(h,_),M=void 0,P=void 0;_.isEmpty()?(M=this.children_.remove(h),P=this.indexMap_.removeFromIndexes(w,this.children_)):(M=this.children_.insert(h,_),P=this.indexMap_.addToIndexes(w,this.children_));var Q=M.isEmpty()?Cr:this.priorityNode_;return new v(M,Q,P)},v.prototype.updateChild=function(h,_){var w=h.getFront();if(null===w)return _;ee.assert(".priority"!==h.getFront()||1===h.getLength(),".priority must be the last token in a path");var M=this.getImmediateChild(w).updateChild(h.popFront(),_);return this.updateImmediateChild(w,M)},v.prototype.isEmpty=function(){return this.children_.isEmpty()},v.prototype.numChildren=function(){return this.children_.count()},v.prototype.val=function(h){if(this.isEmpty())return null;var _={},w=0,M=0,P=!0;if(this.forEachChild(rn,function(ye,_e){_[ye]=_e.val(h),w++,P&&v.INTEGER_REGEXP_.test(ye)?M=Math.max(M,Number(ye)):P=!1}),!h&&P&&M<2*w){var Q=[];for(var ie in _)Q[ie]=_[ie];return Q}return h&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_},v.prototype.hash=function(){if(null===this.lazyHash_){var h="";this.getPriority().isEmpty()||(h+="priority:"+Vo(this.getPriority().val())+":"),this.forEachChild(rn,function(_,w){var M=w.hash();""!==M&&(h+=":"+_+":"+M)}),this.lazyHash_=""===h?"":_t(h)}return this.lazyHash_},v.prototype.getPredecessorChildName=function(h,_,w){var M=this.resolveIndex_(w);if(M){var P=M.getPredecessorKey(new sn(h,_));return P?P.name:null}return this.children_.getPredecessorKey(h)},v.prototype.getFirstChildName=function(h){var _=this.resolveIndex_(h);if(_){var w=_.minKey();return w&&w.name}return this.children_.minKey()},v.prototype.getFirstChild=function(h){var _=this.getFirstChildName(h);return _?new sn(_,this.children_.get(_)):null},v.prototype.getLastChildName=function(h){var _=this.resolveIndex_(h);if(_){var w=_.maxKey();return w&&w.name}return this.children_.maxKey()},v.prototype.getLastChild=function(h){var _=this.getLastChildName(h);return _?new sn(_,this.children_.get(_)):null},v.prototype.forEachChild=function(h,_){var w=this.resolveIndex_(h);return w?w.inorderTraversal(function(M){return _(M.name,M.node)}):this.children_.inorderTraversal(_)},v.prototype.getIterator=function(h){return this.getIteratorFrom(h.minPost(),h)},v.prototype.getIteratorFrom=function(h,_){var w=this.resolveIndex_(_);if(w)return w.getIteratorFrom(h,function(Q){return Q});for(var M=this.children_.getIteratorFrom(h.name,sn.Wrap),P=M.peek();null!=P&&_.compare(P,h)<0;)M.getNext(),P=M.peek();return M},v.prototype.getReverseIterator=function(h){return this.getReverseIteratorFrom(h.maxPost(),h)},v.prototype.getReverseIteratorFrom=function(h,_){var w=this.resolveIndex_(_);if(w)return w.getReverseIteratorFrom(h,function(Q){return Q});for(var M=this.children_.getReverseIteratorFrom(h.name,sn.Wrap),P=M.peek();null!=P&&_.compare(P,h)>0;)M.getNext(),P=M.peek();return M},v.prototype.compareTo=function(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===ir?-1:0},v.prototype.withIndex=function(h){if(h===kn||this.indexMap_.hasIndex(h))return this;var _=this.indexMap_.addIndex(h,this.children_);return new v(this.children_,this.priorityNode_,_)},v.prototype.isIndexed=function(h){return h===kn||this.indexMap_.hasIndex(h)},v.prototype.equals=function(h){if(h===this)return!0;if(h.isLeafNode())return!1;var _=h;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){for(var w=this.getIterator(rn),M=_.getIterator(rn),P=w.getNext(),Q=M.getNext();P&&Q;){if(P.name!==Q.name||!P.node.equals(Q.node))return!1;P=w.getNext(),Q=M.getNext()}return null===P&&null===Q}return!1}return!1},v.prototype.resolveIndex_=function(h){return h===kn?null:this.indexMap_.get(h.toString())},v.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,v}(),ir=new(function(v){function h(){return v.call(this,new ii(Yi),Kt.EMPTY_NODE,Nr.Default)||this}return u.__extends(h,v),h.prototype.compareTo=function(_){return _===this?0:1},h.prototype.equals=function(_){return _===this},h.prototype.getPriority=function(){return this},h.prototype.getImmediateChild=function(_){return Kt.EMPTY_NODE},h.prototype.isEmpty=function(){return!1},h}(Kt));function Sn(v,h){if(void 0===h&&(h=null),null===v)return Kt.EMPTY_NODE;if("object"==typeof v&&".priority"in v&&(h=v[".priority"]),ee.assert(null===h||"string"==typeof h||"number"==typeof h||"object"==typeof h&&".sv"in h,"Invalid priority type found: "+typeof h),"object"==typeof v&&".value"in v&&null!==v[".value"]&&(v=v[".value"]),"object"!=typeof v||".sv"in v)return new Ir(v,Sn(h));if(v instanceof Array){var ye=Kt.EMPTY_NODE;return pt(v,function(_e,We){if(ee.contains(v,_e)&&"."!==_e.substring(0,1)){var nt=Sn(We);(nt.isLeafNode()||!nt.isEmpty())&&(ye=ye.updateImmediateChild(_e,nt))}}),ye.updatePriority(Sn(h))}var w=[],M=!1;if(pt(v,function(_e,We){if("."!==_e.substring(0,1)){var nt=Sn(We);nt.isEmpty()||(M=M||!nt.getPriority().isEmpty(),w.push(new sn(_e,nt)))}}),0===w.length)return Kt.EMPTY_NODE;var Q=$r(w,bs,function(_e){return _e.name},Yi);if(M){var ie=$r(w,rn.getCompare());return new Kt(Q,Sn(h),new Nr({".priority":ie},{".priority":rn}))}return new Kt(Q,Sn(h),Nr.Default)}Object.defineProperties(sn,{MIN:{value:new sn(le,Kt.EMPTY_NODE)},MAX:{value:new sn(me,ir)}}),zi.__EMPTY_NODE=Kt.EMPTY_NODE,Ir.__childrenNodeConstructor=Kt,function(v){Vi=v}(ir),function(v){_o=v}(ir),function(v){Ur=v}(Sn);var oi,Wr=new(function(v){function h(){return null!==v&&v.apply(this,arguments)||this}return u.__extends(h,v),h.prototype.compare=function(_,w){var M=_.node.compareTo(w.node);return 0===M?K(_.name,w.name):M},h.prototype.isDefinedOn=function(_){return!0},h.prototype.indexedValueChanged=function(_,w){return!_.equals(w)},h.prototype.minPost=function(){return sn.MIN},h.prototype.maxPost=function(){return sn.MAX},h.prototype.makePost=function(_,w){var M=Sn(_);return new sn(w,M)},h.prototype.toString=function(){return".value"},h}(Sr)),vi=function(v){function h(_){var w=v.call(this)||this;return w.indexPath_=_,ee.assert(!_.isEmpty()&&".priority"!==_.getFront(),"Can't create PathIndex with empty path or .priority key"),w}return u.__extends(h,v),h.prototype.extractChild=function(_){return _.getChild(this.indexPath_)},h.prototype.isDefinedOn=function(_){return!_.getChild(this.indexPath_).isEmpty()},h.prototype.compare=function(_,w){var M=this.extractChild(_.node),P=this.extractChild(w.node),Q=M.compareTo(P);return 0===Q?K(_.name,w.name):Q},h.prototype.makePost=function(_,w){var M=Sn(_),P=Kt.EMPTY_NODE.updateChild(this.indexPath_,M);return new sn(w,P)},h.prototype.maxPost=function(){var _=Kt.EMPTY_NODE.updateChild(this.indexPath_,ir);return new sn(me,_)},h.prototype.toString=function(){return this.indexPath_.slice().join("/")},h}(Sr),or=function(){function v(h,_,w){this.node_=h,this.ref_=_,this.index_=w}return v.prototype.val=function(){return ee.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},v.prototype.exportVal=function(){return ee.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},v.prototype.toJSON=function(){return ee.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},v.prototype.exists=function(){return ee.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},v.prototype.child=function(h){ee.validateArgCount("DataSnapshot.child",0,1,arguments.length),h=String(h),Fn("DataSnapshot.child",1,h,!1);var _=new Et(h),w=this.ref_.child(_);return new v(this.node_.getChild(_),w,rn)},v.prototype.hasChild=function(h){ee.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Fn("DataSnapshot.hasChild",1,h,!1);var _=new Et(h);return!this.node_.getChild(_).isEmpty()},v.prototype.getPriority=function(){return ee.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},v.prototype.forEach=function(h){var _=this;if(ee.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),ee.validateCallback("DataSnapshot.forEach",1,h,!1),this.node_.isLeafNode())return!1;var w=this.node_;return!!w.forEachChild(this.index_,function(M,P){return h(new v(P,_.ref_.child(M),rn))})},v.prototype.hasChildren=function(){return ee.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(v.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),v.prototype.numChildren=function(){return ee.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},v.prototype.getRef=function(){return ee.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(v.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),v}(),Zi=function(){function v(h,_,w,M){this.eventType=h,this.eventRegistration=_,this.snapshot=w,this.prevName=M}return v.prototype.getPath=function(){var h=this.snapshot.getRef();return"value"===this.eventType?h.path:h.getParent().path},v.prototype.getEventType=function(){return this.eventType},v.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},v.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+ee.stringify(this.snapshot.exportVal())},v}(),Ti=function(){function v(h,_,w){this.eventRegistration=h,this.error=_,this.path=w}return v.prototype.getPath=function(){return this.path},v.prototype.getEventType=function(){return"cancel"},v.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},v.prototype.toString=function(){return this.path.toString()+":cancel"},v}(),Ar=function(){function v(h,_,w){this.callback_=h,this.cancelCallback_=_,this.context_=w}return v.prototype.respondsTo=function(h){return"value"===h},v.prototype.createEvent=function(h,_){var w=_.getQueryParams().getIndex();return new Zi("value",this,new or(h.snapshotNode,_.getRef(),w))},v.prototype.getEventRunner=function(h){var _=this.context_;if("cancel"===h.getEventType()){ee.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var w=this.cancelCallback_;return function(){w.call(_,h.error)}}var M=this.callback_;return function(){M.call(_,h.snapshot)}},v.prototype.createCancelEvent=function(h,_){return this.cancelCallback_?new Ti(this,h,_):null},v.prototype.matches=function(h){return h instanceof v&&(!h.callback_||!this.callback_||h.callback_===this.callback_&&h.context_===this.context_)},v.prototype.hasAnyCallback=function(){return null!==this.callback_},v}(),Qi=function(){function v(h,_,w){this.callbacks_=h,this.cancelCallback_=_,this.context_=w}return v.prototype.respondsTo=function(h){var _="children_added"===h?"child_added":h;return ee.contains(this.callbacks_,_="children_removed"===_?"child_removed":_)},v.prototype.createCancelEvent=function(h,_){return this.cancelCallback_?new Ti(this,h,_):null},v.prototype.createEvent=function(h,_){ee.assert(null!=h.childName,"Child events should have a childName.");var w=_.getRef().child(h.childName),M=_.getQueryParams().getIndex();return new Zi(h.type,this,new or(h.snapshotNode,w,M),h.prevName)},v.prototype.getEventRunner=function(h){var _=this.context_;if("cancel"===h.getEventType()){ee.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var w=this.cancelCallback_;return function(){w.call(_,h.error)}}var M=this.callbacks_[h.eventType];return function(){M.call(_,h.snapshot,h.prevName)}},v.prototype.matches=function(h){var _=this;if(h instanceof v){if(!this.callbacks_||!h.callbacks_)return!0;if(this.context_===h.context_){var w=Object.keys(h.callbacks_),M=Object.keys(this.callbacks_),P=w.length;if(P===M.length){if(1===P){var ie=w[0],ye=M[0];return!(ye!==ie||h.callbacks_[ie]&&this.callbacks_[ye]&&h.callbacks_[ie]!==this.callbacks_[ye])}return M.every(function(_e){return h.callbacks_[_e]===_.callbacks_[_e]})}}}return!1},v.prototype.hasAnyCallback=function(){return null!==this.callbacks_},v}(),Qr=function(){function v(h,_,w,M){this.repo=h,this.path=_,this.queryParams_=w,this.orderByCalled_=M}return Object.defineProperty(v,"__referenceConstructor",{get:function(){return ee.assert(oi,"Reference.ts has not been loaded"),oi},set:function(h){oi=h},enumerable:!1,configurable:!0}),v.validateQueryEndpoints_=function(h){var _=null,w=null;if(h.hasStart()&&(_=h.getIndexStartValue()),h.hasEnd()&&(w=h.getIndexEndValue()),h.getIndex()===kn){var M="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",P="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==le)throw new Error(M);if("string"!=typeof _)throw new Error(P)}if(h.hasEnd()){if(h.getIndexEndName()!==me)throw new Error(M);if("string"!=typeof w)throw new Error(P)}}else if(h.getIndex()===rn){if(null!=_&&!Tt(_)||null!=w&&!Tt(w))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ee.assert(h.getIndex()instanceof vi||h.getIndex()===Wr,"unknown index type."),null!=_&&"object"==typeof _||null!=w&&"object"==typeof w)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},v.validateLimit_=function(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},v.prototype.validateNoPreviousOrderByCall_=function(h){if(!0===this.orderByCalled_)throw new Error(h+": You can't combine multiple orderBy calls.")},v.prototype.getQueryParams=function(){return this.queryParams_},v.prototype.getRef=function(){return ee.validateArgCount("Query.ref",0,0,arguments.length),new v.__referenceConstructor(this.repo,this.path)},v.prototype.on=function(h,_,w,M){ee.validateArgCount("Query.on",2,4,arguments.length),on("Query.on",1,h,!1),ee.validateCallback("Query.on",2,_,!1);var P=v.getCancelAndContextArgs_("Query.on",w,M);if("value"===h)this.onValueEvent(_,P.cancel,P.context);else{var Q={};Q[h]=_,this.onChildEvent(Q,P.cancel,P.context)}return _},v.prototype.onValueEvent=function(h,_,w){var M=new Ar(h,_||null,w||null);this.repo.addEventCallbackForQuery(this,M)},v.prototype.onChildEvent=function(h,_,w){var M=new Qi(h,_,w);this.repo.addEventCallbackForQuery(this,M)},v.prototype.off=function(h,_,w){ee.validateArgCount("Query.off",0,3,arguments.length),on("Query.off",1,h,!0),ee.validateCallback("Query.off",2,_,!0),ee.validateContextObject("Query.off",3,w,!0);var M=null,P=null;if("value"===h){var Q=_||null;M=new Ar(Q,null,w||null)}else h&&(_&&((P={})[h]=_),M=new Qi(P,null,w||null));this.repo.removeEventCallbackForQuery(this,M)},v.prototype.once=function(h,_,w,M){var P=this;ee.validateArgCount("Query.once",1,4,arguments.length),on("Query.once",1,h,!1),ee.validateCallback("Query.once",2,_,!0);var Q=v.getCancelAndContextArgs_("Query.once",w,M),ie=!0,ye=new ee.Deferred;ye.promise.catch(function(){});var _e=function(We){ie&&(ie=!1,P.off(h,_e),_&&_.bind(Q.context)(We),ye.resolve(We))};return this.on(h,_e,function(We){P.off(h,_e),Q.cancel&&Q.cancel.bind(Q.context)(We),ye.reject(We)}),ye.promise},v.prototype.limitToFirst=function(h){if(ee.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new v(this.repo,this.path,this.queryParams_.limitToFirst(h),this.orderByCalled_)},v.prototype.limitToLast=function(h){if(ee.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new v(this.repo,this.path,this.queryParams_.limitToLast(h),this.orderByCalled_)},v.prototype.orderByChild=function(h){if(ee.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===h)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===h)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===h)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Fn("Query.orderByChild",1,h,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var _=new Et(h);if(_.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var w=new vi(_),M=this.queryParams_.orderBy(w);return v.validateQueryEndpoints_(M),new v(this.repo,this.path,M,!0)},v.prototype.orderByKey=function(){ee.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var h=this.queryParams_.orderBy(kn);return v.validateQueryEndpoints_(h),new v(this.repo,this.path,h,!0)},v.prototype.orderByPriority=function(){ee.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var h=this.queryParams_.orderBy(rn);return v.validateQueryEndpoints_(h),new v(this.repo,this.path,h,!0)},v.prototype.orderByValue=function(){ee.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var h=this.queryParams_.orderBy(Wr);return v.validateQueryEndpoints_(h),new v(this.repo,this.path,h,!0)},v.prototype.startAt=function(h,_){void 0===h&&(h=null),ee.validateArgCount("Query.startAt",0,2,arguments.length),Vt("Query.startAt",1,h,this.path,!0),br("Query.startAt",2,_,!0);var w=this.queryParams_.startAt(h,_);if(v.validateLimit_(w),v.validateQueryEndpoints_(w),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===h&&(h=null,_=null),new v(this.repo,this.path,w,this.orderByCalled_)},v.prototype.endAt=function(h,_){void 0===h&&(h=null),ee.validateArgCount("Query.endAt",0,2,arguments.length),Vt("Query.endAt",1,h,this.path,!0),br("Query.endAt",2,_,!0);var w=this.queryParams_.endAt(h,_);if(v.validateLimit_(w),v.validateQueryEndpoints_(w),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new v(this.repo,this.path,w,this.orderByCalled_)},v.prototype.equalTo=function(h,_){if(ee.validateArgCount("Query.equalTo",1,2,arguments.length),Vt("Query.equalTo",1,h,this.path,!1),br("Query.equalTo",2,_,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(h,_).endAt(h,_)},v.prototype.toString=function(){return ee.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},v.prototype.toJSON=function(){return ee.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},v.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},v.prototype.queryIdentifier=function(){var h=this.queryObject(),_=Pt(h);return"{}"===_?"default":_},v.prototype.isEqual=function(h){if(ee.validateArgCount("Query.isEqual",1,1,arguments.length),!(h instanceof v)){var _="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(_)}var w=this.repo===h.repo,M=this.path.equals(h.path),P=this.queryIdentifier()===h.queryIdentifier();return w&&M&&P},v.getCancelAndContextArgs_=function(h,_,w){var M={cancel:null,context:null};if(_&&w)M.cancel=_,ee.validateCallback(h,3,M.cancel,!0),M.context=w,ee.validateContextObject(h,4,M.context,!0);else if(_)if("object"==typeof _&&null!==_)M.context=_;else{if("function"!=typeof _)throw new Error(ee.errorPrefix(h,3,!0)+" must either be a cancel callback or a context object.");M.cancel=_}return M},Object.defineProperty(v.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),v}(),No=function(){function v(h){this.node_=h}return v.prototype.getImmediateChild=function(h){return new v(this.node_.getImmediateChild(h))},v.prototype.node=function(){return this.node_},v}(),vo=function(){function v(h,_){this.syncTree_=h,this.path_=_}return v.prototype.getImmediateChild=function(h){var _=this.path_.child(h);return new v(this.syncTree_,_)},v.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},v}(),Mr=function(v,h,_){return v&&"object"==typeof v?(ee.assert(".sv"in v,"Unexpected leaf node or priority contents"),"string"==typeof v[".sv"]?Jr(v[".sv"],h,_):"object"==typeof v[".sv"]?ts(v[".sv"],h):void ee.assert(!1,"Unexpected server value: "+JSON.stringify(v,null,2))):v},Jr=function(v,h,_){switch(v){case"timestamp":return _.timestamp;default:ee.assert(!1,"Unexpected server value: "+v)}},ts=function(v,h,_){v.hasOwnProperty("increment")||ee.assert(!1,"Unexpected server value: "+JSON.stringify(v,null,2));var w=v.increment;"number"!=typeof w&&ee.assert(!1,"Unexpected increment value: "+w);var M=h.node();if(ee.assert(null!=M,"Expected ChildrenNode.EMPTY_NODE for nulls"),!M.isLeafNode())return w;var Q=M.getValue();return"number"!=typeof Q?w:Q+w},bi=function(v,h,_,w){return Uo(h,new vo(_,v),w)},si=function(v,h,_){return Uo(v,new No(h),_)};function Uo(v,h,_){var P,w=v.getPriority().val(),M=Mr(w,h.getImmediateChild(".priority"),_);if(v.isLeafNode()){var Q=v,ie=Mr(Q.getValue(),h,_);return ie!==Q.getValue()||M!==Q.getPriority().val()?new Ir(ie,Sn(M)):v}var ye=v;return P=ye,M!==ye.getPriority().val()&&(P=P.updatePriority(new Ir(M))),ye.forEachChild(rn,function(_e,We){var nt=Uo(We,h.getImmediateChild(_e),_);nt!==We&&(P=P.updateImmediateChild(_e,nt))}),P}var bo,co,Ao=function(){function v(){this.value=null,this.children=new Map}return v.prototype.find=function(h){if(null!=this.value)return this.value.getChild(h);if(!h.isEmpty()&&this.children.size>0){var _=h.getFront();return h=h.popFront(),this.children.has(_)?this.children.get(_).find(h):null}return null},v.prototype.remember=function(h,_){if(h.isEmpty())this.value=_,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(h,_);else{var w=h.getFront();this.children.has(w)||this.children.set(w,new v);var M=this.children.get(w);h=h.popFront(),M.remember(h,_)}},v.prototype.forget=function(h){if(h.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var _=this.value;this.value=null;var w=this;return _.forEachChild(rn,function(Q,ie){w.remember(new Et(Q),ie)}),this.forget(h)}if(this.children.size>0){var M=h.getFront();return h=h.popFront(),this.children.has(M)&&this.children.get(M).forget(h)&&this.children.delete(M),0===this.children.size}return!0},v.prototype.forEachTree=function(h,_){null!==this.value?_(h,this.value):this.forEachChild(function(w,M){var P=new Et(h.toString()+"/"+w);M.forEachTree(P,_)})},v.prototype.forEachChild=function(h){this.children.forEach(function(_,w){h(w,_)})},v}(),xr=(()=>(function(v){v[v.OVERWRITE=0]="OVERWRITE",v[v.MERGE=1]="MERGE",v[v.ACK_USER_WRITE=2]="ACK_USER_WRITE",v[v.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(xr||(xr={})),xr))(),Rr=function(){function v(h,_,w,M){this.fromUser=h,this.fromServer=_,this.queryId=w,this.tagged=M,ee.assert(!M||_,"Tagged queries must be from server.")}return v.User=new v(!0,!1,null,!1),v.Server=new v(!1,!0,null,!1),v.forServerTaggedQuery=function(h){return new v(!1,!0,h,!0)},v}(),jo=function(){function v(h,_,w){this.path=h,this.affectedTree=_,this.revert=w,this.type=xr.ACK_USER_WRITE,this.source=Rr.User}return v.prototype.operationForChild=function(h){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return ee.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var _=this.affectedTree.subtree(new Et(h));return new v(Et.Empty,_,this.revert)}return ee.assert(this.path.getFront()===h,"operationForChild called for unrelated child."),new v(this.path.popFront(),this.affectedTree,this.revert)},v}(),Kn=function(){function v(h,_){void 0===_&&(bo||(bo=new ii(Ne)),_=bo),this.value=h,this.children=_}return v.fromObject=function(h){var _=v.Empty;return pt(h,function(w,M){_=_.set(new Et(w),M)}),_},v.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},v.prototype.findRootMostMatchingPathAndValue=function(h,_){if(null!=this.value&&_(this.value))return{path:Et.Empty,value:this.value};if(h.isEmpty())return null;var w=h.getFront(),M=this.children.get(w);if(null!==M){var P=M.findRootMostMatchingPathAndValue(h.popFront(),_);return null!=P?{path:new Et(w).child(P.path),value:P.value}:null}return null},v.prototype.findRootMostValueAndPath=function(h){return this.findRootMostMatchingPathAndValue(h,function(){return!0})},v.prototype.subtree=function(h){if(h.isEmpty())return this;var _=h.getFront(),w=this.children.get(_);return null!==w?w.subtree(h.popFront()):v.Empty},v.prototype.set=function(h,_){if(h.isEmpty())return new v(_,this.children);var w=h.getFront(),P=(this.children.get(w)||v.Empty).set(h.popFront(),_),Q=this.children.insert(w,P);return new v(this.value,Q)},v.prototype.remove=function(h){if(h.isEmpty())return this.children.isEmpty()?v.Empty:new v(null,this.children);var _=h.getFront(),w=this.children.get(_);if(w){var M=w.remove(h.popFront()),P=void 0;return P=M.isEmpty()?this.children.remove(_):this.children.insert(_,M),null===this.value&&P.isEmpty()?v.Empty:new v(this.value,P)}return this},v.prototype.get=function(h){if(h.isEmpty())return this.value;var _=h.getFront(),w=this.children.get(_);return w?w.get(h.popFront()):null},v.prototype.setTree=function(h,_){if(h.isEmpty())return _;var Q,w=h.getFront(),P=(this.children.get(w)||v.Empty).setTree(h.popFront(),_);return Q=P.isEmpty()?this.children.remove(w):this.children.insert(w,P),new v(this.value,Q)},v.prototype.fold=function(h){return this.fold_(Et.Empty,h)},v.prototype.fold_=function(h,_){var w={};return this.children.inorderTraversal(function(M,P){w[M]=P.fold_(h.child(M),_)}),_(h,this.value,w)},v.prototype.findOnPath=function(h,_){return this.findOnPath_(h,Et.Empty,_)},v.prototype.findOnPath_=function(h,_,w){var M=!!this.value&&w(_,this.value);if(M)return M;if(h.isEmpty())return null;var P=h.getFront(),Q=this.children.get(P);return Q?Q.findOnPath_(h.popFront(),_.child(P),w):null},v.prototype.foreachOnPath=function(h,_){return this.foreachOnPath_(h,Et.Empty,_)},v.prototype.foreachOnPath_=function(h,_,w){if(h.isEmpty())return this;this.value&&w(_,this.value);var M=h.getFront(),P=this.children.get(M);return P?P.foreachOnPath_(h.popFront(),_.child(M),w):v.Empty},v.prototype.foreach=function(h){this.foreach_(Et.Empty,h)},v.prototype.foreach_=function(h,_){this.children.inorderTraversal(function(w,M){M.foreach_(h.child(w),_)}),this.value&&_(h,this.value)},v.prototype.foreachChild=function(h){this.children.inorderTraversal(function(_,w){w.value&&h(_,w.value)})},v.Empty=new v(null),v}(),Ho=function(){function v(h,_){this.source=h,this.path=_,this.type=xr.LISTEN_COMPLETE}return v.prototype.operationForChild=function(h){return this.path.isEmpty()?new v(this.source,Et.Empty):new v(this.source,this.path.popFront())},v}(),wo=function(){function v(h,_,w){this.source=h,this.path=_,this.snap=w,this.type=xr.OVERWRITE}return v.prototype.operationForChild=function(h){return this.path.isEmpty()?new v(this.source,Et.Empty,this.snap.getImmediateChild(h)):new v(this.source,this.path.popFront(),this.snap)},v}(),Ji=function(){function v(h,_,w){this.source=h,this.path=_,this.children=w,this.type=xr.MERGE}return v.prototype.operationForChild=function(h){if(this.path.isEmpty()){var _=this.children.subtree(new Et(h));return _.isEmpty()?null:_.value?new wo(this.source,Et.Empty,_.value):new v(this.source,Et.Empty,_)}return ee.assert(this.path.getFront()===h,"Can't get a merge for a child not on the path of the operation"),new v(this.source,this.path.popFront(),this.children)},v.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},v}(),Mi=function(){function v(h,_,w){this.node_=h,this.fullyInitialized_=_,this.filtered_=w}return v.prototype.isFullyInitialized=function(){return this.fullyInitialized_},v.prototype.isFiltered=function(){return this.filtered_},v.prototype.isCompleteForPath=function(h){if(h.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var _=h.getFront();return this.isCompleteForChild(_)},v.prototype.isCompleteForChild=function(h){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(h)},v.prototype.getNode=function(){return this.node_},v}(),Ki=function(){function v(h,_){this.eventCache_=h,this.serverCache_=_}return v.prototype.updateEventSnap=function(h,_,w){return new v(new Mi(h,_,w),this.serverCache_)},v.prototype.updateServerSnap=function(h,_,w){return new v(this.eventCache_,new Mi(h,_,w))},v.prototype.getEventCache=function(){return this.eventCache_},v.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},v.prototype.getServerCache=function(){return this.serverCache_},v.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},v.Empty=new v(new Mi(Kt.EMPTY_NODE,!1,!1),new Mi(Kt.EMPTY_NODE,!1,!1)),v}(),gn=function(){function v(h,_,w,M,P){this.type=h,this.snapshotNode=_,this.childName=w,this.oldSnap=M,this.prevName=P}return v.valueChange=function(h){return new v(v.VALUE,h)},v.childAddedChange=function(h,_){return new v(v.CHILD_ADDED,_,h)},v.childRemovedChange=function(h,_){return new v(v.CHILD_REMOVED,_,h)},v.childChangedChange=function(h,_,w){return new v(v.CHILD_CHANGED,_,h,w)},v.childMovedChange=function(h,_){return new v(v.CHILD_MOVED,_,h)},v.CHILD_ADDED="child_added",v.CHILD_REMOVED="child_removed",v.CHILD_CHANGED="child_changed",v.CHILD_MOVED="child_moved",v.VALUE="value",v}(),Go=function(){function v(h){this.index_=h}return v.prototype.updateChild=function(h,_,w,M,P,Q){ee.assert(h.isIndexed(this.index_),"A node must be indexed if only a child is updated");var ie=h.getImmediateChild(_);return ie.getChild(M).equals(w.getChild(M))&&ie.isEmpty()===w.isEmpty()||(null!=Q&&(w.isEmpty()?h.hasChild(_)?Q.trackChildChange(gn.childRemovedChange(_,ie)):ee.assert(h.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ie.isEmpty()?Q.trackChildChange(gn.childAddedChange(_,w)):Q.trackChildChange(gn.childChangedChange(_,w,ie))),h.isLeafNode()&&w.isEmpty())?h:h.updateImmediateChild(_,w).withIndex(this.index_)},v.prototype.updateFullNode=function(h,_,w){return null!=w&&(h.isLeafNode()||h.forEachChild(rn,function(M,P){_.hasChild(M)||w.trackChildChange(gn.childRemovedChange(M,P))}),_.isLeafNode()||_.forEachChild(rn,function(M,P){if(h.hasChild(M)){var Q=h.getImmediateChild(M);Q.equals(P)||w.trackChildChange(gn.childChangedChange(M,P,Q))}else w.trackChildChange(gn.childAddedChange(M,P))})),_.withIndex(this.index_)},v.prototype.updatePriority=function(h,_){return h.isEmpty()?Kt.EMPTY_NODE:h.updatePriority(_)},v.prototype.filtersNodes=function(){return!1},v.prototype.getIndexedFilter=function(){return this},v.prototype.getIndex=function(){return this.index_},v}(),ci=function(){function v(){this.changeMap=new Map}return v.prototype.trackChildChange=function(h){var _=h.type,w=h.childName;ee.assert(_===gn.CHILD_ADDED||_===gn.CHILD_CHANGED||_===gn.CHILD_REMOVED,"Only child changes supported for tracking"),ee.assert(".priority"!==w,"Only non-priority child changes can be tracked.");var M=this.changeMap.get(w);if(M){var P=M.type;if(_===gn.CHILD_ADDED&&P===gn.CHILD_REMOVED)this.changeMap.set(w,gn.childChangedChange(w,h.snapshotNode,M.snapshotNode));else if(_===gn.CHILD_REMOVED&&P===gn.CHILD_ADDED)this.changeMap.delete(w);else if(_===gn.CHILD_REMOVED&&P===gn.CHILD_CHANGED)this.changeMap.set(w,gn.childRemovedChange(w,M.oldSnap));else if(_===gn.CHILD_CHANGED&&P===gn.CHILD_ADDED)this.changeMap.set(w,gn.childAddedChange(w,h.snapshotNode));else{if(_!==gn.CHILD_CHANGED||P!==gn.CHILD_CHANGED)throw ee.assertionError("Illegal combination of changes: "+h+" occurred after "+M);this.changeMap.set(w,gn.childChangedChange(w,h.snapshotNode,M.oldSnap))}}else this.changeMap.set(w,h)},v.prototype.getChanges=function(){return Array.from(this.changeMap.values())},v}(),ao=new(function(){function v(){}return v.prototype.getCompleteChild=function(h){return null},v.prototype.getChildAfterChild=function(h,_,w){return null},v}()),Co=function(){function v(h,_,w){void 0===w&&(w=null),this.writes_=h,this.viewCache_=_,this.optCompleteServerCache_=w}return v.prototype.getCompleteChild=function(h){var _=this.viewCache_.getEventCache();if(_.isCompleteForChild(h))return _.getNode().getImmediateChild(h);var w=null!=this.optCompleteServerCache_?new Mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(h,w)},v.prototype.getChildAfterChild=function(h,_,w){var M=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),P=this.writes_.calcIndexedSlice(M,_,1,w,h);return 0===P.length?null:P[0]},v}(),Ri=function(h,_){this.viewCache=h,this.changes=_},uo=function(){function v(h){this.filter_=h}return v.prototype.assertIndexed=function(h){ee.assert(h.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),ee.assert(h.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},v.prototype.applyOperation=function(h,_,w,M){var Q,ie,P=new ci;if(_.type===xr.OVERWRITE){var ye=_;ye.source.fromUser?Q=this.applyUserOverwrite_(h,ye.path,ye.snap,w,M,P):(ee.assert(ye.source.fromServer,"Unknown source."),ie=ye.source.tagged||h.getServerCache().isFiltered()&&!ye.path.isEmpty(),Q=this.applyServerOverwrite_(h,ye.path,ye.snap,w,M,ie,P))}else if(_.type===xr.MERGE){var _e=_;_e.source.fromUser?Q=this.applyUserMerge_(h,_e.path,_e.children,w,M,P):(ee.assert(_e.source.fromServer,"Unknown source."),ie=_e.source.tagged||h.getServerCache().isFiltered(),Q=this.applyServerMerge_(h,_e.path,_e.children,w,M,ie,P))}else if(_.type===xr.ACK_USER_WRITE){var We=_;Q=We.revert?this.revertUserWrite_(h,We.path,w,M,P):this.ackUserWrite_(h,We.path,We.affectedTree,w,M,P)}else{if(_.type!==xr.LISTEN_COMPLETE)throw ee.assertionError("Unknown operation type: "+_.type);Q=this.listenComplete_(h,_.path,w,P)}var nt=P.getChanges();return v.maybeAddValueEvent_(h,Q,nt),new Ri(Q,nt)},v.maybeAddValueEvent_=function(h,_,w){var M=_.getEventCache();if(M.isFullyInitialized()){var P=M.getNode().isLeafNode()||M.getNode().isEmpty(),Q=h.getCompleteEventSnap();(w.length>0||!h.getEventCache().isFullyInitialized()||P&&!M.getNode().equals(Q)||!M.getNode().getPriority().equals(Q.getPriority()))&&w.push(gn.valueChange(_.getCompleteEventSnap()))}},v.prototype.generateEventCacheAfterServerEvent_=function(h,_,w,M,P){var Q=h.getEventCache();if(null!=w.shadowingWrite(_))return h;var ie=void 0,ye=void 0;if(_.isEmpty())if(ee.assert(h.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),h.getServerCache().isFiltered()){var _e=h.getCompleteServerSnap(),nt=w.calcCompleteEventChildren(_e instanceof Kt?_e:Kt.EMPTY_NODE);ie=this.filter_.updateFullNode(h.getEventCache().getNode(),nt,P)}else{var x=w.calcCompleteEventCache(h.getCompleteServerSnap());ie=this.filter_.updateFullNode(h.getEventCache().getNode(),x,P)}else{var N=_.getFront();if(".priority"===N){ee.assert(1===_.getLength(),"Can't have a priority with additional path components");var S=Q.getNode();ye=h.getServerCache().getNode();var B=w.calcEventCacheAfterServerOverwrite(_,S,ye);ie=null!=B?this.filter_.updatePriority(S,B):Q.getNode()}else{var q=_.popFront(),ne=void 0;if(Q.isCompleteForChild(N)){ye=h.getServerCache().getNode();var De=w.calcEventCacheAfterServerOverwrite(_,Q.getNode(),ye);ne=null!=De?Q.getNode().getImmediateChild(N).updateChild(q,De):Q.getNode().getImmediateChild(N)}else ne=w.calcCompleteChild(N,h.getServerCache());ie=null!=ne?this.filter_.updateChild(Q.getNode(),N,ne,q,M,P):Q.getNode()}}return h.updateEventSnap(ie,Q.isFullyInitialized()||_.isEmpty(),this.filter_.filtersNodes())},v.prototype.applyServerOverwrite_=function(h,_,w,M,P,Q,ie){var _e,ye=h.getServerCache(),We=Q?this.filter_:this.filter_.getIndexedFilter();if(_.isEmpty())_e=We.updateFullNode(ye.getNode(),w,null);else if(We.filtersNodes()&&!ye.isFiltered()){var nt=ye.getNode().updateChild(_,w);_e=We.updateFullNode(ye.getNode(),nt,null)}else{var x=_.getFront();if(!ye.isCompleteForPath(_)&&_.getLength()>1)return h;var N=_.popFront(),B=ye.getNode().getImmediateChild(x).updateChild(N,w);_e=".priority"===x?We.updatePriority(ye.getNode(),B):We.updateChild(ye.getNode(),x,B,N,ao,null)}var q=h.updateServerSnap(_e,ye.isFullyInitialized()||_.isEmpty(),We.filtersNodes()),ne=new Co(M,q,P);return this.generateEventCacheAfterServerEvent_(q,_,M,ne,ie)},v.prototype.applyUserOverwrite_=function(h,_,w,M,P,Q){var ye,_e,ie=h.getEventCache(),We=new Co(M,h,P);if(_.isEmpty())_e=this.filter_.updateFullNode(h.getEventCache().getNode(),w,Q),ye=h.updateEventSnap(_e,!0,this.filter_.filtersNodes());else{var nt=_.getFront();if(".priority"===nt)_e=this.filter_.updatePriority(h.getEventCache().getNode(),w),ye=h.updateEventSnap(_e,ie.isFullyInitialized(),ie.isFiltered());else{var x=_.popFront(),N=ie.getNode().getImmediateChild(nt),S=void 0;if(x.isEmpty())S=w;else{var B=We.getCompleteChild(nt);S=null!=B?".priority"===x.getBack()&&B.getChild(x.parent()).isEmpty()?B:B.updateChild(x,w):Kt.EMPTY_NODE}if(N.equals(S))ye=h;else{var q=this.filter_.updateChild(ie.getNode(),nt,S,x,We,Q);ye=h.updateEventSnap(q,ie.isFullyInitialized(),this.filter_.filtersNodes())}}}return ye},v.cacheHasChild_=function(h,_){return h.getEventCache().isCompleteForChild(_)},v.prototype.applyUserMerge_=function(h,_,w,M,P,Q){var ie=this,ye=h;return w.foreach(function(_e,We){var nt=_.child(_e);v.cacheHasChild_(h,nt.getFront())&&(ye=ie.applyUserOverwrite_(ye,nt,We,M,P,Q))}),w.foreach(function(_e,We){var nt=_.child(_e);v.cacheHasChild_(h,nt.getFront())||(ye=ie.applyUserOverwrite_(ye,nt,We,M,P,Q))}),ye},v.prototype.applyMerge_=function(h,_){return _.foreach(function(w,M){h=h.updateChild(w,M)}),h},v.prototype.applyServerMerge_=function(h,_,w,M,P,Q,ie){var ye=this;if(h.getServerCache().getNode().isEmpty()&&!h.getServerCache().isFullyInitialized())return h;var We,_e=h;We=_.isEmpty()?w:Kn.Empty.setTree(_,w);var nt=h.getServerCache().getNode();return We.children.inorderTraversal(function(x,N){if(nt.hasChild(x)){var S=h.getServerCache().getNode().getImmediateChild(x),B=ye.applyMerge_(S,N);_e=ye.applyServerOverwrite_(_e,new Et(x),B,M,P,Q,ie)}}),We.children.inorderTraversal(function(x,N){var S=!h.getServerCache().isCompleteForChild(x)&&null==N.value;if(!nt.hasChild(x)&&!S){var B=h.getServerCache().getNode().getImmediateChild(x),q=ye.applyMerge_(B,N);_e=ye.applyServerOverwrite_(_e,new Et(x),q,M,P,Q,ie)}}),_e},v.prototype.ackUserWrite_=function(h,_,w,M,P,Q){if(null!=M.shadowingWrite(_))return h;var ie=h.getServerCache().isFiltered(),ye=h.getServerCache();if(null!=w.value){if(_.isEmpty()&&ye.isFullyInitialized()||ye.isCompleteForPath(_))return this.applyServerOverwrite_(h,_,ye.getNode().getChild(_),M,P,ie,Q);if(_.isEmpty()){var _e=Kn.Empty;return ye.getNode().forEachChild(kn,function(nt,x){_e=_e.set(new Et(nt),x)}),this.applyServerMerge_(h,_,_e,M,P,ie,Q)}return h}var We=Kn.Empty;return w.foreach(function(nt,x){var N=_.child(nt);ye.isCompleteForPath(N)&&(We=We.set(nt,ye.getNode().getChild(N)))}),this.applyServerMerge_(h,_,We,M,P,ie,Q)},v.prototype.listenComplete_=function(h,_,w,M){var P=h.getServerCache(),Q=h.updateServerSnap(P.getNode(),P.isFullyInitialized()||_.isEmpty(),P.isFiltered());return this.generateEventCacheAfterServerEvent_(Q,_,w,ao,M)},v.prototype.revertUserWrite_=function(h,_,w,M,P){var Q;if(null!=w.shadowingWrite(_))return h;var ie=new Co(w,h,M),ye=h.getEventCache().getNode(),_e=void 0;if(_.isEmpty()||".priority"===_.getFront()){var We=void 0;if(h.getServerCache().isFullyInitialized())We=w.calcCompleteEventCache(h.getCompleteServerSnap());else{var nt=h.getServerCache().getNode();ee.assert(nt instanceof Kt,"serverChildren would be complete if leaf node"),We=w.calcCompleteEventChildren(nt)}_e=this.filter_.updateFullNode(ye,We=We,P)}else{var x=_.getFront(),N=w.calcCompleteChild(x,h.getServerCache());null==N&&h.getServerCache().isCompleteForChild(x)&&(N=ye.getImmediateChild(x)),(_e=null!=N?this.filter_.updateChild(ye,x,N,_.popFront(),ie,P):h.getEventCache().getNode().hasChild(x)?this.filter_.updateChild(ye,x,Kt.EMPTY_NODE,_.popFront(),ie,P):ye).isEmpty()&&h.getServerCache().isFullyInitialized()&&(Q=w.calcCompleteEventCache(h.getCompleteServerSnap())).isLeafNode()&&(_e=this.filter_.updateFullNode(_e,Q,P))}return Q=h.getServerCache().isFullyInitialized()||null!=w.shadowingWrite(Et.Empty),h.updateEventSnap(_e,Q,this.filter_.filtersNodes())},v}(),Xn=function(){function v(h){this.query_=h,this.index_=this.query_.getQueryParams().getIndex()}return v.prototype.generateEventsForChanges=function(h,_,w){var M=this,P=[],Q=[];return h.forEach(function(ie){ie.type===gn.CHILD_CHANGED&&M.index_.indexedValueChanged(ie.oldSnap,ie.snapshotNode)&&Q.push(gn.childMovedChange(ie.childName,ie.snapshotNode))}),this.generateEventsForType_(P,gn.CHILD_REMOVED,h,w,_),this.generateEventsForType_(P,gn.CHILD_ADDED,h,w,_),this.generateEventsForType_(P,gn.CHILD_MOVED,Q,w,_),this.generateEventsForType_(P,gn.CHILD_CHANGED,h,w,_),this.generateEventsForType_(P,gn.VALUE,h,w,_),P},v.prototype.generateEventsForType_=function(h,_,w,M,P){var Q=this,ie=w.filter(function(ye){return ye.type===_});ie.sort(this.compareChanges_.bind(this)),ie.forEach(function(ye){var _e=Q.materializeSingleChange_(ye,P);M.forEach(function(We){We.respondsTo(ye.type)&&h.push(We.createEvent(_e,Q.query_))})})},v.prototype.materializeSingleChange_=function(h,_){return"value"===h.type||"child_removed"===h.type||(h.prevName=_.getPredecessorChildName(h.childName,h.snapshotNode,this.index_)),h},v.prototype.compareChanges_=function(h,_){if(null==h.childName||null==_.childName)throw ee.assertionError("Should only compare child_ events.");var w=new sn(h.childName,h.snapshotNode),M=new sn(_.childName,_.snapshotNode);return this.index_.compare(w,M)},v}(),lo=function(){function v(h,_){this.query_=h,this.eventRegistrations_=[];var w=this.query_.getQueryParams(),M=new Go(w.getIndex()),P=w.getNodeFilter();this.processor_=new uo(P);var Q=_.getServerCache(),ie=_.getEventCache(),ye=M.updateFullNode(Kt.EMPTY_NODE,Q.getNode(),null),_e=P.updateFullNode(Kt.EMPTY_NODE,ie.getNode(),null),We=new Mi(ye,Q.isFullyInitialized(),M.filtersNodes()),nt=new Mi(_e,ie.isFullyInitialized(),P.filtersNodes());this.viewCache_=new Ki(nt,We),this.eventGenerator_=new Xn(this.query_)}return v.prototype.getQuery=function(){return this.query_},v.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},v.prototype.getCompleteServerCache=function(h){var _=this.viewCache_.getCompleteServerSnap();return _&&(this.query_.getQueryParams().loadsAllData()||!h.isEmpty()&&!_.getImmediateChild(h.getFront()).isEmpty())?_.getChild(h):null},v.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},v.prototype.addEventRegistration=function(h){this.eventRegistrations_.push(h)},v.prototype.removeEventRegistration=function(h,_){var w=[];if(_){ee.assert(null==h,"A cancel should cancel all event registrations.");var M=this.query_.path;this.eventRegistrations_.forEach(function(ye){var _e=ye.createCancelEvent(_=_,M);_e&&w.push(_e)})}if(h){for(var P=[],Q=0;Q<this.eventRegistrations_.length;++Q){var ie=this.eventRegistrations_[Q];if(ie.matches(h)){if(h.hasAnyCallback()){P=P.concat(this.eventRegistrations_.slice(Q+1));break}}else P.push(ie)}this.eventRegistrations_=P}else this.eventRegistrations_=[];return w},v.prototype.applyOperation=function(h,_,w){h.type===xr.MERGE&&null!==h.source.queryId&&(ee.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),ee.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var M=this.viewCache_,P=this.processor_.applyOperation(M,h,_,w);return this.processor_.assertIndexed(P.viewCache),ee.assert(P.viewCache.getServerCache().isFullyInitialized()||!M.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=P.viewCache,this.generateEventsForChanges_(P.changes,P.viewCache.getEventCache().getNode(),null)},v.prototype.getInitialEvents=function(h){var _=this.viewCache_.getEventCache(),w=[];return _.getNode().isLeafNode()||_.getNode().forEachChild(rn,function(P,Q){w.push(gn.childAddedChange(P,Q))}),_.isFullyInitialized()&&w.push(gn.valueChange(_.getNode())),this.generateEventsForChanges_(w,_.getNode(),h)},v.prototype.generateEventsForChanges_=function(h,_,w){return this.eventGenerator_.generateEventsForChanges(h,_,w?[w]:this.eventRegistrations_)},v}(),Eo=function(){function v(){this.views=new Map}return Object.defineProperty(v,"__referenceConstructor",{get:function(){return ee.assert(co,"Reference.ts has not been loaded"),co},set:function(h){ee.assert(!co,"__referenceConstructor has already been defined"),co=h},enumerable:!1,configurable:!0}),v.prototype.isEmpty=function(){return 0===this.views.size},v.prototype.applyOperation=function(h,_,w){var M,P,Q=h.source.queryId;if(null!==Q){var ie=this.views.get(Q);return ee.assert(null!=ie,"SyncTree gave us an op for an invalid query."),ie.applyOperation(h,_,w)}var ye=[];try{for(var _e=u.__values(this.views.values()),We=_e.next();!We.done;We=_e.next())ye=ye.concat((ie=We.value).applyOperation(h,_,w))}catch(nt){M={error:nt}}finally{try{We&&!We.done&&(P=_e.return)&&P.call(_e)}finally{if(M)throw M.error}}return ye},v.prototype.addEventRegistration=function(h,_,w,M,P){var Q=h.queryIdentifier(),ie=this.views.get(Q);if(!ie){var ye=w.calcCompleteEventCache(P?M:null),_e=!1;ye?_e=!0:M instanceof Kt?(ye=w.calcCompleteEventChildren(M),_e=!1):(ye=Kt.EMPTY_NODE,_e=!1);var We=new Ki(new Mi(ye,_e,!1),new Mi(M,P,!1));ie=new lo(h,We),this.views.set(Q,ie)}return ie.addEventRegistration(_),ie.getInitialEvents(_)},v.prototype.removeEventRegistration=function(h,_,w){var M,P,Q=h.queryIdentifier(),ie=[],ye=[],_e=this.hasCompleteView();if("default"===Q)try{for(var We=u.__values(this.views.entries()),nt=We.next();!nt.done;nt=We.next()){var S,x=u.__read(nt.value,2),N=x[0];ye=ye.concat((S=x[1]).removeEventRegistration(_,w)),S.isEmpty()&&(this.views.delete(N),S.getQuery().getQueryParams().loadsAllData()||ie.push(S.getQuery()))}}catch(B){M={error:B}}finally{try{nt&&!nt.done&&(P=We.return)&&P.call(We)}finally{if(M)throw M.error}}else(S=this.views.get(Q))&&(ye=ye.concat(S.removeEventRegistration(_,w)),S.isEmpty()&&(this.views.delete(Q),S.getQuery().getQueryParams().loadsAllData()||ie.push(S.getQuery())));return _e&&!this.hasCompleteView()&&ie.push(new v.__referenceConstructor(h.repo,h.path)),{removed:ie,events:ye}},v.prototype.getQueryViews=function(){var h,_,w=[];try{for(var M=u.__values(this.views.values()),P=M.next();!P.done;P=M.next()){var Q=P.value;Q.getQuery().getQueryParams().loadsAllData()||w.push(Q)}}catch(ie){h={error:ie}}finally{try{P&&!P.done&&(_=M.return)&&_.call(M)}finally{if(h)throw h.error}}return w},v.prototype.getCompleteServerCache=function(h){var _,w,M=null;try{for(var P=u.__values(this.views.values()),Q=P.next();!Q.done;Q=P.next())M=M||Q.value.getCompleteServerCache(h)}catch(ye){_={error:ye}}finally{try{Q&&!Q.done&&(w=P.return)&&w.call(P)}finally{if(_)throw _.error}}return M},v.prototype.viewForQuery=function(h){if(h.getQueryParams().loadsAllData())return this.getCompleteView();var w=h.queryIdentifier();return this.views.get(w)},v.prototype.viewExistsForQuery=function(h){return null!=this.viewForQuery(h)},v.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},v.prototype.getCompleteView=function(){var h,_;try{for(var w=u.__values(this.views.values()),M=w.next();!M.done;M=w.next()){var P=M.value;if(P.getQuery().getQueryParams().loadsAllData())return P}}catch(Q){h={error:Q}}finally{try{M&&!M.done&&(_=w.return)&&_.call(w)}finally{if(h)throw h.error}}return null},v}(),Oi=function(){function v(h){this.writeTree_=h}return v.prototype.addWrite=function(h,_){if(h.isEmpty())return new v(new Kn(_));var w=this.writeTree_.findRootMostValueAndPath(h);if(null!=w){var M=w.path,P=w.value,Q=Et.relativePath(M,h);return P=P.updateChild(Q,_),new v(this.writeTree_.set(M,P))}var ie=new Kn(_);return new v(this.writeTree_.setTree(h,ie))},v.prototype.addWrites=function(h,_){var w=this;return pt(_,function(M,P){w=w.addWrite(h.child(M),P)}),w},v.prototype.removeWrite=function(h){return h.isEmpty()?v.Empty:new v(this.writeTree_.setTree(h,Kn.Empty))},v.prototype.hasCompleteWrite=function(h){return null!=this.getCompleteNode(h)},v.prototype.getCompleteNode=function(h){var _=this.writeTree_.findRootMostValueAndPath(h);return null!=_?this.writeTree_.get(_.path).getChild(Et.relativePath(_.path,h)):null},v.prototype.getCompleteChildren=function(){var h=[],_=this.writeTree_.value;return null!=_?_.isLeafNode()||_.forEachChild(rn,function(w,M){h.push(new sn(w,M))}):this.writeTree_.children.inorderTraversal(function(w,M){null!=M.value&&h.push(new sn(w,M.value))}),h},v.prototype.childCompoundWrite=function(h){if(h.isEmpty())return this;var _=this.getCompleteNode(h);return new v(null!=_?new Kn(_):this.writeTree_.subtree(h))},v.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},v.prototype.apply=function(h){return Pi(Et.Empty,this.writeTree_,h)},v.Empty=new v(new Kn(null)),v}();function Pi(v,h,_){if(null!=h.value)return _.updateChild(v,h.value);var w=null;return h.children.inorderTraversal(function(M,P){".priority"===M?(ee.assert(null!==P.value,"Priority writes must always be leaf nodes"),w=P.value):_=Pi(v.child(M),P,_)}),!_.getChild(v).isEmpty()&&null!==w&&(_=_.updateChild(v.child(".priority"),w)),_}var Mo=function(){function v(){this.visibleWrites_=Oi.Empty,this.allWrites_=[],this.lastWriteId_=-1}return v.prototype.childWrites=function(h){return new Bi(h,this)},v.prototype.addOverwrite=function(h,_,w,M){ee.assert(w>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===M&&(M=!0),this.allWrites_.push({path:h,snap:_,writeId:w,visible:M}),M&&(this.visibleWrites_=this.visibleWrites_.addWrite(h,_)),this.lastWriteId_=w},v.prototype.addMerge=function(h,_,w){ee.assert(w>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:h,children:_,writeId:w,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(h,_),this.lastWriteId_=w},v.prototype.getWrite=function(h){for(var _=0;_<this.allWrites_.length;_++){var w=this.allWrites_[_];if(w.writeId===h)return w}return null},v.prototype.removeWrite=function(h){var _=this,w=this.allWrites_.findIndex(function(We){return We.writeId===h});ee.assert(w>=0,"removeWrite called with nonexistent writeId.");var M=this.allWrites_[w];this.allWrites_.splice(w,1);for(var P=M.visible,Q=!1,ie=this.allWrites_.length-1;P&&ie>=0;){var ye=this.allWrites_[ie];ye.visible&&(ie>=w&&this.recordContainsPath_(ye,M.path)?P=!1:M.path.contains(ye.path)&&(Q=!0)),ie--}return!!P&&(Q?(this.resetTree_(),!0):(M.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(M.path):pt(M.children,function(We){_.visibleWrites_=_.visibleWrites_.removeWrite(M.path.child(We))}),!0))},v.prototype.getCompleteWriteData=function(h){return this.visibleWrites_.getCompleteNode(h)},v.prototype.calcCompleteEventCache=function(h,_,w,M){if(w||M){var ye=this.visibleWrites_.childCompoundWrite(h);return!M&&ye.isEmpty()?_:M||null!=_||ye.hasCompleteWrite(Et.Empty)?v.layerTree_(this.allWrites_,function(x){return(x.visible||M)&&(!w||!~w.indexOf(x.writeId))&&(x.path.contains(h)||h.contains(x.path))},h).apply(_||Kt.EMPTY_NODE):null}var P=this.visibleWrites_.getCompleteNode(h);if(null!=P)return P;var Q=this.visibleWrites_.childCompoundWrite(h);return Q.isEmpty()?_:null!=_||Q.hasCompleteWrite(Et.Empty)?Q.apply(_||Kt.EMPTY_NODE):null},v.prototype.calcCompleteEventChildren=function(h,_){var w=Kt.EMPTY_NODE,M=this.visibleWrites_.getCompleteNode(h);if(M)return M.isLeafNode()||M.forEachChild(rn,function(ie,ye){w=w.updateImmediateChild(ie,ye)}),w;if(_){var P=this.visibleWrites_.childCompoundWrite(h);return _.forEachChild(rn,function(ie,ye){var _e=P.childCompoundWrite(new Et(ie)).apply(ye);w=w.updateImmediateChild(ie,_e)}),P.getCompleteChildren().forEach(function(ie){w=w.updateImmediateChild(ie.name,ie.node)}),w}return this.visibleWrites_.childCompoundWrite(h).getCompleteChildren().forEach(function(ie){w=w.updateImmediateChild(ie.name,ie.node)}),w},v.prototype.calcEventCacheAfterServerOverwrite=function(h,_,w,M){ee.assert(w||M,"Either existingEventSnap or existingServerSnap must exist");var P=h.child(_);if(this.visibleWrites_.hasCompleteWrite(P))return null;var Q=this.visibleWrites_.childCompoundWrite(P);return Q.isEmpty()?M.getChild(_):Q.apply(M.getChild(_))},v.prototype.calcCompleteChild=function(h,_,w){var M=h.child(_),P=this.visibleWrites_.getCompleteNode(M);return null!=P?P:w.isCompleteForChild(_)?this.visibleWrites_.childCompoundWrite(M).apply(w.getNode().getImmediateChild(_)):null},v.prototype.shadowingWrite=function(h){return this.visibleWrites_.getCompleteNode(h)},v.prototype.calcIndexedSlice=function(h,_,w,M,P,Q){var ie,ye=this.visibleWrites_.childCompoundWrite(h),_e=ye.getCompleteNode(Et.Empty);if(null!=_e)ie=_e;else{if(null==_)return[];ie=ye.apply(_)}if((ie=ie.withIndex(Q)).isEmpty()||ie.isLeafNode())return[];for(var We=[],nt=Q.getCompare(),x=P?ie.getReverseIteratorFrom(w,Q):ie.getIteratorFrom(w,Q),N=x.getNext();N&&We.length<M;)0!==nt(N,w)&&We.push(N),N=x.getNext();return We},v.prototype.recordContainsPath_=function(h,_){if(h.snap)return h.path.contains(_);for(var w in h.children)if(h.children.hasOwnProperty(w)&&h.path.child(w).contains(_))return!0;return!1},v.prototype.resetTree_=function(){this.visibleWrites_=v.layerTree_(this.allWrites_,v.DefaultFilter_,Et.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},v.DefaultFilter_=function(h){return h.visible},v.layerTree_=function(h,_,w){for(var M=Oi.Empty,P=0;P<h.length;++P){var Q=h[P];if(_(Q)){var ie=Q.path,ye=void 0;if(Q.snap)w.contains(ie)?(ye=Et.relativePath(w,ie),M=M.addWrite(ye,Q.snap)):ie.contains(w)&&(ye=Et.relativePath(ie,w),M=M.addWrite(Et.Empty,Q.snap.getChild(ye)));else{if(!Q.children)throw ee.assertionError("WriteRecord should have .snap or .children");if(w.contains(ie))ye=Et.relativePath(w,ie),M=M.addWrites(ye,Q.children);else if(ie.contains(w))if((ye=Et.relativePath(ie,w)).isEmpty())M=M.addWrites(Et.Empty,Q.children);else{var _e=ee.safeGet(Q.children,ye.getFront());if(_e){var We=_e.getChild(ye.popFront());M=M.addWrite(Et.Empty,We)}}}}}return M},v}(),Bi=function(){function v(h,_){this.treePath_=h,this.writeTree_=_}return v.prototype.calcCompleteEventCache=function(h,_,w){return this.writeTree_.calcCompleteEventCache(this.treePath_,h,_,w)},v.prototype.calcCompleteEventChildren=function(h){return this.writeTree_.calcCompleteEventChildren(this.treePath_,h)},v.prototype.calcEventCacheAfterServerOverwrite=function(h,_,w){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,h,_,w)},v.prototype.shadowingWrite=function(h){return this.writeTree_.shadowingWrite(this.treePath_.child(h))},v.prototype.calcIndexedSlice=function(h,_,w,M,P){return this.writeTree_.calcIndexedSlice(this.treePath_,h,_,w,M,P)},v.prototype.calcCompleteChild=function(h,_){return this.writeTree_.calcCompleteChild(this.treePath_,h,_)},v.prototype.child=function(h){return new v(this.treePath_.child(h),this.writeTree_)},v}(),qs=function(){function v(h){this.listenProvider_=h,this.syncPointTree_=Kn.Empty,this.pendingWriteTree_=new Mo,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return v.prototype.applyUserOverwrite=function(h,_,w,M){return this.pendingWriteTree_.addOverwrite(h,_,w,M),M?this.applyOperationToSyncPoints_(new wo(Rr.User,h,_)):[]},v.prototype.applyUserMerge=function(h,_,w){this.pendingWriteTree_.addMerge(h,_,w);var M=Kn.fromObject(_);return this.applyOperationToSyncPoints_(new Ji(Rr.User,h,M))},v.prototype.ackUserWrite=function(h,_){void 0===_&&(_=!1);var w=this.pendingWriteTree_.getWrite(h);if(this.pendingWriteTree_.removeWrite(h)){var P=Kn.Empty;return null!=w.snap?P=P.set(Et.Empty,!0):pt(w.children,function(Q,ie){P=P.set(new Et(Q),ie)}),this.applyOperationToSyncPoints_(new jo(w.path,P,_))}return[]},v.prototype.applyServerOverwrite=function(h,_){return this.applyOperationToSyncPoints_(new wo(Rr.Server,h,_))},v.prototype.applyServerMerge=function(h,_){var w=Kn.fromObject(_);return this.applyOperationToSyncPoints_(new Ji(Rr.Server,h,w))},v.prototype.applyListenComplete=function(h){return this.applyOperationToSyncPoints_(new Ho(Rr.Server,h))},v.prototype.applyTaggedQueryOverwrite=function(h,_,w){var M=this.queryKeyForTag_(w);if(null!=M){var P=v.parseQueryKey_(M),Q=P.path,ie=P.queryId,ye=Et.relativePath(Q,h),_e=new wo(Rr.forServerTaggedQuery(ie),ye,_);return this.applyTaggedOperation_(Q,_e)}return[]},v.prototype.applyTaggedQueryMerge=function(h,_,w){var M=this.queryKeyForTag_(w);if(M){var P=v.parseQueryKey_(M),Q=P.path,ie=P.queryId,ye=Et.relativePath(Q,h),_e=Kn.fromObject(_),We=new Ji(Rr.forServerTaggedQuery(ie),ye,_e);return this.applyTaggedOperation_(Q,We)}return[]},v.prototype.applyTaggedListenComplete=function(h,_){var w=this.queryKeyForTag_(_);if(w){var M=v.parseQueryKey_(w),P=M.path,Q=M.queryId,ie=Et.relativePath(P,h),ye=new Ho(Rr.forServerTaggedQuery(Q),ie);return this.applyTaggedOperation_(P,ye)}return[]},v.prototype.addEventRegistration=function(h,_){var w=h.path,M=null,P=!1;this.syncPointTree_.foreachOnPath(w,function(B,q){var ne=Et.relativePath(B,w);M=M||q.getCompleteServerCache(ne),P=P||q.hasCompleteView()});var ie,Q=this.syncPointTree_.get(w);Q?(P=P||Q.hasCompleteView(),M=M||Q.getCompleteServerCache(Et.Empty)):(Q=new Eo,this.syncPointTree_=this.syncPointTree_.set(w,Q)),null!=M?ie=!0:(ie=!1,M=Kt.EMPTY_NODE,this.syncPointTree_.subtree(w).foreachChild(function(B,q){var ne=q.getCompleteServerCache(Et.Empty);ne&&(M=M.updateImmediateChild(B,ne))}));var _e=Q.viewExistsForQuery(h);if(!_e&&!h.getQueryParams().loadsAllData()){var We=v.makeQueryKey_(h);ee.assert(!this.queryToTagMap.has(We),"View does not exist, but we have a tag");var nt=v.getNextQueryTag_();this.queryToTagMap.set(We,nt),this.tagToQueryMap.set(nt,We)}var x=this.pendingWriteTree_.childWrites(w),N=Q.addEventRegistration(h,_,x,M,ie);if(!_e&&!P){var S=Q.viewForQuery(h);N=N.concat(this.setupListener_(h,S))}return N},v.prototype.removeEventRegistration=function(h,_,w){var M=this,P=h.path,Q=this.syncPointTree_.get(P),ie=[];if(Q&&("default"===h.queryIdentifier()||Q.viewExistsForQuery(h))){var ye=Q.removeEventRegistration(h,_,w);Q.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(P));var _e=ye.removed;ie=ye.events;var We=-1!==_e.findIndex(function(Fe){return Fe.getQueryParams().loadsAllData()}),nt=this.syncPointTree_.findOnPath(P,function(Fe,ft){return ft.hasCompleteView()});if(We&&!nt){var x=this.syncPointTree_.subtree(P);if(!x.isEmpty())for(var N=this.collectDistinctViewsForSubTree_(x),S=0;S<N.length;++S){var B=N[S],q=B.getQuery(),ne=this.createListenerForView_(B);this.listenProvider_.startListening(v.queryForListening_(q),this.tagForQuery_(q),ne.hashFn,ne.onComplete)}}!nt&&_e.length>0&&!w&&(We?this.listenProvider_.stopListening(v.queryForListening_(h),null):_e.forEach(function(Fe){var ft=M.queryToTagMap.get(v.makeQueryKey_(Fe));M.listenProvider_.stopListening(v.queryForListening_(Fe),ft)})),this.removeTags_(_e)}return ie},v.prototype.calcCompleteEventCache=function(h,_){var M=this.pendingWriteTree_,P=this.syncPointTree_.findOnPath(h,function(Q,ie){var ye=Et.relativePath(Q,h),_e=ie.getCompleteServerCache(ye);if(_e)return _e});return M.calcCompleteEventCache(h,P,_,!0)},v.prototype.collectDistinctViewsForSubTree_=function(h){return h.fold(function(_,w,M){if(w&&w.hasCompleteView())return[w.getCompleteView()];var Q=[];return w&&(Q=w.getQueryViews()),pt(M,function(ie,ye){Q=Q.concat(ye)}),Q})},v.prototype.removeTags_=function(h){for(var _=0;_<h.length;++_){var w=h[_];if(!w.getQueryParams().loadsAllData()){var M=v.makeQueryKey_(w),P=this.queryToTagMap.get(M);this.queryToTagMap.delete(M),this.tagToQueryMap.delete(P)}}},v.queryForListening_=function(h){return h.getQueryParams().loadsAllData()&&!h.getQueryParams().isDefault()?h.getRef():h},v.prototype.setupListener_=function(h,_){var w=h.path,M=this.tagForQuery_(h),P=this.createListenerForView_(_),Q=this.listenProvider_.startListening(v.queryForListening_(h),M,P.hashFn,P.onComplete),ie=this.syncPointTree_.subtree(w);if(M)ee.assert(!ie.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var ye=ie.fold(function(nt,x,N){if(!nt.isEmpty()&&x&&x.hasCompleteView())return[x.getCompleteView().getQuery()];var S=[];return x&&(S=S.concat(x.getQueryViews().map(function(B){return B.getQuery()}))),pt(N,function(B,q){S=S.concat(q)}),S}),_e=0;_e<ye.length;++_e){var We=ye[_e];this.listenProvider_.stopListening(v.queryForListening_(We),this.tagForQuery_(We))}return Q},v.prototype.createListenerForView_=function(h){var _=this,w=h.getQuery(),M=this.tagForQuery_(w);return{hashFn:function(){return(h.getServerCache()||Kt.EMPTY_NODE).hash()},onComplete:function(P){if("ok"===P)return M?_.applyTaggedListenComplete(w.path,M):_.applyListenComplete(w.path);var Q=function(v,h){var _="Unknown Error";"too_big"===v?_="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===v?_="Client doesn't have permission to access the desired data.":"unavailable"===v&&(_="The service is unavailable");var w=new Error(v+" at "+h.path.toString()+": "+_);return w.code=v.toUpperCase(),w}(P,w);return _.removeEventRegistration(w,null,Q)}}},v.makeQueryKey_=function(h){return h.path.toString()+"$"+h.queryIdentifier()},v.parseQueryKey_=function(h){var _=h.indexOf("$");return ee.assert(-1!==_&&_<h.length-1,"Bad queryKey."),{queryId:h.substr(_+1),path:new Et(h.substr(0,_))}},v.prototype.queryKeyForTag_=function(h){return this.tagToQueryMap.get(h)},v.prototype.tagForQuery_=function(h){var _=v.makeQueryKey_(h);return this.queryToTagMap.get(_)},v.getNextQueryTag_=function(){return v.nextQueryTag_++},v.prototype.applyTaggedOperation_=function(h,_){var w=this.syncPointTree_.get(h);ee.assert(w,"Missing sync point for query tag that we're tracking");var M=this.pendingWriteTree_.childWrites(h);return w.applyOperation(_,M,null)},v.prototype.applyOperationToSyncPoints_=function(h){return this.applyOperationHelper_(h,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Et.Empty))},v.prototype.applyOperationHelper_=function(h,_,w,M){if(h.path.isEmpty())return this.applyOperationDescendantsHelper_(h,_,w,M);var P=_.get(Et.Empty);null==w&&null!=P&&(w=P.getCompleteServerCache(Et.Empty));var Q=[],ie=h.path.getFront(),ye=h.operationForChild(ie),_e=_.children.get(ie);if(_e&&ye){var We=w?w.getImmediateChild(ie):null,nt=M.child(ie);Q=Q.concat(this.applyOperationHelper_(ye,_e,We,nt))}return P&&(Q=Q.concat(P.applyOperation(h,M,w))),Q},v.prototype.applyOperationDescendantsHelper_=function(h,_,w,M){var P=this,Q=_.get(Et.Empty);null==w&&null!=Q&&(w=Q.getCompleteServerCache(Et.Empty));var ie=[];return _.children.inorderTraversal(function(ye,_e){var We=w?w.getImmediateChild(ye):null,nt=M.child(ye),x=h.operationForChild(ye);x&&(ie=ie.concat(P.applyOperationDescendantsHelper_(x,_e,We,nt)))}),Q&&(ie=ie.concat(Q.applyOperation(h,M,w))),ie},v.nextQueryTag_=1,v}(),jr=function(){function v(){this.rootNode_=Kt.EMPTY_NODE}return v.prototype.getNode=function(h){return this.rootNode_.getChild(h)},v.prototype.updateSnapshot=function(h,_){this.rootNode_=this.rootNode_.updateChild(h,_)},v}(),$=function(){function v(){this.counters_={}}return v.prototype.incrementCounter=function(h,_){void 0===_&&(_=1),ee.contains(this.counters_,h)||(this.counters_[h]=0),this.counters_[h]+=_},v.prototype.get=function(){return ee.deepCopy(this.counters_)},v}(),H=function(){function v(){}return v.getCollection=function(h){var _=h.toString();return this.collections_[_]||(this.collections_[_]=new $),this.collections_[_]},v.getOrCreateReporter=function(h,_){var w=h.toString();return this.reporters_[w]||(this.reporters_[w]=_()),this.reporters_[w]},v.collections_={},v.reporters_={},v}(),F=function(){function v(h){this.collection_=h,this.last_=null}return v.prototype.get=function(){var h=this.collection_.get(),_=u.__assign({},h);return this.last_&&pt(this.last_,function(w,M){_[w]=_[w]-M}),this.last_=h,_},v}(),j=function(){function v(h,_){this.server_=_,this.statsToReport_={},this.statsListener_=new F(h);var w=1e4+2e4*Math.random();Rn(this.reportStats_.bind(this),Math.floor(w))}return v.prototype.includeStat=function(h){this.statsToReport_[h]=!0},v.prototype.reportStats_=function(){var h=this,_=this.statsListener_.get(),w={},M=!1;pt(_,function(P,Q){Q>0&&ee.contains(h.statsToReport_,P)&&(w[P]=Q,M=!0)}),M&&this.server_.reportStats(w),Rn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},v}(),re=function(){function v(){this.eventLists_=[],this.recursionDepth_=0}return v.prototype.queueEvents=function(h){for(var _=null,w=0;w<h.length;w++){var M=h[w],P=M.getPath();null!==_&&!P.equals(_.getPath())&&(this.eventLists_.push(_),_=null),null===_&&(_=new G(P)),_.add(M)}_&&this.eventLists_.push(_)},v.prototype.raiseEventsAtPath=function(h,_){this.queueEvents(_),this.raiseQueuedEventsMatchingPredicate_(function(w){return w.equals(h)})},v.prototype.raiseEventsForChangedPath=function(h,_){this.queueEvents(_),this.raiseQueuedEventsMatchingPredicate_(function(w){return w.contains(h)||h.contains(w)})},v.prototype.raiseQueuedEventsMatchingPredicate_=function(h){this.recursionDepth_++;for(var _=!0,w=0;w<this.eventLists_.length;w++){var M=this.eventLists_[w];M&&(h(M.getPath())?(this.eventLists_[w].raise(),this.eventLists_[w]=null):_=!1)}_&&(this.eventLists_=[]),this.recursionDepth_--},v}(),G=function(){function v(h){this.path_=h,this.events_=[]}return v.prototype.add=function(h){this.events_.push(h)},v.prototype.raise=function(){for(var h=0;h<this.events_.length;h++){var _=this.events_[h];if(null!==_){this.events_[h]=null;var w=_.getEventRunner();ot&&Ft("event: "+_.toString()),pn(w)}}},v.prototype.getPath=function(){return this.path_},v}(),fe=function(){function v(h){this.allowedEvents_=h,this.listeners_={},ee.assert(Array.isArray(h)&&h.length>0,"Requires a non-empty array")}return v.prototype.trigger=function(h){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];if(Array.isArray(this.listeners_[h]))for(var M=u.__spread(this.listeners_[h]),P=0;P<M.length;P++)M[P].callback.apply(M[P].context,_)},v.prototype.on=function(h,_,w){this.validateEventType_(h),this.listeners_[h]=this.listeners_[h]||[],this.listeners_[h].push({callback:_,context:w});var M=this.getInitialEvent(h);M&&_.apply(w,M)},v.prototype.off=function(h,_,w){this.validateEventType_(h);for(var M=this.listeners_[h]||[],P=0;P<M.length;P++)if(M[P].callback===_&&(!w||w===M[P].context))return void M.splice(P,1)},v.prototype.validateEventType_=function(h){ee.assert(this.allowedEvents_.find(function(_){return _===h}),"Unknown event: "+h)},v}(),Se=function(v){function h(){var w,M,_=v.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(M="visibilitychange",w="hidden"):void 0!==document.mozHidden?(M="mozvisibilitychange",w="mozHidden"):void 0!==document.msHidden?(M="msvisibilitychange",w="msHidden"):void 0!==document.webkitHidden&&(M="webkitvisibilitychange",w="webkitHidden")),_.visible_=!0,M&&document.addEventListener(M,function(){var P=!document[w];P!==_.visible_&&(_.visible_=P,_.trigger("visible",P))},!1),_}return u.__extends(h,v),h.getInstance=function(){return new h},h.prototype.getInitialEvent=function(_){return ee.assert("visible"===_,"Unknown event type: "+_),[this.visible_]},h}(fe),ct=function(v){function h(){var _=v.call(this,["online"])||this;return _.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!ee.isMobileCordova()&&(window.addEventListener("online",function(){_.online_||(_.online_=!0,_.trigger("online",!0))},!1),window.addEventListener("offline",function(){_.online_&&(_.online_=!1,_.trigger("online",!1))},!1)),_}return u.__extends(h,v),h.getInstance=function(){return new h},h.prototype.getInitialEvent=function(_){return ee.assert("online"===_,"Unknown event type: "+_),[this.online_]},h.prototype.currentlyOnline=function(){return this.online_},h}(fe),vt=function(){function v(h){this.onMessage_=h,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return v.prototype.closeAfter=function(h,_){this.closeAfterResponse=h,this.onClose=_,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},v.prototype.handleResponse=function(h,_){var w=this;this.pendingResponses[h]=_;for(var M=function(){var ie=P.pendingResponses[P.currentResponseNum];delete P.pendingResponses[P.currentResponseNum];for(var ye=function(We){ie[We]&&pn(function(){w.onMessage_(ie[We])})},_e=0;_e<ie.length;++_e)ye(_e);if(P.currentResponseNum===P.closeAfterResponse)return P.onClose&&(P.onClose(),P.onClose=null),"break";P.currentResponseNum++},P=this;this.pendingResponses[this.currentResponseNum]&&"break"!==M(););},v}(),$o=function(){function v(h,_,w,M,P){this.connId=h,this.repoInfo=_,this.applicationId=w,this.transportSessionId=M,this.lastSessionId=P,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kt(h),this.stats_=H.getCollection(_),this.urlFn=function(Q){return _.connectionURL(zr,Q)}}return v.prototype.open=function(h,_){var w=this;this.curSegmentNum=0,this.onDisconnect_=_,this.myPacketOrderer=new vt(h),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){w.log_("Timed out trying to connect."),w.onClosed_(),w.connectTimeoutTimer_=null},Math.floor(3e4)),function(v){if(ee.isNodeSdk()||"complete"===document.readyState)v();else{var h=!1,_=function(){document.body?h||(h=!0,v()):setTimeout(_,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",_,!1),window.addEventListener("load",_,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&_()}),window.attachEvent("onload",_))}}(function(){if(!w.isClosed_){w.scriptTagHolder=new _a(function(){for(var Q=[],ie=0;ie<arguments.length;ie++)Q[ie]=arguments[ie];var ye=u.__read(Q,5),_e=ye[0],We=ye[1],nt=ye[2];if(w.incrementIncomingBytes_(Q),w.scriptTagHolder)if(w.connectTimeoutTimer_&&(clearTimeout(w.connectTimeoutTimer_),w.connectTimeoutTimer_=null),w.everConnected_=!0,"start"===_e)w.id=We,w.password=nt;else{if("close"!==_e)throw new Error("Unrecognized command received: "+_e);We?(w.scriptTagHolder.sendNewPolls=!1,w.myPacketOrderer.closeAfter(We,function(){w.onClosed_()})):w.onClosed_()}},function(){for(var Q=[],ie=0;ie<arguments.length;ie++)Q[ie]=arguments[ie];var ye=u.__read(Q,2),_e=ye[0],We=ye[1];w.incrementIncomingBytes_(Q),w.myPacketOrderer.handleResponse(_e,We)},function(){w.onClosed_()},w.urlFn);var M={start:"t"};M.ser=Math.floor(1e8*Math.random()),w.scriptTagHolder.uniqueCallbackIdentifier&&(M.cb=w.scriptTagHolder.uniqueCallbackIdentifier),M.v="5",w.transportSessionId&&(M.s=w.transportSessionId),w.lastSessionId&&(M.ls=w.lastSessionId),w.applicationId&&(M.p=w.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(un)&&(M.r="f");var P=w.urlFn(M);w.log_("Connecting via long-poll to "+P),w.scriptTagHolder.addTag(P,function(){})}})},v.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},v.forceAllow=function(){v.forceAllow_=!0},v.forceDisallow=function(){v.forceDisallow_=!0},v.isAvailable=function(){return!(ee.isNodeSdk()||!v.forceAllow_&&(v.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},v.prototype.markConnectionHealthy=function(){},v.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},v.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},v.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},v.prototype.send=function(h){var _=ee.stringify(h);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);for(var w=ee.base64Encode(_),M=Pe(w,1840),P=0;P<M.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,M.length,M[P]),this.curSegmentNum++},v.prototype.addDisconnectPingFrame=function(h,_){if(!ee.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var w={dframe:"t"};w.id=h,w.pw=_,this.myDisconnFrame.src=this.urlFn(w),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},v.prototype.incrementIncomingBytes_=function(h){var _=ee.stringify(h).length;this.bytesReceived+=_,this.stats_.incrementCounter("bytes_received",_)},v}(),_a=function(){function v(h,_,w,M){if(this.onDisconnect=w,this.urlFn=M,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,ee.isNodeSdk())this.commandCB=h,this.onMessageCB=_;else{this.uniqueCallbackIdentifier=it(),window["pLPCommand"+this.uniqueCallbackIdentifier]=h,window["pRTLPCB"+this.uniqueCallbackIdentifier]=_,this.myIFrame=v.createIFrame_();var P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(P='<script>document.domain="'+document.domain+'";<\/script>');var ie="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ie),this.myIFrame.doc.close()}catch(ye){Ft("frame writing exception"),ye.stack&&Ft(ye.stack),Ft(ye)}}}return v.createIFrame_=function(){var h=document.createElement("iframe");if(h.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(h);try{h.contentWindow.document||Ft("No IE domain setting required")}catch(M){var w=document.domain;h.src="javascript:void((function(){document.open();document.domain='"+w+"';document.close();})())"}return h.contentDocument?h.doc=h.contentDocument:h.contentWindow?h.doc=h.contentWindow.document:h.document&&(h.doc=h.document),h},v.prototype.close=function(){var h=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==h.myIFrame&&(document.body.removeChild(h.myIFrame),h.myIFrame=null)},Math.floor(0)));var _=this.onDisconnect;_&&(this.onDisconnect=null,_())},v.prototype.startLongPoll=function(h,_){for(this.myID=h,this.myPW=_,this.alive=!0;this.newRequest_(););},v.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var h={};h.id=this.myID,h.pw=this.myPW,h.ser=this.currentSerial;for(var _=this.urlFn(h),w="",M=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+w.length<=1870;){var Q=this.pendingSegs.shift();w=w+"&seg"+M+"="+Q.seg+"&ts"+M+"="+Q.ts+"&d"+M+"="+Q.d,M++}return this.addLongPollTag_(_+=w,this.currentSerial),!0}return!1},v.prototype.enqueueSegment=function(h,_,w){this.pendingSegs.push({seg:h,ts:_,d:w}),this.alive&&this.newRequest_()},v.prototype.addLongPollTag_=function(h,_){var w=this;this.outstandingRequests.add(_);var M=function(){w.outstandingRequests.delete(_),w.newRequest_()},P=setTimeout(M,Math.floor(25e3));this.addTag(h,function(){clearTimeout(P),M()})},v.prototype.addTag=function(h,_){var w=this;ee.isNodeSdk()?this.doNodeLongPoll(h,_):setTimeout(function(){try{if(!w.sendNewPolls)return;var M=w.myIFrame.doc.createElement("script");M.type="text/javascript",M.async=!0,M.src=h,M.onload=M.onreadystatechange=function(){var P=M.readyState;(!P||"loaded"===P||"complete"===P)&&(M.onload=M.onreadystatechange=null,M.parentNode&&M.parentNode.removeChild(M),_())},M.onerror=function(){Ft("Long-poll script failed to load: "+h),w.sendNewPolls=!1,w.close()},w.myIFrame.doc.body.appendChild(M)}catch(P){}},Math.floor(1))},v}(),Si="",tr=null;"undefined"!=typeof MozWebSocket?tr=MozWebSocket:"undefined"!=typeof WebSocket&&(tr=WebSocket);var di=function(){function v(h,_,w,M,P){this.connId=h,this.applicationId=w,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kt(this.connId),this.stats_=H.getCollection(_),this.connURL=v.connectionURL_(_,M,P),this.nodeAdmin=_.nodeAdmin}return v.connectionURL_=function(h,_,w){var M={v:"5"};return!ee.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(un)&&(M.r="f"),_&&(M.s=_),w&&(M.ls=w),h.connectionURL(cr,M)},v.prototype.open=function(h,_){var w=this;this.onDisconnect=_,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Te.set("previous_websocket_failure",!0);try{if(ee.isNodeSdk()){var P={headers:{"User-Agent":"Firebase/5/"+Si+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},Q=process.env,ie=0===this.connURL.indexOf("wss://")?Q.HTTPS_PROXY||Q.https_proxy:Q.HTTP_PROXY||Q.http_proxy;ie&&(P.proxy={origin:ie}),this.mySock=new tr(this.connURL,[],P)}else this.mySock=new tr(this.connURL,[],P={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(_e){this.log_("Error instantiating WebSocket.");var ye=_e.message||_e.data;return ye&&this.log_(ye),void this.onClosed_()}this.mySock.onopen=function(){w.log_("Websocket connected."),w.everConnected_=!0},this.mySock.onclose=function(){w.log_("Websocket connection was disconnected."),w.mySock=null,w.onClosed_()},this.mySock.onmessage=function(_e){w.handleIncomingFrame(_e)},this.mySock.onerror=function(_e){w.log_("WebSocket error.  Closing connection.");var We=_e.message||_e.data;We&&w.log_(We),w.onClosed_()}},v.prototype.start=function(){},v.forceDisallow=function(){v.forceDisallow_=!0},v.isAvailable=function(){var h=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var w=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);w&&w.length>1&&parseFloat(w[1])<4.4&&(h=!0)}return!h&&null!==tr&&!v.forceDisallow_},v.previouslyFailed=function(){return Te.isInMemoryStorage||!0===Te.get("previous_websocket_failure")},v.prototype.markConnectionHealthy=function(){Te.remove("previous_websocket_failure")},v.prototype.appendFrame_=function(h){if(this.frames.push(h),this.frames.length===this.totalFrames){var _=this.frames.join("");this.frames=null;var w=ee.jsonEval(_);this.onMessage(w)}},v.prototype.handleNewFrameCount_=function(h){this.totalFrames=h,this.frames=[]},v.prototype.extractFrameCount_=function(h){if(ee.assert(null===this.frames,"We already have a frame buffer"),h.length<=6){var _=Number(h);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),h},v.prototype.handleIncomingFrame=function(h){if(null!==this.mySock){var _=h.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{var w=this.extractFrameCount_(_);null!==w&&this.appendFrame_(w)}}},v.prototype.send=function(h){this.resetKeepAlive();var _=ee.stringify(h);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);var w=Pe(_,16384);w.length>1&&this.sendString_(String(w.length));for(var M=0;M<w.length;M++)this.sendString_(w[M])},v.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},v.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},v.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},v.prototype.resetKeepAlive=function(){var h=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){h.mySock&&h.sendString_("0"),h.resetKeepAlive()},Math.floor(45e3))},v.prototype.sendString_=function(h){try{this.mySock.send(h)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},v.responsesRequiredToBeHealthy=2,v.healthyTimeout=3e4,v}(),wi=function(){function v(h){this.initTransports_(h)}return Object.defineProperty(v,"ALL_TRANSPORTS",{get:function(){return[$o,di]},enumerable:!1,configurable:!0}),v.prototype.initTransports_=function(h){var _,w,M=di&&di.isAvailable(),P=M&&!di.previouslyFailed();if(h.webSocketOnly&&(M||Lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),P=!0),P)this.transports_=[di];else{var Q=this.transports_=[];try{for(var ie=u.__values(v.ALL_TRANSPORTS),ye=ie.next();!ye.done;ye=ie.next()){var _e=ye.value;_e&&_e.isAvailable()&&Q.push(_e)}}catch(We){_={error:We}}finally{try{ye&&!ye.done&&(w=ie.return)&&w.call(ie)}finally{if(_)throw _.error}}}},v.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},v.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},v}(),ks=function(){function v(h,_,w,M,P,Q,ie,ye){this.id=h,this.repoInfo_=_,this.applicationId_=w,this.onMessage_=M,this.onReady_=P,this.onDisconnect_=Q,this.onKill_=ie,this.lastSessionId=ye,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kt("c:"+this.id+":"),this.transportManager_=new wi(_),this.log_("Connection created"),this.start_()}return v.prototype.start_=function(){var h=this,_=this.transportManager_.initialTransport();this.conn_=new _(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=_.responsesRequiredToBeHealthy||0;var w=this.connReceiver_(this.conn_),M=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){h.conn_&&h.conn_.open(w,M)},Math.floor(0));var P=_.healthyTimeout||0;P>0&&(this.healthyTimeout_=Rn(function(){h.healthyTimeout_=null,h.isHealthy_||(h.conn_&&h.conn_.bytesReceived>102400?(h.log_("Connection exceeded healthy timeout but has received "+h.conn_.bytesReceived+" bytes.  Marking connection healthy."),h.isHealthy_=!0,h.conn_.markConnectionHealthy()):h.conn_&&h.conn_.bytesSent>10240?h.log_("Connection exceeded healthy timeout but has sent "+h.conn_.bytesSent+" bytes.  Leaving connection alive."):(h.log_("Closing unhealthy connection after timeout."),h.close()))},Math.floor(P)))},v.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},v.prototype.disconnReceiver_=function(h){var _=this;return function(w){h===_.conn_?_.onConnectionLost_(w):h===_.secondaryConn_?(_.log_("Secondary connection lost."),_.onSecondaryConnectionLost_()):_.log_("closing an old connection")}},v.prototype.connReceiver_=function(h){var _=this;return function(w){2!==_.state_&&(h===_.rx_?_.onPrimaryMessageReceived_(w):h===_.secondaryConn_?_.onSecondaryMessageReceived_(w):_.log_("message on old connection"))}},v.prototype.sendRequest=function(h){this.sendData_({t:"d",d:h})},v.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},v.prototype.onSecondaryControl_=function(h){if("t"in h){var _=h.t;"a"===_?this.upgradeIfSecondaryHealthy_():"r"===_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},v.prototype.onSecondaryMessageReceived_=function(h){var _=Le("t",h),w=Le("d",h);if("c"===_)this.onSecondaryControl_(w);else{if("d"!==_)throw new Error("Unknown protocol layer: "+_);this.pendingDataMessages.push(w)}},v.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},v.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},v.prototype.onPrimaryMessageReceived_=function(h){var _=Le("t",h),w=Le("d",h);"c"===_?this.onControl_(w):"d"===_&&this.onDataMessage_(w)},v.prototype.onDataMessage_=function(h){this.onPrimaryResponse_(),this.onMessage_(h)},v.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},v.prototype.onControl_=function(h){var _=Le("t",h);if("d"in h){var w=h.d;if("h"===_)this.onHandshake_(w);else if("n"===_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var M=0;M<this.pendingDataMessages.length;++M)this.onDataMessage_(this.pendingDataMessages[M]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===_?this.onConnectionShutdown_(w):"r"===_?this.onReset_(w):"e"===_?Pn("Server Error: "+w):"o"===_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pn("Unknown control packet command: "+_)}},v.prototype.onHandshake_=function(h){var _=h.ts,w=h.v,M=h.h;this.sessionId=h.s,this.repoInfo_.updateHost(M),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,_),"5"!==w&&Lt("Protocol version mismatch detected"),this.tryStartUpgrade_())},v.prototype.tryStartUpgrade_=function(){var h=this.transportManager_.upgradeTransport();h&&this.startUpgrade_(h)},v.prototype.startUpgrade_=function(h){var _=this;this.secondaryConn_=new h(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=h.responsesRequiredToBeHealthy||0;var w=this.connReceiver_(this.secondaryConn_),M=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(w,M),Rn(function(){_.secondaryConn_&&(_.log_("Timed out trying to upgrade."),_.secondaryConn_.close())},Math.floor(6e4))},v.prototype.onReset_=function(h){this.log_("Reset packet received.  New host: "+h),this.repoInfo_.updateHost(h),1===this.state_?this.close():(this.closeConnections_(),this.start_())},v.prototype.onConnectionEstablished_=function(h,_){var w=this;this.log_("Realtime connection established."),this.conn_=h,this.state_=1,this.onReady_&&(this.onReady_(_,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rn(function(){w.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},v.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},v.prototype.onSecondaryConnectionLost_=function(){var h=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===h||this.rx_===h)&&this.close()},v.prototype.onConnectionLost_=function(h){this.conn_=null,h||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Te.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},v.prototype.onConnectionShutdown_=function(h){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(h),this.onKill_=null),this.onDisconnect_=null,this.close()},v.prototype.sendData_=function(h){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(h)},v.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},v.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},v}(),na=function(){function v(){}return v.prototype.put=function(h,_,w,M){},v.prototype.merge=function(h,_,w,M){},v.prototype.refreshAuthToken=function(h){},v.prototype.onDisconnectPut=function(h,_,w){},v.prototype.onDisconnectMerge=function(h,_,w){},v.prototype.onDisconnectCancel=function(h,_){},v.prototype.reportStats=function(h){},v}(),Hr=1e3,nr=function(v){function h(_,w,M,P,Q,ie,ye){var _e=v.call(this)||this;if(_e.repoInfo_=_,_e.applicationId_=w,_e.onDataUpdate_=M,_e.onConnectStatus_=P,_e.onServerInfoUpdate_=Q,_e.authTokenProvider_=ie,_e.authOverride_=ye,_e.id=h.nextPersistentConnectionId_++,_e.log_=kt("p:"+_e.id+":"),_e.interruptReasons_={},_e.listens=new Map,_e.outstandingPuts_=[],_e.outstandingPutCount_=0,_e.onDisconnectRequestQueue_=[],_e.connected_=!1,_e.reconnectDelay_=Hr,_e.maxReconnectDelay_=3e5,_e.securityDebugCallback_=null,_e.lastSessionId=null,_e.establishConnectionTimer_=null,_e.visible_=!1,_e.requestCBHash_={},_e.requestNumber_=0,_e.realtime_=null,_e.authToken_=null,_e.forceTokenRefresh_=!1,_e.invalidAuthTokenCount_=0,_e.firstConnection_=!0,_e.lastConnectionAttemptTime_=null,_e.lastConnectionEstablishedTime_=null,ye&&!ee.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return _e.scheduleConnect_(0),Se.getInstance().on("visible",_e.onVisible_,_e),-1===_.host.indexOf("fblocal")&&ct.getInstance().on("online",_e.onOnline_,_e),_e}return u.__extends(h,v),h.prototype.sendRequest=function(_,w,M){var P=++this.requestNumber_,Q={r:P,a:_,b:w};this.log_(ee.stringify(Q)),ee.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(Q),M&&(this.requestCBHash_[P]=M)},h.prototype.listen=function(_,w,M,P){var Q=_.queryIdentifier(),ie=_.path.toString();this.log_("Listen called for "+ie+" "+Q),this.listens.has(ie)||this.listens.set(ie,new Map),ee.assert(_.getQueryParams().isDefault()||!_.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),ee.assert(!this.listens.get(ie).has(Q),"listen() called twice for same path/queryId.");var ye={onComplete:P,hashFn:w,query:_,tag:M};this.listens.get(ie).set(Q,ye),this.connected_&&this.sendListen_(ye)},h.prototype.sendListen_=function(_){var w=this,M=_.query,P=M.path.toString(),Q=M.queryIdentifier();this.log_("Listen on "+P+" for "+Q);var ie={p:P};_.tag&&(ie.q=M.queryObject(),ie.t=_.tag),ie.h=_.hashFn(),this.sendRequest("q",ie,function(_e){var We=_e.d,nt=_e.s;h.warnOnListenWarnings_(We,M),(w.listens.get(P)&&w.listens.get(P).get(Q))===_&&(w.log_("listen response",_e),"ok"!==nt&&w.removeListen_(P,Q),_.onComplete&&_.onComplete(nt,We))})},h.warnOnListenWarnings_=function(_,w){if(_&&"object"==typeof _&&ee.contains(_,"w")){var M=ee.safeGet(_,"w");if(Array.isArray(M)&&~M.indexOf("no_index")){var P='".indexOn": "'+w.getQueryParams().getIndex().toString()+'"',Q=w.path.toString();Lt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+P+" at "+Q+" to your security rules for better performance.")}}},h.prototype.refreshAuthToken=function(_){this.authToken_=_,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(_)},h.prototype.reduceReconnectDelayIfAdminCredential_=function(_){(_&&40===_.length||ee.isAdmin(_))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},h.prototype.tryAuth=function(){var _=this;if(this.connected_&&this.authToken_){var w=this.authToken_,M=ee.isValidFormat(w)?"auth":"gauth",P={cred:w};null===this.authOverride_?P.noauth=!0:"object"==typeof this.authOverride_&&(P.authvar=this.authOverride_),this.sendRequest(M,P,function(Q){var ie=Q.s,ye=Q.d||"error";_.authToken_===w&&("ok"===ie?_.invalidAuthTokenCount_=0:_.onAuthRevoked_(ie,ye))})}},h.prototype.unlisten=function(_,w){var M=_.path.toString(),P=_.queryIdentifier();this.log_("Unlisten called for "+M+" "+P),ee.assert(_.getQueryParams().isDefault()||!_.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(M,P)&&this.connected_&&this.sendUnlisten_(M,P,_.queryObject(),w)},h.prototype.sendUnlisten_=function(_,w,M,P){this.log_("Unlisten on "+_+" for "+w);var Q={p:_};P&&(Q.q=M,Q.t=P),this.sendRequest("n",Q)},h.prototype.onDisconnectPut=function(_,w,M){this.connected_?this.sendOnDisconnect_("o",_,w,M):this.onDisconnectRequestQueue_.push({pathString:_,action:"o",data:w,onComplete:M})},h.prototype.onDisconnectMerge=function(_,w,M){this.connected_?this.sendOnDisconnect_("om",_,w,M):this.onDisconnectRequestQueue_.push({pathString:_,action:"om",data:w,onComplete:M})},h.prototype.onDisconnectCancel=function(_,w){this.connected_?this.sendOnDisconnect_("oc",_,null,w):this.onDisconnectRequestQueue_.push({pathString:_,action:"oc",data:null,onComplete:w})},h.prototype.sendOnDisconnect_=function(_,w,M,P){var Q={p:w,d:M};this.log_("onDisconnect "+_,Q),this.sendRequest(_,Q,function(ie){P&&setTimeout(function(){P(ie.s,ie.d)},Math.floor(0))})},h.prototype.put=function(_,w,M,P){this.putInternal("p",_,w,M,P)},h.prototype.merge=function(_,w,M,P){this.putInternal("m",_,w,M,P)},h.prototype.putInternal=function(_,w,M,P,Q){var ie={p:w,d:M};void 0!==Q&&(ie.h=Q),this.outstandingPuts_.push({action:_,request:ie,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+w)},h.prototype.sendPut_=function(_){var w=this,M=this.outstandingPuts_[_].action,P=this.outstandingPuts_[_].request,Q=this.outstandingPuts_[_].onComplete;this.outstandingPuts_[_].queued=this.connected_,this.sendRequest(M,P,function(ie){w.log_(M+" response",ie),delete w.outstandingPuts_[_],w.outstandingPutCount_--,0===w.outstandingPutCount_&&(w.outstandingPuts_=[]),Q&&Q(ie.s,ie.d)})},h.prototype.reportStats=function(_){var w=this;if(this.connected_){var M={c:_};this.log_("reportStats",M),this.sendRequest("s",M,function(P){"ok"!==P.s&&w.log_("reportStats","Error sending stats: "+P.d)})}},h.prototype.onDataMessage_=function(_){if("r"in _){this.log_("from server: "+ee.stringify(_));var w=_.r,M=this.requestCBHash_[w];M&&(delete this.requestCBHash_[w],M(_.b))}else{if("error"in _)throw"A server-side error has occurred: "+_.error;"a"in _&&this.onDataPush_(_.a,_.b)}},h.prototype.onDataPush_=function(_,w){this.log_("handleServerMessage",_,w),"d"===_?this.onDataUpdate_(w.p,w.d,!1,w.t):"m"===_?this.onDataUpdate_(w.p,w.d,!0,w.t):"c"===_?this.onListenRevoked_(w.p,w.q):"ac"===_?this.onAuthRevoked_(w.s,w.d):"sd"===_?this.onSecurityDebugPacket_(w):Pn("Unrecognized action received from server: "+ee.stringify(_)+"\nAre you using the latest client?")},h.prototype.onReady_=function(_,w){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(_),this.lastSessionId=w,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},h.prototype.scheduleConnect_=function(_){var w=this;ee.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){w.establishConnectionTimer_=null,w.establishConnection_()},Math.floor(_))},h.prototype.onVisible_=function(_){_&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hr,this.realtime_||this.scheduleConnect_(0)),this.visible_=_},h.prototype.onOnline_=function(_){_?(this.log_("Browser went online."),this.reconnectDelay_=Hr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},h.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var w=(new Date).getTime()-this.lastConnectionAttemptTime_,M=Math.max(0,this.reconnectDelay_-w);M=Math.random()*M,this.log_("Trying to reconnect in "+M+"ms"),this.scheduleConnect_(M),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},h.prototype.establishConnection_=function(){var _=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var w=this.onDataMessage_.bind(this),M=this.onReady_.bind(this),P=this.onRealtimeDisconnect_.bind(this),Q=this.id+":"+h.nextConnectionId_++,ie=this,ye=this.lastSessionId,_e=!1,We=null,nt=function(){We?We.close():(_e=!0,P())};this.realtime_={close:nt,sendRequest:function(S){ee.assert(We,"sendRequest call when we're not connected not allowed."),We.sendRequest(S)}};var N=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(N).then(function(S){_e?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),ie.authToken_=S&&S.accessToken,We=new ks(Q,ie.repoInfo_,ie.applicationId_,w,M,P,function(B){Lt(B+" ("+ie.repoInfo_.toString()+")"),ie.interrupt("server_kill")},ye))}).then(null,function(S){ie.log_("Failed to get token: "+S),_e||(_.repoInfo_.nodeAdmin&&Lt(S),nt())})}},h.prototype.interrupt=function(_){Ft("Interrupting connection for reason: "+_),this.interruptReasons_[_]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},h.prototype.resume=function(_){Ft("Resuming connection for reason: "+_),delete this.interruptReasons_[_],ee.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Hr,this.realtime_||this.scheduleConnect_(0))},h.prototype.handleTimestamp_=function(_){var w=_-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:w})},h.prototype.cancelSentTransactions_=function(){for(var _=0;_<this.outstandingPuts_.length;_++){var w=this.outstandingPuts_[_];w&&"h"in w.request&&w.queued&&(w.onComplete&&w.onComplete("disconnect"),delete this.outstandingPuts_[_],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},h.prototype.onListenRevoked_=function(_,w){var M;M=w?w.map(function(Q){return Pt(Q)}).join("$"):"default";var P=this.removeListen_(_,M);P&&P.onComplete&&P.onComplete("permission_denied")},h.prototype.removeListen_=function(_,w){var P,M=new Et(_).toString();if(this.listens.has(M)){var Q=this.listens.get(M);P=Q.get(w),Q.delete(w),0===Q.size&&this.listens.delete(M)}else P=void 0;return P},h.prototype.onAuthRevoked_=function(_,w){Ft("Auth token revoked: "+_+"/"+w),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===_||"permission_denied"===_)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},h.prototype.onSecurityDebugPacket_=function(_){this.securityDebugCallback_?this.securityDebugCallback_(_):"msg"in _&&console.log("FIREBASE: "+_.msg.replace("\n","\nFIREBASE: "))},h.prototype.restoreState_=function(){var _,w,M,P;this.tryAuth();try{for(var Q=u.__values(this.listens.values()),ie=Q.next();!ie.done;ie=Q.next()){var ye=ie.value;try{for(var _e=(M=void 0,u.__values(ye.values())),We=_e.next();!We.done;We=_e.next())this.sendListen_(We.value)}catch(S){M={error:S}}finally{try{We&&!We.done&&(P=_e.return)&&P.call(_e)}finally{if(M)throw M.error}}}}catch(S){_={error:S}}finally{try{ie&&!ie.done&&(w=Q.return)&&w.call(Q)}finally{if(_)throw _.error}}for(var x=0;x<this.outstandingPuts_.length;x++)this.outstandingPuts_[x]&&this.sendPut_(x);for(;this.onDisconnectRequestQueue_.length;){var N=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(N.action,N.pathString,N.data,N.onComplete)}},h.prototype.sendConnectStats_=function(){var _={},w="js";ee.isNodeSdk()&&(w=this.repoInfo_.nodeAdmin?"admin_node":"node"),_["sdk."+w+"."+Si.replace(/\./g,"-")]=1,ee.isMobileCordova()?_["framework.cordova"]=1:ee.isReactNative()&&(_["framework.reactnative"]=1),this.reportStats(_)},h.prototype.shouldReconnect_=function(){var _=ct.getInstance().currentlyOnline();return ee.isEmpty(this.interruptReasons_)&&_},h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h}(na),Or=function(v){function h(_,w,M){var P=v.call(this)||this;return P.repoInfo_=_,P.onDataUpdate_=w,P.authTokenProvider_=M,P.log_=kt("p:rest:"),P.listens_={},P}return u.__extends(h,v),h.prototype.reportStats=function(_){throw new Error("Method not implemented.")},h.getListenId_=function(_,w){return void 0!==w?"tag$"+w:(ee.assert(_.getQueryParams().isDefault(),"should have a tag if it's not a default query."),_.path.toString())},h.prototype.listen=function(_,w,M,P){var Q=this,ie=_.path.toString();this.log_("Listen called for "+ie+" "+_.queryIdentifier());var ye=h.getListenId_(_,M),_e={};this.listens_[ye]=_e;var We=_.getQueryParams().toRestQueryStringParameters();this.restRequest_(ie+".json",We,function(nt,x){var N=x;404===nt&&(N=null,nt=null),null===nt&&Q.onDataUpdate_(ie,N,!1,M),ee.safeGet(Q.listens_,ye)===_e&&P(nt?401===nt?"permission_denied":"rest_error:"+nt:"ok",null)})},h.prototype.unlisten=function(_,w){var M=h.getListenId_(_,w);delete this.listens_[M]},h.prototype.refreshAuthToken=function(_){},h.prototype.restRequest_=function(_,w,M){var P=this;void 0===w&&(w={}),w.format="export",this.authTokenProvider_.getToken(!1).then(function(Q){var ie=Q&&Q.accessToken;ie&&(w.auth=ie);var ye=(P.repoInfo_.secure?"https://":"http://")+P.repoInfo_.host+_+"?ns="+P.repoInfo_.namespace+ee.querystring(w);P.log_("Sending REST request for "+ye);var _e=new XMLHttpRequest;_e.onreadystatechange=function(){if(M&&4===_e.readyState){P.log_("REST Response for "+ye+" received. status:",_e.status,"response:",_e.responseText);var We=null;if(_e.status>=200&&_e.status<300){try{We=ee.jsonEval(_e.responseText)}catch(nt){Lt("Failed to parse JSON response for "+ye+": "+_e.responseText)}M(null,We)}else 401!==_e.status&&404!==_e.status&&Lt("Got unsuccessful REST response for "+ye+" Status: "+_e.status),M(_e.status);M=null}},_e.open("GET",ye,!0),_e.send()})},h}(na),Ct="repo_interrupt",pr=function(){function v(h,_,w,M){var P=this;if(this.repoInfo_=h,this.app=w,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new re,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Ao,this.persistentConnection_=null,this.stats_=H.getCollection(h),_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Or(this.repoInfo_,this.onDataUpdate_.bind(this),M),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var Q=w.options.databaseAuthVariableOverride;if(null!=Q){if("object"!=typeof Q)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ee.stringify(Q)}catch(ie){throw new Error("Invalid authOverride provided: "+ie)}}this.persistentConnection_=new nr(this.repoInfo_,w.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),M,Q),this.server_=this.persistentConnection_}M.addTokenChangeListener(function(ie){P.server_.refreshAuthToken(ie)}),this.statsReporter_=H.getOrCreateReporter(h,function(){return new j(P.stats_,P.server_)}),this.transactionsInit_(),this.infoData_=new jr,this.infoSyncTree_=new qs({startListening:function(ie,ye,_e,We){var nt=[],x=P.infoData_.getNode(ie.path);return x.isEmpty()||(nt=P.infoSyncTree_.applyServerOverwrite(ie.path,x),setTimeout(function(){We("ok")},0)),nt},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new qs({startListening:function(ie,ye,_e,We){return P.server_.listen(ie,_e,ye,function(nt,x){var N=We(nt,x);P.eventQueue_.raiseEventsForChangedPath(ie.path,N)}),[]},stopListening:function(ie,ye){P.server_.unlisten(ie,ye)}})}return v.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},v.prototype.name=function(){return this.repoInfo_.namespace},v.prototype.serverTime=function(){var _=this.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+_},v.prototype.generateServerValues=function(){return function(v){return(v=v||{}).timestamp=v.timestamp||(new Date).getTime(),v}({timestamp:this.serverTime()})},v.prototype.onDataUpdate_=function(h,_,w,M){this.dataUpdateCount++;var P=new Et(h);_=this.interceptServerDataCallback_?this.interceptServerDataCallback_(h,_):_;var Q=[];if(M)if(w){var ie=ee.map(_,function(x){return Sn(x)});Q=this.serverSyncTree_.applyTaggedQueryMerge(P,ie,M)}else{var ye=Sn(_);Q=this.serverSyncTree_.applyTaggedQueryOverwrite(P,ye,M)}else if(w){var _e=ee.map(_,function(x){return Sn(x)});Q=this.serverSyncTree_.applyServerMerge(P,_e)}else{var We=Sn(_);Q=this.serverSyncTree_.applyServerOverwrite(P,We)}var nt=P;Q.length>0&&(nt=this.rerunTransactions_(P)),this.eventQueue_.raiseEventsForChangedPath(nt,Q)},v.prototype.interceptServerData_=function(h){this.interceptServerDataCallback_=h},v.prototype.onConnectStatus_=function(h){this.updateInfo_("connected",h),!1===h&&this.runOnDisconnectEvents_()},v.prototype.onServerInfoUpdate_=function(h){var _=this;pt(h,function(w,M){_.updateInfo_(w,M)})},v.prototype.updateInfo_=function(h,_){var w=new Et("/.info/"+h),M=Sn(_);this.infoData_.updateSnapshot(w,M);var P=this.infoSyncTree_.applyServerOverwrite(w,M);this.eventQueue_.raiseEventsForChangedPath(w,P)},v.prototype.getNextWriteId_=function(){return this.nextWriteId_++},v.prototype.setWithPriority=function(h,_,w,M){var P=this;this.log_("set",{path:h.toString(),value:_,priority:w});var Q=this.generateServerValues(),ie=Sn(_,w),ye=this.serverSyncTree_.calcCompleteEventCache(h),_e=si(ie,ye,Q),We=this.getNextWriteId_(),nt=this.serverSyncTree_.applyUserOverwrite(h,_e,We,!0);this.eventQueue_.queueEvents(nt),this.server_.put(h.toString(),ie.val(!0),function(N,S){var B="ok"===N;B||Lt("set at "+h+" failed: "+N);var q=P.serverSyncTree_.ackUserWrite(We,!B);P.eventQueue_.raiseEventsForChangedPath(h,q),P.callOnCompleteCallback(M,N,S)});var x=this.abortTransactions_(h);this.rerunTransactions_(x),this.eventQueue_.raiseEventsForChangedPath(x,[])},v.prototype.update=function(h,_,w){var M=this;this.log_("update",{path:h.toString(),value:_});var P=!0,Q=this.generateServerValues(),ie={};if(pt(_,function(We,nt){P=!1,ie[We]=bi(h.child(We),Sn(nt),M.serverSyncTree_,Q)}),P)Ft("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(w,"ok");else{var ye=this.getNextWriteId_(),_e=this.serverSyncTree_.applyUserMerge(h,ie,ye);this.eventQueue_.queueEvents(_e),this.server_.merge(h.toString(),_,function(We,nt){var x="ok"===We;x||Lt("update at "+h+" failed: "+We);var N=M.serverSyncTree_.ackUserWrite(ye,!x),S=N.length>0?M.rerunTransactions_(h):h;M.eventQueue_.raiseEventsForChangedPath(S,N),M.callOnCompleteCallback(w,We,nt)}),pt(_,function(We){var nt=M.abortTransactions_(h.child(We));M.rerunTransactions_(nt)}),this.eventQueue_.raiseEventsForChangedPath(h,[])}},v.prototype.runOnDisconnectEvents_=function(){var h=this;this.log_("onDisconnectEvents");var _=this.generateServerValues(),w=new Ao;this.onDisconnect_.forEachTree(Et.Empty,function(P,Q){var ie=bi(P,Q,h.serverSyncTree_,_);w.remember(P,ie)});var M=[];w.forEachTree(Et.Empty,function(P,Q){M=M.concat(h.serverSyncTree_.applyServerOverwrite(P,Q));var ie=h.abortTransactions_(P);h.rerunTransactions_(ie)}),this.onDisconnect_=new Ao,this.eventQueue_.raiseEventsForChangedPath(Et.Empty,M)},v.prototype.onDisconnectCancel=function(h,_){var w=this;this.server_.onDisconnectCancel(h.toString(),function(M,P){"ok"===M&&w.onDisconnect_.forget(h),w.callOnCompleteCallback(_,M,P)})},v.prototype.onDisconnectSet=function(h,_,w){var M=this,P=Sn(_);this.server_.onDisconnectPut(h.toString(),P.val(!0),function(Q,ie){"ok"===Q&&M.onDisconnect_.remember(h,P),M.callOnCompleteCallback(w,Q,ie)})},v.prototype.onDisconnectSetWithPriority=function(h,_,w,M){var P=this,Q=Sn(_,w);this.server_.onDisconnectPut(h.toString(),Q.val(!0),function(ie,ye){"ok"===ie&&P.onDisconnect_.remember(h,Q),P.callOnCompleteCallback(M,ie,ye)})},v.prototype.onDisconnectUpdate=function(h,_,w){var M=this;if(ee.isEmpty(_))return Ft("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(w,"ok");this.server_.onDisconnectMerge(h.toString(),_,function(P,Q){"ok"===P&&pt(_,function(ie,ye){var _e=Sn(ye);M.onDisconnect_.remember(h.child(ie),_e)}),M.callOnCompleteCallback(w,P,Q)})},v.prototype.addEventCallbackForQuery=function(h,_){var w;w=".info"===h.path.getFront()?this.infoSyncTree_.addEventRegistration(h,_):this.serverSyncTree_.addEventRegistration(h,_),this.eventQueue_.raiseEventsAtPath(h.path,w)},v.prototype.removeEventCallbackForQuery=function(h,_){var w;w=".info"===h.path.getFront()?this.infoSyncTree_.removeEventRegistration(h,_):this.serverSyncTree_.removeEventRegistration(h,_),this.eventQueue_.raiseEventsAtPath(h.path,w)},v.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Ct)},v.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Ct)},v.prototype.stats=function(h){if(void 0===h&&(h=!1),"undefined"!=typeof console){var _;h?(this.statsListener_||(this.statsListener_=new F(this.stats_)),_=this.statsListener_.get()):_=this.stats_.get();var w=Object.keys(_).reduce(function(M,P){return Math.max(P.length,M)},0);pt(_,function(M,P){for(var Q=M,ie=M.length;ie<w+2;ie++)Q+=" ";console.log(Q+P)})}},v.prototype.statsIncrementCounter=function(h){this.stats_.incrementCounter(h),this.statsReporter_.includeStat(h)},v.prototype.log_=function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];var w="";this.persistentConnection_&&(w=this.persistentConnection_.id+":"),Ft.apply(void 0,u.__spread([w],h))},v.prototype.callOnCompleteCallback=function(h,_,w){h&&pn(function(){if("ok"===_)h(null);else{var M=(_||"error").toUpperCase(),P=M;w&&(P+=": "+w);var Q=new Error(P);Q.code=M,h(Q)}})},Object.defineProperty(v.prototype,"database",{get:function(){return this.__database||(this.__database=new Xe(this))},enumerable:!1,configurable:!0}),v}(),is=function(){function v(h){this.indexedFilter_=new Go(h.getIndex()),this.index_=h.getIndex(),this.startPost_=v.getStartPost_(h),this.endPost_=v.getEndPost_(h)}return v.prototype.getStartPost=function(){return this.startPost_},v.prototype.getEndPost=function(){return this.endPost_},v.prototype.matches=function(h){return this.index_.compare(this.getStartPost(),h)<=0&&this.index_.compare(h,this.getEndPost())<=0},v.prototype.updateChild=function(h,_,w,M,P,Q){return this.matches(new sn(_,w))||(w=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(h,_,w,M,P,Q)},v.prototype.updateFullNode=function(h,_,w){_.isLeafNode()&&(_=Kt.EMPTY_NODE);var M=_.withIndex(this.index_);M=M.updatePriority(Kt.EMPTY_NODE);var P=this;return _.forEachChild(rn,function(Q,ie){P.matches(new sn(Q,ie))||(M=M.updateImmediateChild(Q,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(h,M,w)},v.prototype.updatePriority=function(h,_){return h},v.prototype.filtersNodes=function(){return!0},v.prototype.getIndexedFilter=function(){return this.indexedFilter_},v.prototype.getIndex=function(){return this.index_},v.getStartPost_=function(h){if(h.hasStart()){var _=h.getIndexStartName();return h.getIndex().makePost(h.getIndexStartValue(),_)}return h.getIndex().minPost()},v.getEndPost_=function(h){if(h.hasEnd()){var _=h.getIndexEndName();return h.getIndex().makePost(h.getIndexEndValue(),_)}return h.getIndex().maxPost()},v}(),Ci=function(){function v(h){this.rangedFilter_=new is(h),this.index_=h.getIndex(),this.limit_=h.getLimit(),this.reverse_=!h.isViewFromLeft()}return v.prototype.updateChild=function(h,_,w,M,P,Q){return this.rangedFilter_.matches(new sn(_,w))||(w=Kt.EMPTY_NODE),h.getImmediateChild(_).equals(w)?h:h.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(h,_,w,M,P,Q):this.fullLimitUpdateChild_(h,_,w,P,Q)},v.prototype.updateFullNode=function(h,_,w){var M;if(_.isLeafNode()||_.isEmpty())M=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<_.numChildren()&&_.isIndexed(this.index_)){M=Kt.EMPTY_NODE.withIndex(this.index_);var P=void 0;P=this.reverse_?_.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):_.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var Q=0;P.hasNext()&&Q<this.limit_;){var ie=P.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ie)<=0:this.index_.compare(ie,this.rangedFilter_.getEndPost())<=0))break;M=M.updateImmediateChild(ie.name,ie.node),Q++}}else{M=(M=_.withIndex(this.index_)).updatePriority(Kt.EMPTY_NODE);var _e=void 0,We=void 0,nt=void 0;if(P=void 0,this.reverse_){P=M.getReverseIterator(this.index_),_e=this.rangedFilter_.getEndPost(),We=this.rangedFilter_.getStartPost();var x=this.index_.getCompare();nt=function(q,ne){return x(ne,q)}}else P=M.getIterator(this.index_),_e=this.rangedFilter_.getStartPost(),We=this.rangedFilter_.getEndPost(),nt=this.index_.getCompare();Q=0;for(var N=!1;P.hasNext();)ie=P.getNext(),!N&&nt(_e,ie)<=0&&(N=!0),N&&Q<this.limit_&&nt(ie,We)<=0?Q++:M=M.updateImmediateChild(ie.name,Kt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(h,M,w)},v.prototype.updatePriority=function(h,_){return h},v.prototype.filtersNodes=function(){return!0},v.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},v.prototype.getIndex=function(){return this.index_},v.prototype.fullLimitUpdateChild_=function(h,_,w,M,P){var Q;if(this.reverse_){var ie=this.index_.getCompare();Q=function(De,Fe){return ie(Fe,De)}}else Q=this.index_.getCompare();var ye=h;ee.assert(ye.numChildren()===this.limit_,"");var _e=new sn(_,w),We=this.reverse_?ye.getFirstChild(this.index_):ye.getLastChild(this.index_),nt=this.rangedFilter_.matches(_e);if(ye.hasChild(_)){for(var x=ye.getImmediateChild(_),N=M.getChildAfterChild(this.index_,We,this.reverse_);null!=N&&(N.name===_||ye.hasChild(N.name));)N=M.getChildAfterChild(this.index_,N,this.reverse_);var S=null==N?1:Q(N,_e);if(nt&&!w.isEmpty()&&S>=0)return null!=P&&P.trackChildChange(gn.childChangedChange(_,w,x)),ye.updateImmediateChild(_,w);null!=P&&P.trackChildChange(gn.childRemovedChange(_,x));var q=ye.updateImmediateChild(_,Kt.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(null!=P&&P.trackChildChange(gn.childAddedChange(N.name,N.node)),q.updateImmediateChild(N.name,N.node)):q}return w.isEmpty()?h:nt&&Q(We,_e)>=0?(null!=P&&(P.trackChildChange(gn.childRemovedChange(We.name,We.node)),P.trackChildChange(gn.childAddedChange(_,w))),ye.updateImmediateChild(_,w).updateImmediateChild(We.name,Kt.EMPTY_NODE)):h},v}(),qo=function(){function v(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}return v.prototype.hasStart=function(){return this.startSet_},v.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===v.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},v.prototype.getIndexStartValue=function(){return ee.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},v.prototype.getIndexStartName=function(){return ee.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:le},v.prototype.hasEnd=function(){return this.endSet_},v.prototype.getIndexEndValue=function(){return ee.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},v.prototype.getIndexEndName=function(){return ee.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:me},v.prototype.hasLimit=function(){return this.limitSet_},v.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},v.prototype.getLimit=function(){return ee.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},v.prototype.getIndex=function(){return this.index_},v.prototype.copy_=function(){var h=new v;return h.limitSet_=this.limitSet_,h.limit_=this.limit_,h.startSet_=this.startSet_,h.indexStartValue_=this.indexStartValue_,h.startNameSet_=this.startNameSet_,h.indexStartName_=this.indexStartName_,h.endSet_=this.endSet_,h.indexEndValue_=this.indexEndValue_,h.endNameSet_=this.endNameSet_,h.indexEndName_=this.indexEndName_,h.index_=this.index_,h.viewFrom_=this.viewFrom_,h},v.prototype.limit=function(h){var _=this.copy_();return _.limitSet_=!0,_.limit_=h,_.viewFrom_="",_},v.prototype.limitToFirst=function(h){var _=this.copy_();return _.limitSet_=!0,_.limit_=h,_.viewFrom_=v.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,_},v.prototype.limitToLast=function(h){var _=this.copy_();return _.limitSet_=!0,_.limit_=h,_.viewFrom_=v.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,_},v.prototype.startAt=function(h,_){var w=this.copy_();return w.startSet_=!0,void 0===h&&(h=null),w.indexStartValue_=h,null!=_?(w.startNameSet_=!0,w.indexStartName_=_):(w.startNameSet_=!1,w.indexStartName_=""),w},v.prototype.endAt=function(h,_){var w=this.copy_();return w.endSet_=!0,void 0===h&&(h=null),w.indexEndValue_=h,void 0!==_?(w.endNameSet_=!0,w.indexEndName_=_):(w.endNameSet_=!1,w.indexEndName_=""),w},v.prototype.orderBy=function(h){var _=this.copy_();return _.index_=h,_},v.prototype.getQueryObject=function(){var h=v.WIRE_PROTOCOL_CONSTANTS_,_={};if(this.startSet_&&(_[h.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(_[h.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(_[h.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(_[h.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){_[h.LIMIT]=this.limit_;var w=this.viewFrom_;""===w&&(w=this.isViewFromLeft()?h.VIEW_FROM_LEFT:h.VIEW_FROM_RIGHT),_[h.VIEW_FROM]=w}return this.index_!==rn&&(_[h.INDEX]=this.index_.toString()),_},v.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},v.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===rn},v.prototype.getNodeFilter=function(){return this.loadsAllData()?new Go(this.getIndex()):this.hasLimit()?new Ci(this):new is(this)},v.prototype.toRestQueryStringParameters=function(){var w,h=v.REST_QUERY_CONSTANTS_,_={};return this.isDefault()||(this.index_===rn?w=h.PRIORITY_INDEX:this.index_===Wr?w=h.VALUE_INDEX:this.index_===kn?w=h.KEY_INDEX:(ee.assert(this.index_ instanceof vi,"Unrecognized index type!"),w=this.index_.toString()),_[h.ORDER_BY]=ee.stringify(w),this.startSet_&&(_[h.START_AT]=ee.stringify(this.indexStartValue_),this.startNameSet_&&(_[h.START_AT]+=","+ee.stringify(this.indexStartName_))),this.endSet_&&(_[h.END_AT]=ee.stringify(this.indexEndValue_),this.endNameSet_&&(_[h.END_AT]+=","+ee.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?_[h.LIMIT_TO_FIRST]=this.limit_:_[h.LIMIT_TO_LAST]=this.limit_)),_},v.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},v.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},v.DEFAULT=new v,v}(),ar=function(v){function h(_,w){if(!(_ instanceof pr))throw new Error("new Reference() no longer supported - use app.database().");return v.call(this,_,w,qo.DEFAULT,!1)||this}return u.__extends(h,v),h.prototype.getKey=function(){return ee.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},h.prototype.child=function(_){return ee.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof _?_=String(_):_ instanceof Et||(null===this.path.getFront()?oo("Reference.child",1,_,!1):Fn("Reference.child",1,_,!1)),new h(this.repo,this.path.child(_))},h.prototype.getParent=function(){ee.validateArgCount("Reference.parent",0,0,arguments.length);var _=this.path.parent();return null===_?null:new h(this.repo,_)},h.prototype.getRoot=function(){ee.validateArgCount("Reference.root",0,0,arguments.length);for(var _=this;null!==_.getParent();)_=_.getParent();return _},h.prototype.databaseProp=function(){return this.repo.database},h.prototype.set=function(_,w){ee.validateArgCount("Reference.set",1,2,arguments.length),mr("Reference.set",this.path),Vt("Reference.set",1,_,this.path,!1),ee.validateCallback("Reference.set",2,w,!0);var M=new ee.Deferred;return this.repo.setWithPriority(this.path,_,null,M.wrapCallback(w)),M.promise},h.prototype.update=function(_,w){if(ee.validateArgCount("Reference.update",1,2,arguments.length),mr("Reference.update",this.path),Array.isArray(_)){for(var M={},P=0;P<_.length;++P)M[""+P]=_[P];_=M,Lt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}an("Reference.update",1,_,this.path,!1),ee.validateCallback("Reference.update",2,w,!0);var Q=new ee.Deferred;return this.repo.update(this.path,_,Q.wrapCallback(w)),Q.promise},h.prototype.setWithPriority=function(_,w,M){if(ee.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mr("Reference.setWithPriority",this.path),Vt("Reference.setWithPriority",1,_,this.path,!1),Yt("Reference.setWithPriority",2,w,!1),ee.validateCallback("Reference.setWithPriority",3,M,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var P=new ee.Deferred;return this.repo.setWithPriority(this.path,_,w,P.wrapCallback(M)),P.promise},h.prototype.remove=function(_){return ee.validateArgCount("Reference.remove",0,1,arguments.length),mr("Reference.remove",this.path),ee.validateCallback("Reference.remove",1,_,!0),this.set(null,_)},h.prototype.transaction=function(_,w,M){if(ee.validateArgCount("Reference.transaction",1,3,arguments.length),mr("Reference.transaction",this.path),ee.validateCallback("Reference.transaction",1,_,!1),ee.validateCallback("Reference.transaction",2,w,!0),Wi("Reference.transaction",3,M,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===M&&(M=!0);var P=new ee.Deferred;"function"==typeof w&&P.promise.catch(function(){});var Q=function(ie,ye,_e){ie?P.reject(ie):P.resolve(new ei(ye,_e)),"function"==typeof w&&w(ie,ye,_e)};return this.repo.startTransaction(this.path,_,Q,M),P.promise},h.prototype.setPriority=function(_,w){ee.validateArgCount("Reference.setPriority",1,2,arguments.length),mr("Reference.setPriority",this.path),Yt("Reference.setPriority",1,_,!1),ee.validateCallback("Reference.setPriority",2,w,!0);var M=new ee.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),_,null,M.wrapCallback(w)),M.promise},h.prototype.push=function(_,w){ee.validateArgCount("Reference.push",0,2,arguments.length),mr("Reference.push",this.path),Vt("Reference.push",1,_,this.path,!0),ee.validateCallback("Reference.push",2,w,!0);var ye,M=this.repo.serverTime(),P=qi(M),Q=this.child(P),ie=this.child(P);return ye=null!=_?Q.set(_,w).then(function(){return ie}):Promise.resolve(ie),Q.then=ye.then.bind(ye),Q.catch=ye.then.bind(ye,void 0),"function"==typeof w&&ye.catch(function(){}),Q},h.prototype.onDisconnect=function(){return mr("Reference.onDisconnect",this.path),new ds(this.repo,this.path)},Object.defineProperty(h.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),h}(Qr);Qr.__referenceConstructor=ar,Eo.__referenceConstructor=ar;var zo=function(){this.children={},this.childCount=0,this.value=null},gr=function(){function v(h,_,w){void 0===h&&(h=""),void 0===_&&(_=null),void 0===w&&(w=new zo),this.name_=h,this.parent_=_,this.node_=w}return v.prototype.subTree=function(h){for(var _=h instanceof Et?h:new Et(h),w=this,M=_.getFront();null!==M;)w=new v(M,w,ee.safeGet(w.node_.children,M)||new zo),M=(_=_.popFront()).getFront();return w},v.prototype.getValue=function(){return this.node_.value},v.prototype.setValue=function(h){ee.assert(void 0!==h,"Cannot set value to undefined"),this.node_.value=h,this.updateParents_()},v.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},v.prototype.hasChildren=function(){return this.node_.childCount>0},v.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},v.prototype.forEachChild=function(h){var _=this;pt(this.node_.children,function(w,M){h(new v(w,_,M))})},v.prototype.forEachDescendant=function(h,_,w){_&&!w&&h(this),this.forEachChild(function(M){M.forEachDescendant(h,!0,w)}),_&&w&&h(this)},v.prototype.forEachAncestor=function(h,_){for(var w=_?this:this.parent();null!==w;){if(h(w))return!0;w=w.parent()}return!1},v.prototype.forEachImmediateDescendantWithValue=function(h){this.forEachChild(function(_){null!==_.getValue()?h(_):_.forEachImmediateDescendantWithValue(h)})},v.prototype.path=function(){return new Et(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},v.prototype.name=function(){return this.name_},v.prototype.parent=function(){return this.parent_},v.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},v.prototype.updateChild_=function(h,_){var w=_.isEmpty(),M=ee.contains(this.node_.children,h);w&&M?(delete this.node_.children[h],this.node_.childCount--,this.updateParents_()):!w&&!M&&(this.node_.children[h]=_.node_,this.node_.childCount++,this.updateParents_())},v}(),Vr=(()=>(function(v){v[v.RUN=0]="RUN",v[v.SENT=1]="SENT",v[v.COMPLETED=2]="COMPLETED",v[v.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",v[v.NEEDS_ABORT=4]="NEEDS_ABORT"}(Vr||(Vr={})),Vr))();pr.MAX_TRANSACTION_RETRIES_=25,pr.prototype.transactionsInit_=function(){this.transactionQueueTree_=new gr},pr.prototype.startTransaction=function(v,h,_,w){this.log_("transaction on "+v);var M=function(){},P=new ar(this,v);P.on("value",M);var ie={path:v,update:h,onComplete:_,status:null,order:it(),applyLocally:w,retryCount:0,unwatcher:function(){P.off("value",M)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ye=this.getLatestState_(v);ie.currentInputSnapshot=ye;var _e=ie.update(ye.val());if(void 0===_e){if(ie.unwatcher(),ie.currentOutputSnapshotRaw=null,ie.currentOutputSnapshotResolved=null,ie.onComplete){var We=new or(ie.currentInputSnapshot,new ar(this,ie.path),rn);ie.onComplete(null,!1,We)}}else{Jt("transaction failed: Data returned ",_e,ie.path),ie.status=Vr.RUN;var nt=this.transactionQueueTree_.subTree(v),x=nt.getValue()||[];x.push(ie),nt.setValue(x);var N=void 0;"object"==typeof _e&&null!==_e&&ee.contains(_e,".priority")?(N=ee.safeGet(_e,".priority"),ee.assert(Tt(N),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):N=(this.serverSyncTree_.calcCompleteEventCache(v)||Kt.EMPTY_NODE).getPriority().val(),N=N;var B=this.generateServerValues(),q=Sn(_e,N),ne=si(q,ye,B);ie.currentOutputSnapshotRaw=q,ie.currentOutputSnapshotResolved=ne,ie.currentWriteId=this.getNextWriteId_();var De=this.serverSyncTree_.applyUserOverwrite(v,ne,ie.currentWriteId,ie.applyLocally);this.eventQueue_.raiseEventsForChangedPath(v,De),this.sendReadyTransactions_()}},pr.prototype.getLatestState_=function(v,h){return this.serverSyncTree_.calcCompleteEventCache(v,h)||Kt.EMPTY_NODE},pr.prototype.sendReadyTransactions_=function(v){var h=this;if(void 0===v&&(v=this.transactionQueueTree_),v||this.pruneCompletedTransactionsBelowNode_(v),null!==v.getValue()){var _=this.buildTransactionQueue_(v);ee.assert(_.length>0,"Sending zero length transaction queue"),_.every(function(M){return M.status===Vr.RUN})&&this.sendTransactionQueue_(v.path(),_)}else v.hasChildren()&&v.forEachChild(function(M){h.sendReadyTransactions_(M)})},pr.prototype.sendTransactionQueue_=function(v,h){for(var _=this,w=h.map(function(x){return x.currentWriteId}),M=this.getLatestState_(v,w),P=M,Q=M.hash(),ie=0;ie<h.length;ie++){var ye=h[ie];ee.assert(ye.status===Vr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),ye.status=Vr.SENT,ye.retryCount++;var _e=Et.relativePath(v,ye.path);P=P.updateChild(_e,ye.currentOutputSnapshotRaw)}var We=P.val(!0),nt=v;this.server_.put(nt.toString(),We,function(x){_.log_("transaction put response",{path:nt.toString(),status:x});var N=[];if("ok"===x){for(var S=[],B=0;B<h.length;B++){if(h[B].status=Vr.COMPLETED,N=N.concat(_.serverSyncTree_.ackUserWrite(h[B].currentWriteId)),h[B].onComplete){var q=h[B].currentOutputSnapshotResolved,ne=new ar(_,h[B].path),De=new or(q,ne,rn);S.push(h[B].onComplete.bind(null,null,!0,De))}h[B].unwatcher()}for(_.pruneCompletedTransactionsBelowNode_(_.transactionQueueTree_.subTree(v)),_.sendReadyTransactions_(),_.eventQueue_.raiseEventsForChangedPath(v,N),B=0;B<S.length;B++)pn(S[B])}else{if("datastale"===x)for(B=0;B<h.length;B++)h[B].status=h[B].status===Vr.SENT_NEEDS_ABORT?Vr.NEEDS_ABORT:Vr.RUN;else for(Lt("transaction at "+nt.toString()+" failed: "+x),B=0;B<h.length;B++)h[B].status=Vr.NEEDS_ABORT,h[B].abortReason=x;_.rerunTransactions_(v)}},Q)},pr.prototype.rerunTransactions_=function(v){var h=this.getAncestorTransactionNode_(v),_=h.path(),w=this.buildTransactionQueue_(h);return this.rerunTransactionQueue_(w,_),_},pr.prototype.rerunTransactionQueue_=function(v,h){if(0!==v.length){for(var _=[],w=[],P=v.filter(function(Bt){return Bt.status===Vr.RUN}).map(function(Bt){return Bt.currentWriteId}),Q=0;Q<v.length;Q++){var ie=v[Q],ye=Et.relativePath(h,ie.path),_e=!1,We=void 0;if(ee.assert(null!==ye,"rerunTransactionsUnderNode_: relativePath should not be null."),ie.status===Vr.NEEDS_ABORT)_e=!0,We=ie.abortReason,w=w.concat(this.serverSyncTree_.ackUserWrite(ie.currentWriteId,!0));else if(ie.status===Vr.RUN)if(ie.retryCount>=pr.MAX_TRANSACTION_RETRIES_)_e=!0,We="maxretry",w=w.concat(this.serverSyncTree_.ackUserWrite(ie.currentWriteId,!0));else{var nt=this.getLatestState_(ie.path,P);ie.currentInputSnapshot=nt;var x=v[Q].update(nt.val());if(void 0!==x){Jt("transaction failed: Data returned ",x,ie.path);var N=Sn(x);"object"==typeof x&&null!=x&&ee.contains(x,".priority")||(N=N.updatePriority(nt.getPriority()));var B=ie.currentWriteId,q=this.generateServerValues(),ne=si(N,nt,q);ie.currentOutputSnapshotRaw=N,ie.currentOutputSnapshotResolved=ne,ie.currentWriteId=this.getNextWriteId_(),P.splice(P.indexOf(B),1),w=(w=w.concat(this.serverSyncTree_.applyUserOverwrite(ie.path,ne,ie.currentWriteId,ie.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(B,!0))}else _e=!0,We="nodata",w=w.concat(this.serverSyncTree_.ackUserWrite(ie.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(h,w),w=[],_e&&(v[Q].status=Vr.COMPLETED,setTimeout(v[Q].unwatcher,Math.floor(0)),v[Q].onComplete))if("nodata"===We){var De=new ar(this,v[Q].path),ft=new or(v[Q].currentInputSnapshot,De,rn);_.push(v[Q].onComplete.bind(null,null,!1,ft))}else _.push(v[Q].onComplete.bind(null,new Error(We),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),Q=0;Q<_.length;Q++)pn(_[Q]);this.sendReadyTransactions_()}},pr.prototype.getAncestorTransactionNode_=function(v){var h,_=this.transactionQueueTree_;for(h=v.getFront();null!==h&&null===_.getValue();)_=_.subTree(h),h=(v=v.popFront()).getFront();return _},pr.prototype.buildTransactionQueue_=function(v){var h=[];return this.aggregateTransactionQueuesForNode_(v,h),h.sort(function(_,w){return _.order-w.order}),h},pr.prototype.aggregateTransactionQueuesForNode_=function(v,h){var _=this,w=v.getValue();if(null!==w)for(var M=0;M<w.length;M++)h.push(w[M]);v.forEachChild(function(P){_.aggregateTransactionQueuesForNode_(P,h)})},pr.prototype.pruneCompletedTransactionsBelowNode_=function(v){var h=this,_=v.getValue();if(_){for(var w=0,M=0;M<_.length;M++)_[M].status!==Vr.COMPLETED&&(_[w]=_[M],w++);_.length=w,v.setValue(_.length>0?_:null)}v.forEachChild(function(P){h.pruneCompletedTransactionsBelowNode_(P)})},pr.prototype.abortTransactions_=function(v){var h=this,_=this.getAncestorTransactionNode_(v).path(),w=this.transactionQueueTree_.subTree(v);return w.forEachAncestor(function(M){h.abortTransactionsOnNode_(M)}),this.abortTransactionsOnNode_(w),w.forEachDescendant(function(M){h.abortTransactionsOnNode_(M)}),_},pr.prototype.abortTransactionsOnNode_=function(v){var h=v.getValue();if(null!==h){for(var _=[],w=[],M=-1,P=0;P<h.length;P++)h[P].status!==Vr.SENT_NEEDS_ABORT&&(h[P].status===Vr.SENT?(ee.assert(M===P-1,"All SENT items should be at beginning of queue."),M=P,h[P].status=Vr.SENT_NEEDS_ABORT,h[P].abortReason="set"):(ee.assert(h[P].status===Vr.RUN,"Unexpected transaction status in abort"),h[P].unwatcher(),w=w.concat(this.serverSyncTree_.ackUserWrite(h[P].currentWriteId,!0)),h[P].onComplete&&_.push(h[P].onComplete.bind(null,new Error("set"),!1,null))));for(-1===M?v.setValue(null):h.length=M+1,this.eventQueue_.raiseEventsForChangedPath(v.path(),w),P=0;P<_.length;P++)pn(_[P])}};var ge,b=function(){function v(h,_){var w=this;this.app_=h,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.get().then(function(M){return w.auth_=M})}return v.prototype.getToken=function(h){return this.auth_?this.auth_.getToken(h).catch(function(_){return _&&"auth/token-not-initialized"===_.code?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(_)}):Promise.resolve(null)},v.prototype.addTokenChangeListener=function(h){this.auth_?this.auth_.addAuthTokenListener(h):(setTimeout(function(){return h(null)},0),this.authProvider_.get().then(function(_){return _.addAuthTokenListener(h)}))},v.prototype.removeTokenChangeListener=function(h){this.authProvider_.get().then(function(_){return _.removeAuthTokenListener(h)})},v.prototype.notifyForInvalidToken=function(){var h='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';Lt(h+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},v}(),k=function(){function v(){}return v.prototype.getToken=function(h){return Promise.resolve({accessToken:v.EMULATOR_AUTH_TOKEN})},v.prototype.addTokenChangeListener=function(h){h(v.EMULATOR_AUTH_TOKEN)},v.prototype.removeTokenChangeListener=function(h){},v.prototype.notifyForInvalidToken=function(){},v.EMULATOR_AUTH_TOKEN="owner",v}(),Ie=function(){function v(){this.repos_={},this.useRestClient_=!1}return v.getInstance=function(){return ge||(ge=new v),ge},v.prototype.interrupt=function(){var h,_,w,M;try{for(var P=u.__values(Object.keys(this.repos_)),Q=P.next();!Q.done;Q=P.next()){var ie=Q.value;try{for(var ye=(w=void 0,u.__values(Object.keys(this.repos_[ie]))),_e=ye.next();!_e.done;_e=ye.next())this.repos_[ie][_e.value].interrupt()}catch(nt){w={error:nt}}finally{try{_e&&!_e.done&&(M=ye.return)&&M.call(ye)}finally{if(w)throw w.error}}}}catch(nt){h={error:nt}}finally{try{Q&&!Q.done&&(_=P.return)&&_.call(P)}finally{if(h)throw h.error}}},v.prototype.resume=function(){var h,_,w,M;try{for(var P=u.__values(Object.keys(this.repos_)),Q=P.next();!Q.done;Q=P.next()){var ie=Q.value;try{for(var ye=(w=void 0,u.__values(Object.keys(this.repos_[ie]))),_e=ye.next();!_e.done;_e=ye.next())this.repos_[ie][_e.value].resume()}catch(nt){w={error:nt}}finally{try{_e&&!_e.done&&(M=ye.return)&&M.call(ye)}finally{if(w)throw w.error}}}}catch(nt){h={error:nt}}finally{try{Q&&!Q.done&&(_=P.return)&&_.call(P)}finally{if(h)throw h.error}}},v.prototype.databaseFromApp=function(h,_,w,M){var P=w||h.options.databaseURL;void 0===P&&(h.options.projectId||Dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",h.options.projectId),P=h.options.projectId+"-default-rtdb.firebaseio.com");var ye,Q=At(P,M),ie=Q.repoInfo,_e=void 0;"undefined"!=typeof process&&(_e=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_e?(ye=!0,ie=(Q=At(P="http://"+_e+"?ns="+ie.namespace,M)).repoInfo):ye=!Q.repoInfo.secure;var We=M&&ye?new k:new b(h,_);return Zn("Invalid Firebase Database URL",1,Q),Q.path.isEmpty()||Dn("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(ie,h,We).database},v.prototype.deleteRepo=function(h){var _=ee.safeGet(this.repos_,h.app.name);(!_||ee.safeGet(_,h.repoInfo_.toURLString())!==h)&&Dn("Database "+h.app.name+"("+h.repoInfo_+") has already been deleted."),h.interrupt(),delete _[h.repoInfo_.toURLString()]},v.prototype.createRepo=function(h,_,w){var M=ee.safeGet(this.repos_,_.name);M||(this.repos_[_.name]=M={});var P=ee.safeGet(M,h.toURLString());return P&&Dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new pr(h,this.useRestClient_,_,w),M[h.toURLString()]=P,P},v.prototype.forceRestClient=function(h){this.useRestClient_=h},v}(),Xe=function(){function v(h){this.repo_=h,h instanceof pr||Dn("Don't call new Database() directly - please use firebase.database()."),this.root_=new ar(h,Et.Empty),this.INTERNAL=new Dt(this)}return Object.defineProperty(v.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),v.prototype.ref=function(h){return this.checkDeleted_("ref"),ee.validateArgCount("database.ref",0,1,arguments.length),h instanceof ar?this.refFromURL(h.toString()):void 0!==h?this.root_.child(h):this.root_},v.prototype.refFromURL=function(h){var _="database.refFromURL";this.checkDeleted_(_),ee.validateArgCount(_,1,1,arguments.length);var w=At(h,this.repo_.repoInfo_.nodeAdmin);Zn(_,1,w);var M=w.repoInfo;return M.host!==this.repo_.repoInfo_.host&&Dn(_+": Host name does not match the current database: (found "+M.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(w.path.toString())},v.prototype.checkDeleted_=function(h){null===this.repo_&&Dn("Cannot call "+h+" on a deleted database.")},v.prototype.goOffline=function(){ee.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},v.prototype.goOnline=function(){ee.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},v.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(h){return{".sv":{increment:h}}}},v}(),Dt=function(){function v(h){this.database=h}return v.prototype.delete=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(h){return this.database.checkDeleted_("delete"),Ie.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},v}(),hn=Object.freeze({__proto__:null,forceLongPolling:function(){di.forceDisallow(),$o.forceAllow()},forceWebSockets:function(){$o.forceDisallow()},isWebSocketsAvailable:function(){return di.isAvailable()},setSecurityDebugCallback:function(v,h){v.repo.persistentConnection_.securityDebugCallback_=h},stats:function(v,h){v.repo.stats(h)},statsIncrementCounter:function(v,h){v.repo.statsIncrementCounter(h)},dataUpdateCount:function(v){return v.repo.dataUpdateCount},interceptServerData:function(v,h){return v.repo.interceptServerData_(h)}}),Zs=nr;nr.prototype.simpleListen=function(v,h){this.sendRequest("q",{p:v},h)},nr.prototype.echo=function(v,h){this.sendRequest("echo",{d:v},h)};var qu=Object.freeze({__proto__:null,DataConnection:Zs,RealTimeConnection:ks,hijackHash:function(v){var h=nr.prototype.put;return nr.prototype.put=function(_,w,M,P){void 0!==P&&(P=v()),h.call(this,_,w,M,P)},function(){nr.prototype.put=h}},ConnectionTarget:Yr,queryIdentifier:function(v){return v.queryIdentifier()},forceRestClient:function(v){Ie.getInstance().forceRestClient(v)}}),ia=Xe.ServerValue;function Qs(v){!function(v){Si=v}(v.SDK_VERSION);var h=v.INTERNAL.registerComponent(new xe.Component("database",function(_,w){var M=_.getProvider("app").getImmediate(),P=_.getProvider("auth-internal");return Ie.getInstance().databaseFromApp(M,P,w)},"PUBLIC").setServiceProps({Reference:ar,Query:Qr,Database:Xe,DataSnapshot:or,enableLogging:Je,INTERNAL:hn,ServerValue:ia,TEST_ACCESS:qu}).setMultipleInstances(!0));v.registerVersion("@firebase/database","0.6.13"),ee.isNodeSdk()&&(zt.exports=h)}Qs(Ae.default),je.DataSnapshot=or,je.Database=Xe,je.OnDisconnect=ds,je.Query=Qr,je.Reference=ar,je.ServerValue=ia,je.enableLogging=Je,je.registerDatabase=Qs},5910:(zt,je,de)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var c,I=de(5704),u=de(6279),ee=de(300),Qe=de(1704),xe=de(2870),Be=de(1100),ke=(c=u)&&"object"==typeof c&&"default"in c?c:{default:c},ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=function(c){function i(a,p){var y=this;return(y=c.call(this,p)||this).code=a,y.message=p,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return I.__extends(i,c),i}(Error),Te=new ee.Logger("@firebase/firestore");function we(){return Te.logLevel}function Ce(c){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(Te.logLevel<=ee.LogLevel.DEBUG){var p=i.map(dt);Te.debug.apply(Te,I.__spreadArrays(["Firestore (7.24.0): "+c],p))}}function it(c){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(Te.logLevel<=ee.LogLevel.ERROR){var p=i.map(dt);Te.error.apply(Te,I.__spreadArrays(["Firestore (7.24.0): "+c],p))}}function _t(c){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(Te.logLevel<=ee.LogLevel.WARN){var p=i.map(dt);Te.warn.apply(Te,I.__spreadArrays(["Firestore (7.24.0): "+c],p))}}function dt(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(a){return c}}function ot(c){void 0===c&&(c="Unexpected state");var i="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+c;throw it(i),new Error(i)}function Ke(c,i){c||ot()}function Je(c,i){return c}function Ft(c){var i=0;for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&i++;return i}function kt(c,i){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&i(a,c[a])}function Pn(c){for(var i in c)if(Object.prototype.hasOwnProperty.call(c,i))return!1;return!0}var Dn=function(){function c(i,a,p){void 0===a?a=0:a>i.length&&ot(),void 0===p?p=i.length-a:p>i.length-a&&ot(),this.segments=i,this.offset=a,this.t=p}return Object.defineProperty(c.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(i){return 0===c.i(this,i)},c.prototype.child=function(i){var a=this.segments.slice(this.offset,this.limit());return i instanceof c?i.forEach(function(p){a.push(p)}):a.push(i),this.o(a)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.u=function(i){return this.o(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)},c.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},c.prototype.l=function(){return this.segments[this.offset]},c.prototype._=function(){return this.get(this.length-1)},c.prototype.get=function(i){return this.segments[this.offset+i]},c.prototype.m=function(){return 0===this.length},c.prototype.T=function(i){if(i.length<this.length)return!1;for(var a=0;a<this.length;a++)if(this.get(a)!==i.get(a))return!1;return!0},c.prototype.I=function(i){if(this.length+1!==i.length)return!1;for(var a=0;a<this.length;a++)if(this.get(a)!==i.get(a))return!1;return!0},c.prototype.forEach=function(i){for(var a=this.offset,p=this.limit();a<p;a++)i(this.segments[a])},c.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},c.i=function(i,a){for(var p=Math.min(i.length,a.length),y=0;y<p;y++){var D=i.get(y),A=a.get(y);if(D<A)return-1;if(D>A)return 1}return i.length<a.length?-1:i.length>a.length?1:0},c}(),Lt=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.o=function(a,p,y){return new i(a,p,y)},i.prototype.R=function(){return this.A().join("/")},i.prototype.toString=function(){return this.R()},i.g=function(){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];for(var y=[],D=0,A=a;D<A.length;D++){var L=A[D];if(L.indexOf("//")>=0)throw new oe(ue.INVALID_ARGUMENT,"Invalid segment ("+L+"). Paths must not contain // in them.");y.push.apply(y,L.split("/").filter(function(W){return W.length>0}))}return new i(y)},i.P=function(){return new i([])},i}(Dn),z=/^[_a-zA-Z][_a-zA-Z0-9]*$/,te=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.o=function(a,p,y){return new i(a,p,y)},i.V=function(a){return z.test(a)},i.prototype.R=function(){return this.A().map(function(a){return a=a.replace("\\","\\\\").replace("`","\\`"),i.V(a)||(a="`"+a+"`"),a}).join(".")},i.prototype.toString=function(){return this.R()},i.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},i.v=function(){return new i(["__name__"])},i.S=function(a){for(var p=[],y="",D=0,A=function(){if(0===y.length)throw new oe(ue.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");p.push(y),y=""},L=!1;D<a.length;){var W=a[D];if("\\"===W){if(D+1===a.length)throw new oe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+a);var se=a[D+1];if("\\"!==se&&"."!==se&&"`"!==se)throw new oe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+a);y+=se,D+=2}else"`"===W?(L=!L,D++):"."!==W||L?(y+=W,D++):(A(),D++)}if(A(),L)throw new oe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+a);return new i(p)},i.P=function(){return new i([])},i}(Dn),Z=function(){function c(i){this.path=i}return c.D=function(i){return new c(Lt.g(i))},c.C=function(i){return new c(Lt.g(i).u(5))},c.prototype.N=function(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i},c.prototype.isEqual=function(i){return null!==i&&0===Lt.i(this.path,i.path)},c.prototype.toString=function(){return this.path.toString()},c.i=function(i,a){return Lt.i(i.path,a.path)},c.F=function(i){return i.length%2==0},c.$=function(i){return new c(new Lt(i.slice()))},c}();function le(c,i){if(0!==i.length)throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() does not support arguments, but was called with "+li(i.length,"argument")+".")}function me(c,i,a){if(i.length!==a)throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires "+li(a,"argument")+", but was called with "+li(i.length,"argument")+".")}function K(c,i,a){if(i.length<a)throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires at least "+li(a,"argument")+", but was called with "+li(i.length,"argument")+".")}function Ne(c,i,a,p){if(i.length<a||i.length>p)throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires between "+a+" and "+p+" arguments, but was called with "+li(i.length,"argument")+".")}function Le(c,i,a,p){wt(c,i,Et(a)+" argument",p)}function Pt(c,i,a,p){void 0!==p&&Le(c,i,a,p)}function Pe(c,i,a,p){wt(c,i,a+" option",p)}function pt(c,i,a,p){void 0!==p&&Pe(c,i,a,p)}function Nt(c,i,a,p,y){void 0!==p&&function(D,A,L,W,se){for(var be=[],Re=0,Oe=se;Re<Oe.length;Re++){var Ye=Oe[Re];if(Ye===W)return;be.push(An(Ye))}var st=An(W);throw new oe(ue.INVALID_ARGUMENT,"Invalid value "+st+" provided to function "+D+'() for option "'+L+'". Acceptable values: '+be.join(", "))}(c,0,a,p,y)}function tt(c,i,a,p){if(!i.some(function(y){return y===p}))throw new oe(ue.INVALID_ARGUMENT,"Invalid value "+An(p)+" provided to function "+c+"() for its "+Et(a)+" argument. Acceptable values: "+i.join(", "));return p}function wt(c,i,a,p){if(!("object"===i?bn(p):"non-empty string"===i?"string"==typeof p&&""!==p:typeof p===i)){var y=An(p);throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires its "+a+" to be of type "+i+", but it was: "+y)}}function bn(c){return"object"==typeof c&&null!==c&&(Object.getPrototypeOf(c)===Object.prototype||null===Object.getPrototypeOf(c))}function An(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var i=function(a){if(a.constructor){var p=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(p&&p.length>1)return p[1]}return null}(c);return i?"a custom "+i+" object":"an object"}return"function"==typeof c?"a function":ot()}function gi(c,i,a){if(void 0===a)throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires a valid "+Et(i)+" argument, but it was undefined.")}function pn(c,i,a){kt(i,function(p,y){if(a.indexOf(p)<0)throw new oe(ue.INVALID_ARGUMENT,"Unknown option '"+p+"' passed to function "+c+"(). Available options: "+a.join(", "))})}function qn(c,i,a,p){var y=An(p);return new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires its "+Et(a)+" argument to be a "+i+", but it was: "+y)}function Rn(c,i,a){if(a<=0)throw new oe(ue.INVALID_ARGUMENT,"Function "+c+"() requires its "+Et(i)+" argument to be a positive number, but it was: "+a+".")}function Et(c){switch(c){case 1:return"first";case 2:return"second";case 3:return"third";default:return c+"th"}}function li(c,i){return c+" "+i+(1===c?"":"s")}function Li(c){var i="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(c);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(a);else for(var p=0;p<c;p++)a[p]=Math.floor(256*Math.random());return a}var Mn=function(){function c(){}return c.k=function(){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/i.length)*i.length,p="";p.length<20;)for(var y=Li(40),D=0;D<y.length;++D)p.length<20&&y[D]<a&&(p+=i.charAt(y[D]%i.length));return p},c}();function Ht(c,i){return c<i?-1:c>i?1:0}function rr(c,i,a){return c.length===i.length&&c.every(function(p,y){return a(p,i[y])})}function zn(c){return c+"\0"}var un=function(){function c(i){this.M=i}return c.fromBase64String=function(i){return new c(atob(i))},c.fromUint8Array=function(i){return new c(function(a){for(var p="",y=0;y<a.length;++y)p+=String.fromCharCode(a[y]);return p}(i))},c.prototype.toBase64=function(){return btoa(this.M)},c.prototype.toUint8Array=function(){return function(i){for(var a=new Uint8Array(i.length),p=0;p<i.length;p++)a[p]=i.charCodeAt(p);return a}(this.M)},c.prototype.O=function(){return 2*this.M.length},c.prototype.L=function(i){return Ht(this.M,i.M)},c.prototype.isEqual=function(i){return this.M===i.M},c}();un.B=new un("");var lr=function(){function c(i){this.q=i}return c.fromBase64String=function(i){try{return new c(un.fromBase64String(i))}catch(a){throw new oe(ue.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+a)}},c.fromUint8Array=function(i){return new c(un.fromUint8Array(i))},c.prototype.toBase64=function(){return this.q.toBase64()},c.prototype.toUint8Array=function(){return this.q.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(i){return this.q.isEqual(i.q)},c}();function Gt(){if("undefined"==typeof Uint8Array)throw new oe(ue.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cr(){if("undefined"==typeof atob)throw new oe(ue.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zr=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.fromBase64String=function(a){me("Blob.fromBase64String",arguments,1),Le("Blob.fromBase64String","string",1,a),cr();try{return new i(un.fromBase64String(a))}catch(p){throw new oe(ue.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+p)}},i.fromUint8Array=function(a){if(me("Blob.fromUint8Array",arguments,1),Gt(),!(a instanceof Uint8Array))throw qn("Blob.fromUint8Array","Uint8Array",1,a);return new i(un.fromUint8Array(a))},i.prototype.toBase64=function(){return me("Blob.toBase64",arguments,0),cr(),c.prototype.toBase64.call(this)},i.prototype.toUint8Array=function(){return me("Blob.toUint8Array",arguments,0),Gt(),c.prototype.toUint8Array.call(this)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(lr),Yr=function(c,i,a,p,y,D){this.U=c,this.persistenceKey=i,this.host=a,this.ssl=p,this.forceLongPolling=y,this.W=D},mo=function(){function c(i,a){this.projectId=i,this.database=a||"(default)"}return Object.defineProperty(c.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(i){return i instanceof c&&i.projectId===this.projectId&&i.database===this.database},c.prototype.L=function(i){return Ht(this.projectId,i.projectId)||Ht(this.database,i.database)},c}(),Zr=function(){function c(i,a){this.K=i,this.G=a,this.H={}}return c.prototype.get=function(i){var a=this.K(i),p=this.H[a];if(void 0!==p)for(var y=0,D=p;y<D.length;y++){var A=D[y],W=A[1];if(this.G(A[0],i))return W}},c.prototype.has=function(i){return void 0!==this.get(i)},c.prototype.set=function(i,a){var p=this.K(i),y=this.H[p];if(void 0!==y){for(var D=0;D<y.length;D++)if(this.G(y[D][0],i))return void(y[D]=[i,a]);y.push([i,a])}else this.H[p]=[[i,a]]},c.prototype.delete=function(i){var a=this.K(i),p=this.H[a];if(void 0===p)return!1;for(var y=0;y<p.length;y++)if(this.G(p[y][0],i))return 1===p.length?delete this.H[a]:p.splice(y,1),!0;return!1},c.prototype.forEach=function(i){kt(this.H,function(a,p){for(var y=0,D=p;y<D.length;y++){var A=D[y];i(A[0],A[1])}})},c.prototype.m=function(){return Pn(this.H)},c}(),At=function(){function c(i,a){if(this.seconds=i,this.nanoseconds=a,a<0)throw new oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(i<-62135596800)throw new oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(i){return c.fromMillis(i.getTime())},c.fromMillis=function(i){var a=Math.floor(i/1e3);return new c(a,1e6*(i-1e3*a))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype.Y=function(i){return this.seconds===i.seconds?Ht(this.nanoseconds,i.nanoseconds):Ht(this.seconds,i.seconds)},c.prototype.isEqual=function(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),Qt=function(){function c(i){this.timestamp=i}return c.J=function(i){return new c(i)},c.min=function(){return new c(new At(0,0))},c.prototype.L=function(i){return this.timestamp.Y(i.timestamp)},c.prototype.isEqual=function(i){return this.timestamp.isEqual(i.timestamp)},c.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.Z=function(){return this.timestamp},c}();function mi(c){return null==c}function Ge(c){return 0===c&&1/c==-1/0}function Ee(c){return"number"==typeof c&&Number.isInteger(c)&&!Ge(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var Ue=function(c,i,a,p,y,D,A){void 0===i&&(i=null),void 0===a&&(a=[]),void 0===p&&(p=[]),void 0===y&&(y=null),void 0===D&&(D=null),void 0===A&&(A=null),this.path=c,this.collectionGroup=i,this.orderBy=a,this.filters=p,this.limit=y,this.startAt=D,this.endAt=A,this.tt=null};function rt(c,i,a,p,y,D,A){return void 0===i&&(i=null),void 0===a&&(a=[]),void 0===p&&(p=[]),void 0===y&&(y=null),void 0===D&&(D=null),void 0===A&&(A=null),new Ue(c,i,a,p,y,D,A)}function Ze(c){var i=Je(c);if(null===i.tt){var a=i.path.R();null!==i.collectionGroup&&(a+="|cg:"+i.collectionGroup),a+="|f:",a+=i.filters.map(function(p){return(y=p).field.R()+y.op.toString()+Yi(y.value);var y}).join(","),a+="|ob:",a+=i.orderBy.map(function(p){return(y=p).field.R()+y.dir;var y}).join(","),mi(i.limit)||(a+="|l:",a+=i.limit),i.startAt&&(a+="|lb:",a+=eo(i.startAt)),i.endAt&&(a+="|ub:",a+=eo(i.endAt)),i.tt=a}return i.tt}function Tt(c,i){if(c.limit!==i.limit||c.orderBy.length!==i.orderBy.length)return!1;for(var a=0;a<c.orderBy.length;a++)if(!Ds(c.orderBy[a],i.orderBy[a]))return!1;if(c.filters.length!==i.filters.length)return!1;for(var p=0;p<c.filters.length;p++)if((y=c.filters[p]).op!==(D=i.filters[p]).op||!y.field.isEqual(D.field)||!ln(y.value,D.value))return!1;var y,D;return c.collectionGroup===i.collectionGroup&&!!c.path.isEqual(i.path)&&!!rs(c.startAt,i.startAt)&&rs(c.endAt,i.endAt)}function Vt(c){return Z.F(c.path)&&null===c.collectionGroup&&0===c.filters.length}var Jt,nn,an=function(){function c(i,a,p,y,D,A,L){void 0===D&&(D=Qt.min()),void 0===A&&(A=Qt.min()),void 0===L&&(L=un.B),this.target=i,this.targetId=a,this.et=p,this.sequenceNumber=y,this.nt=D,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=L}return c.prototype.st=function(i){return new c(this.target,this.targetId,this.et,i,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.it=function(i,a){return new c(this.target,this.targetId,this.et,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,i)},c.prototype.rt=function(i){return new c(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,i,this.resumeToken)},c}(),Yt=function(c){this.count=c};function on(c){switch(c){case ue.OK:return ot();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return ot()}}function br(c){if(void 0===c)return it("GRPC error has no .code"),ue.UNKNOWN;switch(c){case Jt.OK:return ue.OK;case Jt.CANCELLED:return ue.CANCELLED;case Jt.UNKNOWN:return ue.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ue.INTERNAL;case Jt.UNAVAILABLE:return ue.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ue.NOT_FOUND;case Jt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Jt.ABORTED:return ue.ABORTED;case Jt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Jt.DATA_LOSS:return ue.DATA_LOSS;default:return ot()}}(nn=Jt||(Jt={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";var Fn=function(){function c(i,a){this.i=i,this.root=a||mr.EMPTY}return c.prototype.ot=function(i,a){return new c(this.i,this.root.ot(i,a,this.i).copy(null,null,mr.at,null,null))},c.prototype.remove=function(i){return new c(this.i,this.root.remove(i,this.i).copy(null,null,mr.at,null,null))},c.prototype.get=function(i){for(var a=this.root;!a.m();){var p=this.i(i,a.key);if(0===p)return a.value;p<0?a=a.left:p>0&&(a=a.right)}return null},c.prototype.indexOf=function(i){for(var a=0,p=this.root;!p.m();){var y=this.i(i,p.key);if(0===y)return a+p.left.size;y<0?p=p.left:(a+=p.left.size+1,p=p.right)}return-1},c.prototype.m=function(){return this.root.m()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.ct=function(){return this.root.ct()},c.prototype.ut=function(){return this.root.ut()},c.prototype.ht=function(i){return this.root.ht(i)},c.prototype.forEach=function(i){this.ht(function(a,p){return i(a,p),!1})},c.prototype.toString=function(){var i=[];return this.ht(function(a,p){return i.push(a+":"+p),!1}),"{"+i.join(", ")+"}"},c.prototype.lt=function(i){return this.root.lt(i)},c.prototype._t=function(){return new oo(this.root,null,this.i,!1)},c.prototype.ft=function(i){return new oo(this.root,i,this.i,!1)},c.prototype.dt=function(){return new oo(this.root,null,this.i,!0)},c.prototype.wt=function(i){return new oo(this.root,i,this.i,!0)},c}(),oo=function(){function c(i,a,p,y){this.Tt=y,this.Et=[];for(var D=1;!i.m();)if(D=a?p(i.key,a):1,y&&(D*=-1),D<0)i=this.Tt?i.left:i.right;else{if(0===D){this.Et.push(i);break}this.Et.push(i),i=this.Tt?i.right:i.left}}return c.prototype.It=function(){var i=this.Et.pop(),a={key:i.key,value:i.value};if(this.Tt)for(i=i.left;!i.m();)this.Et.push(i),i=i.right;else for(i=i.right;!i.m();)this.Et.push(i),i=i.left;return a},c.prototype.At=function(){return this.Et.length>0},c.prototype.Rt=function(){if(0===this.Et.length)return null;var i=this.Et[this.Et.length-1];return{key:i.key,value:i.value}},c}(),mr=function(){function c(i,a,p,y,D){this.key=i,this.value=a,this.color=null!=p?p:c.RED,this.left=null!=y?y:c.EMPTY,this.right=null!=D?D:c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(i,a,p,y,D){return new c(null!=i?i:this.key,null!=a?a:this.value,null!=p?p:this.color,null!=y?y:this.left,null!=D?D:this.right)},c.prototype.m=function(){return!1},c.prototype.ht=function(i){return this.left.ht(i)||i(this.key,this.value)||this.right.ht(i)},c.prototype.lt=function(i){return this.right.lt(i)||i(this.key,this.value)||this.left.lt(i)},c.prototype.min=function(){return this.left.m()?this:this.left.min()},c.prototype.ct=function(){return this.min().key},c.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},c.prototype.ot=function(i,a,p){var y=this,D=p(i,y.key);return(y=D<0?y.copy(null,null,null,y.left.ot(i,a,p),null):0===D?y.copy(null,a,null,null,null):y.copy(null,null,null,null,y.right.ot(i,a,p))).gt()},c.prototype.Pt=function(){if(this.left.m())return c.EMPTY;var i=this;return i.left.yt()||i.left.left.yt()||(i=i.Vt()),(i=i.copy(null,null,null,i.left.Pt(),null)).gt()},c.prototype.remove=function(i,a){var p,y=this;if(a(i,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(i,a),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===a(i,y.key)){if(y.right.m())return c.EMPTY;p=y.right.min(),y=y.copy(p.key,p.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(i,a))}return y.gt()},c.prototype.yt=function(){return this.color},c.prototype.gt=function(){var i=this;return i.right.yt()&&!i.left.yt()&&(i=i.St()),i.left.yt()&&i.left.left.yt()&&(i=i.bt()),i.left.yt()&&i.right.yt()&&(i=i.Dt()),i},c.prototype.Vt=function(){var i=this.Dt();return i.right.left.yt()&&(i=(i=(i=i.copy(null,null,null,null,i.right.bt())).St()).Dt()),i},c.prototype.vt=function(){var i=this.Dt();return i.left.left.yt()&&(i=(i=i.bt()).Dt()),i},c.prototype.St=function(){var i=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},c.prototype.bt=function(){var i=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},c.prototype.Dt=function(){var i=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,a)},c.prototype.Ct=function(){var i=this.Nt();return Math.pow(2,i)<=this.size+1},c.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw ot();var i=this.left.Nt();if(i!==this.right.Nt())throw ot();return i+(this.yt()?0:1)},c}();mr.EMPTY=null,mr.RED=!0,mr.at=!1,mr.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw ot()},enumerable:!1,configurable:!0}),c.prototype.copy=function(i,a,p,y,D){return this},c.prototype.ot=function(i,a,p){return new mr(i,a)},c.prototype.remove=function(i,a){return this},c.prototype.m=function(){return!0},c.prototype.ht=function(i){return!1},c.prototype.lt=function(i){return!1},c.prototype.ct=function(){return null},c.prototype.ut=function(){return null},c.prototype.yt=function(){return!1},c.prototype.Ct=function(){return!0},c.prototype.Nt=function(){return 0},c}());var Zn=function(){function c(i){this.i=i,this.data=new Fn(this.i)}return c.prototype.has=function(i){return null!==this.data.get(i)},c.prototype.first=function(){return this.data.ct()},c.prototype.last=function(){return this.data.ut()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(i){return this.data.indexOf(i)},c.prototype.forEach=function(i){this.data.ht(function(a,p){return i(a),!1})},c.prototype.Ft=function(i,a){for(var p=this.data.ft(i[0]);p.At();){var y=p.It();if(this.i(y.key,i[1])>=0)return;a(y.key)}},c.prototype.xt=function(i,a){var p;for(p=void 0!==a?this.data.ft(a):this.data._t();p.At();)if(!i(p.It().key))return},c.prototype.$t=function(i){var a=this.data.ft(i);return a.At()?a.It().key:null},c.prototype._t=function(){return new Wi(this.data._t())},c.prototype.ft=function(i){return new Wi(this.data.ft(i))},c.prototype.add=function(i){return this.copy(this.data.remove(i).ot(i,!0))},c.prototype.delete=function(i){return this.has(i)?this.copy(this.data.remove(i)):this},c.prototype.m=function(){return this.data.m()},c.prototype.kt=function(i){var a=this;return a.size<i.size&&(a=i,i=this),i.forEach(function(p){a=a.add(p)}),a},c.prototype.isEqual=function(i){if(!(i instanceof c)||this.size!==i.size)return!1;for(var a=this.data._t(),p=i.data._t();a.At();){var y=a.It().key,D=p.It().key;if(0!==this.i(y,D))return!1}return!0},c.prototype.A=function(){var i=[];return this.forEach(function(a){i.push(a)}),i},c.prototype.toString=function(){var i=[];return this.forEach(function(a){return i.push(a)}),"SortedSet("+i.toString()+")"},c.prototype.copy=function(i){var a=new c(this.i);return a.data=i,a},c}(),Wi=function(){function c(i){this.Mt=i}return c.prototype.It=function(){return this.Mt.It().key},c.prototype.At=function(){return this.Mt.At()},c}(),ds=new Fn(Z.i);function ei(){return ds}function qi(){return ei()}var sn=new Fn(Z.i);function Sr(){return sn}var En=new Fn(Z.i),zi=new Zn(Z.i);function kn(){for(var c=[],i=0;i<arguments.length;i++)c[i]=arguments[i];for(var a=zi,p=0,y=c;p<y.length;p++){var D=y[p];a=a.add(D)}return a}var Vi=new Zn(Ht);function Io(){return Vi}var Vo=function(){function c(i){this.i=i?function(a,p){return i(a,p)||Z.i(a.key,p.key)}:function(a,p){return Z.i(a.key,p.key)},this.Ot=Sr(),this.Lt=new Fn(this.i)}return c.Bt=function(i){return new c(i.i)},c.prototype.has=function(i){return null!=this.Ot.get(i)},c.prototype.get=function(i){return this.Ot.get(i)},c.prototype.first=function(){return this.Lt.ct()},c.prototype.last=function(){return this.Lt.ut()},c.prototype.m=function(){return this.Lt.m()},c.prototype.indexOf=function(i){var a=this.Ot.get(i);return a?this.Lt.indexOf(a):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(i){this.Lt.ht(function(a,p){return i(a),!1})},c.prototype.add=function(i){var a=this.delete(i.key);return a.copy(a.Ot.ot(i.key,i),a.Lt.ot(i,null))},c.prototype.delete=function(i){var a=this.get(i);return a?this.copy(this.Ot.remove(i),this.Lt.remove(a)):this},c.prototype.isEqual=function(i){if(!(i instanceof c)||this.size!==i.size)return!1;for(var a=this.Lt._t(),p=i.Lt._t();a.At();){var y=a.It().key,D=p.It().key;if(!y.isEqual(D))return!1}return!0},c.prototype.toString=function(){var i=[];return this.forEach(function(a){i.push(a.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"},c.prototype.copy=function(i,a){var p=new c;return p.i=this.i,p.Ot=i,p.Lt=a,p},c}(),Lr=function(){function c(){this.qt=new Fn(Z.i)}return c.prototype.track=function(i){var a=i.doc.key,p=this.qt.get(a);p?0!==i.type&&3===p.type?this.qt=this.qt.ot(a,i):3===i.type&&1!==p.type?this.qt=this.qt.ot(a,{type:p.type,doc:i.doc}):2===i.type&&2===p.type?this.qt=this.qt.ot(a,{type:2,doc:i.doc}):2===i.type&&0===p.type?this.qt=this.qt.ot(a,{type:0,doc:i.doc}):1===i.type&&0===p.type?this.qt=this.qt.remove(a):1===i.type&&2===p.type?this.qt=this.qt.ot(a,{type:1,doc:p.doc}):0===i.type&&1===p.type?this.qt=this.qt.ot(a,{type:2,doc:i.doc}):ot():this.qt=this.qt.ot(a,i)},c.prototype.Ut=function(){var i=[];return this.qt.ht(function(a,p){i.push(p)}),i},c}(),dr=function(){function c(i,a,p,y,D,A,L,W){this.query=i,this.docs=a,this.Qt=p,this.docChanges=y,this.Wt=D,this.fromCache=A,this.jt=L,this.Kt=W}return c.Gt=function(i,a,p,y){var D=[];return a.forEach(function(A){D.push({type:0,doc:A})}),new c(i,a,Vo.Bt(a),D,p,y,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(i){if(!(this.fromCache===i.fromCache&&this.jt===i.jt&&this.Wt.isEqual(i.Wt)&&Wo(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.Qt.isEqual(i.Qt)))return!1;var a=this.docChanges,p=i.docChanges;if(a.length!==p.length)return!1;for(var y=0;y<a.length;y++)if(a[y].type!==p[y].type||!a[y].doc.isEqual(p[y].doc))return!1;return!0},c}(),Ir=function(){function c(i,a,p,y,D){this.nt=i,this.zt=a,this.Ht=p,this.Yt=y,this.Jt=D}return c.Xt=function(i,a){var p=new Map;return p.set(i,Ur.Zt(i,a)),new c(Qt.min(),p,Io(),ei(),kn())},c}(),Ur=function(){function c(i,a,p,y,D){this.resumeToken=i,this.te=a,this.ee=p,this.ne=y,this.se=D}return c.Zt=function(i,a){return new c(un.B,a,kn(),kn(),kn())},c}(),_o=function(c,i,a,p){this.ie=c,this.removedTargetIds=i,this.key=a,this.re=p},ti=function(c,i){this.targetId=c,this.oe=i},It=function(c,i,a,p){void 0===a&&(a=un.B),void 0===p&&(p=null),this.state=c,this.targetIds=i,this.resumeToken=a,this.cause=p},_n=function(){function c(){this.ae=0,this.ce=ri(),this.ue=un.B,this.he=!1,this.le=!0}return Object.defineProperty(c.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),c.prototype.de=function(i){i.O()>0&&(this.le=!0,this.ue=i)},c.prototype.we=function(){var i=kn(),a=kn(),p=kn();return this.ce.forEach(function(y,D){switch(D){case 0:i=i.add(y);break;case 2:a=a.add(y);break;case 1:p=p.add(y);break;default:ot()}}),new Ur(this.ue,this.he,i,a,p)},c.prototype.me=function(){this.le=!1,this.ce=ri()},c.prototype.Te=function(i,a){this.le=!0,this.ce=this.ce.ot(i,a)},c.prototype.Ee=function(i){this.le=!0,this.ce=this.ce.remove(i)},c.prototype.Ie=function(){this.ae+=1},c.prototype.Ae=function(){this.ae-=1},c.prototype.Re=function(){this.le=!0,this.he=!0},c}(),rn=function(){function c(i){this.ge=i,this.Pe=new Map,this.ye=ei(),this.Ve=ni(),this.pe=new Zn(Ht)}return c.prototype.be=function(i){for(var a=0,p=i.ie;a<p.length;a++){var y=p[a];i.re instanceof Rt?this.ve(y,i.re):i.re instanceof ui&&this.Se(y,i.key,i.re)}for(var D=0,A=i.removedTargetIds;D<A.length;D++)this.Se(A[D],i.key,i.re)},c.prototype.De=function(i){var a=this;this.Ce(i,function(p){var y=a.Ne(p);switch(i.state){case 0:a.Fe(p)&&y.de(i.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(i.resumeToken);break;case 2:y.Ae(),y._e||a.removeTarget(p);break;case 3:a.Fe(p)&&(y.Re(),y.de(i.resumeToken));break;case 4:a.Fe(p)&&(a.xe(p),y.de(i.resumeToken));break;default:ot()}})},c.prototype.Ce=function(i,a){var p=this;i.targetIds.length>0?i.targetIds.forEach(a):this.Pe.forEach(function(y,D){p.Fe(D)&&a(D)})},c.prototype.$e=function(i){var a=i.targetId,p=i.oe.count,y=this.ke(a);if(y){var D=y.target;if(Vt(D))if(0===p){var A=new Z(D.path);this.Se(a,A,new ui(A,Qt.min()))}else Ke(1===p);else this.Me(a)!==p&&(this.xe(a),this.pe=this.pe.add(a))}},c.prototype.Oe=function(i){var a=this,p=new Map;this.Pe.forEach(function(A,L){var W=a.ke(L);if(W){if(A.te&&Vt(W.target)){var se=new Z(W.target.path);null!==a.ye.get(se)||a.Le(L,se)||a.Se(L,se,new ui(se,i))}A.fe&&(p.set(L,A.we()),A.me())}});var y=kn();this.Ve.forEach(function(A,L){var W=!0;L.xt(function(se){var be=a.ke(se);return!be||2===be.et||(W=!1,!1)}),W&&(y=y.add(A))});var D=new Ir(i,p,this.pe,this.ye,y);return this.ye=ei(),this.Ve=ni(),this.pe=new Zn(Ht),D},c.prototype.ve=function(i,a){if(this.Fe(i)){var p=this.Le(i,a.key)?2:0;this.Ne(i).Te(a.key,p),this.ye=this.ye.ot(a.key,a),this.Ve=this.Ve.ot(a.key,this.Be(a.key).add(i))}},c.prototype.Se=function(i,a,p){if(this.Fe(i)){var y=this.Ne(i);this.Le(i,a)?y.Te(a,1):y.Ee(a),this.Ve=this.Ve.ot(a,this.Be(a).delete(i)),p&&(this.ye=this.ye.ot(a,p))}},c.prototype.removeTarget=function(i){this.Pe.delete(i)},c.prototype.Me=function(i){var a=this.Ne(i).we();return this.ge.qe(i).size+a.ee.size-a.se.size},c.prototype.Ie=function(i){this.Ne(i).Ie()},c.prototype.Ne=function(i){var a=this.Pe.get(i);return a||(a=new _n,this.Pe.set(i,a)),a},c.prototype.Be=function(i){var a=this.Ve.get(i);return a||(a=new Zn(Ht),this.Ve=this.Ve.ot(i,a)),a},c.prototype.Fe=function(i){var a=null!==this.ke(i);return a||Ce("WatchChangeAggregator","Detected inactive target",i),a},c.prototype.ke=function(i){var a=this.Pe.get(i);return a&&a._e?null:this.ge.Ue(i)},c.prototype.xe=function(i){var a=this;this.Pe.set(i,new _n),this.ge.qe(i).forEach(function(p){a.Se(i,p,null)})},c.prototype.Le=function(i,a){return this.ge.qe(i).has(a)},c}();function ni(){return new Fn(Z.i)}function ri(){return new Fn(Z.i)}function _r(c){var i,a;return"server_timestamp"===(null===(a=((null===(i=null==c?void 0:c.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function ii(c){var i=c.mapValue.fields.__previous_value__;return _r(i)?ii(i):i}function wr(c){var i=Kt(c.mapValue.fields.__local_write_time__.timestampValue);return new At(i.seconds,i.nanos)}var yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?_r(c)?4:10:ot()}function ln(c,i){var y,a=$r(c);if(a!==$r(i))return!1;switch(a){case 0:return!0;case 1:return c.booleanValue===i.booleanValue;case 4:return wr(c).isEqual(wr(i));case 3:return function(p,y){if("string"==typeof p.timestampValue&&"string"==typeof y.timestampValue&&p.timestampValue.length===y.timestampValue.length)return p.timestampValue===y.timestampValue;var D=Kt(p.timestampValue),A=Kt(y.timestampValue);return D.seconds===A.seconds&&D.nanos===A.nanos}(c,i);case 5:return c.stringValue===i.stringValue;case 6:return y=i,ir(c.bytesValue).isEqual(ir(y.bytesValue));case 7:return c.referenceValue===i.referenceValue;case 8:return function(p,y){return wn(p.geoPointValue.latitude)===wn(y.geoPointValue.latitude)&&wn(p.geoPointValue.longitude)===wn(y.geoPointValue.longitude)}(c,i);case 2:return function(p,y){if("integerValue"in p&&"integerValue"in y)return wn(p.integerValue)===wn(y.integerValue);if("doubleValue"in p&&"doubleValue"in y){var D=wn(p.doubleValue),A=wn(y.doubleValue);return D===A?Ge(D)===Ge(A):isNaN(D)&&isNaN(A)}return!1}(c,i);case 9:return rr(c.arrayValue.values||[],i.arrayValue.values||[],ln);case 10:return function(p,y){var D=p.mapValue.fields||{},A=y.mapValue.fields||{};if(Ft(D)!==Ft(A))return!1;for(var L in D)if(D.hasOwnProperty(L)&&(void 0===A[L]||!ln(D[L],A[L])))return!1;return!0}(c,i);default:return ot()}}function Tn(c,i){return void 0!==(c.values||[]).find(function(a){return ln(a,i)})}function Nr(c,i){var y,D,A,L,a=$r(c),p=$r(i);if(a!==p)return Ht(a,p);switch(a){case 0:return 0;case 1:return Ht(c.booleanValue,i.booleanValue);case 2:return D=i,(A=wn((y=c).integerValue||y.doubleValue))<(L=wn(D.integerValue||D.doubleValue))?-1:A>L?1:A===L?0:isNaN(A)?isNaN(L)?0:-1:1;case 3:return bs(c.timestampValue,i.timestampValue);case 4:return bs(wr(c),wr(i));case 5:return Ht(c.stringValue,i.stringValue);case 6:return function(y,D){var A=ir(y),L=ir(D);return A.L(L)}(c.bytesValue,i.bytesValue);case 7:return function(y,D){for(var A=y.split("/"),L=D.split("/"),W=0;W<A.length&&W<L.length;W++){var se=Ht(A[W],L[W]);if(0!==se)return se}return Ht(A.length,L.length)}(c.referenceValue,i.referenceValue);case 8:return function(y,D){var A=Ht(wn(y.latitude),wn(D.latitude));return 0!==A?A:Ht(wn(y.longitude),wn(D.longitude))}(c.geoPointValue,i.geoPointValue);case 9:return function(y,D){for(var A=y.values||[],L=D.values||[],W=0;W<A.length&&W<L.length;++W){var se=Nr(A[W],L[W]);if(se)return se}return Ht(A.length,L.length)}(c.arrayValue,i.arrayValue);case 10:return function(y,D){var A=y.fields||{},L=Object.keys(A),W=D.fields||{},se=Object.keys(W);L.sort(),se.sort();for(var be=0;be<L.length&&be<se.length;++be){var Re=Ht(L[be],se[be]);if(0!==Re)return Re;var Oe=Nr(A[L[be]],W[se[be]]);if(0!==Oe)return Oe}return Ht(L.length,se.length)}(c.mapValue,i.mapValue);default:throw ot()}}function bs(c,i){if("string"==typeof c&&"string"==typeof i&&c.length===i.length)return Ht(c,i);var a=Kt(c),p=Kt(i),y=Ht(a.seconds,p.seconds);return 0!==y?y:Ht(a.nanos,p.nanos)}function Yi(c){return Cr(c)}function Cr(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(y=Kt(c.timestampValue)).seconds+","+y.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?ir(c.bytesValue).toBase64():"referenceValue"in c?Z.C(c.referenceValue).toString():"geoPointValue"in c?"geo("+(i=c.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in c?function(p){for(var y="[",D=!0,A=0,L=p.values||[];A<L.length;A++)D?D=!1:y+=",",y+=Cr(L[A]);return y+"]"}(c.arrayValue):"mapValue"in c?function(p){for(var y="{",D=!0,A=0,L=Object.keys(p.fields||{}).sort();A<L.length;A++){var W=L[A];D?D=!1:y+=",",y+=W+":"+Cr(p.fields[W])}return y+"}"}(c.mapValue):ot();var y,i}function Kt(c){if(Ke(!!c),"string"==typeof c){var i=0,a=yo.exec(c);if(Ke(!!a),a[1]){var p=a[1];p=(p+"000000000").substr(0,9),i=Number(p)}var y=new Date(c);return{seconds:Math.floor(y.getTime()/1e3),nanos:i}}return{seconds:wn(c.seconds),nanos:wn(c.nanos)}}function wn(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function ir(c){return"string"==typeof c?un.fromBase64String(c):un.fromUint8Array(c)}function Vn(c,i){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+i.path.R()}}function Sn(c){return!!c&&"integerValue"in c}function Bo(c){return!!c&&"arrayValue"in c}function Wr(c){return!!c&&"nullValue"in c}function vi(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function or(c){return!!c&&"mapValue"in c}var Zi={asc:"ASCENDING",desc:"DESCENDING"},Ti={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ar=function(c,i){this.U=c,this.Qe=i};function Qi(c){return{integerValue:""+c}}function oi(c,i){if(c.Qe){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ge(i)?"-0":i}}function Qr(c,i){return Ee(i)?Qi(i):oi(c,i)}function No(c,i){return c.Qe?new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+i.nanoseconds).slice(-9)+"Z":{seconds:""+i.seconds,nanos:i.nanoseconds}}function vo(c,i){return c.Qe?i.toBase64():i.toUint8Array()}function so(c,i){return No(c,i.Z())}function Mr(c){return Ke(!!c),Qt.J((a=Kt(c),new At(a.seconds,a.nanos)));var a}function Jr(c,i){return(a=c,new Lt(["projects",a.projectId,"databases",a.database])).child("documents").child(i).R();var a}function ts(c){var i=Lt.g(c);return Ke(uo(i)),i}function bi(c,i){return Jr(c.U,i.path)}function si(c,i){var a=ts(i);return Ke(a.get(1)===c.U.projectId),Ke(!a.get(3)&&!c.U.database||a.get(3)===c.U.database),new Z(Rr(a))}function Uo(c,i){return Jr(c.U,i)}function Ao(c){var i=ts(c);return 4===i.length?Lt.P():Rr(i)}function xr(c){return new Lt(["projects",c.U.projectId,"databases",c.U.database]).R()}function Rr(c){return Ke(c.length>4&&"documents"===c.get(4)),c.u(5)}function jo(c,i,a){return{name:bi(c,i),fields:a.proto.mapValue.fields}}function bo(c,i){var a,y;if(i instanceof qt)a={update:jo(c,i.key,i.value)};else if(i instanceof sr)a={delete:bi(c,i.key)};else if(i instanceof fn)a={update:jo(c,i.key,i.data),updateMask:Ri(i.We)};else if(i instanceof jn)a={transform:{document:bi(c,i.key),fieldTransforms:i.fieldTransforms.map(function(p){return function(y,D){var A=D.transform;if(A instanceof Oi)return{fieldPath:D.field.R(),setToServerValue:"REQUEST_TIME"};if(A instanceof Pi)return{fieldPath:D.field.R(),appendMissingElements:{values:A.elements}};if(A instanceof Bi)return{fieldPath:D.field.R(),removeAllFromArray:{values:A.elements}};if(A instanceof jr)return{fieldPath:D.field.R(),increment:A.je};throw ot()}(0,p)})}};else{if(!(i instanceof ai))return ot();a={verify:bi(c,i.key)}}return i.Ge.Ke||(a.currentDocument=void 0!==(y=i.Ge).updateTime?{updateTime:so(c,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:ot()),a}function fs(c,i){var be,a=i.currentDocument?void 0!==(be=i.currentDocument).updateTime?xt.updateTime(Mr(be.updateTime)):void 0!==be.exists?xt.exists(be.exists):xt.ze():xt.ze();if(i.update){var p=si(c,i.update.name),y=new Xi({mapValue:{fields:i.update.fields}});if(i.updateMask){var D=function(be){return new F((be.fieldPaths||[]).map(function(Oe){return te.S(Oe)}))}(i.updateMask);return new fn(p,y,D,a)}return new qt(p,y,a)}if(i.delete){var A=si(c,i.delete);return new sr(A,a)}if(i.transform){var L=si(c,i.transform.document),W=i.transform.fieldTransforms.map(function(be){return function(Re,Oe){var Ye=null;"setToServerValue"in Oe?(Ke("REQUEST_TIME"===Oe.setToServerValue),Ye=new Oi):"appendMissingElements"in Oe?Ye=new Pi(Oe.appendMissingElements.values||[]):"removeAllFromArray"in Oe?Ye=new Bi(Oe.removeAllFromArray.values||[]):"increment"in Oe?Ye=new jr(Re,Oe.increment):ot();var Zt=te.S(Oe.fieldPath);return new ae(Zt,Ye)}(c,be)});return Ke(!0===a.exists),new jn(L,W)}if(i.verify){var se=si(c,i.verify);return new ai(se,a)}return ot()}function Kn(c,i){return{documents:[Uo(c,i.path)]}}function Ho(c,i){var a={structuredQuery:{}},p=i.path;null!==i.collectionGroup?(a.parent=Uo(c,p),a.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(a.parent=Uo(c,p.h()),a.structuredQuery.from=[{collectionId:p._()}]);var y=function(L){if(0!==L.length){var W=L.map(function(se){return function(be){if("=="===be.op){if(vi(be.value))return{unaryFilter:{field:ci(be.field),op:"IS_NAN"}};if(Wr(be.value))return{unaryFilter:{field:ci(be.field),op:"IS_NULL"}}}else if("!="===be.op){if(vi(be.value))return{unaryFilter:{field:ci(be.field),op:"IS_NOT_NAN"}};if(Wr(be.value))return{unaryFilter:{field:ci(be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(be.field),op:Go(be.op),value:be.value}}}(se)});return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}}(i.filters);y&&(a.structuredQuery.where=y);var D=function(L){if(0!==L.length)return L.map(function(W){return{field:ci((se=W).field),direction:gn(se.dir)};var se})}(i.orderBy);D&&(a.structuredQuery.orderBy=D);var W,A=(W=i.limit,c.Qe||mi(W)?W:{value:W});return null!==A&&(a.structuredQuery.limit=A),i.startAt&&(a.structuredQuery.startAt=Mi(i.startAt)),i.endAt&&(a.structuredQuery.endAt=Mi(i.endAt)),a}function wo(c){var i=Ao(c.parent),a=c.structuredQuery,p=a.from?a.from.length:0,y=null;if(p>0){Ke(1===p);var D=a.from[0];D.allDescendants?y=D.collectionId:i=i.child(D.collectionId)}var A=[];a.where&&(A=Ji(a.where));var L=[];a.orderBy&&(L=a.orderBy.map(function(Re){return new ps(xi((Oe=Re).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Oe.direction));var Oe}));var Re,Oe,W=null;a.limit&&(W=mi(Oe="object"==typeof(Re=a.limit)?Re.value:Re)?null:Oe);var se=null;a.startAt&&(se=Ki(a.startAt));var be=null;return a.endAt&&(be=Ki(a.endAt)),di(fu(i,y,L,A,W,"F",se,be))}function Ji(c){return c?void 0!==c.unaryFilter?[Co(c)]:void 0!==c.fieldFilter?[ao(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(i){return Ji(i)}).reduce(function(i,a){return i.concat(a)}):ot():[]}function Mi(c){return{before:c.before,values:c.position}}function Ki(c){return new Hr(c.values||[],!!c.before)}function gn(c){return Zi[c]}function Go(c){return Ti[c]}function ci(c){return{fieldPath:c.R()}}function xi(c){return te.S(c.fieldPath)}function ao(c){return In.create(xi(c.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ot()}}(c.fieldFilter.op),c.fieldFilter.value)}function Co(c){switch(c.unaryFilter.op){case"IS_NAN":var i=xi(c.unaryFilter.field);return In.create(i,"==",{doubleValue:NaN});case"IS_NULL":var a=xi(c.unaryFilter.field);return In.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var p=xi(c.unaryFilter.field);return In.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=xi(c.unaryFilter.field);return In.create(y,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ot()}}function Ri(c){var i=[];return c.fields.forEach(function(a){return i.push(a.R())}),{fieldPaths:i}}function uo(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}var Xn=function(){this.He=void 0};function lo(c,i,a){return c instanceof Oi?(D={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(p=a).seconds,nanos:p.nanoseconds}}}},(y=i)&&(D.fields.__previous_value__=y),{mapValue:D}):c instanceof Pi?Mo(c,i):c instanceof Bi?qs(c,i):function(p,y){var D=Eo(p,y),A=$(D)+$(p.je);return Sn(D)&&Sn(p.je)?Qi(A):oi(p.serializer,A)}(c,i);var p,y,D}function co(c,i,a){return c instanceof Pi?Mo(c,i):c instanceof Bi?qs(c,i):a}function Eo(c,i){return c instanceof jr?Sn(a=i)||(p=a)&&"doubleValue"in p?i:{integerValue:0}:null;var p,a}var Oi=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i}(Xn),Pi=function(c){function i(a){var p=this;return(p=c.call(this)||this).elements=a,p}return I.__extends(i,c),i}(Xn);function Mo(c,i){for(var a=H(i),p=function(A){a.some(function(L){return ln(L,A)})||a.push(A)},y=0,D=c.elements;y<D.length;y++)p(D[y]);return{arrayValue:{values:a}}}var Bi=function(c){function i(a){var p=this;return(p=c.call(this)||this).elements=a,p}return I.__extends(i,c),i}(Xn);function qs(c,i){for(var a=H(i),p=function(A){a=a.filter(function(L){return!ln(L,A)})},y=0,D=c.elements;y<D.length;y++)p(D[y]);return{arrayValue:{values:a}}}var jr=function(c){function i(a,p){var y=this;return(y=c.call(this)||this).serializer=a,y.je=p,y}return I.__extends(i,c),i}(Xn);function $(c){return wn(c.integerValue||c.doubleValue)}function H(c){return Bo(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var F=function(){function c(i){this.fields=i,i.sort(te.i)}return c.prototype.Ye=function(i){for(var a=0,p=this.fields;a<p.length;a++)if(p[a].T(i))return!0;return!1},c.prototype.isEqual=function(i){return rr(this.fields,i.fields,function(a,p){return a.isEqual(p)})},c}(),ae=function(c,i){this.field=c,this.transform=i},ut=function(c,i){this.version=c,this.transformResults=i},xt=function(){function c(i,a){this.updateTime=i,this.exists=a}return c.ze=function(){return new c},c.exists=function(i){return new c(void 0,i)},c.updateTime=function(i){return new c(i)},Object.defineProperty(c.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)},c}();function j(c,i){return void 0!==c.updateTime?i instanceof Rt&&i.version.isEqual(c.updateTime):void 0===c.exists||c.exists===i instanceof Rt}var re=function(){};function G(c,i,a){return c instanceof qt?new Rt((p=c).key,a.version,p.value,{hasCommittedMutations:!0}):c instanceof fn?function(p,y,D){if(!j(p.Ge,y))return new hs(p.key,D.version);var A=er(p,y);return new Rt(p.key,D.version,A,{hasCommittedMutations:!0})}(c,i,a):c instanceof jn?function(p,y,D){if(Ke(null!=D.transformResults),!j(p.Ge,y))return new hs(p.key,D.version);var A=Cn(0,y),L=function(be,Re,Oe){var Ye=[];Ke(be.length===Oe.length);for(var st=0;st<Oe.length;st++){var ht=be[st],Zt=ht.transform,Wt=null;Re instanceof Rt&&(Wt=Re.field(ht.field)),Ye.push(co(Zt,Wt,Oe[st]))}return Ye}(p.fieldTransforms,y,D.transformResults),W=D.version,se=Hn(p,A.data(),L);return new Rt(p.key,W,se,{hasCommittedMutations:!0})}(c,i,a):function(p,y,D){return new ui(p.key,D.version,{hasCommittedMutations:!0})}(c,0,a);var p}function fe(c,i,a,p){return c instanceof qt?function(y,D){if(!j(y.Ge,D))return D;var A=vt(D);return new Rt(y.key,A,y.value,{Je:!0})}(c,i):c instanceof fn?function(y,D){if(!j(y.Ge,D))return D;var A=vt(D),L=er(y,D);return new Rt(y.key,A,L,{Je:!0})}(c,i):c instanceof jn?function(y,D,A,L){if(!j(y.Ge,D))return D;var W=Cn(0,D),se=function(Re,Oe,Ye,st){for(var ht=[],Zt=0,Wt=Re;Zt<Wt.length;Zt++){var yn=Wt[Zt],Un=yn.transform,Qn=null;Ye instanceof Rt&&(Qn=Ye.field(yn.field)),null===Qn&&st instanceof Rt&&(Qn=st.field(yn.field)),ht.push(lo(Un,Qn,Oe))}return ht}(y.fieldTransforms,A,D,L),be=Hn(y,W.data(),se);return new Rt(y.key,W.version,be,{Je:!0})}(c,i,p,a):j((y=c).Ge,D=i)?new ui(y.key,Qt.min()):D;var y,D}function Se(c,i){return c instanceof jn?function(a,p){for(var y=null,D=0,A=a.fieldTransforms;D<A.length;D++){var L=A[D],W=p instanceof Rt?p.field(L.field):void 0,se=Eo(L.transform,W||null);null!=se&&(y=null==y?(new Kr).set(L.field,se):y.set(L.field,se))}return y?y.Xe():null}(c,i):null}function ct(c,i){return c.type===i.type&&!!c.key.isEqual(i.key)&&!!c.Ge.isEqual(i.Ge)&&(0===c.type?c.value.isEqual(i.value):1===c.type?c.data.isEqual(i.data)&&c.We.isEqual(i.We):2!==c.type||rr(c.fieldTransforms,c.fieldTransforms,function(a,p){return(y=a).field.isEqual((D=p).field)&&(L=D.transform,(A=y.transform)instanceof Pi&&L instanceof Pi||A instanceof Bi&&L instanceof Bi?rr(A.elements,L.elements,ln):A instanceof jr&&L instanceof jr?ln(A.je,L.je):A instanceof Oi&&L instanceof Oi);var y,D,A,L}))}function vt(c){return c instanceof Rt?c.version:Qt.min()}var qt=function(c){function i(a,p,y){var D=this;return(D=c.call(this)||this).key=a,D.value=p,D.Ge=y,D.type=0,D}return I.__extends(i,c),i}(re),fn=function(c){function i(a,p,y,D){var A=this;return(A=c.call(this)||this).key=a,A.data=p,A.We=y,A.Ge=D,A.type=1,A}return I.__extends(i,c),i}(re);function er(c,i){return a=c,p=i instanceof Rt?i.data():Xi.empty(),y=new Kr(p),a.We.fields.forEach(function(D){if(!D.m()){var A=a.data.field(D);null!==A?y.set(D,A):y.delete(D)}}),y.Xe();var a,p,y}var jn=function(c){function i(a,p){var y=this;return(y=c.call(this)||this).key=a,y.fieldTransforms=p,y.type=2,y.Ge=xt.exists(!0),y}return I.__extends(i,c),i}(re);function Cn(c,i){return i}function Hn(c,i,a){for(var p=new Kr(i),y=0;y<c.fieldTransforms.length;y++)p.set(c.fieldTransforms[y].field,a[y]);return p.Xe()}var sr=function(c){function i(a,p){var y=this;return(y=c.call(this)||this).key=a,y.Ge=p,y.type=3,y}return I.__extends(i,c),i}(re),ai=function(c){function i(a,p){var y=this;return(y=c.call(this)||this).key=a,y.Ge=p,y.type=4,y}return I.__extends(i,c),i}(re),Xi=function(){function c(i){this.proto=i}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(i){if(i.m())return this.proto;for(var a=this.proto,p=0;p<i.length-1;++p)if(!a.mapValue.fields||!or(a=a.mapValue.fields[i.get(p)]))return null;return(a=(a.mapValue.fields||{})[i._()])||null},c.prototype.isEqual=function(i){return ln(this.proto,i.proto)},c}(),Kr=function(){function c(i){void 0===i&&(i=Xi.empty()),this.Ze=i,this.tn=new Map}return c.prototype.set=function(i,a){return this.en(i,a),this},c.prototype.delete=function(i){return this.en(i,null),this},c.prototype.en=function(i,a){for(var p=this.tn,y=0;y<i.length-1;++y){var D=i.get(y),A=p.get(D);A instanceof Map?p=A:A&&10===$r(A)?(A=new Map(Object.entries(A.mapValue.fields||{})),p.set(D,A),p=A):(A=new Map,p.set(D,A),p=A)}p.set(i._(),a)},c.prototype.Xe=function(){var i=this.nn(te.P(),this.tn);return null!=i?new Xi(i):this.Ze},c.prototype.nn=function(i,a){var p=this,y=!1,D=this.Ze.field(i),A=or(D)?Object.assign({},D.mapValue.fields):{};return a.forEach(function(L,W){if(L instanceof Map){var se=p.nn(i.child(W),L);null!=se&&(A[W]=se,y=!0)}else null!==L?(A[W]=L,y=!0):A.hasOwnProperty(W)&&(delete A[W],y=!0)}),y?{mapValue:{fields:A}}:null},c}();function Fs(c){var i=[];return kt(c.fields||{},function(a,p){var y=new te([a]);if(or(p)){var D=Fs(p.mapValue).fields;if(0===D.length)i.push(y);else for(var A=0,L=D;A<L.length;A++)i.push(y.child(L[A]))}else i.push(y)}),new F(i)}var fr=function(c,i){this.key=c,this.version=i},Rt=function(c){function i(a,p,y,D){var A=this;return(A=c.call(this,a,p)||this).sn=y,A.Je=!!D.Je,A.hasCommittedMutations=!!D.hasCommittedMutations,A}return I.__extends(i,c),i.prototype.field=function(a){return this.sn.field(a)},i.prototype.data=function(){return this.sn},i.prototype.rn=function(){return this.sn.proto},i.prototype.isEqual=function(a){return a instanceof i&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.Je===a.Je&&this.hasCommittedMutations===a.hasCommittedMutations&&this.sn.isEqual(a.sn)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i}(fr),ui=function(c){function i(a,p,y){var D=this;return(D=c.call(this,a,p)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),D}return I.__extends(i,c),i.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(a){return a instanceof i&&a.hasCommittedMutations===this.hasCommittedMutations&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)},i}(fr),hs=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(a){return a instanceof i&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)},i}(fr),ws=function(c,i,a,p,y,D,A,L){void 0===i&&(i=null),void 0===a&&(a=[]),void 0===p&&(p=[]),void 0===y&&(y=null),void 0===D&&(D="F"),void 0===A&&(A=null),void 0===L&&(L=null),this.path=c,this.collectionGroup=i,this.on=a,this.filters=p,this.limit=y,this.an=D,this.startAt=A,this.endAt=L,this.cn=null,this.un=null};function fu(c,i,a,p,y,D,A,L){return new ws(c,i,a,p,y,D,A,L)}function $o(c){return new ws(c)}function _a(c){return!mi(c.limit)&&"F"===c.an}function Si(c){return!mi(c.limit)&&"L"===c.an}function mt(c){return c.on.length>0?c.on[0].field:null}function Bn(c){for(var i=0,a=c.filters;i<a.length;i++){var p=a[i];if(p.hn())return p.field}return null}function Er(c){return null!==c.collectionGroup}function tr(c){var i=Je(c);if(null===i.cn){i.cn=[];var a=Bn(i),p=mt(i);if(null!==a&&null===p)a.p()||i.cn.push(new ps(a)),i.cn.push(new ps(te.v(),"asc"));else{for(var y=!1,D=0,A=i.on;D<A.length;D++){var L=A[D];i.cn.push(L),L.field.p()&&(y=!0)}if(!y){var W=i.on.length>0?i.on[i.on.length-1].dir:"asc";i.cn.push(new ps(te.v(),W))}}}return i.cn}function di(c){var i=Je(c);if(!i.un)if("F"===i.an)i.un=rt(i.path,i.collectionGroup,tr(i),i.filters,i.limit,i.startAt,i.endAt);else{for(var a=[],p=0,y=tr(i);p<y.length;p++){var D=y[p];a.push(new ps(D.field,"desc"===D.dir?"asc":"desc"))}var L=i.endAt?new Hr(i.endAt.position,!i.endAt.before):null,W=i.startAt?new Hr(i.startAt.position,!i.startAt.before):null;i.un=rt(i.path,i.collectionGroup,a,i.filters,i.limit,L,W)}return i.un}function wi(c,i,a){return new ws(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),i,a,c.startAt,c.endAt)}function On(c,i){return new ws(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,i,c.endAt)}function Cs(c,i){return new ws(c.path,c.collectionGroup,c.on.slice(),c.filters.slice(),c.limit,c.an,c.startAt,i)}function Wo(c,i){return Tt(di(c),di(i))&&c.an===i.an}function qa(c){return Ze(di(c))+"|lt:"+c.an}function Es(c){return"Query(target="+(a=(i=di(c)).path.R(),null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=", filters: ["+i.filters.map(function(p){return(y=p).field.R()+" "+y.op+" "+Yi(y.value);var y}).join(", ")+"]"),mi(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=", orderBy: ["+i.orderBy.map(function(p){return(y=p).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),i.startAt&&(a+=", startAt: "+eo(i.startAt)),i.endAt&&(a+=", endAt: "+eo(i.endAt)),"Target("+a+"); limitType=")+c.an+")";var i,a}function xo(c,i){return y=(p=i).key.path,(null!==(a=c).collectionGroup?p.key.N(a.collectionGroup)&&a.path.T(y):Z.F(a.path)?a.path.isEqual(y):a.path.I(y))&&function(a,p){for(var y=0,D=a.on;y<D.length;y++){var A=D[y];if(!A.field.p()&&null===p.field(A.field))return!1}return!0}(c,i)&&function(a,p){for(var y=0,D=a.filters;y<D.length;y++)if(!D[y].matches(p))return!1;return!0}(c,i)&&function(a,p){return!(a.startAt&&!Ys(a.startAt,tr(a),p)||a.endAt&&Ys(a.endAt,tr(a),p))}(c,i);var a,p,y}function zs(c){return function(i,a){for(var p=!1,y=0,D=tr(c);y<D.length;y++){var A=D[y],L=ya(A,i,a);if(0!==L)return L;p=p||A.field.p()}return 0}}var In=function(c){function i(a,p,y){var D=this;return(D=c.call(this)||this).field=a,D.op=p,D.value=y,D}return I.__extends(i,c),i.create=function(a,p,y){if(a.p())return"in"===p||"not-in"===p?this.ln(a,p,y):new hr(a,p,y);if(Wr(y)){if("=="!==p&&"!="!==p)throw new oe(ue.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new i(a,p,y)}if(vi(y)){if("=="!==p&&"!="!==p)throw new oe(ue.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new i(a,p,y)}return"array-contains"===p?new Ii(a,y):"in"===p?new xa(a,y):"not-in"===p?new ks(a,y):"array-contains-any"===p?new na(a,y):new i(a,p,y)},i.ln=function(a,p,y){return"in"===p?new Ro(a,y):new ns(a,y)},i.prototype.matches=function(a){var p=a.field(this.field);return"!="===this.op?null!==p&&this._n(Nr(p,this.value)):null!==p&&$r(this.value)===$r(p)&&this._n(Nr(p,this.value))},i.prototype._n=function(a){switch(this.op){case"<":return a<0;case"<=":return a<=0;case"==":return 0===a;case"!=":return 0!==a;case">":return a>0;case">=":return a>=0;default:return ot()}},i.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},i}(function(){}),hr=function(c){function i(a,p,y){var D=this;return(D=c.call(this,a,p,y)||this).key=Z.C(y.referenceValue),D}return I.__extends(i,c),i.prototype.matches=function(a){var p=Z.i(a.key,this.key);return this._n(p)},i}(In),Ro=function(c){function i(a,p){var y=this;return(y=c.call(this,a,"in",p)||this).keys=fi(0,p),y}return I.__extends(i,c),i.prototype.matches=function(a){return this.keys.some(function(p){return p.isEqual(a.key)})},i}(In),ns=function(c){function i(a,p){var y=this;return(y=c.call(this,a,"not-in",p)||this).keys=fi(0,p),y}return I.__extends(i,c),i.prototype.matches=function(a){return!this.keys.some(function(p){return p.isEqual(a.key)})},i}(In);function fi(c,i){var a;return((null===(a=i.arrayValue)||void 0===a?void 0:a.values)||[]).map(function(p){return Z.C(p.referenceValue)})}var Ii=function(c){function i(a,p){return c.call(this,a,"array-contains",p)||this}return I.__extends(i,c),i.prototype.matches=function(a){var p=a.field(this.field);return Bo(p)&&Tn(p.arrayValue,this.value)},i}(In),xa=function(c){function i(a,p){return c.call(this,a,"in",p)||this}return I.__extends(i,c),i.prototype.matches=function(a){var p=a.field(this.field);return null!==p&&Tn(this.value.arrayValue,p)},i}(In),ks=function(c){function i(a,p){return c.call(this,a,"not-in",p)||this}return I.__extends(i,c),i.prototype.matches=function(a){if(Tn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var p=a.field(this.field);return null!==p&&!Tn(this.value.arrayValue,p)},i}(In),na=function(c){function i(a,p){return c.call(this,a,"array-contains-any",p)||this}return I.__extends(i,c),i.prototype.matches=function(a){var p=this,y=a.field(this.field);return!(!Bo(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(D){return Tn(p.value.arrayValue,D)})},i}(In),Hr=function(c,i){this.position=c,this.before=i};function eo(c){return(c.before?"b":"a")+":"+c.position.map(function(i){return Yi(i)}).join(",")}function Ys(c,i,a){for(var p=0,y=0;y<c.position.length;y++){var D=i[y],A=c.position[y];if(p=D.field.p()?Z.i(Z.C(A.referenceValue),a.key):Nr(A,a.field(D.field)),"desc"===D.dir&&(p*=-1),0!==p)break}return c.before?p<=0:p<0}function rs(c,i){if(null===c)return null===i;if(null===i||c.before!==i.before||c.position.length!==i.position.length)return!1;for(var a=0;a<c.position.length;a++)if(!ln(c.position[a],i.position[a]))return!1;return!0}var ps=function(c,i){void 0===i&&(i="asc"),this.field=c,this.dir=i};function ya(c,i,a){var y,A,L,W,p=c.field.p()?Z.i(i.key,a.key):(A=a,L=i.field(y=c.field),W=A.field(y),null!==L&&null!==W?Nr(L,W):ot());switch(c.dir){case"asc":return p;case"desc":return-1*p;default:return ot()}}function Ds(c,i){return c.dir===i.dir&&c.field.isEqual(i.field)}var nr=function(){var c=this;this.promise=new Promise(function(i,a){c.resolve=i,c.reject=a})},Or=function(){function c(i,a,p,y,D){void 0===p&&(p=1e3),void 0===y&&(y=1.5),void 0===D&&(D=6e4),this.fn=i,this.dn=a,this.wn=p,this.mn=y,this.Tn=D,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return c.prototype.reset=function(){this.En=0},c.prototype.Rn=function(){this.En=this.Tn},c.prototype.gn=function(i){var a=this;this.cancel();var p=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),D=Math.max(0,p-y);D>0&&Ce("ExponentialBackoff","Backing off for "+D+" ms (base delay: "+this.En+" ms, delay with jitter: "+p+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,D,function(){return a.An=Date.now(),i()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},c.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},c.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},c.prototype.Pn=function(){return(Math.random()-.5)*this.En},c}(),Ct=function(){function c(i){var a=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,i(function(p){a.Sn=!0,a.result=p,a.bn&&a.bn(p)},function(p){a.Sn=!0,a.error=p,a.vn&&a.vn(p)})}return c.prototype.catch=function(i){return this.next(void 0,i)},c.prototype.next=function(i,a){var p=this;return this.Dn&&ot(),this.Dn=!0,this.Sn?this.error?this.Cn(a,this.error):this.Nn(i,this.result):new c(function(y,D){p.bn=function(A){p.Nn(i,A).next(y,D)},p.vn=function(A){p.Cn(a,A).next(y,D)}})},c.prototype.Fn=function(){var i=this;return new Promise(function(a,p){i.next(a,p)})},c.prototype.xn=function(i){try{var a=i();return a instanceof c?a:c.resolve(a)}catch(p){return c.reject(p)}},c.prototype.Nn=function(i,a){return i?this.xn(function(){return i(a)}):c.resolve(a)},c.prototype.Cn=function(i,a){return i?this.xn(function(){return i(a)}):c.reject(a)},c.resolve=function(i){return new c(function(a,p){a(i)})},c.reject=function(i){return new c(function(a,p){p(i)})},c.$n=function(i){return new c(function(a,p){var y=0,D=0,A=!1;i.forEach(function(L){++y,L.next(function(){++D,A&&D===y&&a()},function(W){return p(W)})}),A=!0,D===y&&a()})},c.kn=function(i){for(var a=c.resolve(!1),p=function(A){a=a.next(function(L){return L?c.resolve(L):A()})},y=0,D=i;y<D.length;y++)p(D[y]);return a},c.forEach=function(i,a){var p=this,y=[];return i.forEach(function(D,A){y.push(a.call(p,D,A))}),this.$n(y)},c}(),pr=function(){function c(i,a,p){this.name=i,this.version=a,this.Mn=p,12.2===c.On(Qe.getUA())&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(i){return Ce("SimpleDb","Removing database:",i),gr(window.indexedDB.deleteDatabase(i)).Fn()},c.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(c.Bn())return!0;var i=Qe.getUA(),a=c.On(i),p=0<a&&a<10,y=c.qn(i),D=0<y&&y<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||p||D)},c.Bn=function(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Un)},c.Qn=function(i,a){return i.store(a)},c.On=function(i){var a=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(p)},c.qn=function(i){var a=i.match(/Android ([\d.]+)/i),p=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(p)},c.prototype.Wn=function(i){return I.__awaiter(this,void 0,void 0,function(){var a,p=this;return I.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),a=this,[4,new Promise(function(D,A){var L=indexedDB.open(p.name,p.version);L.onsuccess=function(W){D(W.target.result)},L.onblocked=function(){A(new Ci(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},L.onerror=function(W){var se=W.target.error;A("VersionError"===se.name?new oe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ci(i,se))},L.onupgradeneeded=function(W){Ce("SimpleDb",'Database "'+p.name+'" requires upgrade from version:',W.oldVersion),p.Mn.createOrUpgrade(W.target.result,L.transaction,W.oldVersion,p.version).next(function(){Ce("SimpleDb","Database upgrade to version "+p.version+" complete")})}})]);case 1:a.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(D){return p.jn(D)}),this.db)]}})})},c.prototype.Kn=function(i){this.jn=i,this.db&&(this.db.onversionchange=function(a){return i(a)})},c.prototype.runTransaction=function(i,a,p,y){return I.__awaiter(this,void 0,void 0,function(){var D,A,L,W,se;return I.__generator(this,function(be){switch(be.label){case 0:D="readonly"===a,A=0,L=function(){var Re,Oe,Ye,st,ht;return I.__generator(this,function(Zt){switch(Zt.label){case 0:++A,Zt.label=1;case 1:return Zt.trys.push([1,4,,5]),[4,W.Wn(i)];case 2:return W.db=Zt.sent(),Re=ar.open(W.db,i,D?"readonly":"readwrite",p),Oe=y(Re).catch(function(Wt){return Re.abort(Wt),Ct.reject(Wt)}).Fn(),Ye={},Oe.catch(function(){}),[4,Re.Gn];case 3:return[2,(Ye.value=(Zt.sent(),Oe),Ye)];case 4:return Ce("SimpleDb","Transaction failed with error:",(st=Zt.sent()).message,"Retrying:",ht="FirebaseError"!==st.name&&A<3),W.close(),ht?[3,5]:[2,{value:Promise.reject(st)}];case 5:return[2]}})},W=this,be.label=1;case 1:return[5,L()];case 2:if("object"==typeof(se=be.sent()))return[2,se.value];be.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),is=function(){function c(i){this.zn=i,this.Hn=!1,this.Yn=null}return Object.defineProperty(c.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(i){this.zn=i},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Hn=!0},c.prototype.Xn=function(i){this.Yn=i},c.prototype.delete=function(){return gr(this.zn.delete())},c}(),Ci=function(c){function i(a,p){var y=this;return(y=c.call(this,ue.UNAVAILABLE,"IndexedDB transaction '"+a+"' failed: "+p)||this).name="IndexedDbTransactionError",y}return I.__extends(i,c),i}(oe);function qo(c){return"IndexedDbTransactionError"===c.name}var ar=function(){function c(i,a){var p=this;this.action=i,this.transaction=a,this.aborted=!1,this.Zn=new nr,this.transaction.oncomplete=function(){p.Zn.resolve()},this.transaction.onabort=function(){a.error?p.Zn.reject(new Ci(i,a.error)):p.Zn.resolve()},this.transaction.onerror=function(y){var D=b(y.target.error);p.Zn.reject(new Ci(i,D))}}return c.open=function(i,a,p,y){try{return new c(a,i.transaction(y,p))}catch(D){throw new Ci(a,D)}},Object.defineProperty(c.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(i){i&&this.Zn.reject(i),this.aborted||(Ce("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(i){var a=this.transaction.objectStore(i);return new zo(a)},c}(),zo=function(){function c(i){this.store=i}return c.prototype.put=function(i,a){var p;return void 0!==a?(Ce("SimpleDb","PUT",this.store.name,i,a),p=this.store.put(a,i)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",i),p=this.store.put(i)),gr(p)},c.prototype.add=function(i){return Ce("SimpleDb","ADD",this.store.name,i,i),gr(this.store.add(i))},c.prototype.get=function(i){var a=this;return gr(this.store.get(i)).next(function(p){return void 0===p&&(p=null),Ce("SimpleDb","GET",a.store.name,i,p),p})},c.prototype.delete=function(i){return Ce("SimpleDb","DELETE",this.store.name,i),gr(this.store.delete(i))},c.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),gr(this.store.count())},c.prototype.ts=function(i,a){var p=this.cursor(this.options(i,a)),y=[];return this.es(p,function(D,A){y.push(A)}).next(function(){return y})},c.prototype.ns=function(i,a){Ce("SimpleDb","DELETE ALL",this.store.name);var p=this.options(i,a);p.ss=!1;var y=this.cursor(p);return this.es(y,function(D,A,L){return L.delete()})},c.prototype.rs=function(i,a){var p;a?p=i:(p={},a=i);var y=this.cursor(p);return this.es(y,a)},c.prototype.os=function(i){var a=this.cursor({});return new Ct(function(p,y){a.onerror=function(D){var A=b(D.target.error);y(A)},a.onsuccess=function(D){var A=D.target.result;A?i(A.primaryKey,A.value).next(function(L){L?A.continue():p()}):p()}})},c.prototype.es=function(i,a){var p=[];return new Ct(function(y,D){i.onerror=function(A){D(A.target.error)},i.onsuccess=function(A){var L=A.target.result;if(L){var W=new is(L),se=a(L.primaryKey,L.value,W);if(se instanceof Ct){var be=se.catch(function(Re){return W.done(),Ct.reject(Re)});p.push(be)}W.Sn?y():null===W.Jn?L.continue():L.continue(W.Jn)}else y()}}).next(function(){return Ct.$n(p)})},c.prototype.options=function(i,a){var p=void 0;return void 0!==i&&("string"==typeof i?p=i:a=i),{index:p,range:a}},c.prototype.cursor=function(i){var a="next";if(i.reverse&&(a="prev"),i.index){var p=this.store.index(i.index);return i.ss?p.openKeyCursor(i.range,a):p.openCursor(i.range,a)}return this.store.openCursor(i.range,a)},c}();function gr(c){return new Ct(function(i,a){c.onsuccess=function(p){i(p.target.result)},c.onerror=function(p){var y=b(p.target.error);a(y)}})}var Vr=!1;function b(c){var i=pr.On(Qe.getUA());if(i>=12.2&&i<13){var a="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(a)>=0){var p=new oe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+a+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Vr||(Vr=!0,setTimeout(function(){throw p},0)),p}}return c}function k(){return"undefined"!=typeof window?window:null}function Y(){return"undefined"!=typeof document?document:null}var ge=function(){function c(i,a,p,y,D){this.cs=i,this.dn=a,this.us=p,this.op=y,this.hs=D,this.ls=new nr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(A){})}return c._s=function(i,a,p,y,D){var A=new c(i,a,Date.now()+p,y,D);return A.start(p),A},c.prototype.start=function(i){var a=this;this.fs=setTimeout(function(){return a.ds()},i)},c.prototype.pn=function(){return this.ds()},c.prototype.cancel=function(i){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new oe(ue.CANCELLED,"Operation cancelled"+(i?": "+i:""))))},c.prototype.ds=function(){var i=this;this.cs.ws(function(){return null!==i.fs?(i.clearTimeout(),i.op().then(function(a){return i.ls.resolve(a)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},c}(),Ie=function(){function c(){var i=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Or(this,"async_queue_retry"),this.Vs=function(){var p=Y();p&&Ce("AsyncQueue","Visibility state changed to  ",p.visibilityState),i.ys.Vn()};var a=Y();a&&"function"==typeof a.addEventListener&&a.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(c.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),c.prototype.ws=function(i){this.enqueue(i)},c.prototype.bs=function(i){this.vs(),this.Ss(i)},c.prototype.Ds=function(){if(!this.Is){this.Is=!0;var i=Y();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vs)}},c.prototype.enqueue=function(i){return this.vs(),this.Is?new Promise(function(a){}):this.Ss(i)},c.prototype.Cs=function(i){var a=this;this.ws(function(){return a.Es.push(i),a.Ns()})},c.prototype.Ns=function(){return I.__awaiter(this,void 0,void 0,function(){var i,a=this;return I.__generator(this,function(p){switch(p.label){case 0:if(0===this.Es.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return p.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!qo(i=p.sent()))throw i;return Ce("AsyncQueue","Operation failed with retryable error: "+i),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return a.Ns()}),p.label=5;case 5:return[2]}})})},c.prototype.Ss=function(i){var a=this,p=this.Ts.then(function(){return a.gs=!0,i().catch(function(y){throw a.Rs=y,a.gs=!1,it("INTERNAL UNHANDLED ERROR: ",(A=(D=y).message||"",D.stack&&(A=D.stack.includes(D.message)?D.stack:D.message+"\n"+D.stack),A)),y;var D,A}).then(function(y){return a.gs=!1,y})});return this.Ts=p,p},c.prototype.yn=function(i,a,p){var y=this;this.vs(),this.Ps.indexOf(i)>-1&&(a=0);var D=ge._s(this,i,a,p,function(A){return y.Fs(A)});return this.As.push(D),D},c.prototype.vs=function(){this.Rs&&ot()},c.prototype.xs=function(){},c.prototype.$s=function(){return I.__awaiter(this,void 0,void 0,function(){var i;return I.__generator(this,function(a){switch(a.label){case 0:return[4,i=this.Ts];case 1:a.sent(),a.label=2;case 2:if(i!==this.Ts)return[3,0];a.label=3;case 3:return[2]}})})},c.prototype.ks=function(i){for(var a=0,p=this.As;a<p.length;a++)if(p[a].dn===i)return!0;return!1},c.prototype.Ms=function(i){var a=this;return this.$s().then(function(){a.As.sort(function(A,L){return A.us-L.us});for(var p=0,y=a.As;p<y.length;p++){var D=y[p];if(D.pn(),"all"!==i&&D.dn===i)break}return a.$s()})},c.prototype.Os=function(i){this.Ps.push(i)},c.prototype.Fs=function(i){var a=this.As.indexOf(i);this.As.splice(a,1)},c}();function Xe(c,i){if(it("AsyncQueue",i+": "+c),qo(c))return new oe(ue.UNAVAILABLE,i+": "+c);throw c}var Dt=function(){this.Ls=void 0,this.listeners=[]},xn=function(){this.Bs=new Zr(function(c){return qa(c)},Wo),this.onlineState="Unknown",this.qs=new Set};function Nn(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p,y,D,A,L,W;return I.__generator(this,function(se){switch(se.label){case 0:if(a=Je(c),y=!1,(D=a.Bs.get(p=i.query))||(y=!0,D=new Dt),!y)return[3,4];se.label=1;case 1:return se.trys.push([1,3,,4]),A=D,[4,a.Us(p)];case 2:return A.Ls=se.sent(),[3,4];case 3:return L=se.sent(),W=Xe(L,"Initialization of query '"+Es(i.query)+"' failed"),[2,void i.onError(W)];case 4:return a.Bs.set(p,D),D.listeners.push(i),i.Qs(a.onlineState),D.Ls&&i.Ws(D.Ls)&&Fi(a),[2]}})})}function Pr(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p,y,D,A;return I.__generator(this,function(L){return a=Je(c),y=!1,(D=a.Bs.get(p=i.query))&&(A=D.listeners.indexOf(i))>=0&&(D.listeners.splice(A,1),y=0===D.listeners.length),y?[2,(a.Bs.delete(p),a.js(p))]:[2]})})}function Do(c,i){for(var a=Je(c),p=!1,y=0,D=i;y<D.length;y++){var A=D[y],W=a.Bs.get(A.query);if(W){for(var se=0,be=W.listeners;se<be.length;se++)be[se].Ws(A)&&(p=!0);W.Ls=A}}p&&Fi(a)}function hi(c,i,a){var p=Je(c),y=p.Bs.get(i);if(y)for(var D=0,A=y.listeners;D<A.length;D++)A[D].onError(a);p.Bs.delete(i)}function Fi(c){c.qs.forEach(function(i){i.next()})}var Ls=function(){function c(i,a,p){this.query=i,this.Ks=a,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=p||{}}return c.prototype.Ws=function(i){if(!this.options.includeMetadataChanges){for(var a=[],p=0,y=i.docChanges;p<y.length;p++){var D=y[p];3!==D.type&&a.push(D)}i=new dr(i.query,i.docs,i.Qt,a,i.Wt,i.fromCache,i.jt,!0)}var A=!1;return this.Gs?this.Hs(i)&&(this.Ks.next(i),A=!0):this.Ys(i,this.onlineState)&&(this.Js(i),A=!0),this.zs=i,A},c.prototype.onError=function(i){this.Ks.error(i)},c.prototype.Qs=function(i){this.onlineState=i;var a=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,i)&&(this.Js(this.zs),a=!0),a},c.prototype.Ys=function(i,a){return!i.fromCache||!(this.options.Xs&&"Offline"!==a||i.docs.m()&&"Offline"!==a)},c.prototype.Hs=function(i){return i.docChanges.length>0||!!(i.jt||this.zs&&this.zs.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.Js=function(i){i=dr.Gt(i.query,i.docs,i.Wt,i.fromCache),this.Gs=!0,this.Ks.next(i)},c}(),Dr=function(){function c(i){this.uid=i}return c.prototype.Zs=function(){return null!=this.uid},c.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(i){return i.uid===this.uid},c}();Dr.UNAUTHENTICATED=new Dr(null),Dr.ei=new Dr("google-credentials-uid"),Dr.ni=new Dr("first-party-uid");var hn=function(){function c(i,a){var p=this;this.previousValue=i,a&&(a.si=function(y){return p.ii(y)},this.ri=function(y){return a.oi(y)})}return c.prototype.ii=function(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue},c.prototype.next=function(){var i=++this.previousValue;return this.ri&&this.ri(i),i},c}();function Zs(c,i){return"firestore_clients_"+c+"_"+i}function va(c,i,a){var p="firestore_mutations_"+c+"_"+a;return i.Zs()&&(p+="_"+i.uid),p}function ba(c,i){return"firestore_targets_"+c+"_"+i}hn.ai=-1;var pl=function(){function c(i,a,p,y){this.user=i,this.batchId=a,this.state=p,this.error=y}return c.ci=function(i,a,p){var y=JSON.parse(p),D="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),A=void 0;return D&&y.error&&(D="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(A=new oe(y.error.code,y.error.message)),D?new c(i,a,y.state,A):(it("SharedClientState","Failed to parse mutation state for ID '"+a+"': "+p),null)},c.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},c}(),Vs=function(){function c(i,a,p){this.targetId=i,this.state=a,this.error=p}return c.ci=function(i,a){var p=JSON.parse(a),y="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error),D=void 0;return y&&p.error&&(y="string"==typeof p.error.message&&"string"==typeof p.error.code)&&(D=new oe(p.error.code,p.error.message)),y?new c(i,p.state,D):(it("SharedClientState","Failed to parse target state for ID '"+i+"': "+a),null)},c.prototype.ui=function(){var i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)},c}(),to=function(){function c(i,a){this.clientId=i,this.activeTargetIds=a}return c.ci=function(i,a){for(var p=JSON.parse(a),y="object"==typeof p&&p.activeTargetIds instanceof Array,D=Io(),A=0;y&&A<p.activeTargetIds.length;++A)y=Ee(p.activeTargetIds[A]),D=D.add(p.activeTargetIds[A]);return y?new c(i,D):(it("SharedClientState","Failed to parse client data for instance '"+i+"': "+a),null)},c}(),qu=function(){function c(i,a){this.clientId=i,this.onlineState=a}return c.ci=function(i){var a=JSON.parse(i);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new c(a.clientId,a.onlineState):(it("SharedClientState","Failed to parse online state: "+i),null)},c}(),Ts=function(){function c(){this.activeTargetIds=Io()}return c.prototype.hi=function(i){this.activeTargetIds=this.activeTargetIds.add(i)},c.prototype.li=function(i){this.activeTargetIds=this.activeTargetIds.delete(i)},c.prototype.ui=function(){var i={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(i)},c}(),ra=function(){function c(i,a,p,y,D){this.window=i,this.fn=a,this.persistenceKey=p,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Fn(Ht),this.Ei=!1,this.Ii=[];var A=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=D,this.Ai=Zs(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Ts),this.gi=new RegExp("^firestore_clients_"+A+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+A+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+A+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return c.Ln=function(i){return!(!i||!i.localStorage)},c.prototype.start=function(){return I.__awaiter(this,void 0,void 0,function(){var i,a,p,y,D,A,L,W,se,be,Oe=this;return I.__generator(this,function(Ye){switch(Ye.label){case 0:return[4,this.fi.pi()];case 1:for(i=Ye.sent(),a=0,p=i;a<p.length;a++)(y=p[a])!==this._i&&(D=this.getItem(Zs(this.persistenceKey,y)))&&(A=to.ci(y,D))&&(this.Ti=this.Ti.ot(A.clientId,A));for(this.bi(),(L=this.storage.getItem(this.Vi))&&(W=this.vi(L))&&this.Si(W),se=0,be=this.Ii;se<be.length;se++)this.mi(be[se]);return this.Ii=[],this.window.addEventListener("unload",function(){return Oe.Di()}),this.Ei=!0,[2]}})})},c.prototype.oi=function(i){this.setItem(this.Ri,JSON.stringify(i))},c.prototype.Ci=function(){return this.Ni(this.Ti)},c.prototype.Fi=function(i){var a=!1;return this.Ti.forEach(function(p,y){y.activeTargetIds.has(i)&&(a=!0)}),a},c.prototype.xi=function(i){this.$i(i,"pending")},c.prototype.ki=function(i,a,p){this.$i(i,a,p),this.Mi(i)},c.prototype.Oi=function(i){var a="not-current";if(this.Fi(i)){var p=this.storage.getItem(ba(this.persistenceKey,i));if(p){var y=Vs.ci(i,p);y&&(a=y.state)}}return this.Li.hi(i),this.bi(),a},c.prototype.Bi=function(i){this.Li.li(i),this.bi()},c.prototype.qi=function(i){return this.Li.activeTargetIds.has(i)},c.prototype.Ui=function(i){this.removeItem(ba(this.persistenceKey,i))},c.prototype.Qi=function(i,a,p){this.Wi(i,a,p)},c.prototype.ji=function(i,a,p){var y=this;a.forEach(function(D){y.Mi(D)}),this.currentUser=i,p.forEach(function(D){y.xi(D)})},c.prototype.Ki=function(i){this.Gi(i)},c.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},c.prototype.getItem=function(i){var a=this.storage.getItem(i);return Ce("SharedClientState","READ",i,a),a},c.prototype.setItem=function(i,a){Ce("SharedClientState","SET",i,a),this.storage.setItem(i,a)},c.prototype.removeItem=function(i){Ce("SharedClientState","REMOVE",i),this.storage.removeItem(i)},c.prototype.mi=function(i){var a=this,p=i;if(p.storageArea===this.storage){if(Ce("SharedClientState","EVENT",p.key,p.newValue),p.key===this.Ai)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return I.__awaiter(a,void 0,void 0,function(){var y,D,A,L,W,se;return I.__generator(this,function(be){if(this.Ei){if(null!==p.key)if(this.gi.test(p.key)){if(null==p.newValue)return y=this.zi(p.key),[2,this.Hi(y,null)];if(D=this.Yi(p.key,p.newValue))return[2,this.Hi(D.clientId,D)]}else if(this.Pi.test(p.key)){if(null!==p.newValue&&(A=this.Ji(p.key,p.newValue)))return[2,this.Xi(A)]}else if(this.yi.test(p.key)){if(null!==p.newValue&&(L=this.Zi(p.key,p.newValue)))return[2,this.tr(L)]}else if(p.key===this.Vi){if(null!==p.newValue&&(W=this.vi(p.newValue)))return[2,this.Si(W)]}else p.key===this.Ri&&(se=function(Re){var Oe=hn.ai;if(null!=Re)try{var Ye=JSON.parse(Re);Ke("number"==typeof Ye),Oe=Ye}catch(st){it("SharedClientState","Failed to read sequence number from WebStorage",st)}return Oe}(p.newValue))!==hn.ai&&this.si(se)}else this.Ii.push(p);return[2]})})})}},Object.defineProperty(c.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),c.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},c.prototype.$i=function(i,a,p){var y=new pl(this.currentUser,i,a,p),D=va(this.persistenceKey,this.currentUser,i);this.setItem(D,y.ui())},c.prototype.Mi=function(i){var a=va(this.persistenceKey,this.currentUser,i);this.removeItem(a)},c.prototype.Gi=function(i){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:i}))},c.prototype.Wi=function(i,a,p){var y=ba(this.persistenceKey,i),D=new Vs(i,a,p);this.setItem(y,D.ui())},c.prototype.zi=function(i){var a=this.gi.exec(i);return a?a[1]:null},c.prototype.Yi=function(i,a){var p=this.zi(i);return to.ci(p,a)},c.prototype.Ji=function(i,a){var p=this.Pi.exec(i),y=Number(p[1]);return pl.ci(new Dr(void 0!==p[2]?p[2]:null),y,a)},c.prototype.Zi=function(i,a){var p=this.yi.exec(i),y=Number(p[1]);return Vs.ci(y,a)},c.prototype.vi=function(i){return qu.ci(i)},c.prototype.Xi=function(i){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(a){return i.user.uid===this.currentUser.uid?[2,this.fi.er(i.batchId,i.state,i.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+i.user.uid),[2])})})},c.prototype.tr=function(i){return this.fi.nr(i.targetId,i.state,i.error)},c.prototype.Hi=function(i,a){var p=this,y=a?this.Ti.ot(i,a):this.Ti.remove(i),D=this.Ni(this.Ti),A=this.Ni(y),L=[],W=[];return A.forEach(function(se){D.has(se)||L.push(se)}),D.forEach(function(se){A.has(se)||W.push(se)}),this.fi.sr(L,W).then(function(){p.Ti=y})},c.prototype.Si=function(i){this.Ti.get(i.clientId)&&this.di(i.onlineState)},c.prototype.Ni=function(i){var a=Io();return i.forEach(function(p,y){a=a.kt(y.activeTargetIds)}),a},c}(),ia=function(){function c(){this.ir=new Ts,this.rr={},this.di=null,this.si=null}return c.prototype.xi=function(i){},c.prototype.ki=function(i,a,p){},c.prototype.Oi=function(i){return this.ir.hi(i),this.rr[i]||"not-current"},c.prototype.Qi=function(i,a,p){this.rr[i]=a},c.prototype.Bi=function(i){this.ir.li(i)},c.prototype.qi=function(i){return this.ir.activeTargetIds.has(i)},c.prototype.Ui=function(i){delete this.rr[i]},c.prototype.Ci=function(){return this.ir.activeTargetIds},c.prototype.Fi=function(i){return this.ir.activeTargetIds.has(i)},c.prototype.start=function(){return this.ir=new Ts,Promise.resolve()},c.prototype.ji=function(i,a,p){},c.prototype.Ki=function(i){},c.prototype.Di=function(){},c.prototype.oi=function(i){},c}(),Qs=function(){function c(i,a,p,y){this.batchId=i,this.ar=a,this.baseMutations=p,this.mutations=y}return c.prototype.cr=function(i,a,p){for(var y=p.ur,D=0;D<this.mutations.length;D++){var A=this.mutations[D];A.key.isEqual(i)&&(a=G(A,a,y[D]))}return a},c.prototype.hr=function(i,a){for(var p=0,y=this.baseMutations;p<y.length;p++){var D=y[p];D.key.isEqual(i)&&(a=fe(D,a,a,this.ar))}for(var A=a,L=0,W=this.mutations;L<W.length;L++){var se=W[L];se.key.isEqual(i)&&(a=fe(se,a,A,this.ar))}return a},c.prototype.lr=function(i){var a=this,p=i;return this.mutations.forEach(function(y){var D=a.hr(y.key,i.get(y.key));D&&(p=p.ot(y.key,D))}),p},c.prototype.keys=function(){return this.mutations.reduce(function(i,a){return i.add(a.key)},kn())},c.prototype.isEqual=function(i){return this.batchId===i.batchId&&rr(this.mutations,i.mutations,function(a,p){return ct(a,p)})&&rr(this.baseMutations,i.baseMutations,function(a,p){return ct(a,p)})},c}(),v=function(){function c(i,a,p,y){this.batch=i,this._r=a,this.ur=p,this.dr=y}return c.from=function(i,a,p){Ke(i.mutations.length===p.length);for(var y=En,D=i.mutations,A=0;A<D.length;A++)y=y.ot(D[A].key,p[A].version);return new c(i,a,p,y)},c}(),h=function(){function c(){this.wr=new Zr(function(i){return i.toString()},function(i,a){return i.isEqual(a)}),this.mr=!1}return Object.defineProperty(c.prototype,"readTime",{get:function(){return this.Tr},set:function(i){this.Tr=i},enumerable:!1,configurable:!0}),c.prototype.Er=function(i,a){this.Ir(),this.readTime=a,this.wr.set(i.key,i)},c.prototype.Ar=function(i,a){this.Ir(),a&&(this.readTime=a),this.wr.set(i,null)},c.prototype.Rr=function(i,a){this.Ir();var p=this.wr.get(a);return void 0!==p?Ct.resolve(p):this.gr(i,a)},c.prototype.getEntries=function(i,a){return this.Pr(i,a)},c.prototype.apply=function(i){return this.Ir(),this.mr=!0,this.yr(i)},c.prototype.Ir=function(){},c}(),_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",w=function(){function c(){this.Vr=[]}return c.prototype.pr=function(i){this.Vr.push(i)},c.prototype.br=function(){this.Vr.forEach(function(i){return i()})},c}(),M=function(){function c(i,a,p){this.vr=i,this.Sr=a,this.Dr=p}return c.prototype.Cr=function(i,a){var p=this;return this.Sr.Nr(i,a).next(function(y){return p.Fr(i,a,y)})},c.prototype.Fr=function(i,a,p){return this.vr.Rr(i,a).next(function(y){for(var D=0,A=p;D<A.length;D++)y=A[D].hr(a,y);return y})},c.prototype.$r=function(i,a,p){var y=qi();return a.forEach(function(D,A){for(var L=0,W=p;L<W.length;L++)A=W[L].hr(D,A);y=y.ot(D,A)}),y},c.prototype.kr=function(i,a){var p=this;return this.vr.getEntries(i,a).next(function(y){return p.Mr(i,y)})},c.prototype.Mr=function(i,a){var p=this;return this.Sr.Or(i,a).next(function(y){var D=p.$r(i,a,y),A=ei();return D.forEach(function(L,W){W||(W=new ui(L,Qt.min())),A=A.ot(L,W)}),A})},c.prototype.Lr=function(i,a,p){return Z.F((y=a).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(i,a.path):Er(a)?this.qr(i,a,p):this.Ur(i,a,p);var y},c.prototype.Br=function(i,a){return this.Cr(i,new Z(a)).next(function(p){var y=Sr();return p instanceof Rt&&(y=y.ot(p.key,p)),y})},c.prototype.qr=function(i,a,p){var y=this,D=a.collectionGroup,A=Sr();return this.Dr.Qr(i,D).next(function(L){return Ct.forEach(L,function(W){var be,Re,se=(be=a,Re=W.child(D),new ws(Re,null,be.on.slice(),be.filters.slice(),be.limit,be.an,be.startAt,be.endAt));return y.Ur(i,se,p).next(function(be){be.forEach(function(Re,Oe){A=A.ot(Re,Oe)})})}).next(function(){return A})})},c.prototype.Ur=function(i,a,p){var y,D,A=this;return this.vr.Lr(i,a,p).next(function(L){return y=L,A.Sr.Wr(i,a)}).next(function(L){return A.jr(i,D=L,y).next(function(W){y=W;for(var se=0,be=D;se<be.length;se++)for(var Re=be[se],Oe=0,Ye=Re.mutations;Oe<Ye.length;Oe++){var st=Ye[Oe],ht=st.key,Zt=y.get(ht),Wt=fe(st,Zt,Zt,Re.ar);y=Wt instanceof Rt?y.ot(ht,Wt):y.remove(ht)}})}).next(function(){return y.forEach(function(L,W){xo(a,W)||(y=y.remove(L))}),y})},c.prototype.jr=function(i,a,p){for(var y=kn(),D=0,A=a;D<A.length;D++)for(var L=0,W=A[D].mutations;L<W.length;L++){var se=W[L];se instanceof fn&&null===p.get(se.key)&&(y=y.add(se.key))}var be=p;return this.vr.getEntries(i,y).next(function(Re){return Re.forEach(function(Oe,Ye){null!==Ye&&Ye instanceof Rt&&(be=be.ot(Oe,Ye))}),be})},c}(),P=function(){function c(i,a,p,y){this.targetId=i,this.fromCache=a,this.Kr=p,this.Gr=y}return c.zr=function(i,a){for(var p=kn(),y=kn(),D=0,A=a.docChanges;D<A.length;D++){var L=A[D];switch(L.type){case 0:p=p.add(L.doc.key);break;case 1:y=y.add(L.doc.key)}}return new c(i,a.fromCache,p,y)},c}();function Q(c,i){var p=c[1],D=i[1],A=Ht(c[0],i[0]);return 0===A?Ht(p,D):A}var ie=function(){function c(i){this.Hr=i,this.buffer=new Zn(Q),this.Yr=0}return c.prototype.Jr=function(){return++this.Yr},c.prototype.Xr=function(i){var a=[i,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(a);else{var p=this.buffer.last();Q(a,p)<0&&(this.buffer=this.buffer.delete(p).add(a))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),ye={Zr:!1,eo:0,no:0,so:0},_e=function(){function c(i,a,p){this.io=i,this.ro=a,this.oo=p}return c.ao=function(i){return new c(i,c.co,c.uo)},c}();_e.ho=-1,_e.lo=1048576,_e._o=41943040,_e.co=10,_e.uo=1e3,_e.fo=new _e(_e._o,_e.co,_e.uo),_e.do=new _e(_e.ho,0,0);var We=function(){function c(i,a){this.wo=i,this.cs=a,this.mo=!1,this.To=null}return c.prototype.start=function(i){this.wo.params.io!==_e.ho&&this.Eo(i)},c.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(c.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),c.prototype.Eo=function(i){var a=this,p=this.mo?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+p+"ms"),this.To=this.cs.yn("lru_garbage_collection",p,function(){return I.__awaiter(a,void 0,void 0,function(){var y;return I.__generator(this,function(D){switch(D.label){case 0:this.To=null,this.mo=!0,D.label=1;case 1:return D.trys.push([1,3,,7]),[4,i.Io(this.wo)];case 2:return D.sent(),[3,7];case 3:return qo(y=D.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,Ra(y)];case 5:D.sent(),D.label=6;case 6:return[3,7];case 7:return[4,this.Eo(i)];case 8:return D.sent(),[2]}})})})},c}(),nt=function(){function c(i,a){this.Ao=i,this.params=a}return c.prototype.Ro=function(i,a){return this.Ao.Po(i).next(function(p){return Math.floor(a/100*p)})},c.prototype.yo=function(i,a){var p=this;if(0===a)return Ct.resolve(hn.ai);var y=new ie(a);return this.Ao.Ce(i,function(D){return y.Xr(D.sequenceNumber)}).next(function(){return p.Ao.Vo(i,function(D){return y.Xr(D)})}).next(function(){return y.maxValue})},c.prototype.po=function(i,a,p){return this.Ao.po(i,a,p)},c.prototype.bo=function(i,a){return this.Ao.bo(i,a)},c.prototype.vo=function(i,a){var p=this;return this.params.io===_e.ho?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),Ct.resolve(ye)):this.So(i).next(function(y){return y<p.params.io?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+p.params.io),ye):p.Do(i,a)})},c.prototype.So=function(i){return this.Ao.So(i)},c.prototype.Do=function(i,a){var p,y,D,A,L,W,se,be=this,Re=Date.now();return this.Ro(i,this.params.ro).next(function(Oe){return Oe>be.params.oo?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+be.params.oo+" from "+Oe),y=be.params.oo):y=Oe,A=Date.now(),be.yo(i,y)}).next(function(Oe){return p=Oe,L=Date.now(),be.po(i,p,a)}).next(function(Oe){return D=Oe,W=Date.now(),be.bo(i,p)}).next(function(Oe){return se=Date.now(),we()<=ee.LogLevel.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(A-Re)+"ms\n\tDetermined least recently used "+y+" in "+(L-A)+"ms\n\tRemoved "+D+" targets in "+(W-L)+"ms\n\tRemoved "+Oe+" documents in "+(se-W)+"ms\nTotal Duration: "+(se-Re)+"ms"),Ct.resolve({Zr:!0,eo:y,no:D,so:Oe})})},c}();function x(c){for(var i="",a=0;a<c.length;a++)i.length>0&&(i=S(i)),i=N(c.get(a),i);return S(i)}function N(c,i){for(var a=i,p=c.length,y=0;y<p;y++){var D=c.charAt(y);switch(D){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=D}}return a}function S(c){return c+"\x01\x01"}function B(c){var i=c.length;if(Ke(i>=2),2===i)return Ke("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Lt.P();for(var a=i-2,p=[],y="",D=0;D<i;){var A=c.indexOf("\x01",D);switch((A<0||A>a)&&ot(),c.charAt(A+1)){case"\x01":var L=c.substring(D,A),W=void 0;0===y.length?W=L:(W=y+=L,y=""),p.push(W);break;case"\x10":y+=c.substring(D,A),y+="\0";break;case"\x11":y+=c.substring(D,A+1);break;default:ot()}D=A+2}return new Lt(p)}var q=function(c){this.Co=c};function ne(c,i){if(i.document)return W=!!i.hasCommittedMutations,se=si(c.Co,(L=i.document).name),be=Mr(L.updateTime),Re=new Xi({mapValue:{fields:L.fields}}),new Rt(se,be,Re,{hasCommittedMutations:!!W});var L,W,se,be,Re;if(i.noDocument){var a=Z.$(i.noDocument.path),p=cn(i.noDocument.readTime);return new ui(a,p,{hasCommittedMutations:!!i.hasCommittedMutations})}if(i.unknownDocument){var y=Z.$(i.unknownDocument.path),D=cn(i.unknownDocument.version);return new hs(y,D)}return ot()}function De(c,i,a){var Oe,Ye,p=Fe(a),y=i.key.path.h().A();if(i instanceof Rt){var D={name:bi(Oe=c.Co,(Ye=i).key),fields:Ye.rn().mapValue.fields,updateTime:No(Oe,Ye.version.Z())};return new Ui(null,null,D,i.hasCommittedMutations,p,y)}if(i instanceof ui){var L=i.key.path.A(),W=Bt(i.version),se=i.hasCommittedMutations;return new Ui(null,new Wf(L,W),null,se,p,y)}if(i instanceof hs){var be=i.key.path.A(),Re=Bt(i.version);return new Ui(new Jp(be,Re),null,null,!0,p,y)}return ot()}function Fe(c){var i=c.Z();return[i.seconds,i.nanoseconds]}function ft(c){var i=new At(c[0],c[1]);return Qt.J(i)}function Bt(c){var i=c.Z();return new $f(i.seconds,i.nanoseconds)}function cn(c){var i=new At(c.seconds,c.nanoseconds);return Qt.J(i)}function dn(c,i){var a=(i.baseMutations||[]).map(function(D){return fs(c.Co,D)}),p=i.mutations.map(function(D){return fs(c.Co,D)}),y=At.fromMillis(i.localWriteTimeMs);return new Qs(i.batchId,y,a,p)}function Tr(c){var i,a,p=cn(c.readTime),y=void 0!==c.lastLimboFreeSnapshotVersion?cn(c.lastLimboFreeSnapshotVersion):Qt.min();return void 0!==c.query.documents?(Ke(1===(a=c.query).documents.length),i=di($o(Ao(a.documents[0])))):i=wo(c.query),new an(i,c.targetId,0,c.lastListenSequenceNumber,p,y,un.fromBase64String(c.resumeToken))}function Gn(c,i){var a,p=Bt(i.nt),y=Bt(i.lastLimboFreeSnapshotVersion);a=Vt(i.target)?Kn(c.Co,i.target):Ho(c.Co,i.target);var D=i.resumeToken.toBase64();return new Yo(i.targetId,Ze(i.target),p,D,i.sequenceNumber,y,a)}var gs=function(){function c(i,a,p,y){this.userId=i,this.serializer=a,this.Dr=p,this.No=y,this.Fo={}}return c.xo=function(i,a,p,y){return Ke(""!==i.uid),new c(i.Zs()?i.uid:"",a,p,y)},c.prototype.$o=function(i){var a=!0,p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oo(i).rs({index:_i.userMutationsIndex,range:p},function(y,D,A){a=!1,A.done()}).next(function(){return a})},c.prototype.ko=function(i,a,p,y){var D=this,A=os(i),L=Oo(i);return L.add({}).next(function(W){Ke("number"==typeof W);for(var se=new Qs(W,a,p,y),be=function(Wt,yn,Un){var Qn=Un.baseMutations.map(function(Fr){return bo(Wt.Co,Fr)}),Gr=Un.mutations.map(function(Fr){return bo(Wt.Co,Fr)});return new _i(yn,Un.batchId,Un.ar.toMillis(),Qn,Gr)}(D.serializer,D.userId,se),Re=[],Oe=new Zn(function(Wt,yn){return Ht(Wt.R(),yn.R())}),Ye=0,st=y;Ye<st.length;Ye++){var ht=st[Ye],Zt=Po.key(D.userId,ht.key.path,W);Oe=Oe.add(ht.key.path.h()),Re.push(L.put(be)),Re.push(A.put(Zt,Po.PLACEHOLDER))}return Oe.forEach(function(Wt){Re.push(D.Dr.Mo(i,Wt))}),i.pr(function(){D.Fo[W]=se.keys()}),Ct.$n(Re).next(function(){return se})})},c.prototype.Oo=function(i,a){var p=this;return Oo(i).get(a).next(function(y){return y?(Ke(y.userId===p.userId),dn(p.serializer,y)):null})},c.prototype.Lo=function(i,a){var p=this;return this.Fo[a]?Ct.resolve(this.Fo[a]):this.Oo(i,a).next(function(y){if(y){var D=y.keys();return p.Fo[a]=D,D}return null})},c.prototype.Bo=function(i,a){var p=this,y=a+1,D=IDBKeyRange.lowerBound([this.userId,y]),A=null;return Oo(i).rs({index:_i.userMutationsIndex,range:D},function(L,W,se){W.userId===p.userId&&(Ke(W.batchId>=y),A=dn(p.serializer,W)),se.done()}).next(function(){return A})},c.prototype.qo=function(i){var a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),p=-1;return Oo(i).rs({index:_i.userMutationsIndex,range:a,reverse:!0},function(y,D,A){p=D.batchId,A.done()}).next(function(){return p})},c.prototype.Uo=function(i){var a=this,p=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oo(i).ts(_i.userMutationsIndex,p).next(function(y){return y.map(function(D){return dn(a.serializer,D)})})},c.prototype.Nr=function(i,a){var p=this,y=Po.prefixForPath(this.userId,a.path),D=IDBKeyRange.lowerBound(y),A=[];return os(i).rs({range:D},function(L,W,se){var be=L[0],Oe=L[2],Ye=B(L[1]);if(be===p.userId&&a.path.isEqual(Ye))return Oo(i).get(Oe).next(function(st){if(!st)throw ot();Ke(st.userId===p.userId),A.push(dn(p.serializer,st))});se.done()}).next(function(){return A})},c.prototype.Or=function(i,a){var p=this,y=new Zn(Ht),D=[];return a.forEach(function(A){var L=Po.prefixForPath(p.userId,A.path),W=IDBKeyRange.lowerBound(L),se=os(i).rs({range:W},function(be,Re,Oe){var Ye=be[0],ht=be[2],Zt=B(be[1]);Ye===p.userId&&A.path.isEqual(Zt)?y=y.add(ht):Oe.done()});D.push(se)}),Ct.$n(D).next(function(){return p.Qo(i,y)})},c.prototype.Wr=function(i,a){var p=this,y=a.path,D=y.length+1,A=Po.prefixForPath(this.userId,y),L=IDBKeyRange.lowerBound(A),W=new Zn(Ht);return os(i).rs({range:L},function(se,be,Re){var Oe=se[0],st=se[2],ht=B(se[1]);Oe===p.userId&&y.T(ht)?ht.length===D&&(W=W.add(st)):Re.done()}).next(function(){return p.Qo(i,W)})},c.prototype.Qo=function(i,a){var p=this,y=[],D=[];return a.forEach(function(A){D.push(Oo(i).get(A).next(function(L){if(null===L)throw ot();Ke(L.userId===p.userId),y.push(dn(p.serializer,L))}))}),Ct.$n(D).next(function(){return y})},c.prototype.Wo=function(i,a){var p=this;return Ss(i.jo,this.userId,a).next(function(y){return i.pr(function(){p.Ko(a.batchId)}),Ct.forEach(y,function(D){return p.No.Go(i,D)})})},c.prototype.Ko=function(i){delete this.Fo[i]},c.prototype.zo=function(i){var a=this;return this.$o(i).next(function(p){if(!p)return Ct.resolve();var y=IDBKeyRange.lowerBound(Po.prefixForUser(a.userId)),D=[];return os(i).rs({range:y},function(A,L,W){if(A[0]===a.userId){var se=B(A[1]);D.push(se)}else W.done()}).next(function(){Ke(0===D.length)})})},c.prototype.Ho=function(i,a){return Xr(i,this.userId,a)},c.prototype.Yo=function(i){var a=this;return ss(i).get(this.userId).next(function(p){return p||new za(a.userId,-1,"")})},c}();function Xr(c,i,a){var p=Po.prefixForPath(i,a.path),y=p[1],D=IDBKeyRange.lowerBound(p),A=!1;return os(c).rs({range:D,ss:!0},function(L,W,se){L[0]===i&&L[1]===y&&(A=!0),se.done()}).next(function(){return A})}function Ss(c,i,a){var p=c.store(_i.store),y=c.store(Po.store),D=[],A=IDBKeyRange.only(a.batchId),L=0,W=p.rs({range:A},function(st,ht,Zt){return L++,Zt.delete()});D.push(W.next(function(){Ke(1===L)}));for(var se=[],be=0,Re=a.mutations;be<Re.length;be++){var Oe=Re[be],Ye=Po.key(i,Oe.key.path,a.batchId);D.push(y.delete(Ye)),se.push(Oe.key)}return Ct.$n(D).next(function(){return se})}function Oo(c){return Bs.Qn(c,_i.store)}function os(c){return Bs.Qn(c,Po.store)}function ss(c){return Bs.Qn(c,za.store)}var no=function(){function c(i,a){this.serializer=i,this.Dr=a}return c.prototype.Er=function(i,a,p){return oa(i).put(Js(a),p)},c.prototype.Ar=function(i,a){var p=oa(i),y=Js(a);return p.delete(y)},c.prototype.updateMetadata=function(i,a){var p=this;return this.getMetadata(i).next(function(y){return y.byteSize+=a,p.Jo(i,y)})},c.prototype.Rr=function(i,a){var p=this;return oa(i).get(Js(a)).next(function(y){return p.Xo(y)})},c.prototype.Zo=function(i,a){var p=this;return oa(i).get(Js(a)).next(function(y){var D=p.Xo(y);return D?{ta:D,size:Hl(y)}:null})},c.prototype.getEntries=function(i,a){var p=this,y=qi();return this.ea(i,a,function(D,A){var L=p.Xo(A);y=y.ot(D,L)}).next(function(){return y})},c.prototype.na=function(i,a){var p=this,y=qi(),D=new Fn(Z.i);return this.ea(i,a,function(A,L){var W=p.Xo(L);W?(y=y.ot(A,W),D=D.ot(A,Hl(L))):(y=y.ot(A,null),D=D.ot(A,0))}).next(function(){return{sa:y,ia:D}})},c.prototype.ea=function(i,a,p){if(a.m())return Ct.resolve();var y=IDBKeyRange.bound(a.first().path.A(),a.last().path.A()),D=a._t(),A=D.It();return oa(i).rs({range:y},function(L,W,se){for(var be=Z.$(L);A&&Z.i(A,be)<0;)p(A,null),A=D.It();A&&A.isEqual(be)&&(p(A,W),A=D.At()?D.It():null),A?se.Xn(A.path.A()):se.done()}).next(function(){for(;A;)p(A,null),A=D.At()?D.It():null})},c.prototype.Lr=function(i,a,p){var y=this,D=Sr(),A=a.path.length+1,L={};if(p.isEqual(Qt.min())){var W=a.path.A();L.range=IDBKeyRange.lowerBound(W)}else{var se=a.path.A(),be=Fe(p);L.range=IDBKeyRange.lowerBound([se,be],!0),L.index=Ui.collectionReadTimeIndex}return oa(i).rs(L,function(Re,Oe,Ye){if(Re.length===A){var st=ne(y.serializer,Oe);a.path.T(st.key.path)?st instanceof Rt&&xo(a,st)&&(D=D.ot(st.key,st)):Ye.done()}}).next(function(){return D})},c.prototype.ra=function(i){return new zu(this,!!i&&i.oa)},c.prototype.aa=function(i){return this.getMetadata(i).next(function(a){return a.byteSize})},c.prototype.getMetadata=function(i){return hu(i).get(fo.key).next(function(a){return Ke(!!a),a})},c.prototype.Jo=function(i,a){return hu(i).put(fo.key,a)},c.prototype.Xo=function(i){if(i){var a=ne(this.serializer,i);return a instanceof ui&&a.version.isEqual(Qt.min())?null:a}return null},c}(),zu=function(c){function i(a,p){var y=this;return(y=c.call(this)||this).ca=a,y.oa=p,y.ua=new Zr(function(D){return D.toString()},function(D,A){return D.isEqual(A)}),y}return I.__extends(i,c),i.prototype.yr=function(a){var p=this,y=[],D=0,A=new Zn(function(L,W){return Ht(L.R(),W.R())});return this.wr.forEach(function(L,W){var se=p.ua.get(L);if(W){var be=De(p.ca.serializer,W,p.readTime);A=A.add(L.path.h());var Re=Hl(be);D+=Re-se,y.push(p.ca.Er(a,L,be))}else if(D-=se,p.oa){var Oe=De(p.ca.serializer,new ui(L,Qt.min()),p.readTime);y.push(p.ca.Er(a,L,Oe))}else y.push(p.ca.Ar(a,L))}),A.forEach(function(L){y.push(p.ca.Dr.Mo(a,L))}),y.push(this.ca.updateMetadata(a,D)),Ct.$n(y)},i.prototype.gr=function(a,p){var y=this;return this.ca.Zo(a,p).next(function(D){return null===D?(y.ua.set(p,0),null):(y.ua.set(p,D.size),D.ta)})},i.prototype.Pr=function(a,p){var y=this;return this.ca.na(a,p).next(function(D){var A=D.sa;return D.ia.forEach(function(L,W){y.ua.set(L,W)}),A})},i}(h);function hu(c){return Bs.Qn(c,fo.store)}function oa(c){return Bs.Qn(c,Ui.store)}function Js(c){return c.path.A()}function Hl(c){var i;if(c.document)i=c.document;else if(c.unknownDocument)i=c.unknownDocument;else{if(!c.noDocument)throw ot();i=c.noDocument}return JSON.stringify(i).length}var Gf=function(){function c(){this.ha=new xc}return c.prototype.Mo=function(i,a){return this.ha.add(a),Ct.resolve()},c.prototype.Qr=function(i,a){return Ct.resolve(this.ha.getEntries(a))},c}(),xc=function(){function c(){this.index={}}return c.prototype.add=function(i){var a=i._(),p=i.h(),y=this.index[a]||new Zn(Lt.i),D=!y.has(p);return this.index[a]=y.add(p),D},c.prototype.has=function(i){var a=i._(),p=i.h(),y=this.index[a];return y&&y.has(p)},c.prototype.getEntries=function(i){return(this.index[i]||new Zn(Lt.i)).A()},c}(),Qp=function(){function c(i){this.serializer=i}return c.prototype.createOrUpgrade=function(i,a,p,y){var D=this;Ke(p<y&&p>=0&&y<=10);var W,A=new ar("createOrUpgrade",a);p<1&&y>=1&&(i.createObjectStore(yr.store),(W=i).createObjectStore(za.store,{keyPath:za.keyPath}),W.createObjectStore(_i.store,{keyPath:_i.keyPath,autoIncrement:!0}).createIndex(_i.userMutationsIndex,_i.userMutationsKeyPath,{unique:!0}),W.createObjectStore(Po.store),wa(i),function(W){W.createObjectStore(Ui.store)}(i));var L=Ct.resolve();return p<3&&y>=3&&(0!==p&&(function(W){W.deleteObjectStore(ro.store),W.deleteObjectStore(Yo.store),W.deleteObjectStore(Ks.store)}(i),wa(i)),L=L.next(function(){return function(W){var se=W.store(Ks.store),be=new Ks(0,0,Qt.min().Z(),0);return se.put(Ks.key,be)}(A)})),p<4&&y>=4&&(0!==p&&(L=L.next(function(){return function(W,se){return se.store(_i.store).ts().next(function(be){W.deleteObjectStore(_i.store),W.createObjectStore(_i.store,{keyPath:_i.keyPath,autoIncrement:!0}).createIndex(_i.userMutationsIndex,_i.userMutationsKeyPath,{unique:!0});var Re=se.store(_i.store),Oe=be.map(function(Ye){return Re.put(Ye)});return Ct.$n(Oe)})}(i,A)})),L=L.next(function(){!function(W){W.createObjectStore(Ca.store,{keyPath:Ca.keyPath})}(i)})),p<5&&y>=5&&(L=L.next(function(){return D.removeAcknowledgedMutations(A)})),p<6&&y>=6&&(L=L.next(function(){return function(W){W.createObjectStore(fo.store)}(i),D.addDocumentGlobal(A)})),p<7&&y>=7&&(L=L.next(function(){return D.ensureSequenceNumbers(A)})),p<8&&y>=8&&(L=L.next(function(){return D.createCollectionParentIndex(i,A)})),p<9&&y>=9&&(L=L.next(function(){(function(W){W.objectStoreNames.contains("remoteDocumentChanges")&&W.deleteObjectStore("remoteDocumentChanges")})(i),function(W){var se=W.objectStore(Ui.store);se.createIndex(Ui.readTimeIndex,Ui.readTimeIndexPath,{unique:!1}),se.createIndex(Ui.collectionReadTimeIndex,Ui.collectionReadTimeIndexPath,{unique:!1})}(a)})),p<10&&y>=10&&(L=L.next(function(){return D.rewriteCanonicalIds(A)})),L},c.prototype.addDocumentGlobal=function(i){var a=0;return i.store(Ui.store).rs(function(p,y){a+=Hl(y)}).next(function(){var p=new fo(a);return i.store(fo.store).put(fo.key,p)})},c.prototype.removeAcknowledgedMutations=function(i){var a=this,p=i.store(za.store),y=i.store(_i.store);return p.ts().next(function(D){return Ct.forEach(D,function(A){var L=IDBKeyRange.bound([A.userId,-1],[A.userId,A.lastAcknowledgedBatchId]);return y.ts(_i.userMutationsIndex,L).next(function(W){return Ct.forEach(W,function(se){Ke(se.userId===A.userId);var be=dn(a.serializer,se);return Ss(i,A.userId,be).next(function(){})})})})})},c.prototype.ensureSequenceNumbers=function(i){var a=i.store(ro.store),p=i.store(Ui.store);return i.store(Ks.store).get(Ks.key).next(function(y){var D=[];return p.rs(function(A,L){var W=new Lt(A),se=[0,x(W)];D.push(a.get(se).next(function(be){return be?Ct.resolve():a.put(new ro(0,x(W),y.highestListenSequenceNumber))}))}).next(function(){return Ct.$n(D)})})},c.prototype.createCollectionParentIndex=function(i,a){i.createObjectStore(Br.store,{keyPath:Br.keyPath});var p=a.store(Br.store),y=new xc,D=function(A){if(y.add(A)){var L=A._(),W=A.h();return p.put({collectionId:L,parent:x(W)})}};return a.store(Ui.store).rs({ss:!0},function(A,L){var W=new Lt(A);return D(W.h())}).next(function(){return a.store(Po.store).rs({ss:!0},function(A,L){var se=B(A[1]);return D(se.h())})})},c.prototype.rewriteCanonicalIds=function(i){var a=this,p=i.store(Yo.store);return p.rs(function(y,D){var A=Tr(D),L=Gn(a.serializer,A);return p.put(L)})},c}(),$f=function(c,i){this.seconds=c,this.nanoseconds=i},yr=function(c,i,a){this.ownerId=c,this.allowTabSynchronization=i,this.leaseTimestampMs=a};yr.store="owner",yr.key="owner";var za=function(c,i,a){this.userId=c,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a};za.store="mutationQueues",za.keyPath="userId";var _i=function(c,i,a,p,y){this.userId=c,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=p,this.mutations=y};_i.store="mutations",_i.keyPath="batchId",_i.userMutationsIndex="userMutationsIndex",_i.userMutationsKeyPath=["userId","batchId"];var Po=function(){function c(){}return c.prefixForUser=function(i){return[i]},c.prefixForPath=function(i,a){return[i,x(a)]},c.key=function(i,a,p){return[i,x(a),p]},c}();Po.store="documentMutations",Po.PLACEHOLDER=new Po;var Wf=function(c,i){this.path=c,this.readTime=i},Jp=function(c,i){this.path=c,this.version=i},Ui=function(c,i,a,p,y,D){this.unknownDocument=c,this.noDocument=i,this.document=a,this.hasCommittedMutations=p,this.readTime=y,this.parentPath=D};Ui.store="remoteDocuments",Ui.readTimeIndex="readTimeIndex",Ui.readTimeIndexPath="readTime",Ui.collectionReadTimeIndex="collectionReadTimeIndex",Ui.collectionReadTimeIndexPath=["parentPath","readTime"];var fo=function(c){this.byteSize=c};fo.store="remoteDocumentGlobal",fo.key="remoteDocumentGlobalKey";var Yo=function(c,i,a,p,y,D,A){this.targetId=c,this.canonicalId=i,this.readTime=a,this.resumeToken=p,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=D,this.query=A};Yo.store="targets",Yo.keyPath="targetId",Yo.queryTargetsIndexName="queryTargetsIndex",Yo.queryTargetsKeyPath=["canonicalId","targetId"];var ro=function(c,i,a){this.targetId=c,this.path=i,this.sequenceNumber=a};ro.store="targetDocuments",ro.keyPath=["targetId","path"],ro.documentTargetsIndex="documentTargetsIndex",ro.documentTargetsKeyPath=["path","targetId"];var Ks=function(c,i,a,p){this.highestTargetId=c,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=p};Ks.key="targetGlobalKey",Ks.store="targetGlobal";var Br=function(c,i){this.collectionId=c,this.parent=i};function wa(c){c.createObjectStore(ro.store,{keyPath:ro.keyPath}).createIndex(ro.documentTargetsIndex,ro.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(Yo.store,{keyPath:Yo.keyPath}).createIndex(Yo.queryTargetsIndexName,Yo.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(Ks.store)}Br.store="collectionParents",Br.keyPath=["collectionId","parent"];var Ca=function(c,i,a,p){this.clientId=c,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=p};Ca.store="clientMetadata",Ca.keyPath="clientId";var ho=I.__spreadArrays(I.__spreadArrays(I.__spreadArrays([za.store,_i.store,Po.store,Ui.store,Yo.store,yr.store,Ks.store,ro.store],[Ca.store]),[fo.store]),[Br.store]),gl=function(){function c(){this.la=new xc}return c.prototype.Mo=function(i,a){var p=this;if(!this.la.has(a)){var y=a._(),D=a.h();i.pr(function(){p.la.add(a)});var A={collectionId:y,parent:x(D)};return Yu(i).put(A)}return Ct.resolve()},c.prototype.Qr=function(i,a){var p=[],y=IDBKeyRange.bound([a,""],[zn(a),""],!1,!0);return Yu(i).ts(y).next(function(D){for(var A=0,L=D;A<L.length;A++){var W=L[A];if(W.collectionId!==a)break;p.push(B(W.parent))}return p})},c}();function Yu(c){return Bs.Qn(c,Br.store)}var Ea=function(){function c(i){this._a=i}return c.prototype.next=function(){return this._a+=2,this._a},c.fa=function(){return new c(0)},c.da=function(){return new c(-1)},c}(),qf=function(){function c(i,a){this.No=i,this.serializer=a}return c.prototype.wa=function(i){var a=this;return this.ma(i).next(function(p){var y=new Ea(p.highestTargetId);return p.highestTargetId=y.next(),a.Ta(i,p).next(function(){return p.highestTargetId})})},c.prototype.Ea=function(i){return this.ma(i).next(function(a){return Qt.J(new At(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.Ia=function(i){return this.ma(i).next(function(a){return a.highestListenSequenceNumber})},c.prototype.Aa=function(i,a,p){var y=this;return this.ma(i).next(function(D){return D.highestListenSequenceNumber=a,p&&(D.lastRemoteSnapshotVersion=p.Z()),a>D.highestListenSequenceNumber&&(D.highestListenSequenceNumber=a),y.Ta(i,D)})},c.prototype.Ra=function(i,a){var p=this;return this.ga(i,a).next(function(){return p.ma(i).next(function(y){return y.targetCount+=1,p.Pa(a,y),p.Ta(i,y)})})},c.prototype.ya=function(i,a){return this.ga(i,a)},c.prototype.Va=function(i,a){var p=this;return this.pa(i,a.targetId).next(function(){return Fo(i).delete(a.targetId)}).next(function(){return p.ma(i)}).next(function(y){return Ke(y.targetCount>0),y.targetCount-=1,p.Ta(i,y)})},c.prototype.po=function(i,a,p){var y=this,D=0,A=[];return Fo(i).rs(function(L,W){var se=Tr(W);se.sequenceNumber<=a&&null===p.get(se.targetId)&&(D++,A.push(y.Va(i,se)))}).next(function(){return Ct.$n(A)}).next(function(){return D})},c.prototype.Ce=function(i,a){return Fo(i).rs(function(p,y){var D=Tr(y);a(D)})},c.prototype.ma=function(i){return Is(i).get(Ks.key).next(function(a){return Ke(null!==a),a})},c.prototype.Ta=function(i,a){return Is(i).put(Ks.key,a)},c.prototype.ga=function(i,a){return Fo(i).put(Gn(this.serializer,a))},c.prototype.Pa=function(i,a){var p=!1;return i.targetId>a.highestTargetId&&(a.highestTargetId=i.targetId,p=!0),i.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=i.sequenceNumber,p=!0),p},c.prototype.ba=function(i){return this.ma(i).next(function(a){return a.targetCount})},c.prototype.va=function(i,a){var p=Ze(a),y=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]),D=null;return Fo(i).rs({range:y,index:Yo.queryTargetsIndexName},function(A,L,W){var se=Tr(L);Tt(a,se.target)&&(D=se,W.done())}).next(function(){return D})},c.prototype.Sa=function(i,a,p){var y=this,D=[],A=ji(i);return a.forEach(function(L){var W=x(L.path);D.push(A.put(new ro(p,W))),D.push(y.No.Da(i,p,L))}),Ct.$n(D)},c.prototype.Ca=function(i,a,p){var y=this,D=ji(i);return Ct.forEach(a,function(A){var L=x(A.path);return Ct.$n([D.delete([p,L]),y.No.Na(i,p,A)])})},c.prototype.pa=function(i,a){var p=ji(i),y=IDBKeyRange.bound([a],[a+1],!1,!0);return p.delete(y)},c.prototype.Fa=function(i,a){var p=IDBKeyRange.bound([a],[a+1],!1,!0),y=ji(i),D=kn();return y.rs({range:p,ss:!0},function(A,L,W){var se=B(A[1]),be=new Z(se);D=D.add(be)}).next(function(){return D})},c.prototype.Ho=function(i,a){var p=x(a.path),y=IDBKeyRange.bound([p],[zn(p)],!1,!0),D=0;return ji(i).rs({index:ro.documentTargetsIndex,ss:!0,range:y},function(A,L,W){0!==A[0]&&(D++,W.done())}).next(function(){return D>0})},c.prototype.Ue=function(i,a){return Fo(i).get(a).next(function(p){return p?Tr(p):null})},c}();function Fo(c){return Bs.Qn(c,Yo.store)}function Is(c){return Bs.Qn(c,Ks.store)}function ji(c){return Bs.Qn(c,ro.store)}var Ns="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$n=function(c){function i(a,p){var y=this;return(y=c.call(this)||this).jo=a,y.xa=p,y}return I.__extends(i,c),i}(w),Bs=function(){function c(i,a,p,y,D,A,L,W,se,be){if(this.allowTabSynchronization=i,this.persistenceKey=a,this.clientId=p,this.fn=D,this.window=A,this.document=L,this.$a=se,this.ka=be,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(Re){return Promise.resolve()},!c.Ln())throw new oe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Kp(this,y),this.Wa=a+"main",this.serializer=new q(W),this.ja=new pr(this.Wa,10,new Qp(this.serializer)),this.Ka=new qf(this.No,this.serializer),this.Dr=new gl,this.vr=new no(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===be&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.Qn=function(i,a){if(i instanceof $n)return pr.Qn(i.jo,a);throw ot()},c.prototype.start=function(){var i=this;return this.za().then(function(){if(!i.isPrimary&&!i.allowTabSynchronization)throw new oe(ue.FAILED_PRECONDITION,Ns);return i.Ha(),i.Ya(),i.Ja(),i.runTransaction("getHighestListenSequenceNumber","readonly",function(a){return i.Ka.Ia(a)})}).then(function(a){i.Ma=new hn(a,i.$a)}).then(function(){i.Oa=!0}).catch(function(a){return i.ja&&i.ja.close(),Promise.reject(a)})},c.prototype.Xa=function(i){var a=this;return this.Qa=function(p){return I.__awaiter(a,void 0,void 0,function(){return I.__generator(this,function(y){return this.Ei?[2,i(p)]:[2]})})},i(this.isPrimary)},c.prototype.Za=function(i){var a=this;this.ja.Kn(function(p){return I.__awaiter(a,void 0,void 0,function(){return I.__generator(this,function(y){switch(y.label){case 0:return null===p.newVersion?[4,i()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},c.prototype.tc=function(i){var a=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.fn.ws(function(){return I.__awaiter(a,void 0,void 0,function(){return I.__generator(this,function(p){switch(p.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:p.sent(),p.label=2;case 2:return[2]}})})}))},c.prototype.za=function(){var i=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(a){return Gl(a).put(new Ca(i.clientId,Date.now(),i.networkEnabled,i.inForeground)).next(function(){if(i.isPrimary)return i.ec(a).next(function(p){p||(i.isPrimary=!1,i.fn.Cs(function(){return i.Qa(!1)}))})}).next(function(){return i.nc(a)}).next(function(p){return i.isPrimary&&!p?i.sc(a).next(function(){return!1}):!!p&&i.ic(a).next(function(){return!0})})}).catch(function(a){if(qo(a))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",a),i.isPrimary;if(!i.allowTabSynchronization)throw a;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",a),!1}).then(function(a){i.isPrimary!==a&&i.fn.Cs(function(){return i.Qa(a)}),i.isPrimary=a})},c.prototype.ec=function(i){var a=this;return ml(i).get(yr.key).next(function(p){return Ct.resolve(a.rc(p))})},c.prototype.oc=function(i){return Gl(i).delete(this.clientId)},c.prototype.ac=function(){return I.__awaiter(this,void 0,void 0,function(){var i,a,p,D=this;return I.__generator(this,function(A){switch(A.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(L){var W=c.Qn(L,Ca.store);return W.ts().next(function(se){var be=D.uc(se,18e5),Re=se.filter(function(Oe){return-1===be.indexOf(Oe)});return Ct.forEach(Re,function(Oe){return W.delete(Oe.clientId)}).next(function(){return Re})})}).catch(function(){return[]})]);case 1:if(i=A.sent(),this.Ga)for(a=0,p=i;a<p.length;a++)this.Ga.removeItem(this.hc(p[a].clientId));A.label=2;case 2:return[2]}})})},c.prototype.Ja=function(){var i=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return i.za().then(function(){return i.ac()}).then(function(){return i.Ja()})})},c.prototype.rc=function(i){return!!i&&i.ownerId===this.clientId},c.prototype.nc=function(i){var a=this;return this.ka?Ct.resolve(!0):ml(i).get(yr.key).next(function(p){if(null!==p&&a.cc(p.leaseTimestampMs,5e3)&&!a.lc(p.ownerId)){if(a.rc(p)&&a.networkEnabled)return!0;if(!a.rc(p)){if(!p.allowTabSynchronization)throw new oe(ue.FAILED_PRECONDITION,Ns);return!1}}return!(!a.networkEnabled||!a.inForeground)||Gl(i).ts().next(function(y){return void 0===a.uc(y,5e3).find(function(D){return!(a.clientId===D.clientId||!(!a.networkEnabled&&D.networkEnabled||!a.inForeground&&D.inForeground&&a.networkEnabled===D.networkEnabled))})})}).next(function(p){return a.isPrimary!==p&&Ce("IndexedDbPersistence","Client "+(p?"is":"is not")+" eligible for a primary lease."),p})},c.prototype.Di=function(){return I.__awaiter(this,void 0,void 0,function(){var i=this;return I.__generator(this,function(a){switch(a.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[yr.store,Ca.store],function(p){var y=new $n(p,hn.ai);return i.sc(y).next(function(){return i.oc(y)})})];case 1:return a.sent(),this.ja.close(),this.wc(),[2]}})})},c.prototype.uc=function(i,a){var p=this;return i.filter(function(y){return p.cc(y.updateTimeMs,a)&&!p.lc(y.clientId)})},c.prototype.pi=function(){var i=this;return this.runTransaction("getActiveClients","readonly",function(a){return Gl(a).ts().next(function(p){return i.uc(p,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.mc=function(i){return gs.xo(i,this.serializer,this.Dr,this.No)},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.Ic=function(){return this.Dr},c.prototype.runTransaction=function(i,a,p){var D,y=this;return Ce("IndexedDbPersistence","Starting transaction:",i),this.ja.runTransaction(i,"readonly"===a?"readonly":"readwrite",ho,function(L){return D=new $n(L,y.Ma?y.Ma.next():hn.ai),"readwrite-primary"===a?y.ec(D).next(function(W){return!!W||y.nc(D)}).next(function(W){if(!W)throw it("Failed to obtain primary lease for action '"+i+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new oe(ue.FAILED_PRECONDITION,_);return p(D)}).next(function(W){return y.ic(D).next(function(){return W})}):y.Ac(D).next(function(){return p(D)})}).then(function(L){return D.br(),L})},c.prototype.Ac=function(i){var a=this;return ml(i).get(yr.key).next(function(p){if(null!==p&&a.cc(p.leaseTimestampMs,5e3)&&!a.lc(p.ownerId)&&!a.rc(p)&&!(a.ka||a.allowTabSynchronization&&p.allowTabSynchronization))throw new oe(ue.FAILED_PRECONDITION,Ns)})},c.prototype.ic=function(i){var a=new yr(this.clientId,this.allowTabSynchronization,Date.now());return ml(i).put(yr.key,a)},c.Ln=function(){return pr.Ln()},c.prototype.sc=function(i){var a=this,p=ml(i);return p.get(yr.key).next(function(y){return a.rc(y)?(Ce("IndexedDbPersistence","Releasing primary lease."),p.delete(yr.key)):Ct.resolve()})},c.prototype.cc=function(i,a){var p=Date.now();return!(i<p-a||i>p&&(it("Detected an update time that is in the future: "+i+" > "+p),1))},c.prototype.Ha=function(){var i=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){i.fn.ws(function(){return i.inForeground="visible"===i.document.visibilityState,i.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},c.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},c.prototype.Ya=function(){var i,a=this;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.La=function(){a._c(),a.fn.ws(function(){return a.Di()})},this.window.addEventListener("unload",this.La))},c.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},c.prototype.lc=function(i){var a;try{var p=null!==(null===(a=this.Ga)||void 0===a?void 0:a.getItem(this.hc(i)));return Ce("IndexedDbPersistence","Client '"+i+"' "+(p?"is":"is not")+" zombied in LocalStorage"),p}catch(y){return it("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},c.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(i){it("Failed to set zombie client id.",i)}},c.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(i){}},c.prototype.hc=function(i){return"firestore_zombie_"+this.persistenceKey+"_"+i},c}();function ml(c){return Bs.Qn(c,yr.store)}function Gl(c){return Bs.Qn(c,Ca.store)}var Kp=function(){function c(i,a){this.db=i,this.wo=new nt(this,a)}return c.prototype.Po=function(i){var a=this.Rc(i);return this.db.Tc().ba(i).next(function(p){return a.next(function(y){return p+y})})},c.prototype.Rc=function(i){var a=0;return this.Vo(i,function(p){a++}).next(function(){return a})},c.prototype.Ce=function(i,a){return this.db.Tc().Ce(i,a)},c.prototype.Vo=function(i,a){return this.gc(i,function(p,y){return a(y)})},c.prototype.Da=function(i,a,p){return Rc(i,p)},c.prototype.Na=function(i,a,p){return Rc(i,p)},c.prototype.po=function(i,a,p){return this.db.Tc().po(i,a,p)},c.prototype.Go=function(i,a){return Rc(i,a)},c.prototype.Pc=function(i,a){return y=a,D=!1,ss(p=i).os(function(A){return Xr(p,A,y).next(function(L){return L&&(D=!0),Ct.resolve(!L)})}).next(function(){return D});var p,y,D},c.prototype.bo=function(i,a){var p=this,y=this.db.Ec().ra(),D=[],A=0;return this.gc(i,function(L,W){if(W<=a){var se=p.Pc(i,L).next(function(be){if(!be)return A++,y.Rr(i,L).next(function(){return y.Ar(L),ji(i).delete([0,x(L.path)])})});D.push(se)}}).next(function(){return Ct.$n(D)}).next(function(){return y.apply(i)}).next(function(){return A})},c.prototype.removeTarget=function(i,a){var p=a.st(i.xa);return this.db.Tc().ya(i,p)},c.prototype.yc=function(i,a){return Rc(i,a)},c.prototype.gc=function(i,a){var p,y=ji(i),D=hn.ai;return y.rs({index:ro.documentTargetsIndex},function(A,L){var se=L.path,be=L.sequenceNumber;0===A[0]?(D!==hn.ai&&a(new Z(B(p)),D),D=be,p=se):D=hn.ai}).next(function(){D!==hn.ai&&a(new Z(B(p)),D)})},c.prototype.So=function(i){return this.db.Ec().aa(i)},c}();function Rc(c,i){return ji(c).put((p=c.xa,new ro(0,x(i.path),p)));var p}function _l(c,i){var a=c.projectId;return c.j||(a+="."+c.database),"firestore/"+i+"/"+a+"/"}var As=function(){function c(i,a,p){this.persistence=i,this.Vc=a,this.bc=new Fn(Ht),this.vc=new Zr(function(y){return Ze(y)},Tt),this.Sc=Qt.min(),this.Sr=i.mc(p),this.Dc=i.Ec(),this.Ka=i.Tc(),this.Cc=new M(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return c.prototype.Io=function(i){var a=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(p){return i.vo(p,a.bc)})},c}();function Ya(c,i){var a=Je(c);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(p){var A,L,W,se,be,Re,Oe,y=i.batch.keys(),D=a.Dc.ra({oa:!0});return(A=a,L=p,W=i,se=D,be=W.batch,Re=be.keys(),Oe=Ct.resolve(),Re.forEach(function(Ye){Oe=Oe.next(function(){return se.Rr(L,Ye)}).next(function(st){var ht=st,Zt=W.dr.get(Ye);Ke(null!==Zt),(!ht||ht.version.L(Zt)<0)&&(ht=be.cr(Ye,ht,W))&&se.Er(ht,W._r)})}),Oe.next(function(){return A.Sr.Wo(L,be)})).next(function(){return D.apply(p)}).next(function(){return a.Sr.zo(p)}).next(function(){return a.Cc.kr(p,y)})})}function Us(c){var i=Je(c);return i.persistence.runTransaction("Get last remote snapshot version","readonly",function(a){return i.Ka.Ea(a)})}function zf(c,i){var a=Je(c),p=i.nt,y=a.bc;return a.persistence.runTransaction("Apply remote event","readwrite-primary",function(D){var A=a.Dc.ra({oa:!0});y=a.bc;var L=[];i.zt.forEach(function(Re,Oe){var Zt,Wt,yn,Ye=y.get(Oe);if(Ye){L.push(a.Ka.Ca(D,Re.se,Oe).next(function(){return a.Ka.Sa(D,Re.ee,Oe)}));var st=Re.resumeToken;if(st.O()>0){var ht=Ye.it(st,p).st(D.xa);y=y.ot(Oe,ht),Zt=Ye,yn=Re,Ke((Wt=ht).resumeToken.O()>0),(0===Zt.resumeToken.O()||Wt.nt.X()-Zt.nt.X()>=3e8||yn.ee.size+yn.ne.size+yn.se.size>0)&&L.push(a.Ka.ya(D,ht))}}});var W=ei(),se=kn();if(i.Yt.forEach(function(Re,Oe){se=se.add(Re)}),L.push(A.getEntries(D,se).next(function(Re){i.Yt.forEach(function(Oe,Ye){var st=Re.get(Oe);Ye instanceof ui&&Ye.version.isEqual(Qt.min())?(A.Ar(Oe,p),W=W.ot(Oe,Ye)):null==st||Ye.version.L(st.version)>0||0===Ye.version.L(st.version)&&st.hasPendingWrites?(A.Er(Ye,p),W=W.ot(Oe,Ye)):Ce("LocalStore","Ignoring outdated watch update for ",Oe,". Current version:",st.version," Watch version:",Ye.version),i.Jt.has(Oe)&&L.push(a.persistence.No.yc(D,Oe))})})),!p.isEqual(Qt.min())){var be=a.Ka.Ea(D).next(function(Re){return a.Ka.Aa(D,D.xa,p)});L.push(be)}return Ct.$n(L).next(function(){return A.apply(D)}).next(function(){return a.Cc.Mr(D,W)})}).then(function(D){return a.bc=y,D})}function $l(c,i){var a=Je(c);return a.persistence.runTransaction("Get next mutation batch","readonly",function(p){return void 0===i&&(i=-1),a.Sr.Bo(p,i)})}function Zu(c,i){var a=Je(c);return a.persistence.runTransaction("Allocate target","readwrite",function(p){var y;return a.Ka.va(p,i).next(function(D){return D?Ct.resolve(y=D):a.Ka.wa(p).next(function(A){return y=new an(i,A,0,p.xa),a.Ka.Ra(p,y).next(function(){return y})})})}).then(function(p){var y=a.bc.get(p.targetId);return(null===y||p.nt.L(y.nt)>0)&&(a.bc=a.bc.ot(p.targetId,p),a.vc.set(i,p.targetId)),p})}function pu(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y,D,A;return I.__generator(this,function(L){switch(L.label){case 0:p=Je(c),y=p.bc.get(i),D=a?"readwrite":"readwrite-primary",L.label=1;case 1:return L.trys.push([1,4,,5]),a?[3,3]:[4,p.persistence.runTransaction("Release target",D,function(W){return p.persistence.No.removeTarget(W,y)})];case 2:L.sent(),L.label=3;case 3:return[3,5];case 4:if(!qo(A=L.sent()))throw A;return Ce("LocalStore","Failed to update sequence numbers for target "+i+": "+A),[3,5];case 5:return p.bc=p.bc.remove(i),p.vc.delete(y.target),[2]}})})}function Za(c,i,a){var p=Je(c),y=Qt.min(),D=kn();return p.persistence.runTransaction("Execute query","readonly",function(A){return(L=p,W=A,se=di(i),be=Je(L),Re=be.vc.get(se),void 0!==Re?Ct.resolve(be.bc.get(Re)):be.Ka.va(W,se)).next(function(L){if(L)return y=L.lastLimboFreeSnapshotVersion,p.Ka.Fa(A,L.targetId).next(function(W){D=W})}).next(function(){return p.Vc.Lr(A,i,a?y:Qt.min(),a?D:kn())}).next(function(L){return{documents:L,Fc:D}});var L,W,se,be,Re})}function ms(c,i){var a=Je(c),p=Je(a.Ka),y=a.bc.get(i);return y?Promise.resolve(y.target):a.persistence.runTransaction("Get target data","readonly",function(D){return p.Ue(D,i).next(function(A){return A?A.target:null})})}function Yf(c){var i=Je(c);return i.persistence.runTransaction("Get new document changes","readonly",function(a){return y=a,D=i.Sc,A=Je(i.Dc),L=ei(),W=Fe(D),se=oa(y),be=IDBKeyRange.lowerBound(W,!0),se.rs({index:Ui.readTimeIndex,range:be},function(Re,Oe){var Ye=ne(A.serializer,Oe);L=L.ot(Ye.key,Ye),W=Oe.readTime}).next(function(){return{xc:L,readTime:ft(W)}});var y,D,A,L,W,se,be}).then(function(a){var p=a.xc;return i.Sc=a.readTime,p})}function gu(c){return I.__awaiter(this,void 0,void 0,function(){var i;return I.__generator(this,function(a){return[2,(i=Je(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(p){return D=oa(p),A=Qt.min(),D.rs({index:Ui.readTimeIndex,reverse:!0},function(L,W,se){W.readTime&&(A=ft(W.readTime)),se.done()}).next(function(){return A});var D,A}).then(function(p){i.Sc=p})]})})}function Ra(c){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(i){if(c.code!==ue.FAILED_PRECONDITION||c.message!==_)throw c;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}var mu=function(){function c(){this.$c=new Zn(Ni.kc),this.Mc=new Zn(Ni.Oc)}return c.prototype.m=function(){return this.$c.m()},c.prototype.Da=function(i,a){var p=new Ni(i,a);this.$c=this.$c.add(p),this.Mc=this.Mc.add(p)},c.prototype.Lc=function(i,a){var p=this;i.forEach(function(y){return p.Da(y,a)})},c.prototype.Na=function(i,a){this.Bc(new Ni(i,a))},c.prototype.qc=function(i,a){var p=this;i.forEach(function(y){return p.Na(y,a)})},c.prototype.Uc=function(i){var a=this,p=new Z(new Lt([])),y=new Ni(p,i),D=new Ni(p,i+1),A=[];return this.Mc.Ft([y,D],function(L){a.Bc(L),A.push(L.key)}),A},c.prototype.Qc=function(){var i=this;this.$c.forEach(function(a){return i.Bc(a)})},c.prototype.Bc=function(i){this.$c=this.$c.delete(i),this.Mc=this.Mc.delete(i)},c.prototype.Wc=function(i){var a=new Z(new Lt([])),p=new Ni(a,i),y=new Ni(a,i+1),D=kn();return this.Mc.Ft([p,y],function(A){D=D.add(A.key)}),D},c.prototype.Ho=function(i){var a=new Ni(i,0),p=this.$c.$t(a);return null!==p&&i.isEqual(p.key)},c}(),Ni=function(){function c(i,a){this.key=i,this.jc=a}return c.kc=function(i,a){return Z.i(i.key,a.key)||Ht(i.jc,a.jc)},c.Oc=function(i,a){return Ht(i.jc,a.jc)||Z.i(i.key,a.key)},c}(),yl=function(c,i){this.user=i,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+c},Wl=function(){function c(){this.Gc=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.zc=function(){},c.prototype.Hc=function(i){this.Gc=i,i(Dr.UNAUTHENTICATED)},c.prototype.Yc=function(){this.Gc=null},c}(),Da=function(){function c(i){var a=this;this.Jc=null,this.currentUser=Dr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){a.Zc++,a.currentUser=a.tu(),a.Xc=!0,a.Gc&&a.Gc(a.currentUser)},this.Zc=0,this.auth=i.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),i.get().then(function(p){a.auth=p,a.Jc&&a.auth.addAuthTokenListener(a.Jc)},function(){}))}return c.prototype.getToken=function(){var i=this,a=this.Zc,p=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(p).then(function(y){return i.Zc!==a?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),i.getToken()):y?(Ke("string"==typeof y.accessToken),new yl(y.accessToken,i.currentUser)):null}):Promise.resolve(null)},c.prototype.zc=function(){this.forceRefresh=!0},c.prototype.Hc=function(i){this.Gc=i,this.Xc&&i(this.currentUser)},c.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},c.prototype.tu=function(){var i=this.auth&&this.auth.getUid();return Ke(null===i||"string"==typeof i),new Dr(i)},c}(),Dd=function(){function c(i,a){this.eu=i,this.nu=a,this.type="FirstParty",this.user=Dr.ni}return Object.defineProperty(c.prototype,"Kc",{get:function(){var i={"X-Goog-AuthUser":this.nu},a=this.eu.auth.getAuthHeaderValueForFirstParty([]);return a&&(i.Authorization=a),i},enumerable:!1,configurable:!0}),c}(),Zf=function(){function c(i,a){this.eu=i,this.nu=a}return c.prototype.getToken=function(){return Promise.resolve(new Dd(this.eu,this.nu))},c.prototype.Hc=function(i){i(Dr.ni)},c.prototype.Yc=function(){},c.prototype.zc=function(){},c}(),To=function(){function c(i,a,p,y,D,A){this.fn=i,this.su=p,this.iu=y,this.ru=D,this.listener=A,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Or(i,a)}return c.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.uu=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.hu()},c.prototype.stop=function(){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(i){switch(i.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},c.prototype.lu=function(){this.state=0,this.ys.reset()},c.prototype._u=function(){var i=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return i.fu()}))},c.prototype.du=function(i){this.wu(),this.stream.send(i)},c.prototype.fu=function(){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(i){return this.uu()?[2,this.close(0)]:[2]})})},c.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},c.prototype.close=function(i,a){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(p){switch(p.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==i?this.ys.reset():a&&a.code===ue.RESOURCE_EXHAUSTED?(it(a.toString()),it("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):a&&a.code===ue.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=i,[4,this.listener.Tu(a)];case 1:return p.sent(),[2]}})})},c.prototype.mu=function(){},c.prototype.auth=function(){var i=this;this.state=1;var a=this.Eu(this.ou),p=this.ou;this.ru.getToken().then(function(y){i.ou===p&&i.Iu(y)},function(y){a(function(){var D=new oe(ue.UNKNOWN,"Fetching auth token failed: "+y.message);return i.Au(D)})})},c.prototype.Iu=function(i){var a=this,p=this.Eu(this.ou);this.stream=this.Ru(i),this.stream.gu(function(){p(function(){return a.state=2,a.listener.gu()})}),this.stream.Tu(function(y){p(function(){return a.Au(y)})}),this.stream.onMessage(function(y){p(function(){return a.onMessage(y)})})},c.prototype.hu=function(){var i=this;this.state=4,this.ys.gn(function(){return I.__awaiter(i,void 0,void 0,function(){return I.__generator(this,function(a){return this.state=0,this.start(),[2]})})})},c.prototype.Au=function(i){return Ce("PersistentStream","close with error: "+i),this.stream=null,this.close(3,i)},c.prototype.Eu=function(i){var a=this;return function(p){a.fn.ws(function(){return a.ou===i?p():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),vl=function(c){function i(a,p,y,D,A){var L=this;return(L=c.call(this,a,"listen_stream_connection_backoff","listen_stream_idle",p,y,A)||this).serializer=D,L}return I.__extends(i,c),i.prototype.Ru=function(a){return this.iu.Pu("Listen",a)},i.prototype.onMessage=function(a){this.ys.reset();var p=function(D,A){var L,Gs;if("targetChange"in A){var W="NO_CHANGE"===(Gs=A.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Gs?1:"REMOVE"===Gs?2:"CURRENT"===Gs?3:"RESET"===Gs?4:ot(),se=A.targetChange.targetIds||[],be=function(Gs,Ba){return Gs.Qe?(Ke(void 0===Ba||"string"==typeof Ba),un.fromBase64String(Ba||"")):(Ke(void 0===Ba||Ba instanceof Uint8Array),un.fromUint8Array(Ba||new Uint8Array))}(D,A.targetChange.resumeToken),Re=A.targetChange.cause,Oe=Re&&function(Gs){var Ba=void 0===Gs.code?ue.UNKNOWN:br(Gs.code);return new oe(Ba,Gs.message||"")}(Re);L=new It(W,se,be,Oe||null)}else if("documentChange"in A){var Ye=A.documentChange,st=si(D,Ye.document.name),ht=Mr(Ye.document.updateTime),Zt=new Xi({mapValue:{fields:Ye.document.fields}}),Wt=new Rt(st,ht,Zt,{});L=new _o(Ye.targetIds||[],Ye.removedTargetIds||[],Wt.key,Wt)}else if("documentDelete"in A){var Qn=A.documentDelete,Gr=si(D,Qn.document),Fr=Qn.readTime?Mr(Qn.readTime):Qt.min(),la=new ui(Gr,Fr);L=new _o([],Qn.removedTargetIds||[],la.key,la)}else if("documentRemove"in A){var Ru=A.documentRemove,Yc=si(D,Ru.document);L=new _o([],Ru.removedTargetIds||[],Yc,null)}else{if(!("filter"in A))return ot();var da=A.filter,Zc=new Yt(da.count||0);L=new ti(da.targetId,Zc)}return L}(this.serializer,a),y=function(D){if(!("targetChange"in D))return Qt.min();var A=D.targetChange;return A.targetIds&&A.targetIds.length?Qt.min():A.readTime?Mr(A.readTime):Qt.min()}(a);return this.listener.yu(p,y)},i.prototype.Vu=function(a){var D,A,L,W,p={};p.database=xr(this.serializer),p.addTarget=(D=this.serializer,(L=Vt(W=(A=a).target)?{documents:Kn(D,W)}:{query:Ho(D,W)}).targetId=A.targetId,A.resumeToken.O()>0&&(L.resumeToken=vo(D,A.resumeToken)),L);var y=function(D,A){var L=function(W,se){switch(se){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,A.et);return null==L?null:{"goog-listen-tags":L}}(0,a);y&&(p.labels=y),this.du(p)},i.prototype.pu=function(a){var p={};p.database=xr(this.serializer),p.removeTarget=a,this.du(p)},i}(To),Qf=function(c){function i(a,p,y,D,A){var L=this;return(L=c.call(this,a,"write_stream_connection_backoff","write_stream_idle",p,y,A)||this).serializer=D,L.bu=!1,L}return I.__extends(i,c),Object.defineProperty(i.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),i.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},i.prototype.mu=function(){this.bu&&this.Su([])},i.prototype.Ru=function(a){return this.iu.Pu("Write",a)},i.prototype.onMessage=function(a){if(Ke(!!a.streamToken),this.lastStreamToken=a.streamToken,this.bu){this.ys.reset();var p=(A=a.commitTime,(D=a.writeResults)&&D.length>0?(Ke(void 0!==A),D.map(function(L){return function(W,se){var be=Mr(W.updateTime?W.updateTime:se);be.isEqual(Qt.min())&&(be=Mr(se));var Re=null;return W.transformResults&&W.transformResults.length>0&&(Re=W.transformResults),new ut(be,Re)}(L,A)})):[]),y=Mr(a.commitTime);return this.listener.Du(y,p)}var D,A;return Ke(!a.writeResults||0===a.writeResults.length),this.bu=!0,this.listener.Cu()},i.prototype.Nu=function(){var a={};a.database=xr(this.serializer),this.du(a)},i.prototype.Su=function(a){var p=this,y={streamToken:this.lastStreamToken,writes:a.map(function(D){return bo(p.serializer,D)})};this.du(y)},i}(To),Oc=function(c){function i(a,p,y){var D=this;return(D=c.call(this)||this).credentials=a,D.iu=p,D.serializer=y,D.Fu=!1,D}return I.__extends(i,c),i.prototype.xu=function(){if(this.Fu)throw new oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.$u=function(a,p,y){var D=this;return this.xu(),this.credentials.getToken().then(function(A){return D.iu.$u(a,p,y,A)}).catch(function(A){throw A.code===ue.UNAUTHENTICATED&&D.credentials.zc(),A})},i.prototype.ku=function(a,p,y){var D=this;return this.xu(),this.credentials.getToken().then(function(A){return D.iu.ku(a,p,y,A)}).catch(function(A){throw A.code===ue.UNAUTHENTICATED&&D.credentials.zc(),A})},i.prototype.terminate=function(){this.Fu=!1},i}(function(){}),bl=function(){function c(i,a){this.cs=i,this.di=a,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return c.prototype.Bu=function(){var i=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return i.Ou=null,i.Uu("Backend didn't respond within 10 seconds."),i.qu("Offline"),Promise.resolve()}))},c.prototype.Qu=function(i){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+i.toString()),this.qu("Offline")))},c.prototype.set=function(i){this.Wu(),this.Mu=0,"Online"===i&&(this.Lu=!1),this.qu(i)},c.prototype.qu=function(i){i!==this.state&&(this.state=i,this.di(i))},c.prototype.Uu=function(i){var a="Could not reach Cloud Firestore backend. "+i+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(it(a),this.Lu=!1):Ce("OnlineStateTracker",a)},c.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},c}(),Qa=function(c,i,a,p,y){var D=this;this.ju=c,this.Ku=i,this.cs=a,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(A){a.ws(function(){return I.__awaiter(D,void 0,void 0,function(){return I.__generator(this,function(L){switch(L.label){case 0:return Ta(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(W){return I.__awaiter(this,void 0,void 0,function(){var se;return I.__generator(this,function(be){switch(be.label){case 0:return(se=Je(W)).Yu.add(4),[4,Ei(se)];case 1:return be.sent(),se.th.set("Unknown"),se.Yu.delete(4),[4,Qu(se)];case 2:return be.sent(),[2]}})})}(this)]):[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}})})})}),this.th=new bl(a,p)};function Qu(c){return I.__awaiter(this,void 0,void 0,function(){var i,a;return I.__generator(this,function(p){switch(p.label){case 0:if(!Ta(c))return[3,4];i=0,a=c.Ju,p.label=1;case 1:return i<a.length?[4,(0,a[i])(!0)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function Ei(c){return I.__awaiter(this,void 0,void 0,function(){var i,a;return I.__generator(this,function(p){switch(p.label){case 0:i=0,a=c.Ju,p.label=1;case 1:return i<a.length?[4,(0,a[i])(!1)]:[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[2]}})})}function ql(c){return I.__awaiter(this,void 0,void 0,function(){var i;return I.__generator(this,function(a){switch(a.label){case 0:return i=Je(c),Ce("RemoteStore","RemoteStore shutting down."),i.Yu.add(5),[4,Ei(i)];case 1:return a.sent(),i.Xu.Di(),i.th.set("Unknown"),[2]}})})}function wl(c,i){var a=Je(c);a.Hu.has(i.targetId)||(a.Hu.set(i.targetId,i),Zo(a)?Cl(a):Zl(a).uu()&&_u(a,i))}function sa(c,i){var a=Je(c),p=Zl(a);a.Hu.delete(i),p.uu()&&Td(a,i),0===a.Hu.size&&(p.uu()?p._u():Ta(a)&&a.th.set("Unknown"))}function _u(c,i){c.eh.Ie(i.targetId),Zl(c).Vu(i)}function Td(c,i){c.eh.Ie(i),Zl(c).pu(i)}function Cl(c){c.eh=new rn({qe:function(i){return c.Gu.qe(i)},Ue:function(i){return c.Hu.get(i)||null}}),Zl(c).start(),c.th.Bu()}function Zo(c){return Ta(c)&&!Zl(c).cu()&&c.Hu.size>0}function Ta(c){return 0===Je(c).Yu.size}function yu(c){c.eh=void 0}function Oa(c){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(i){return c.Hu.forEach(function(a,p){_u(c,a)}),[2]})})}function Ju(c,i){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(a){return yu(c),Zo(c)?(c.th.Qu(i),Cl(c)):c.th.set("Unknown"),[2]})})}function Qo(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y,D;return I.__generator(this,function(A){switch(A.label){case 0:if(c.th.set("Online"),!(i instanceof It&&2===i.state&&i.cause))return[3,6];A.label=1;case 1:return A.trys.push([1,3,,5]),[4,function(L,W){return I.__awaiter(this,void 0,void 0,function(){var se,be,Re,Oe;return I.__generator(this,function(Ye){switch(Ye.label){case 0:se=W.cause,be=0,Re=W.targetIds,Ye.label=1;case 1:return be<Re.length?L.Hu.has(Oe=Re[be])?[4,L.Gu.nh(Oe,se)]:[3,3]:[3,5];case 2:Ye.sent(),L.Hu.delete(Oe),L.eh.removeTarget(Oe),Ye.label=3;case 3:Ye.label=4;case 4:return be++,[3,1];case 5:return[2]}})})}(c,i)];case 2:return A.sent(),[3,5];case 3:return p=A.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),p),[4,Pc(c,p)];case 4:return A.sent(),[3,5];case 5:return[3,13];case 6:if(i instanceof _o?c.eh.be(i):i instanceof ti?c.eh.$e(i):c.eh.De(i),a.isEqual(Qt.min()))return[3,13];A.label=7;case 7:return A.trys.push([7,11,,13]),[4,Us(c.ju)];case 8:return y=A.sent(),a.L(y)>=0?[4,(L=c,W=a,se=L.eh.Oe(W),se.zt.forEach(function(be,Re){if(be.resumeToken.O()>0){var Oe=L.Hu.get(Re);Oe&&L.Hu.set(Re,Oe.it(be.resumeToken,W))}}),se.Ht.forEach(function(be){var Re=L.Hu.get(be);if(Re){L.Hu.set(be,Re.it(un.B,Re.nt)),Td(L,be);var Oe=new an(Re.target,be,1,Re.sequenceNumber);_u(L,Oe)}}),L.Gu.sh(se))]:[3,10];case 9:A.sent(),A.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",D=A.sent()),[4,Pc(c,D)];case 12:return A.sent(),[3,13];case 13:return[2]}var L,W,se})})}function Pc(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p=this;return I.__generator(this,function(y){switch(y.label){case 0:if(!qo(i))throw i;return c.Yu.add(1),[4,Ei(c)];case 1:return y.sent(),c.th.set("Offline"),a||(a=function(){return Us(c.ju)}),c.cs.Cs(function(){return I.__awaiter(p,void 0,void 0,function(){return I.__generator(this,function(D){switch(D.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,a()];case 1:return D.sent(),c.Yu.delete(1),[4,Qu(c)];case 2:return D.sent(),[2]}})})}),[2]}})})}function Sd(c,i){return i().catch(function(a){return Pc(c,a,i)})}function vu(c){return I.__awaiter(this,void 0,void 0,function(){var i,a,p,y,D;return I.__generator(this,function(A){switch(A.label){case 0:i=Je(c),a=Ja(i),p=i.zu.length>0?i.zu[i.zu.length-1].batchId:-1,A.label=1;case 1:if(!(Ta(L=i)&&L.zu.length<10))return[3,7];A.label=2;case 2:return A.trys.push([2,4,,6]),[4,$l(i.ju,p)];case 3:return null===(y=A.sent())?(0===i.zu.length&&a._u(),[3,7]):(p=y.batchId,function(L,W){L.zu.push(W);var se=Ja(L);se.uu()&&se.vu&&se.Su(W.mutations)}(i,y),[3,6]);case 4:return D=A.sent(),[4,Pc(i,D)];case 5:return A.sent(),[3,6];case 6:return[3,1];case 7:return zl(i)&&Id(i),[2]}var L})})}function zl(c){return Ta(c)&&!Ja(c).cu()&&c.zu.length>0}function Id(c){Ja(c).start()}function Xp(c){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(i){return Ja(c).Nu(),[2]})})}function eg(c){return I.__awaiter(this,void 0,void 0,function(){var i,a,p;return I.__generator(this,function(D){for(i=Ja(c),a=0,p=c.zu;a<p.length;a++)i.Su(p[a].mutations);return[2]})})}function El(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y;return I.__generator(this,function(D){switch(D.label){case 0:return p=c.zu.shift(),y=v.from(p,i,a),[4,Sd(c,function(){return c.Gu.ih(y)})];case 1:return D.sent(),[4,vu(c)];case 2:return D.sent(),[2]}})})}function Yl(c,i){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(a){switch(a.label){case 0:return i&&Ja(c).vu?[4,function(p,y){return I.__awaiter(this,void 0,void 0,function(){var D,A;return I.__generator(this,function(L){switch(L.label){case 0:return on(A=y.code)&&A!==ue.ABORTED?(D=p.zu.shift(),Ja(p).lu(),[4,Sd(p,function(){return p.Gu.rh(D.batchId,y)})]):[3,3];case 1:return L.sent(),[4,vu(p)];case 2:L.sent(),L.label=3;case 3:return[2]}})})}(c,i)]:[3,2];case 1:a.sent(),a.label=2;case 2:return zl(c)&&Id(c),[2]}})})}function Nd(c,i){return I.__awaiter(this,void 0,void 0,function(){var a;return I.__generator(this,function(y){switch(y.label){case 0:return a=Je(c),i?(a.Yu.delete(2),[4,Qu(a)]):[3,2];case 1:return y.sent(),[3,5];case 2:return i?[3,4]:(a.Yu.add(2),[4,Ei(a)]);case 3:y.sent(),a.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function Zl(c){var a,p,y,D,i=this;return c.oh||(c.oh=(a=c.Ku,p=c.cs,y={gu:Oa.bind(null,c),Tu:Ju.bind(null,c),yu:Qo.bind(null,c)},(D=Je(a)).xu(),new vl(p,D.iu,D.credentials,D.serializer,y)),c.Ju.push(function(a){return I.__awaiter(i,void 0,void 0,function(){return I.__generator(this,function(p){switch(p.label){case 0:return a?(c.oh.lu(),Zo(c)?Cl(c):c.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.oh.stop()];case 2:p.sent(),yu(c),p.label=3;case 3:return[2]}})})})),c.oh}function Ja(c){var a,p,y,D,i=this;return c.ah||(c.ah=(a=c.Ku,p=c.cs,y={gu:Xp.bind(null,c),Tu:Yl.bind(null,c),Cu:eg.bind(null,c),Du:El.bind(null,c)},(D=Je(a)).xu(),new Qf(p,D.iu,D.credentials,D.serializer,y)),c.Ju.push(function(a){return I.__awaiter(i,void 0,void 0,function(){return I.__generator(this,function(p){switch(p.label){case 0:return a?(c.ah.lu(),[4,vu(c)]):[3,2];case 1:return p.sent(),[3,4];case 2:return[4,c.ah.stop()];case 3:p.sent(),c.zu.length>0&&(Ce("RemoteStore","Stopping write stream with "+c.zu.length+" pending writes"),c.zu=[]),p.label=4;case 4:return[2]}})})})),c.ah}var Jf=function(c){this.key=c},tg=function(c){this.key=c},Kf=function(){function c(i,a){this.query=i,this.uh=a,this.hh=null,this.te=!1,this.lh=kn(),this.Wt=kn(),this._h=zs(i),this.fh=new Vo(this._h)}return Object.defineProperty(c.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),c.prototype.wh=function(i,a){var p=this,y=a?a.mh:new Lr,D=a?a.fh:this.fh,A=a?a.Wt:this.Wt,L=D,W=!1,se=_a(this.query)&&D.size===this.query.limit?D.last():null,be=Si(this.query)&&D.size===this.query.limit?D.first():null;if(i.ht(function(Oe,Ye){var st=D.get(Oe),ht=Ye instanceof Rt?Ye:null;ht&&(ht=xo(p.query,ht)?ht:null);var Zt=!!st&&p.Wt.has(st.key),Wt=!!ht&&(ht.Je||p.Wt.has(ht.key)&&ht.hasCommittedMutations),yn=!1;st&&ht?st.data().isEqual(ht.data())?Zt!==Wt&&(y.track({type:3,doc:ht}),yn=!0):p.Th(st,ht)||(y.track({type:2,doc:ht}),yn=!0,(se&&p._h(ht,se)>0||be&&p._h(ht,be)<0)&&(W=!0)):!st&&ht?(y.track({type:0,doc:ht}),yn=!0):st&&!ht&&(y.track({type:1,doc:st}),yn=!0,(se||be)&&(W=!0)),yn&&(ht?(L=L.add(ht),A=Wt?A.add(Oe):A.delete(Oe)):(L=L.delete(Oe),A=A.delete(Oe)))}),_a(this.query)||Si(this.query))for(;L.size>this.query.limit;){var Re=_a(this.query)?L.last():L.first();L=L.delete(Re.key),A=A.delete(Re.key),y.track({type:1,doc:Re})}return{fh:L,mh:y,Eh:W,Wt:A}},c.prototype.Th=function(i,a){return i.Je&&a.hasCommittedMutations&&!a.Je},c.prototype.yr=function(i,a,p){var y=this,D=this.fh;this.fh=i.fh,this.Wt=i.Wt;var A=i.mh.Ut();A.sort(function(be,Re){return Ye=Re.type,(st=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}})(be.type)-st(Ye)||y._h(be.doc,Re.doc);var Ye,st}),this.Ih(p);var L=a?this.Ah():[],W=0===this.lh.size&&this.te?1:0,se=W!==this.hh;return this.hh=W,0!==A.length||se?{snapshot:new dr(this.query,i.fh,D,A,i.Wt,0===W,se,!1),Rh:L}:{Rh:L}},c.prototype.Qs=function(i){return this.te&&"Offline"===i?(this.te=!1,this.yr({fh:this.fh,mh:new Lr,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},c.prototype.gh=function(i){return!this.uh.has(i)&&!!this.fh.has(i)&&!this.fh.get(i).Je},c.prototype.Ih=function(i){var a=this;i&&(i.ee.forEach(function(p){return a.uh=a.uh.add(p)}),i.ne.forEach(function(p){}),i.se.forEach(function(p){return a.uh=a.uh.delete(p)}),this.te=i.te)},c.prototype.Ah=function(){var i=this;if(!this.te)return[];var a=this.lh;this.lh=kn(),this.fh.forEach(function(y){i.gh(y.key)&&(i.lh=i.lh.add(y.key))});var p=[];return a.forEach(function(y){i.lh.has(y)||p.push(new tg(y))}),this.lh.forEach(function(y){a.has(y)||p.push(new Jf(y))}),p},c.prototype.Ph=function(i){this.uh=i.Fc,this.lh=kn();var a=this.wh(i.documents);return this.yr(a,!0)},c.prototype.yh=function(){return dr.Gt(this.query,this.fh,this.Wt,0===this.hh)},c}(),ng=function(c,i,a){this.query=c,this.targetId=i,this.view=a},rg=function(c){this.key=c,this.Vh=!1},Fc=function(){function c(i,a,p,y,D,A){this.ju=i,this.ph=a,this.bh=p,this.Sh=y,this.currentUser=D,this.Dh=A,this.Ch={},this.Nh=new Zr(function(L){return qa(L)},Wo),this.Fh=new Map,this.xh=[],this.$h=new Fn(Z.i),this.kh=new Map,this.Mh=new mu,this.Oh={},this.Lh=new Map,this.Bh=Ea.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(c.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),c}();function Ql(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,y,D,A,L;return I.__generator(this,function(W){switch(W.label){case 0:return a=Bc(c),(D=a.Nh.get(i))?(a.Sh.Oi(D.targetId),y=D.view.yh(),[3,4]):[3,1];case 1:return[4,Zu(a.ju,di(i))];case 2:return A=W.sent(),L=a.Sh.Oi(A.targetId),[4,_s(a,i,A.targetId,"current"===L)];case 3:y=W.sent(),a.Uh&&wl(a.ph,A),W.label=4;case 4:return[2,y]}})})}function _s(c,i,a,p){return I.__awaiter(this,void 0,void 0,function(){var y,D,A,L,W,se;return I.__generator(this,function(be){switch(be.label){case 0:return c.Qh=function(Re,Oe,Ye){return function(st,ht,Zt,Wt){return I.__awaiter(this,void 0,void 0,function(){var yn,Un,Qn;return I.__generator(this,function(Gr){switch(Gr.label){case 0:return(yn=ht.view.wh(Zt)).Eh?[4,Za(st.ju,ht.query,!1).then(function(Fr){return ht.view.wh(Fr.documents,yn)})]:[3,2];case 1:yn=Gr.sent(),Gr.label=2;case 2:return Un=Wt&&Wt.zt.get(ht.targetId),Qn=ht.view.yr(yn,st.Uh,Un),[2,(ec(st,ht.targetId,Qn.Rh),Qn.snapshot)]}})})}(c,Re,Oe,Ye)},[4,Za(c.ju,i,!0)];case 1:return y=be.sent(),D=new Kf(i,y.Fc),A=D.wh(y.documents),L=Ur.Zt(a,p&&"Offline"!==c.onlineState),W=D.yr(A,c.Uh,L),ec(c,a,W.Rh),se=new ng(i,a,D),[2,(c.Nh.set(i,se),c.Fh.has(a)?c.Fh.get(a).push(i):c.Fh.set(a,[i]),W.snapshot)]}})})}function Ku(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p,y;return I.__generator(this,function(D){switch(D.label){case 0:return a=Je(c),p=a.Nh.get(i),(y=a.Fh.get(p.targetId)).length>1?[2,(a.Fh.set(p.targetId,y.filter(function(A){return!Wo(A,i)})),void a.Nh.delete(i))]:a.Uh?(a.Sh.Bi(p.targetId),a.Sh.Fi(p.targetId)?[3,2]:[4,pu(a.ju,p.targetId,!1).then(function(){a.Sh.Ui(p.targetId),sa(a.ph,p.targetId),Jo(a,p.targetId)}).catch(Ra)]):[3,3];case 1:D.sent(),D.label=2;case 2:return[3,5];case 3:return Jo(a,p.targetId),[4,pu(a.ju,p.targetId,!0)];case 4:D.sent(),D.label=5;case 5:return[2]}})})}function Jl(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p;return I.__generator(this,function(y){switch(y.label){case 0:a=Je(c),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,zf(a.ju,i)];case 2:return p=y.sent(),i.zt.forEach(function(D,A){var L=a.kh.get(A);L&&(Ke(D.ee.size+D.ne.size+D.se.size<=1),D.ee.size>0?L.Vh=!0:D.ne.size>0?Ke(L.Vh):D.se.size>0&&(Ke(L.Vh),L.Vh=!1))}),[4,Cu(a,p,i)];case 3:return y.sent(),[3,6];case 4:return[4,Ra(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function bu(c,i,a){var p=Je(c);if(p.Uh&&0===a||!p.Uh&&1===a){var y=[];p.Nh.forEach(function(D,A){var L=A.view.Qs(i);L.snapshot&&y.push(L.snapshot)}),function(D,A){var L=Je(D);L.onlineState=A;var W=!1;L.Bs.forEach(function(se,be){for(var Re=0,Oe=be.listeners;Re<Oe.length;Re++)Oe[Re].Qs(A)&&(W=!0)}),W&&Fi(L)}(p.bh,i),y.length&&p.Ch.yu(y),p.onlineState=i,p.Uh&&p.Sh.Ki(i)}}function Kl(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y,D,A,L,W;return I.__generator(this,function(se){switch(se.label){case 0:return(p=Je(c)).Sh.Qi(i,"rejected",a),y=p.kh.get(i),(D=y&&y.key)?(A=(A=new Fn(Z.i)).ot(D,new ui(D,Qt.min())),L=kn().add(D),W=new Ir(Qt.min(),new Map,new Zn(Ht),A,L),[4,Jl(p,W)]):[3,2];case 1:return se.sent(),p.$h=p.$h.remove(D),p.kh.delete(i),kc(p),[3,4];case 2:return[4,pu(p.ju,i,!1).then(function(){return Jo(p,i,a)}).catch(Ra)];case 3:se.sent(),se.label=4;case 4:return[2]}})})}function Xl(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p,y;return I.__generator(this,function(D){switch(D.label){case 0:a=Je(c),p=i.batch.batchId,D.label=1;case 1:return D.trys.push([1,4,,6]),[4,Ya(a.ju,i)];case 2:return y=D.sent(),Sa(a,p,null),aa(a,p),a.Sh.ki(p,"acknowledged"),[4,Cu(a,y)];case 3:return D.sent(),[3,6];case 4:return[4,Ra(D.sent())];case 5:return D.sent(),[3,6];case 6:return[2]}})})}function Ad(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y;return I.__generator(this,function(D){switch(D.label){case 0:p=Je(c),D.label=1;case 1:return D.trys.push([1,4,,6]),[4,(A=p.ju,L=i,W=Je(A),W.persistence.runTransaction("Reject batch","readwrite-primary",function(se){var be;return W.Sr.Oo(se,L).next(function(Re){return Ke(null!==Re),be=Re.keys(),W.Sr.Wo(se,Re)}).next(function(){return W.Sr.zo(se)}).next(function(){return W.Cc.kr(se,be)})}))];case 2:return y=D.sent(),Sa(p,i,a),aa(p,i),p.Sh.ki(i,"rejected",a),[4,Cu(p,y)];case 3:return D.sent(),[3,6];case 4:return[4,Ra(D.sent())];case 5:return D.sent(),[3,6];case 6:return[2]}var A,L,W})})}function aa(c,i){(c.Lh.get(i)||[]).forEach(function(a){a.resolve()}),c.Lh.delete(i)}function Sa(c,i,a){var p=Je(c),y=p.Oh[p.currentUser.ti()];if(y){var D=y.get(i);D&&(a?D.reject(a):D.resolve(),y=y.remove(i)),p.Oh[p.currentUser.ti()]=y}}function Jo(c,i,a){void 0===a&&(a=null),c.Sh.Bi(i);for(var p=0,y=c.Fh.get(i);p<y.length;p++){var D=y[p];c.Nh.delete(D),a&&c.Ch.Wh(D,a)}c.Fh.delete(i),c.Uh&&c.Mh.Uc(i).forEach(function(A){c.Mh.Ho(A)||wu(c,A)})}function wu(c,i){var a=c.$h.get(i);null!==a&&(sa(c.ph,a),c.$h=c.$h.remove(i),c.kh.delete(a),kc(c))}function ec(c,i,a){for(var p=0,y=a;p<y.length;p++){var D=y[p];D instanceof Jf?(c.Mh.Da(D.key,i),Md(c,D)):D instanceof tg?(Ce("SyncEngine","Document no longer in limbo: "+D.key),c.Mh.Na(D.key,i),c.Mh.Ho(D.key)||wu(c,D.key)):ot()}}function Md(c,i){var a=i.key;c.$h.get(a)||(Ce("SyncEngine","New document in limbo: "+a),c.xh.push(a),kc(c))}function kc(c){for(;c.xh.length>0&&c.$h.size<c.Dh;){var i=c.xh.shift(),a=c.Bh.next();c.kh.set(a,new rg(i)),c.$h=c.$h.ot(i,a),wl(c.ph,new an(di($o(i.path)),a,2,hn.ai))}}function Cu(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y,D,A;return I.__generator(this,function(L){switch(L.label){case 0:return p=Je(c),y=[],D=[],A=[],p.Nh.m()?[3,3]:(p.Nh.forEach(function(W,se){A.push(p.Qh(se,i,a).then(function(be){if(be){p.Uh&&p.Sh.Qi(se.targetId,be.fromCache?"not-current":"current"),y.push(be);var Re=P.zr(se.targetId,be);D.push(Re)}}))}),[4,Promise.all(A)]);case 1:return L.sent(),p.Ch.yu(y),[4,function(W,se){return I.__awaiter(this,void 0,void 0,function(){var be,Re,Oe,Ye,st,ht,Zt,yn;return I.__generator(this,function(Un){switch(Un.label){case 0:be=Je(W),Un.label=1;case 1:return Un.trys.push([1,3,,4]),[4,be.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Qn){return Ct.forEach(se,function(Gr){return Ct.forEach(Gr.Kr,function(Fr){return be.persistence.No.Da(Qn,Gr.targetId,Fr)}).next(function(){return Ct.forEach(Gr.Gr,function(Fr){return be.persistence.No.Na(Qn,Gr.targetId,Fr)})})})})];case 2:return Un.sent(),[3,4];case 3:if(!qo(Re=Un.sent()))throw Re;return Ce("LocalStore","Failed to update sequence numbers: "+Re),[3,4];case 4:for(Oe=0,Ye=se;Oe<Ye.length;Oe++)ht=(st=Ye[Oe]).targetId,st.fromCache||(Zt=be.bc.get(ht),yn=Zt.rt(Zt.nt),be.bc=be.bc.ot(ht,yn));return[2]}})})}(p.ju,D)];case 2:L.sent(),L.label=3;case 3:return[2]}})})}function as(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p;return I.__generator(this,function(y){switch(y.label){case 0:return(a=Je(c)).currentUser.isEqual(i)?[3,3]:(Ce("SyncEngine","User change. New user:",i.ti()),[4,function(D,A){return I.__awaiter(this,void 0,void 0,function(){var L,W,se,be;return I.__generator(this,function(Re){switch(Re.label){case 0:return L=Je(D),W=L.Sr,se=L.Cc,[4,L.persistence.runTransaction("Handle user change","readonly",function(Oe){var Ye;return L.Sr.Uo(Oe).next(function(st){return Ye=st,W=L.persistence.mc(A),se=new M(L.Dc,W,L.persistence.Ic()),W.Uo(Oe)}).next(function(st){for(var ht=[],Zt=[],Wt=kn(),yn=0,Un=Ye;yn<Un.length;yn++){var Qn=Un[yn];ht.push(Qn.batchId);for(var Gr=0,Fr=Qn.mutations;Gr<Fr.length;Gr++)Wt=Wt.add(Fr[Gr].key)}for(var ca=0,Ru=st;ca<Ru.length;ca++){var Yc=Ru[ca];Zt.push(Yc.batchId);for(var ru=0,da=Yc.mutations;ru<da.length;ru++)Wt=Wt.add(da[ru].key)}return se.kr(Oe,Wt).next(function(Zc){return{jh:Zc,Kh:ht,Gh:Zt}})})})];case 1:return be=Re.sent(),[2,(L.Sr=W,L.Cc=se,L.Vc.Nc(L.Cc),be)]}})})}(a.ju,i)]);case 1:return p=y.sent(),a.currentUser=i,(D=a).Lh.forEach(function(L){L.forEach(function(W){W.reject(new oe(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),D.Lh.clear(),a.Sh.ji(i,p.Kh,p.Gh),[4,Cu(a,p.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var D})})}function Eu(c,i){var a=Je(c),p=a.kh.get(i);if(p&&p.Vh)return kn().add(p.key);var y=kn(),D=a.Fh.get(i);if(!D)return y;for(var A=0,L=D;A<L.length;A++){var se=a.Nh.get(L[A]);y=y.kt(se.view.dh)}return y}function xd(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p,y;return I.__generator(this,function(D){switch(D.label){case 0:return[4,Za((a=Je(c)).ju,i.query,!0)];case 1:return p=D.sent(),y=i.view.Ph(p),[2,(a.Uh&&ec(a,i.targetId,y.Rh),y)]}})})}function Xf(c,i,a,p){return I.__awaiter(this,void 0,void 0,function(){var y,D;return I.__generator(this,function(A){switch(A.label){case 0:return[4,(L=(y=Je(c)).ju,W=i,se=Je(L),be=Je(se.Sr),se.persistence.runTransaction("Lookup mutation documents","readonly",function(Re){return be.Lo(Re,W).next(function(Oe){return Oe?se.Cc.kr(Re,Oe):Ct.resolve(null)})}))];case 1:return null===(D=A.sent())?[3,6]:"pending"!==a?[3,3]:[4,vu(y.ph)];case 2:return A.sent(),[3,4];case 3:"acknowledged"===a||"rejected"===a?(Sa(y,i,p||null),aa(y,i),function(L,W){Je(Je(L).Sr).Ko(W)}(y.ju,i)):ot(),A.label=4;case 4:return[4,Cu(y,D)];case 5:return A.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+i),A.label=7;case 7:return[2]}var L,W,se,be})})}function eh(c,i){return I.__awaiter(this,void 0,void 0,function(){var a,p,y,D,A,W,se;return I.__generator(this,function(be){switch(be.label){case 0:return Bc(a=Je(c)),Uc(a),!0!==i||!0===a.qh?[3,3]:(p=a.Sh.Ci(),[4,Lc(a,p.A())]);case 1:return y=be.sent(),a.qh=!0,[4,Nd(a.ph,!0)];case 2:for(be.sent(),D=0,A=y;D<A.length;D++)wl(a.ph,A[D]);return[3,7];case 3:return!1!==i||!1===a.qh?[3,7]:(W=[],se=Promise.resolve(),a.Fh.forEach(function(Re,Oe){a.Sh.qi(Oe)?W.push(Oe):se=se.then(function(){return Jo(a,Oe),pu(a.ju,Oe,!0)}),sa(a.ph,Oe)}),[4,se]);case 4:return be.sent(),[4,Lc(a,W)];case 5:return be.sent(),(Oe=Je(a)).kh.forEach(function(Ye,st){sa(Oe.ph,st)}),Oe.Mh.Qc(),Oe.kh=new Map,Oe.$h=new Fn(Z.i),a.qh=!1,[4,Nd(a.ph,!1)];case 6:be.sent(),be.label=7;case 7:return[2]}var Oe})})}function Lc(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y,D,A,L,W,se,be,Re,Oe,st,ht,Zt;return I.__generator(this,function(Wt){switch(Wt.label){case 0:p=Je(c),y=[],D=[],A=0,L=i,Wt.label=1;case 1:return A<L.length?(se=void 0,(be=p.Fh.get(W=L[A]))&&0!==be.length?[4,Zu(p.ju,di(be[0]))]:[3,7]):[3,13];case 2:se=Wt.sent(),Re=0,Oe=be,Wt.label=3;case 3:return Re<Oe.length?(st=p.Nh.get(Oe[Re]),[4,xd(p,st)]):[3,6];case 4:(ht=Wt.sent()).snapshot&&D.push(ht.snapshot),Wt.label=5;case 5:return Re++,[3,3];case 6:return[3,11];case 7:return[4,ms(p.ju,W)];case 8:return Zt=Wt.sent(),[4,Zu(p.ju,Zt)];case 9:return se=Wt.sent(),[4,_s(p,Vc(Zt),W,!1)];case 10:Wt.sent(),Wt.label=11;case 11:y.push(se),Wt.label=12;case 12:return A++,[3,1];case 13:return[2,(p.Ch.yu(D),y)]}})})}function Vc(c){return fu(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function th(c){var i=Je(c);return Je(Je(i.ju).persistence).pi()}function Rd(c,i,a,p){return I.__awaiter(this,void 0,void 0,function(){var y,D,A;return I.__generator(this,function(L){switch(L.label){case 0:return(y=Je(c)).qh?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(i))return[3,8];switch(a){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yf(y.ju)];case 3:return D=L.sent(),A=Ir.Xt(i,"current"===a),[4,Cu(y,D,A)];case 4:return L.sent(),[3,8];case 5:return[4,pu(y.ju,i,!0)];case 6:return L.sent(),Jo(y,i,p),[3,8];case 7:ot(),L.label=8;case 8:return[2]}})})}function nh(c,i,a){return I.__awaiter(this,void 0,void 0,function(){var p,y,D,A,L,W,se,be,Re;return I.__generator(this,function(Ye){switch(Ye.label){case 0:if(!(p=Bc(c)).qh)return[3,10];y=0,D=i,Ye.label=1;case 1:return y<D.length?p.Fh.has(A=D[y])?(Ce("SyncEngine","Adding an already active target "+A),[3,5]):[4,ms(p.ju,A)]:[3,6];case 2:return L=Ye.sent(),[4,Zu(p.ju,L)];case 3:return W=Ye.sent(),[4,_s(p,Vc(L),W.targetId,!1)];case 4:Ye.sent(),wl(p.ph,W),Ye.label=5;case 5:return y++,[3,1];case 6:se=function(st){return I.__generator(this,function(ht){switch(ht.label){case 0:return p.Fh.has(st)?[4,pu(p.ju,st,!1).then(function(){sa(p.ph,st),Jo(p,st)}).catch(Ra)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},be=0,Re=a,Ye.label=7;case 7:return be<Re.length?[5,se(Re[be])]:[3,10];case 8:Ye.sent(),Ye.label=9;case 9:return be++,[3,7];case 10:return[2]}})})}function Bc(c){var i=Je(c);return i.ph.Gu.sh=Jl.bind(null,i),i.ph.Gu.qe=Eu.bind(null,i),i.ph.Gu.nh=Kl.bind(null,i),i.Ch.yu=Do.bind(null,i.bh),i.Ch.Wh=hi.bind(null,i.bh),i}function Uc(c){var i=Je(c);return i.ph.Gu.ih=Xl.bind(null,i),i.ph.Gu.rh=Ad.bind(null,i),i}var rh=function(){function c(){}return c.prototype.Nc=function(i){this.zh=i},c.prototype.Lr=function(i,a,p,y){var A,D=this;return 0===(A=a).filters.length&&null===A.limit&&null==A.startAt&&null==A.endAt&&(0===A.on.length||1===A.on.length&&A.on[0].field.p())||p.isEqual(Qt.min())?this.Hh(i,a):this.zh.kr(i,y).next(function(A){var L=D.Yh(a,A);return(_a(a)||Si(a))&&D.Eh(a.an,L,y,p)?D.Hh(i,a):(we()<=ee.LogLevel.DEBUG&&Ce("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),Es(a)),D.zh.Lr(i,a,p).next(function(W){return L.forEach(function(se){W=W.ot(se.key,se)}),W}))})},c.prototype.Yh=function(i,a){var p=new Zn(zs(i));return a.forEach(function(y,D){D instanceof Rt&&xo(i,D)&&(p=p.add(D))}),p},c.prototype.Eh=function(i,a,p,y){if(p.size!==a.size)return!0;var D="F"===i?a.last():a.first();return!!D&&(D.hasPendingWrites||D.version.L(y)>0)},c.prototype.Hh=function(i,a){return we()<=ee.LogLevel.DEBUG&&Ce("IndexFreeQueryEngine","Using full collection scan to execute query:",Es(a)),this.zh.Lr(i,a,Qt.min())},c}(),us=function(){function c(i,a){this.Dr=i,this.No=a,this.Sr=[],this.Jh=1,this.Xh=new Zn(Ni.kc)}return c.prototype.$o=function(i){return Ct.resolve(0===this.Sr.length)},c.prototype.ko=function(i,a,p,y){var D=this.Jh;this.Jh++;var A=new Qs(D,a,p,y);this.Sr.push(A);for(var L=0,W=y;L<W.length;L++){var se=W[L];this.Xh=this.Xh.add(new Ni(se.key,D)),this.Dr.Mo(i,se.key.path.h())}return Ct.resolve(A)},c.prototype.Oo=function(i,a){return Ct.resolve(this.Zh(a))},c.prototype.Bo=function(i,a){var y=this.tl(a+1),D=y<0?0:y;return Ct.resolve(this.Sr.length>D?this.Sr[D]:null)},c.prototype.qo=function(){return Ct.resolve(0===this.Sr.length?-1:this.Jh-1)},c.prototype.Uo=function(i){return Ct.resolve(this.Sr.slice())},c.prototype.Nr=function(i,a){var p=this,y=new Ni(a,0),D=new Ni(a,Number.POSITIVE_INFINITY),A=[];return this.Xh.Ft([y,D],function(L){var W=p.Zh(L.jc);A.push(W)}),Ct.resolve(A)},c.prototype.Or=function(i,a){var p=this,y=new Zn(Ht);return a.forEach(function(D){var A=new Ni(D,0),L=new Ni(D,Number.POSITIVE_INFINITY);p.Xh.Ft([A,L],function(W){y=y.add(W.jc)})}),Ct.resolve(this.el(y))},c.prototype.Wr=function(i,a){var p=a.path,y=p.length+1,D=p;Z.F(D)||(D=D.child(""));var A=new Ni(new Z(D),0),L=new Zn(Ht);return this.Xh.xt(function(W){var se=W.key.path;return!!p.T(se)&&(se.length===y&&(L=L.add(W.jc)),!0)},A),Ct.resolve(this.el(L))},c.prototype.el=function(i){var a=this,p=[];return i.forEach(function(y){var D=a.Zh(y);null!==D&&p.push(D)}),p},c.prototype.Wo=function(i,a){var p=this;Ke(0===this.nl(a.batchId,"removed")),this.Sr.shift();var y=this.Xh;return Ct.forEach(a.mutations,function(D){var A=new Ni(D.key,a.batchId);return y=y.delete(A),p.No.Go(i,D.key)}).next(function(){p.Xh=y})},c.prototype.Ko=function(i){},c.prototype.Ho=function(i,a){var p=new Ni(a,0),y=this.Xh.$t(p);return Ct.resolve(a.isEqual(y&&y.key))},c.prototype.zo=function(i){return Ct.resolve()},c.prototype.nl=function(i,a){return this.tl(i)},c.prototype.tl=function(i){return 0===this.Sr.length?0:i-this.Sr[0].batchId},c.prototype.Zh=function(i){var a=this.tl(i);return a<0||a>=this.Sr.length?null:this.Sr[a]},c}(),Ka=function(){function c(i,a){this.Dr=i,this.sl=a,this.docs=new Fn(Z.i),this.size=0}return c.prototype.Er=function(i,a,p){var y=a.key,D=this.docs.get(y),A=D?D.size:0,L=this.sl(a);return this.docs=this.docs.ot(y,{ta:a,size:L,readTime:p}),this.size+=L-A,this.Dr.Mo(i,y.path.h())},c.prototype.Ar=function(i){var a=this.docs.get(i);a&&(this.docs=this.docs.remove(i),this.size-=a.size)},c.prototype.Rr=function(i,a){var p=this.docs.get(a);return Ct.resolve(p?p.ta:null)},c.prototype.getEntries=function(i,a){var p=this,y=qi();return a.forEach(function(D){var A=p.docs.get(D);y=y.ot(D,A?A.ta:null)}),Ct.resolve(y)},c.prototype.Lr=function(i,a,p){for(var y=Sr(),D=new Z(a.path.child("")),A=this.docs.ft(D);A.At();){var L=A.It(),se=L.value,be=se.ta,Re=se.readTime;if(!a.path.T(L.key.path))break;Re.L(p)<=0||be instanceof Rt&&xo(a,be)&&(y=y.ot(be.key,be))}return Ct.resolve(y)},c.prototype.il=function(i,a){return Ct.forEach(this.docs,function(p){return a(p)})},c.prototype.ra=function(i){return new Xu(this)},c.prototype.aa=function(i){return Ct.resolve(this.size)},c}(),Xu=function(c){function i(a){var p=this;return(p=c.call(this)||this).ca=a,p}return I.__extends(i,c),i.prototype.yr=function(a){var p=this,y=[];return this.wr.forEach(function(D,A){A?y.push(p.ca.Er(a,A,p.readTime)):p.ca.Ar(D)}),Ct.$n(y)},i.prototype.gr=function(a,p){return this.ca.Rr(a,p)},i.prototype.Pr=function(a,p){return this.ca.getEntries(a,p)},i}(h),tc=function(){function c(i){this.persistence=i,this.rl=new Zr(function(a){return Ze(a)},Tt),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.ol=0,this.al=new mu,this.targetCount=0,this.cl=Ea.fa()}return c.prototype.Ce=function(i,a){return this.rl.forEach(function(p,y){return a(y)}),Ct.resolve()},c.prototype.Ea=function(i){return Ct.resolve(this.lastRemoteSnapshotVersion)},c.prototype.Ia=function(i){return Ct.resolve(this.ol)},c.prototype.wa=function(i){return this.highestTargetId=this.cl.next(),Ct.resolve(this.highestTargetId)},c.prototype.Aa=function(i,a,p){return p&&(this.lastRemoteSnapshotVersion=p),a>this.ol&&(this.ol=a),Ct.resolve()},c.prototype.ga=function(i){this.rl.set(i.target,i);var a=i.targetId;a>this.highestTargetId&&(this.cl=new Ea(a),this.highestTargetId=a),i.sequenceNumber>this.ol&&(this.ol=i.sequenceNumber)},c.prototype.Ra=function(i,a){return this.ga(a),this.targetCount+=1,Ct.resolve()},c.prototype.ya=function(i,a){return this.ga(a),Ct.resolve()},c.prototype.Va=function(i,a){return this.rl.delete(a.target),this.al.Uc(a.targetId),this.targetCount-=1,Ct.resolve()},c.prototype.po=function(i,a,p){var y=this,D=0,A=[];return this.rl.forEach(function(L,W){W.sequenceNumber<=a&&null===p.get(W.targetId)&&(y.rl.delete(L),A.push(y.pa(i,W.targetId)),D++)}),Ct.$n(A).next(function(){return D})},c.prototype.ba=function(i){return Ct.resolve(this.targetCount)},c.prototype.va=function(i,a){var p=this.rl.get(a)||null;return Ct.resolve(p)},c.prototype.Sa=function(i,a,p){return this.al.Lc(a,p),Ct.resolve()},c.prototype.Ca=function(i,a,p){this.al.qc(a,p);var y=this.persistence.No,D=[];return y&&a.forEach(function(A){D.push(y.Go(i,A))}),Ct.$n(D)},c.prototype.pa=function(i,a){return this.al.Uc(a),Ct.resolve()},c.prototype.Fa=function(i,a){var p=this.al.Wc(a);return Ct.resolve(p)},c.prototype.Ho=function(i,a){return Ct.resolve(this.al.Ho(a))},c}(),ko=function(){function c(i){var a=this;this.ul={},this.Ma=new hn(0),this.Oa=!1,this.Oa=!0,this.No=i(this),this.Ka=new tc(this),this.Dr=new Gf,this.vr=new Ka(this.Dr,function(D){return a.No.hl(D)})}return c.prototype.start=function(){return Promise.resolve()},c.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(c.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),c.prototype.Za=function(){},c.prototype.tc=function(){},c.prototype.Ic=function(){return this.Dr},c.prototype.mc=function(i){var a=this.ul[i.ti()];return a||(a=new us(this.Dr,this.No),this.ul[i.ti()]=a),a},c.prototype.Tc=function(){return this.Ka},c.prototype.Ec=function(){return this.vr},c.prototype.runTransaction=function(i,a,p){var y=this;Ce("MemoryPersistence","Starting transaction:",i);var D=new el(this.Ma.next());return this.No.ll(),p(D).next(function(A){return y.No._l(D).next(function(){return A})}).Fn().then(function(A){return D.br(),A})},c.prototype.fl=function(i,a){return Ct.kn(Object.values(this.ul).map(function(p){return function(){return p.Ho(i,a)}}))},c}(),el=function(c){function i(a){var p=this;return(p=c.call(this)||this).xa=a,p}return I.__extends(i,c),i}(w),Du=function(){function c(i){this.persistence=i,this.dl=new mu,this.wl=null}return c.ml=function(i){return new c(i)},Object.defineProperty(c.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw ot()},enumerable:!1,configurable:!0}),c.prototype.Da=function(i,a,p){return this.dl.Da(p,a),this.Tl.delete(p.toString()),Ct.resolve()},c.prototype.Na=function(i,a,p){return this.dl.Na(p,a),this.Tl.add(p.toString()),Ct.resolve()},c.prototype.Go=function(i,a){return this.Tl.add(a.toString()),Ct.resolve()},c.prototype.removeTarget=function(i,a){var p=this;this.dl.Uc(a.targetId).forEach(function(D){return p.Tl.add(D.toString())});var y=this.persistence.Tc();return y.Fa(i,a.targetId).next(function(D){D.forEach(function(A){return p.Tl.add(A.toString())})}).next(function(){return y.Va(i,a)})},c.prototype.ll=function(){this.wl=new Set},c.prototype._l=function(i){var a=this,p=this.persistence.Ec().ra();return Ct.forEach(this.Tl,function(y){var D=Z.D(y);return a.El(i,D).next(function(A){A||p.Ar(D)})}).next(function(){return a.wl=null,p.apply(i)})},c.prototype.yc=function(i,a){var p=this;return this.El(i,a).next(function(y){y?p.Tl.delete(a.toString()):p.Tl.add(a.toString())})},c.prototype.hl=function(i){return 0},c.prototype.El=function(i,a){var p=this;return Ct.kn([function(){return Ct.resolve(p.dl.Ho(a))},function(){return p.persistence.Tc().Ho(i,a)},function(){return p.persistence.fl(i,a)}])},c}(),nc=function(){function c(i){this.Il=i.Il,this.Al=i.Al}return c.prototype.gu=function(i){this.Rl=i},c.prototype.Tu=function(i){this.gl=i},c.prototype.onMessage=function(i){this.Pl=i},c.prototype.close=function(){this.Al()},c.prototype.send=function(i){this.Il(i)},c.prototype.yl=function(){this.Rl()},c.prototype.Vl=function(i){this.gl(i)},c.prototype.pl=function(i){this.Pl(i)},c}(),rc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ih=function(c){function i(a){var p=this;return(p=c.call(this,a)||this).forceLongPolling=a.forceLongPolling,p.W=a.W,p}return I.__extends(i,c),i.prototype.Nl=function(a,p,y,D){return new Promise(function(A,L){var W=new xe.XhrIo;W.listenOnce(xe.EventType.COMPLETE,function(){try{switch(W.getLastErrorCode()){case xe.ErrorCode.NO_ERROR:var be=W.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(be)),A(be);break;case xe.ErrorCode.TIMEOUT:Ce("Connection",'RPC "'+a+'" timed out'),L(new oe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case xe.ErrorCode.HTTP_ERROR:var Re=W.getStatus();if(Ce("Connection",'RPC "'+a+'" failed with status:',Re,"response text:",W.getResponseText()),Re>0){var Oe=W.getResponseJson().error;if(Oe&&Oe.status&&Oe.message){var Ye=(ht=Oe.status.toLowerCase().replace("_","-"),Object.values(ue).indexOf(ht)>=0?ht:ue.UNKNOWN);L(new oe(Ye,Oe.message))}else L(new oe(ue.UNKNOWN,"Server responded with status "+W.getStatus()))}else L(new oe(ue.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Ce("Connection",'RPC "'+a+'" completed.')}var ht});var se=JSON.stringify(D);W.send(p,"POST",se,y,15)})},i.prototype.Pu=function(a,p){var y=[this.vl,"/","google.firestore.v1.Firestore","/",a,"/channel"],D=xe.createWebChannelTransport(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(A.initMessageHeaders,p),Qe.isMobileCordova()||Qe.isReactNative()||Qe.isElectron()||Qe.isIE()||Qe.isUWP()||Qe.isBrowserExtension()||(A.httpHeadersOverwriteParam="$httpHeaders");var L=y.join("");Ce("Connection","Creating WebChannel: "+L,A);var W=D.createWebChannel(L,A),se=!1,be=!1,Re=new nc({Il:function(Ye){be?Ce("Connection","Not sending because WebChannel is closed:",Ye):(se||(Ce("Connection","Opening WebChannel transport."),W.open(),se=!0),Ce("Connection","WebChannel sending:",Ye),W.send(Ye))},Al:function(){return W.close()}}),Oe=function(Ye,st){W.listen(Ye,function(ht){try{st(ht)}catch(Zt){setTimeout(function(){throw Zt},0)}})};return Oe(xe.WebChannel.EventType.OPEN,function(){be||Ce("Connection","WebChannel transport opened.")}),Oe(xe.WebChannel.EventType.CLOSE,function(){be||(be=!0,Ce("Connection","WebChannel transport closed"),Re.Vl())}),Oe(xe.WebChannel.EventType.ERROR,function(Ye){be||(be=!0,_t("Connection","WebChannel transport errored:",Ye),Re.Vl(new oe(ue.UNAVAILABLE,"The operation could not be completed")))}),Oe(xe.WebChannel.EventType.MESSAGE,function(Ye){var st;if(!be){var ht=Ye.data[0];Ke(!!ht);var Wt=ht.error||(null===(st=ht[0])||void 0===st?void 0:st.error);if(Wt){Ce("Connection","WebChannel received error:",Wt);var yn=Wt.status,Un=function(Gr){var Fr=Jt[Gr];if(void 0!==Fr)return br(Fr)}(yn),Qn=Wt.message;void 0===Un&&(Un=ue.INTERNAL,Qn="Unknown error status: "+yn+" with message "+Wt.message),be=!0,Re.Vl(new oe(Un,Qn)),W.close()}else Ce("Connection","WebChannel received:",ht),Re.pl(ht)}}),setTimeout(function(){Re.yl()},0),Re},i}(function(){function c(i){this.bl=i,this.U=i.U,this.vl=(i.ssl?"https":"http")+"://"+i.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return c.prototype.$u=function(i,a,p,y){var D=this.Dl(i,a);Ce("RestConnection","Sending: ",D,p);var A={};return this.Cl(A,y),this.Nl(i,D,A,p).then(function(L){return Ce("RestConnection","Received: ",L),L},function(L){throw _t("RestConnection",i+" failed with error: ",L,"url: ",D,"request:",p),L})},c.prototype.ku=function(i,a,p,y){return this.$u(i,a,p,y)},c.prototype.Cl=function(i,a){if(i["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",i["Content-Type"]="text/plain",a)for(var p in a.Kc)a.Kc.hasOwnProperty(p)&&(i[p]=a.Kc[p])},c.prototype.Dl=function(i,a){return this.vl+"/v1/"+a+":"+rc[i]},c}()),Od=function(){function c(){var i=this;this.Fl=function(){return i.xl()},this.$l=function(){return i.kl()},this.Ml=[],this.Ol()}return c.prototype.Zu=function(i){this.Ml.push(i)},c.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},c.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},c.prototype.xl=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var i=0,a=this.Ml;i<a.length;i++)(0,a[i])(0)},c.prototype.kl=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var i=0,a=this.Ml;i<a.length;i++)(0,a[i])(1)},c.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),oh=function(){function c(){}return c.prototype.Zu=function(i){},c.prototype.Di=function(){},c}();function Pa(c){return new Ar(c,!0)}var ua="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Tu=function(){function c(){}return c.prototype.initialize=function(i){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(a){switch(a.label){case 0:return this.Sh=this.Ll(i),this.persistence=this.Bl(i),[4,this.persistence.start()];case 1:return a.sent(),this.ql=this.Ul(i),this.ju=this.Ql(i),[2]}})})},c.prototype.Ul=function(i){return null},c.prototype.Ql=function(i){return a=this.persistence,p=new rh,new As(a,p,i.Wl);var a,p},c.prototype.Bl=function(i){if(i.persistenceSettings.jl)throw new oe(ue.FAILED_PRECONDITION,ua);return new ko(Du.ml)},c.prototype.Ll=function(i){return new ia},c.prototype.terminate=function(){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(i){switch(i.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return i.sent(),[4,this.persistence.Di()];case 2:return i.sent(),[2]}})})},c.prototype.clearPersistence=function(i,a){throw new oe(ue.FAILED_PRECONDITION,ua)},c}(),Su=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.initialize=function(a){return I.__awaiter(this,void 0,void 0,function(){var p,y=this;return I.__generator(this,function(D){switch(D.label){case 0:return[4,c.prototype.initialize.call(this,a)];case 1:return D.sent(),p=this.Kl.fi,this.Sh instanceof ra?(this.Sh.fi={er:Xf.bind(null,p),nr:Rd.bind(null,p),sr:nh.bind(null,p),pi:th.bind(null,p)},[4,this.Sh.start()]):[3,3];case 2:D.sent(),D.label=3;case 3:return[4,this.persistence.Xa(function(A){return I.__awaiter(y,void 0,void 0,function(){return I.__generator(this,function(L){switch(L.label){case 0:return[4,eh(this.Kl.fi,A)];case 1:return L.sent(),this.ql&&(A&&!this.ql.Ei?this.ql.start(this.ju):A||this.ql.stop()),[2]}})})})];case 4:return D.sent(),[2]}})})},i.prototype.Ll=function(a){if(a.persistenceSettings.jl&&a.persistenceSettings.synchronizeTabs){var p=k();if(!ra.Ln(p))throw new oe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=_l(a.bl.U,a.bl.persistenceKey);return new ra(p,a.cs,y,a.clientId,a.Wl)}return new ia},i}(function(c){function i(a){var p=this;return(p=c.call(this)||this).Kl=a,p}return I.__extends(i,c),i.prototype.initialize=function(a){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(p){switch(p.label){case 0:return[4,c.prototype.initialize.call(this,a)];case 1:return p.sent(),[4,gu(this.ju)];case 2:return p.sent(),[4,this.Kl.initialize(this,a)];case 3:return p.sent(),[4,Uc(this.Kl.fi)];case 4:return p.sent(),[4,vu(this.Kl.ph)];case 5:return p.sent(),[2]}})})},i.prototype.Ul=function(a){return new We(this.persistence.No.wo,a.cs)},i.prototype.Bl=function(a){var p=_l(a.bl.U,a.bl.persistenceKey),y=Pa(a.bl.U);return new Bs(a.persistenceSettings.synchronizeTabs,p,a.clientId,_e.ao(a.persistenceSettings.cacheSizeBytes),a.cs,k(),Y(),y,this.Sh,a.persistenceSettings.ka)},i.prototype.Ll=function(a){return new ia},i.prototype.clearPersistence=function(a,p){return function(y){return I.__awaiter(this,void 0,void 0,function(){return I.__generator(this,function(A){switch(A.label){case 0:return pr.Ln()?[4,pr.delete(y+"main")]:[2,Promise.resolve()];case 1:return A.sent(),[2]}})})}(_l(a,p))},i}(Tu)),Xa=function(){function c(){}return c.prototype.initialize=function(i,a){return I.__awaiter(this,void 0,void 0,function(){var p=this;return I.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=i.ju,this.Sh=i.Sh,this.Ku=this.Gl(a),this.ph=this.zl(a),this.bh=this.Hl(a),this.fi=this.Yl(a),this.Sh.di=function(D){return bu(p.fi,D,1)},this.ph.Gu.Jl=as.bind(null,this.fi),[4,Nd(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},c.prototype.Hl=function(i){return new xn},c.prototype.Gl=function(i){var p=Pa(i.bl.U),y=new ih(i.bl);return new Oc(i.credentials,y,p)},c.prototype.zl=function(i){var a,p,y,D,A,L=this;return a=this.ju,p=this.Ku,y=i.cs,D=function(W){return bu(L.fi,W,0)},A=Od.Ln()?new Od:new oh,new Qa(a,p,y,D,A)},c.prototype.Yl=function(i){return W=!i.persistenceSettings.jl||!i.persistenceSettings.synchronizeTabs,se=new Fc(this.ju,this.ph,this.bh,this.Sh,i.Wl,i.Dh),W&&(se.qh=!0),se;var W,se},c.prototype.terminate=function(){return ql(this.ph)},c}(),Dl=function(){function c(i){this.observer=i,this.muted=!1}return c.prototype.next=function(i){this.observer.next&&this.Xl(this.observer.next,i)},c.prototype.error=function(i){this.observer.error?this.Xl(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)},c.prototype.Zl=function(){this.muted=!0},c.prototype.Xl=function(i,a){var p=this;this.muted||setTimeout(function(){p.muted||i(a)},0)},c}(),ic=function(c){!function(a,p,y,D){if(!(p instanceof Array)||p.length<1)throw new oe(ue.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+li(1,"element")+".")}(0,c);for(var i=0;i<c.length;++i)if(Le("FieldPath","string",i,c[i]),0===c[i].length)throw new oe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new te(c)},Iu=function(c){function i(){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];return c.call(this,a)||this}return I.__extends(i,c),i.documentId=function(){return new i(te.v().R())},i.prototype.isEqual=function(a){if(!(a instanceof i))throw qn("isEqual","FieldPath",1,a);return this.t_.isEqual(a.t_)},i}(ic),sh=new RegExp("[~\\*/\\[\\]]"),Ia=function(c){this.e_=c},Na=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.n_=function(a){if(2!==a.s_)throw a.i_(1===a.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return a.We.push(a.path),null},i.prototype.isEqual=function(a){return a instanceof i},i}(Ia);function tl(c,i,a){return new Gc({s_:3,r_:i.settings.r_,methodName:c.e_,o_:a},i.U,i.serializer,i.ignoreUndefinedProperties)}var jc=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.n_=function(a){return new ae(a.path,new Oi)},i.prototype.isEqual=function(a){return a instanceof i},i}(Ia),oc=function(c){function i(a,p){var y=this;return(y=c.call(this,a)||this).a_=p,y}return I.__extends(i,c),i.prototype.n_=function(a){var p=tl(this,a,!0),y=this.a_.map(function(A){return Aa(A,p)}),D=new Pi(y);return new ae(a.path,D)},i.prototype.isEqual=function(a){return this===a},i}(Ia),Hc=function(c){function i(a,p){var y=this;return(y=c.call(this,a)||this).a_=p,y}return I.__extends(i,c),i.prototype.n_=function(a){var p=tl(this,a,!0),y=this.a_.map(function(A){return Aa(A,p)}),D=new Bi(y);return new ae(a.path,D)},i.prototype.isEqual=function(a){return this===a},i}(Ia),Ai=function(c){function i(a,p){var y=this;return(y=c.call(this,a)||this).c_=p,y}return I.__extends(i,c),i.prototype.n_=function(a){var p=new jr(a.serializer,Qr(a.serializer,this.c_));return new ae(a.path,p)},i.prototype.isEqual=function(a){return this===a},i}(Ia),eu=function(){function c(i,a){if(me("GeoPoint",arguments,2),Le("GeoPoint","number",1,i),Le("GeoPoint","number",2,a),!isFinite(i)||i<-90||i>90)throw new oe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(a)||a<-180||a>180)throw new oe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this.u_=i,this.h_=a}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(i){return this.u_===i.u_&&this.h_===i.h_},c.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},c.prototype.Y=function(i){return Ht(this.u_,i.u_)||Ht(this.h_,i.h_)},c}(),Nu=function(c){this.l_=c},Tl=/^__.*__$/,nl=function(c,i,a){this.__=c,this.f_=i,this.d_=a},Au=function(){function c(i,a,p){this.data=i,this.We=a,this.fieldTransforms=p}return c.prototype.w_=function(i,a){var p=[];return p.push(null!==this.We?new fn(i,this.data,this.We,a):new qt(i,this.data,a)),this.fieldTransforms.length>0&&p.push(new jn(i,this.fieldTransforms)),p},c}(),rl=function(){function c(i,a,p){this.data=i,this.We=a,this.fieldTransforms=p}return c.prototype.w_=function(i,a){var p=[new fn(i,this.data,this.We,a)];return this.fieldTransforms.length>0&&p.push(new jn(i,this.fieldTransforms)),p},c}();function tu(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}var Gc=function(){function c(i,a,p,y,D,A){this.settings=i,this.U=a,this.serializer=p,this.ignoreUndefinedProperties=y,void 0===D&&this.m_(),this.fieldTransforms=D||[],this.We=A||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),c.prototype.T_=function(i){return new c(Object.assign(Object.assign({},this.settings),i),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},c.prototype.E_=function(i){var a,p=null===(a=this.path)||void 0===a?void 0:a.child(i),y=this.T_({path:p,o_:!1});return y.I_(i),y},c.prototype.A_=function(i){var a,p=null===(a=this.path)||void 0===a?void 0:a.child(i),y=this.T_({path:p,o_:!1});return y.m_(),y},c.prototype.R_=function(i){return this.T_({path:void 0,o_:!0})},c.prototype.i_=function(i){return Wc(i,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},c.prototype.contains=function(i){return void 0!==this.We.find(function(a){return i.T(a)})||void 0!==this.fieldTransforms.find(function(a){return i.T(a.field)})},c.prototype.m_=function(){if(this.path)for(var i=0;i<this.path.length;i++)this.I_(this.path.get(i))},c.prototype.I_=function(i){if(0===i.length)throw this.i_("Document fields must not be empty");if(tu(this.s_)&&Tl.test(i))throw this.i_('Document fields cannot begin and end with "__"')},c}(),ah=function(){function c(i,a,p){this.U=i,this.ignoreUndefinedProperties=a,this.serializer=p||Pa(i)}return c.prototype.P_=function(i,a,p,y){return void 0===y&&(y=!1),new Gc({s_:i,methodName:a,r_:p,path:te.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},c}();function Pd(c,i,a,p,y,D){void 0===D&&(D={});var A=c.P_(D.merge||D.mergeFields?2:0,i,a,y);vr("Data must be an object, but it was:",A,p);var L,W,se=Fd(p,A);if(D.merge)L=new F(A.We),W=A.fieldTransforms;else if(D.mergeFields){for(var be=[],Re=0,Oe=D.mergeFields;Re<Oe.length;Re++){var Ye=Oe[Re],st=void 0;if(Ye instanceof ic)st=Ye.t_;else{if("string"!=typeof Ye)throw ot();st=Sl(i,Ye,a)}if(!A.contains(st))throw new oe(ue.INVALID_ARGUMENT,"Field '"+st+"' is specified in your field mask but missing from your input data.");kd(be,st)||be.push(st)}L=new F(be),W=A.fieldTransforms.filter(function(ht){return L.Ye(ht.field)})}else L=null,W=A.fieldTransforms;return new Au(new Xi(se),L,W)}function $c(c,i,a,p){var y=c.P_(1,i,a);vr("Data must be an object, but it was:",y,p);var D=[],A=new Kr;kt(p,function(W,se){var be=Sl(i,W,a),Re=y.A_(be);if(se instanceof Na||se instanceof Nu&&se.l_ instanceof Na)D.push(be);else{var Oe=Aa(se,Re);null!=Oe&&(D.push(be),A.set(be,Oe))}});var L=new F(D);return new rl(A.Xe(),L,y.fieldTransforms)}function Mu(c,i,a,p,y,D){var A=c.P_(1,i,a),L=[Fa(i,p,a)],W=[y];if(D.length%2!=0)throw new oe(ue.INVALID_ARGUMENT,"Function "+i+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var se=0;se<D.length;se+=2)L.push(Fa(i,D[se])),W.push(D[se+1]);for(var be=[],Re=new Kr,Oe=L.length-1;Oe>=0;--Oe)if(!kd(be,L[Oe])){var Ye=L[Oe],st=W[Oe],ht=A.A_(Ye);if(st instanceof Na||st instanceof Nu&&st.l_ instanceof Na)be.push(Ye);else{var Zt=Aa(st,ht);null!=Zt&&(be.push(Ye),Re.set(Ye,Zt))}}var Wt=new F(be);return new rl(Re.Xe(),Wt,A.fieldTransforms)}function Ko(c,i,a,p){return void 0===p&&(p=!1),Aa(a,c.P_(p?4:3,i))}function Aa(c,i){if(c instanceof Nu&&(c=c.l_),js(c))return vr("Unsupported field value:",i,c),Fd(c,i);if(c instanceof Ia)return function(a,p){if(!tu(p.s_))throw p.i_(a.e_+"() can only be used with update() and set()");if(!p.path)throw p.i_(a.e_+"() is not currently supported inside arrays");var y=a.n_(p);y&&p.fieldTransforms.push(y)}(c,i),null;if(i.path&&i.We.push(i.path),c instanceof Array){if(i.settings.o_&&4!==i.s_)throw i.i_("Nested arrays are not supported");return function(a,p){for(var y=[],D=0,A=0,L=a;A<L.length;A++){var W=Aa(L[A],p.R_(D));null==W&&(W={nullValue:"NULL_VALUE"}),y.push(W),D++}return{arrayValue:{values:y}}}(c,i)}return function(a,p){if(null===a)return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Qr(p.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){var y=At.fromDate(a);return{timestampValue:No(p.serializer,y)}}if(a instanceof At){var D=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:No(p.serializer,D)}}if(a instanceof eu)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof lr)return{bytesValue:vo(p.serializer,a.q)};if(a instanceof nl){var A=p.U,L=a.__;if(!L.isEqual(A))throw p.i_("Document reference is for database "+L.projectId+"/"+L.database+" but should be for database "+A.projectId+"/"+A.database);return{referenceValue:Jr(a.__||p.U,a.f_.path)}}if(void 0===a&&p.ignoreUndefinedProperties)return null;throw p.i_("Unsupported field value: "+An(a))}(c,i)}function Fd(c,i){var a={};return Pn(c)?i.path&&i.path.length>0&&i.We.push(i.path):kt(c,function(p,y){var D=Aa(y,i.E_(p));null!=D&&(a[p]=D)}),{mapValue:{fields:a}}}function js(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof At||c instanceof eu||c instanceof lr||c instanceof nl||c instanceof Ia)}function vr(c,i,a){if(!js(a)||!bn(a)){var p=An(a);throw i.i_("an object"===p?c+" a custom object":c+" "+p)}}function Fa(c,i,a){if(i instanceof ic)return i.t_;if("string"==typeof i)return Sl(c,i);throw Wc("Field path arguments must be of type string or FieldPath.",c,!1,void 0,a)}function Sl(c,i,a){try{return function(y){if(y.search(sh)>=0)throw new oe(ue.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Iu.bind.apply(Iu,I.__spreadArrays([void 0],y.split("."))))}catch(D){throw new oe(ue.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(i).t_}catch(y){throw Wc((p=y)instanceof Error?p.message:p.toString(),c,!1,void 0,a)}var p}function Wc(c,i,a,p,y){var D=p&&!p.m(),A=void 0!==y,L="Function "+i+"() called with invalid data";a&&(L+=" (via `toFirestore()`)");var W="";return(D||A)&&(W+=" (found",D&&(W+=" in field "+p),A&&(W+=" in document "+y),W+=")"),new oe(ue.INVALID_ARGUMENT,(L+=". ")+c+W)}function kd(c,i){return c.some(function(a){return a.isEqual(i)})}var Ld=function(){function c(i){this.Ku=i,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return c.prototype.v_=function(i){return I.__awaiter(this,void 0,void 0,function(){var a,p=this;return I.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new oe(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(D,A){return I.__awaiter(this,void 0,void 0,function(){var L,W,se,be,Re,Oe;return I.__generator(this,function(Ye){switch(Ye.label){case 0:return L=Je(D),W=xr(L.serializer)+"/documents",se={documents:A.map(function(st){return bi(L.serializer,st)})},[4,L.ku("BatchGetDocuments",W,se)];case 1:return be=Ye.sent(),Re=new Map,be.forEach(function(st){var Zt,Wt,ht=(Zt=L.serializer,"found"in(Wt=st)?function(yn,Un){Ke(!!Un.found);var Qn=si(yn,Un.found.name),Gr=Mr(Un.found.updateTime),Fr=new Xi({mapValue:{fields:Un.found.fields}});return new Rt(Qn,Gr,Fr,{})}(Zt,Wt):"missing"in Wt?function(yn,Un){Ke(!!Un.missing),Ke(!!Un.readTime);var Qn=si(yn,Un.missing),Gr=Mr(Un.readTime);return new ui(Qn,Gr)}(Zt,Wt):ot());Re.set(ht.key.toString(),ht)}),Oe=[],[2,(A.forEach(function(st){var ht=Re.get(st.toString());Ke(!!ht),Oe.push(ht)}),Oe)]}})})}(this.Ku,i)];case 1:return[2,((a=y.sent()).forEach(function(D){D instanceof ui||D instanceof Rt?p.D_(D):ot()}),a)]}})})},c.prototype.set=function(i,a){this.write(a.w_(i,this.Ge(i))),this.b_.add(i.toString())},c.prototype.update=function(i,a){try{this.write(a.w_(i,this.C_(i)))}catch(p){this.p_=p}this.b_.add(i.toString())},c.prototype.delete=function(i){this.write([new sr(i,this.Ge(i))]),this.b_.add(i.toString())},c.prototype.commit=function(){return I.__awaiter(this,void 0,void 0,function(){var i,a=this;return I.__generator(this,function(p){switch(p.label){case 0:if(this.S_(),this.p_)throw this.p_;return i=this.y_,this.mutations.forEach(function(y){i.delete(y.key.toString())}),i.forEach(function(y,D){var A=Z.D(D);a.mutations.push(new ai(A,a.Ge(A)))}),[4,function(y,D){return I.__awaiter(this,void 0,void 0,function(){var A,L,W;return I.__generator(this,function(se){switch(se.label){case 0:return A=Je(y),L=xr(A.serializer)+"/documents",W={writes:D.map(function(be){return bo(A.serializer,be)})},[4,A.$u("Commit",L,W)];case 1:return se.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return p.sent(),this.V_=!0,[2]}})})},c.prototype.D_=function(i){var a;if(i instanceof Rt)a=i.version;else{if(!(i instanceof ui))throw ot();a=Qt.min()}var p=this.y_.get(i.key.toString());if(p){if(!a.isEqual(p))throw new oe(ue.ABORTED,"Document version changed between two reads.")}else this.y_.set(i.key.toString(),a)},c.prototype.Ge=function(i){var a=this.y_.get(i.toString());return!this.b_.has(i.toString())&&a?xt.updateTime(a):xt.ze()},c.prototype.C_=function(i){var a=this.y_.get(i.toString());if(!this.b_.has(i.toString())&&a){if(a.isEqual(Qt.min()))throw new oe(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(a)}return xt.exists(!0)},c.prototype.write=function(i){this.S_(),this.mutations=this.mutations.concat(i)},c.prototype.S_=function(){},c}(),uh=function(){function c(i,a,p,y){this.cs=i,this.Ku=a,this.updateFunction=p,this.ls=y,this.N_=5,this.ys=new Or(this.cs,"transaction_retry")}return c.prototype.run=function(){this.F_()},c.prototype.F_=function(){var i=this;this.ys.gn(function(){return I.__awaiter(i,void 0,void 0,function(){var a,p,y=this;return I.__generator(this,function(D){return a=new Ld(this.Ku),(p=this.x_(a))&&p.then(function(A){y.cs.ws(function(){return a.commit().then(function(){y.ls.resolve(A)}).catch(function(L){y.k_(L)})})}).catch(function(A){y.k_(A)}),[2]})})})},c.prototype.x_=function(i){try{var a=this.updateFunction(i);return!mi(a)&&a.catch&&a.then?a:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(p){return this.ls.reject(p),null}},c.prototype.k_=function(i){var a=this;this.N_>0&&this.M_(i)?(this.N_-=1,this.cs.ws(function(){return a.F_(),Promise.resolve()})):this.ls.reject(i)},c.prototype.M_=function(i){if("FirebaseError"===i.name){var a=i.code;return"aborted"===a||"failed-precondition"===a||!on(a)}return!1},c}(),Vd=function(){function c(i,a){this.credentials=i,this.cs=a,this.clientId=Mn.k(),this.O_=new nr}return c.prototype.start=function(i,a,p,y){var D=this;this.L_(),this.bl=i;var A=new nr,L=!1;return this.credentials.Hc(function(W){if(!L)return L=!0,Ce("FirestoreClient","Initializing. user=",W.uid),D.B_(a,p,y,W,A).then(D.O_.resolve,D.O_.reject);D.cs.Cs(function(){return function(se,be){return I.__awaiter(this,void 0,void 0,function(){var Re,Oe;return I.__generator(this,function(Ye){switch(Ye.label){case 0:return(Re=Je(se)).cs.xs(),Ce("RemoteStore","RemoteStore received new credentials"),Oe=Ta(Re),Re.Yu.add(3),[4,Ei(Re)];case 1:return Ye.sent(),Oe&&Re.th.set("Unknown"),[4,Re.Gu.Jl(be)];case 2:return Ye.sent(),Re.Yu.delete(3),[4,Qu(Re)];case 3:return Ye.sent(),[2]}})})}(D.ph,W)})}),this.cs.ws(function(){return D.O_.promise}),A.promise},c.prototype.enableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!0),(p=Je(i.ph)).Yu.delete(0),Qu(p);var p})},c.prototype.B_=function(i,a,p,y,D){return I.__awaiter(this,void 0,void 0,function(){var A,L,W=this;return I.__generator(this,function(se){switch(se.label){case 0:return se.trys.push([0,3,,4]),[4,i.initialize(A={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:p})];case 1:return se.sent(),[4,a.initialize(i,A)];case 2:return se.sent(),this.persistence=i.persistence,this.Sh=i.Sh,this.ju=i.ju,this.ql=i.ql,this.Ku=a.Ku,this.ph=a.ph,this.fi=a.fi,this.q_=a.bh,this.q_.Us=Ql.bind(null,this.fi),this.q_.js=Ku.bind(null,this.fi),this.persistence.Za(function(){return I.__awaiter(W,void 0,void 0,function(){return I.__generator(this,function(be){switch(be.label){case 0:return[4,this.terminate()];case 1:return be.sent(),[2]}})})}),D.resolve(),[3,4];case 3:if(L=se.sent(),D.reject(L),!this.U_(L))throw L;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+L),this.B_(new Tu,new Xa,{jl:!1},y,D))];case 4:return[2]}})})},c.prototype.U_=function(i){return"FirebaseError"===i.name?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code},c.prototype.L_=function(){if(this.cs.ps)throw new oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.disableNetwork=function(){var i=this;return this.L_(),this.cs.enqueue(function(){return i.persistence.tc(!1),function(a){return I.__awaiter(this,void 0,void 0,function(){var p;return I.__generator(this,function(y){switch(y.label){case 0:return(p=Je(a)).Yu.add(0),[4,Ei(p)];case 1:return y.sent(),p.th.set("Offline"),[2]}})})}(i.ph)})},c.prototype.terminate=function(){var i=this;this.cs.Ds();var a=new nr;return this.cs.bs(function(){return I.__awaiter(i,void 0,void 0,function(){var p,y;return I.__generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,ql(this.ph)];case 1:return D.sent(),[4,this.Sh.Di()];case 2:return D.sent(),[4,this.persistence.Di()];case 3:return D.sent(),this.credentials.Yc(),a.resolve(),[3,5];case 4:return p=D.sent(),y=Xe(p,"Failed to shutdown persistence"),a.reject(y),[3,5];case 5:return[2]}})})}),a.promise},c.prototype.waitForPendingWrites=function(){var i=this;this.L_();var a=new nr;return this.cs.ws(function(){return function(p,y){return I.__awaiter(this,void 0,void 0,function(){var D,A,L,W,se;return I.__generator(this,function(be){switch(be.label){case 0:Ta((D=Je(p)).ph)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),be.label=1;case 1:return be.trys.push([1,3,,4]),[4,(Re=D.ju,Oe=Je(Re),Oe.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Ye){return Oe.Sr.qo(Ye)}))];case 2:return-1===(A=be.sent())?[2,void y.resolve()]:((L=D.Lh.get(A)||[]).push(y),D.Lh.set(A,L),[3,4]);case 3:return W=be.sent(),se=Xe(W,"Initialization of waitForPendingWrites() operation failed"),y.reject(se),[3,4];case 4:return[2]}var Re,Oe})})}(i.fi,a)}),a.promise},c.prototype.listen=function(i,a,p){var y=this;this.L_();var D=new Dl(p),A=new Ls(i,D,a);return this.cs.ws(function(){return Nn(y.q_,A)}),function(){D.Zl(),y.cs.ws(function(){return Pr(y.q_,A)})}},c.prototype.Q_=function(i){return I.__awaiter(this,void 0,void 0,function(){var a,p=this;return I.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),a=new nr,[2,(this.cs.ws(function(){return function(D,A,L){return I.__awaiter(this,void 0,void 0,function(){var W,se,be;return I.__generator(this,function(Re){switch(Re.label){case 0:return Re.trys.push([0,2,,3]),[4,(Oe=D,Ye=A,st=Je(Oe),st.persistence.runTransaction("read document","readonly",function(ht){return st.Cc.Cr(ht,Ye)}))];case 1:return(W=Re.sent())instanceof Rt?L.resolve(W):W instanceof ui?L.resolve(null):L.reject(new oe(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return se=Re.sent(),be=Xe(se,"Failed to get document '"+A+" from cache"),L.reject(be),[3,3];case 3:return[2]}var Oe,Ye,st})})}(p.ju,i,a)}),a.promise)]}})})},c.prototype.W_=function(i,a){return void 0===a&&(a={}),I.__awaiter(this,void 0,void 0,function(){var p,y=this;return I.__generator(this,function(D){switch(D.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return D.sent(),p=new nr,[2,(this.cs.ws(function(){return A=y.q_,L=y.cs,W=i,se=a,be=p,Re=new Dl({next:function(Ye){L.ws(function(){return Pr(A,Oe)});var st=Ye.docs.has(W);!st&&Ye.fromCache?be.reject(new oe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):st&&Ye.fromCache&&se&&"server"===se.source?be.reject(new oe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):be.resolve(Ye)},error:function(Ye){return be.reject(Ye)}}),Oe=new Ls($o(W.path),Re,{includeMetadataChanges:!0,Xs:!0}),Nn(A,Oe);var A,L,W,se,be,Re,Oe}),p.promise)]}})})},c.prototype.j_=function(i){return I.__awaiter(this,void 0,void 0,function(){var a,p=this;return I.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),a=new nr,[2,(this.cs.ws(function(){return function(D,A,L){return I.__awaiter(this,void 0,void 0,function(){var W,se,be,Re,Oe,Ye;return I.__generator(this,function(st){switch(st.label){case 0:return st.trys.push([0,2,,3]),[4,Za(D,A,!0)];case 1:return W=st.sent(),se=new Kf(A,W.Fc),be=se.wh(W.documents),Re=se.yr(be,!1),L.resolve(Re.snapshot),[3,3];case 2:return Oe=st.sent(),Ye=Xe(Oe,"Failed to execute query '"+A+" against cache"),L.reject(Ye),[3,3];case 3:return[2]}})})}(p.ju,i,a)}),a.promise)]}})})},c.prototype.K_=function(i,a){return void 0===a&&(a={}),I.__awaiter(this,void 0,void 0,function(){var p,y=this;return I.__generator(this,function(D){switch(D.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return D.sent(),p=new nr,[2,(this.cs.ws(function(){return A=y.q_,L=y.cs,W=i,se=a,be=p,Re=new Dl({next:function(Ye){L.ws(function(){return Pr(A,Oe)}),Ye.fromCache&&"server"===se.source?be.reject(new oe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):be.resolve(Ye)},error:function(Ye){return be.reject(Ye)}}),Oe=new Ls(W,Re,{includeMetadataChanges:!0,Xs:!0}),Nn(A,Oe);var A,L,W,se,be,Re,Oe}),p.promise)]}})})},c.prototype.write=function(i){var a=this;this.L_();var p=new nr;return this.cs.ws(function(){return function(y,D,A){return I.__awaiter(this,void 0,void 0,function(){var L,W,se,be;return I.__generator(this,function(Re){switch(Re.label){case 0:L=Uc(y),Re.label=1;case 1:return Re.trys.push([1,5,,6]),[4,(Oe=L.ju,Ye=D,ht=Je(Oe),Zt=At.now(),Wt=Ye.reduce(function(yn,Un){return yn.add(Un.key)},kn()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(yn){return ht.Cc.kr(yn,Wt).next(function(Un){st=Un;for(var Qn=[],Gr=0,Fr=Ye;Gr<Fr.length;Gr++){var la=Fr[Gr],ca=Se(la,st.get(la.key));null!=ca&&Qn.push(new fn(la.key,ca,Fs(ca.proto.mapValue),xt.exists(!0)))}return ht.Sr.ko(yn,Zt,Qn,Ye)})}).then(function(yn){var Un=yn.lr(st);return{batchId:yn.batchId,wr:Un}}))];case 2:return W=Re.sent(),L.Sh.xi(W.batchId),function(Oe,Ye,st){var ht=Oe.Oh[Oe.currentUser.ti()];ht||(ht=new Fn(Ht)),ht=ht.ot(Ye,st),Oe.Oh[Oe.currentUser.ti()]=ht}(L,W.batchId,A),[4,Cu(L,W.wr)];case 3:return Re.sent(),[4,vu(L.ph)];case 4:return Re.sent(),[3,6];case 5:return se=Re.sent(),be=Xe(se,"Failed to persist write"),A.reject(be),[3,6];case 6:return[2]}var Oe,Ye,st,ht,Zt,Wt})})}(a.fi,i,p)}),p.promise},c.prototype.U=function(){return this.bl.U},c.prototype.G_=function(i){var a=this;this.L_();var p=new Dl(i);return this.cs.ws(function(){return I.__awaiter(a,void 0,void 0,function(){return I.__generator(this,function(y){return[2,(D=this.q_,A=p,Je(D).qs.add(A),void A.next())];var D,A})})}),function(){p.Zl(),a.cs.ws(function(){return I.__awaiter(a,void 0,void 0,function(){return I.__generator(this,function(y){return[2,(D=this.q_,A=p,void Je(D).qs.delete(A))];var D,A})})})}},Object.defineProperty(c.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),c.prototype.transaction=function(i){var a=this;this.L_();var p=new nr;return this.cs.ws(function(){return new uh(a.cs,a.Ku,i,p).run(),Promise.resolve()}),p.promise},c}();function il(c){return function(i,a){if("object"!=typeof i||null===i)return!1;for(var p=i,y=0,D=["next","error","complete"];y<D.length;y++){var A=D[y];if(A in p&&"function"==typeof p[A])return!0}return!1}(c)}var Bd=function(){function c(i,a,p,y,D){this.U=i,this.timestampsInSnapshots=a,this.H_=p,this.Y_=y,this.J_=D}return c.prototype.X_=function(i){switch($r(i)){case 0:return null;case 1:return i.booleanValue;case 2:return wn(i.integerValue||i.doubleValue);case 3:return this.Z_(i.timestampValue);case 4:return this.tf(i);case 5:return i.stringValue;case 6:return this.J_(ir(i.bytesValue));case 7:return this.ef(i.referenceValue);case 8:return this.nf(i.geoPointValue);case 9:return this.sf(i.arrayValue);case 10:return this.if(i.mapValue);default:throw ot()}},c.prototype.if=function(i){var a=this,p={};return kt(i.fields||{},function(y,D){p[y]=a.X_(D)}),p},c.prototype.nf=function(i){return new eu(wn(i.latitude),wn(i.longitude))},c.prototype.sf=function(i){var a=this;return(i.values||[]).map(function(p){return a.X_(p)})},c.prototype.tf=function(i){switch(this.H_){case"previous":var a=ii(i);return null==a?null:this.X_(a);case"estimate":return this.Z_(wr(i));default:return null}},c.prototype.Z_=function(i){var a=Kt(i),p=new At(a.seconds,a.nanos);return this.timestampsInSnapshots?p:p.toDate()},c.prototype.ef=function(i){var a=Lt.g(i);Ke(uo(a));var p=new mo(a.get(1),a.get(3)),y=new Z(a.u(5));return p.isEqual(this.U)||it("Document "+y+" contains a document reference within a different database ("+p.projectId+"/"+p.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},c}(),ka=_e.ho,sc=function(){function c(i){var a,p,y,D,A;if(void 0===i.host){if(void 0!==i.ssl)throw new oe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Pe("settings","non-empty string","host",i.host),this.host=i.host,pt("settings","boolean","ssl",i.ssl),this.ssl=null===(a=i.ssl)||void 0===a||a;if(pn("settings",i,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),pt("settings","object","credentials",i.credentials),this.credentials=i.credentials,pt("settings","boolean","timestampsInSnapshots",i.timestampsInSnapshots),pt("settings","boolean","ignoreUndefinedProperties",i.ignoreUndefinedProperties),!0===i.timestampsInSnapshots?it("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===i.timestampsInSnapshots&&it("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(p=i.timestampsInSnapshots)||void 0===p||p,this.ignoreUndefinedProperties=null!==(y=i.ignoreUndefinedProperties)&&void 0!==y&&y,pt("settings","number","cacheSizeBytes",i.cacheSizeBytes),void 0===i.cacheSizeBytes)this.cacheSizeBytes=_e._o;else{if(i.cacheSizeBytes!==ka&&i.cacheSizeBytes<_e.lo)throw new oe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+_e.lo);this.cacheSizeBytes=i.cacheSizeBytes}pt("settings","boolean","experimentalForceLongPolling",i.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(D=i.experimentalForceLongPolling)&&void 0!==D&&D,pt("settings","boolean","experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(A=i.experimentalAutoDetectLongPolling)&&void 0!==A&&A,function(L,W,se,be){if(!0===W&&!0===be)throw new oe(ue.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,i.experimentalForceLongPolling,0,i.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(i){return this.host===i.host&&this.ssl===i.ssl&&this.timestampsInSnapshots===i.timestampsInSnapshots&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties},c}(),Il=function(){function c(i,a,p,y){var D=this;if(void 0===p&&(p=new Tu),void 0===y&&(y=new Xa),this.rf=p,this.af=y,this.cf=null,this.uf=new Ie,this.INTERNAL={delete:function(){return I.__awaiter(D,void 0,void 0,function(){return I.__generator(this,function(W){switch(W.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return W.sent(),[2]}})})}},"object"==typeof i.options){var A=i;this.cf=A,this.__=c._f(A),this.ff=A.name,this.df=new Da(a)}else{var L=i;if(!L.projectId)throw new oe(ue.INVALID_ARGUMENT,"Must provide projectId");this.__=new mo(L.projectId,L.database),this.ff="[DEFAULT]",this.df=new Wl}this.wf=new sc({})}return Object.defineProperty(c.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new ah(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),c.prototype.settings=function(i){me("Firestore.settings",arguments,1),Le("Firestore.settings","object",1,i),i.merge&&delete(i=Object.assign(Object.assign({},this.wf),i)).merge;var a=new sc(i);if(this.lf&&!this.wf.isEqual(a))throw new oe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=a,void 0!==a.credentials&&(this.df=function(p){if(!p)return new Wl;switch(p.type){case"gapi":var y=p.client;return Ke(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new Zf(y,p.sessionIndex||"0");case"provider":return p.client;default:throw new oe(ue.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(a.credentials))},c.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},c.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},c.prototype.enablePersistence=function(i){var a,p;if(this.lf)throw new oe(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,D=!1;if(i&&(void 0!==i.experimentalTabSynchronization&&it("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(p=null!==(a=i.synchronizeTabs)&&void 0!==a?a:i.experimentalTabSynchronization)&&void 0!==p&&p,D=!!i.experimentalForceOwningTab&&i.experimentalForceOwningTab,y&&D))throw new oe(ue.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:D})},c.prototype.clearPersistence=function(){return I.__awaiter(this,void 0,void 0,function(){var i,a=this;return I.__generator(this,function(p){if(void 0!==this.lf&&!this.lf.z_)throw new oe(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return i=new nr,[2,(this.uf.bs(function(){return I.__awaiter(a,void 0,void 0,function(){var y;return I.__generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return D.sent(),i.resolve(),[3,3];case 2:return y=D.sent(),i.reject(y),[3,3];case 3:return[2]}})})}),i.promise)]})})},c.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(c.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),c.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},c.prototype.onSnapshotsInSync=function(i){return this.hf(),il(i)?this.lf.G_(i):(Le("Firestore.onSnapshotsInSync","function",1,i),this.lf.G_({next:i}))},c.prototype.hf=function(){return this.lf||this.Ef(new Tu,new Xa,{jl:!1}),this.lf},c.prototype.Af=function(){return new Yr(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},c.prototype.Ef=function(i,a,p){var y=this.Af();return this.lf=new Vd(this.df,this.uf),this.lf.start(y,i,a,p)},c._f=function(i){if(!Object.prototype.hasOwnProperty.call(i.options,"projectId"))throw new oe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var p=i.options.projectId;if(!p||"string"!=typeof p)throw new oe(ue.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new mo(p)},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.cf)throw new oe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),c.prototype.collection=function(i){return me("Firestore.collection",arguments,1),Le("Firestore.collection","non-empty string",1,i),this.hf(),new cc(Lt.g(i),this,null)},c.prototype.doc=function(i){return me("Firestore.doc",arguments,1),Le("Firestore.doc","non-empty string",1,i),this.hf(),La.Rf(Lt.g(i),this,null)},c.prototype.collectionGroup=function(i){if(me("Firestore.collectionGroup",arguments,1),Le("Firestore.collectionGroup","non-empty string",1,i),i.indexOf("/")>=0)throw new oe(ue.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new lc((a=i,new ws(Lt.P(),a)),this,null);var a},c.prototype.runTransaction=function(i){var a=this;return me("Firestore.runTransaction",arguments,1),Le("Firestore.runTransaction","function",1,i),this.hf().transaction(function(p){return i(new Nl(a,p))})},c.prototype.batch=function(){return this.hf(),new Al(this)},Object.defineProperty(c,"logLevel",{get:function(){switch(we()){case ee.LogLevel.DEBUG:return"debug";case ee.LogLevel.ERROR:return"error";case ee.LogLevel.SILENT:return"silent";case ee.LogLevel.WARN:return"warn";case ee.LogLevel.INFO:return"info";case ee.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),c.setLogLevel=function(i){me("Firestore.setLogLevel",arguments,1),tt("setLogLevel",["debug","error","silent","warn","info","verbose"],1,i),Te.setLogLevel(i)},c.prototype.gf=function(){return this.wf.timestampsInSnapshots},c.prototype.Pf=function(){return this.wf},c}(),Nl=function(){function c(i,a){this.yf=i,this.Vf=a}return c.prototype.get=function(i){var a=this;me("Transaction.get",arguments,1);var p=Va("Transaction.get",i,this.yf);return this.Vf.v_([p.f_]).then(function(y){if(!y||1!==y.length)return ot();var D=y[0];if(D instanceof ui)return new xu(a.yf,p.f_,null,!1,!1,p.d_);if(D instanceof Rt)return new xu(a.yf,p.f_,D,!1,!1,p.d_);throw ot()})},c.prototype.set=function(i,a,p){Ne("Transaction.set",arguments,2,3);var y=Va("Transaction.set",i,this.yf);p=Ml("Transaction.set",p);var D=dc(y.d_,a,p),A=Pd(this.yf.mf,"Transaction.set",y.f_,D,null!==y.d_,p);return this.Vf.set(y.f_,A),this},c.prototype.update=function(i,a,p){for(var y,D,A=[],L=3;L<arguments.length;L++)A[L-3]=arguments[L];return"string"==typeof a||a instanceof Iu?(K("Transaction.update",arguments,3),y=Va("Transaction.update",i,this.yf),D=Mu(this.yf.mf,"Transaction.update",y.f_,a,p,A)):(me("Transaction.update",arguments,2),y=Va("Transaction.update",i,this.yf),D=$c(this.yf.mf,"Transaction.update",y.f_,a)),this.Vf.update(y.f_,D),this},c.prototype.delete=function(i){me("Transaction.delete",arguments,1);var a=Va("Transaction.delete",i,this.yf);return this.Vf.delete(a.f_),this},c}(),Al=function(){function c(i){this.yf=i,this.pf=[],this.bf=!1}return c.prototype.set=function(i,a,p){Ne("WriteBatch.set",arguments,2,3),this.vf();var y=Va("WriteBatch.set",i,this.yf);p=Ml("WriteBatch.set",p);var D=dc(y.d_,a,p),A=Pd(this.yf.mf,"WriteBatch.set",y.f_,D,null!==y.d_,p);return this.pf=this.pf.concat(A.w_(y.f_,xt.ze())),this},c.prototype.update=function(i,a,p){for(var y,D,A=[],L=3;L<arguments.length;L++)A[L-3]=arguments[L];return this.vf(),"string"==typeof a||a instanceof Iu?(K("WriteBatch.update",arguments,3),y=Va("WriteBatch.update",i,this.yf),D=Mu(this.yf.mf,"WriteBatch.update",y.f_,a,p,A)):(me("WriteBatch.update",arguments,2),y=Va("WriteBatch.update",i,this.yf),D=$c(this.yf.mf,"WriteBatch.update",y.f_,a)),this.pf=this.pf.concat(D.w_(y.f_,xt.exists(!0))),this},c.prototype.delete=function(i){me("WriteBatch.delete",arguments,1),this.vf();var a=Va("WriteBatch.delete",i,this.yf);return this.pf=this.pf.concat(new sr(a.f_,xt.ze())),this},c.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},c.prototype.vf=function(){if(this.bf)throw new oe(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}(),La=function(c){function i(a,p,y){var D=this;return(D=c.call(this,p.__,a,y)||this).f_=a,D.firestore=p,D.d_=y,D.lf=D.firestore.hf(),D}return I.__extends(i,c),i.Rf=function(a,p,y){if(a.length%2!=0)throw new oe(ue.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a.R()+" has "+a.length);return new i(new Z(a),p,y)},Object.defineProperty(i.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new cc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),i.prototype.collection=function(a){if(me("DocumentReference.collection",arguments,1),Le("DocumentReference.collection","non-empty string",1,a),!a)throw new oe(ue.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var p=Lt.g(a);return new cc(this.f_.path.child(p),this.firestore,null)},i.prototype.isEqual=function(a){if(!(a instanceof i))throw qn("isEqual","DocumentReference",1,a);return this.firestore===a.firestore&&this.f_.isEqual(a.f_)&&this.d_===a.d_},i.prototype.set=function(a,p){Ne("DocumentReference.set",arguments,1,2),p=Ml("DocumentReference.set",p);var y=dc(this.d_,a,p),D=Pd(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,p);return this.lf.write(D.w_(this.f_,xt.ze()))},i.prototype.update=function(a,p){for(var y,D=[],A=2;A<arguments.length;A++)D[A-2]=arguments[A];return"string"==typeof a||a instanceof Iu?(K("DocumentReference.update",arguments,2),y=Mu(this.firestore.mf,"DocumentReference.update",this.f_,a,p,D)):(me("DocumentReference.update",arguments,1),y=$c(this.firestore.mf,"DocumentReference.update",this.f_,a)),this.lf.write(y.w_(this.f_,xt.exists(!0)))},i.prototype.delete=function(){return me("DocumentReference.delete",arguments,0),this.lf.write([new sr(this.f_,xt.ze())])},i.prototype.onSnapshot=function(){for(var a,p,y,D=this,A=[],L=0;L<arguments.length;L++)A[L]=arguments[L];Ne("DocumentReference.onSnapshot",arguments,1,4);var W={includeMetadataChanges:!1},se=0;"object"!=typeof A[se]||il(A[se])||(pn("DocumentReference.onSnapshot",W=A[se],["includeMetadataChanges"]),pt("DocumentReference.onSnapshot","boolean","includeMetadataChanges",W.includeMetadataChanges),se++);var be={includeMetadataChanges:W.includeMetadataChanges};if(il(A[se])){var Re=A[se];A[se]=null===(a=Re.next)||void 0===a?void 0:a.bind(Re),A[se+1]=null===(p=Re.error)||void 0===p?void 0:p.bind(Re),A[se+2]=null===(y=Re.complete)||void 0===y?void 0:y.bind(Re)}else Le("DocumentReference.onSnapshot","function",se,A[se]),Pt("DocumentReference.onSnapshot","function",se+1,A[se+1]),Pt("DocumentReference.onSnapshot","function",se+2,A[se+2]);var Oe={next:function(Ye){A[se]&&A[se](D.Sf(Ye))},error:A[se+1],complete:A[se+2]};return this.lf.listen($o(this.f_.path),be,Oe)},i.prototype.get=function(a){var p=this;Ne("DocumentReference.get",arguments,0,1),Gd("DocumentReference.get",a);var y=this.firestore.hf();return a&&"cache"===a.source?y.Q_(this.f_).then(function(D){return new xu(p.firestore,p.f_,D,!0,D instanceof Rt&&D.Je,p.d_)}):y.W_(this.f_,a).then(function(D){return p.Sf(D)})},i.prototype.withConverter=function(a){return new i(this.f_,this.firestore,a)},i.prototype.Sf=function(a){var p=a.docs.get(this.f_);return new xu(this.firestore,this.f_,p,a.fromCache,a.hasPendingWrites,this.d_)},i}(nl),Ud=function(){function c(i,a){this.hasPendingWrites=i,this.fromCache=a}return c.prototype.isEqual=function(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache},c}(),xu=function(){function c(i,a,p,y,D,A){this.yf=i,this.f_=a,this.Df=p,this.Cf=y,this.Nf=D,this.d_=A}return c.prototype.data=function(i){var a=this;if(Ne("DocumentSnapshot.data",arguments,0,1),i=Hs("DocumentSnapshot.data",i),this.Df){if(this.d_){var p=new ac(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(p,i)}return new Bd(this.yf.__,this.yf.gf(),i.serverTimestamps||"none",function(y){return new La(y,a.yf,null)},function(y){return new zr(y)}).X_(this.Df.rn())}},c.prototype.get=function(i,a){var p=this;if(Ne("DocumentSnapshot.get",arguments,1,2),a=Hs("DocumentSnapshot.get",a),this.Df){var y=this.Df.data().field(Fa("DocumentSnapshot.get",i,this.f_));if(null!==y)return new Bd(this.yf.__,this.yf.gf(),a.serverTimestamps||"none",function(D){return new La(D,p.yf,p.d_)},function(D){return new zr(D)}).X_(y)}},Object.defineProperty(c.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new La(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return new Ud(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(i){if(!(i instanceof c))throw qn("isEqual","DocumentSnapshot",1,i);return this.yf===i.yf&&this.Cf===i.Cf&&this.f_.isEqual(i.f_)&&(null===this.Df?null===i.Df:this.Df.isEqual(i.Df))&&this.d_===i.d_},c}(),ac=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.prototype.data=function(a){return c.prototype.data.call(this,a)},i}(xu);function uc(c,i,a,p,y,D,A){var L;if(y.p()){if("array-contains"===D||"array-contains-any"===D)throw new oe(ue.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+D+"' queries on FieldPath.documentId().");if("in"===D||"not-in"===D){nu(A,D);for(var W=[],se=0,be=A;se<be.length;se++)W.push(qc(p,c,be[se]));L={arrayValue:{values:W}}}else L=qc(p,c,A)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||nu(A,D),L=Ko(a,i,A,"in"===D||"not-in"===D);var Oe=In.create(y,D,L);return function(Ye,st){if(st.hn()){var ht=Bn(Ye);if(null!==ht&&!ht.isEqual(st.field))throw new oe(ue.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+st.field.toString()+"'");var Zt=mt(Ye);null!==Zt&&jd(0,st.field,Zt)}var Wt=function(yn,Un){for(var Qn=0,Gr=yn.filters;Qn<Gr.length;Qn++){var Fr=Gr[Qn];if(Un.indexOf(Fr.op)>=0)return Fr.op}return null}(Ye,function(yn){switch(yn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(st.op));if(null!==Wt)throw new oe(ue.INVALID_ARGUMENT,Wt===st.op?"Invalid query. You cannot use more than one '"+st.op.toString()+"' filter.":"Invalid query. You cannot use '"+st.op.toString()+"' filters with '"+Wt.toString()+"' filters.")}(c,Oe),Oe}function lh(c,i,a){if(null!==c.startAt)throw new oe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new oe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var p=new ps(i,a);return function(y,D){if(null===mt(y)){var A=Bn(y);null!==A&&jd(0,A,D.field)}}(c,p),p}function qc(c,i,a){if("string"==typeof a){if(""===a)throw new oe(ue.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Er(i)&&-1!==a.indexOf("/"))throw new oe(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+a+"' contains a '/' character.");var p=i.path.child(Lt.g(a));if(!Z.F(p))throw new oe(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+p+"' is not because it has an odd number of segments ("+p.length+").");return Vn(c,new Z(p))}if(a instanceof nl)return Vn(c,a.f_);throw new oe(ue.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+An(a)+".")}function nu(c,i){if(!Array.isArray(c)||0===c.length)throw new oe(ue.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+i.toString()+"' filters.");if(c.length>10)throw new oe(ue.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===i||"array-contains-any"===i){if(c.indexOf(null)>=0)throw new oe(ue.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'null' in the value array.");if(c.filter(function(a){return Number.isNaN(a)}).length>0)throw new oe(ue.INVALID_ARGUMENT,"Invalid Query. '"+i.toString()+"' filters cannot contain 'NaN' in the value array.")}}function jd(c,i,a){if(!a.isEqual(i))throw new oe(ue.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+i.toString()+"' and so you must also use '"+i.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+a.toString()+"' instead.")}function Hd(c){if(Si(c)&&0===c.on.length)throw new oe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lc=function(){function c(i,a,p){this.Ff=i,this.firestore=a,this.d_=p}return c.prototype.where=function(i,a,p){me("Query.where",arguments,3),gi("Query.where",3,p);var L,se,y=tt("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,a),D=Fa("Query.where",i),A=uc(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,D,y,p);return new c((se=(L=this.Ff).filters.concat([A]),new ws(L.path,L.collectionGroup,L.on.slice(),se,L.limit,L.an,L.startAt,L.endAt)),this.firestore,this.d_)},c.prototype.orderBy=function(i,a){var p;if(Ne("Query.orderBy",arguments,1,2),Pt("Query.orderBy","non-empty string",2,a),void 0===a||"asc"===a)p="asc";else{if("desc"!==a)throw new oe(ue.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+a+"', expected 'asc' or 'desc'.");p="desc"}var A,W,y=Fa("Query.orderBy",i),D=lh(this.Ff,y,p);return new c((W=(A=this.Ff).on.concat([D]),new ws(A.path,A.collectionGroup,W,A.filters.slice(),A.limit,A.an,A.startAt,A.endAt)),this.firestore,this.d_)},c.prototype.limit=function(i){return me("Query.limit",arguments,1),Le("Query.limit","number",1,i),Rn("Query.limit",1,i),new c(wi(this.Ff,i,"F"),this.firestore,this.d_)},c.prototype.limitToLast=function(i){return me("Query.limitToLast",arguments,1),Le("Query.limitToLast","number",1,i),Rn("Query.limitToLast",1,i),new c(wi(this.Ff,i,"L"),this.firestore,this.d_)},c.prototype.startAt=function(i){for(var a=[],p=1;p<arguments.length;p++)a[p-1]=arguments[p];K("Query.startAt",arguments,1);var y=this.xf("Query.startAt",i,a,!0);return new c(On(this.Ff,y),this.firestore,this.d_)},c.prototype.startAfter=function(i){for(var a=[],p=1;p<arguments.length;p++)a[p-1]=arguments[p];K("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",i,a,!1);return new c(On(this.Ff,y),this.firestore,this.d_)},c.prototype.endBefore=function(i){for(var a=[],p=1;p<arguments.length;p++)a[p-1]=arguments[p];K("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",i,a,!0);return new c(Cs(this.Ff,y),this.firestore,this.d_)},c.prototype.endAt=function(i){for(var a=[],p=1;p<arguments.length;p++)a[p-1]=arguments[p];K("Query.endAt",arguments,1);var y=this.xf("Query.endAt",i,a,!1);return new c(Cs(this.Ff,y),this.firestore,this.d_)},c.prototype.isEqual=function(i){if(!(i instanceof c))throw qn("isEqual","Query",1,i);return this.firestore===i.firestore&&Wo(this.Ff,i.Ff)&&this.d_===i.d_},c.prototype.withConverter=function(i){return new c(this.Ff,this.firestore,i)},c.prototype.xf=function(i,a,p,y){if(gi(i,1,a),a instanceof xu)return me(i,I.__spreadArrays([a],p),1),function(A,L,W,se,be){if(!se)throw new oe(ue.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+W+"().");for(var Re=[],Oe=0,Ye=tr(A);Oe<Ye.length;Oe++){var st=Ye[Oe];if(st.field.p())Re.push(Vn(L,se.key));else{var ht=se.field(st.field);if(_r(ht))throw new oe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+st.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var Zt=st.field.R();throw new oe(ue.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Zt+"' (used as the orderBy) does not exist.")}Re.push(ht)}}return new Hr(Re,be)}(this.Ff,this.firestore.__,i,a.Df,y);var D=[a].concat(p);return function(A,L,W,se,be,Re){var Oe=A.on;if(be.length>Oe.length)throw new oe(ue.INVALID_ARGUMENT,"Too many arguments provided to "+se+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Ye=[],st=0;st<be.length;st++){var ht=be[st];if(Oe[st].field.p()){if("string"!=typeof ht)throw new oe(ue.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+se+"(), but got a "+typeof ht);if(!Er(A)&&-1!==ht.indexOf("/"))throw new oe(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+se+"() must be a plain document ID, but '"+ht+"' contains a slash.");var Zt=A.path.child(Lt.g(ht));if(!Z.F(Zt))throw new oe(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+se+"() must result in a valid document path, but '"+Zt+"' is not because it contains an odd number of segments.");var Wt=new Z(Zt);Ye.push(Vn(L,Wt))}else{var yn=Ko(W,se,ht);Ye.push(yn)}}return new Hr(Ye,Re)}(this.Ff,this.firestore.__,this.firestore.mf,i,D,y)},c.prototype.onSnapshot=function(){for(var i,a,p,y=this,D=[],A=0;A<arguments.length;A++)D[A]=arguments[A];Ne("Query.onSnapshot",arguments,1,4);var L={},W=0;if("object"!=typeof D[W]||il(D[W])||(pn("Query.onSnapshot",L=D[W],["includeMetadataChanges"]),pt("Query.onSnapshot","boolean","includeMetadataChanges",L.includeMetadataChanges),W++),il(D[W])){var se=D[W];D[W]=null===(i=se.next)||void 0===i?void 0:i.bind(se),D[W+1]=null===(a=se.error)||void 0===a?void 0:a.bind(se),D[W+2]=null===(p=se.complete)||void 0===p?void 0:p.bind(se)}else Le("Query.onSnapshot","function",W,D[W]),Pt("Query.onSnapshot","function",W+1,D[W+1]),Pt("Query.onSnapshot","function",W+2,D[W+2]);var be={next:function(Re){D[W]&&D[W](new zc(y.firestore,y.Ff,Re,y.d_))},error:D[W+1],complete:D[W+2]};return Hd(this.Ff),this.firestore.hf().listen(this.Ff,L,be)},c.prototype.get=function(i){var a=this;Ne("Query.get",arguments,0,1),Gd("Query.get",i),Hd(this.Ff);var p=this.firestore.hf();return(i&&"cache"===i.source?p.j_(this.Ff):p.K_(this.Ff,i)).then(function(y){return new zc(a.firestore,a.Ff,y,a.d_)})},c}(),zc=function(){function c(i,a,p,y){this.yf=i,this.$f=a,this.kf=p,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Ud(p.hasPendingWrites,p.fromCache)}return Object.defineProperty(c.prototype,"docs",{get:function(){var i=[];return this.forEach(function(a){return i.push(a)}),i},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(i,a){var p=this;Ne("QuerySnapshot.forEach",arguments,1,2),Le("QuerySnapshot.forEach","function",1,i),this.kf.docs.forEach(function(y){i.call(a,p.Lf(y,p.metadata.fromCache,p.kf.Wt.has(y.key)))})},Object.defineProperty(c.prototype,"query",{get:function(){return new lc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(i){i&&(pn("QuerySnapshot.docChanges",i,["includeMetadataChanges"]),pt("QuerySnapshot.docChanges","boolean","includeMetadataChanges",i.includeMetadataChanges));var a=!(!i||!i.includeMetadataChanges);if(a&&this.kf.Kt)throw new oe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===a||(this.Mf=function(p,y,D){if(p.Qt.m()){var A=0;return p.docChanges.map(function(W){return{type:"added",doc:D(W.doc,p.fromCache,p.Wt.has(W.doc.key)),oldIndex:-1,newIndex:A++}})}var L=p.Qt;return p.docChanges.filter(function(W){return y||3!==W.type}).map(function(W){var se=D(W.doc,p.fromCache,p.Wt.has(W.doc.key)),be=-1,Re=-1;return 0!==W.type&&(be=L.indexOf(W.doc.key),L=L.delete(W.doc.key)),1!==W.type&&(Re=(L=L.add(W.doc)).indexOf(W.doc.key)),{type:ch(W.type),doc:se,oldIndex:be,newIndex:Re}})}(this.kf,a,this.Lf.bind(this)),this.Of=a),this.Mf},c.prototype.isEqual=function(i){if(!(i instanceof c))throw qn("isEqual","QuerySnapshot",1,i);return this.yf===i.yf&&Wo(this.$f,i.$f)&&this.kf.isEqual(i.kf)&&this.d_===i.d_},c.prototype.Lf=function(i,a,p){return new ac(this.yf,i.key,i,a,p,this.d_)},c}(),cc=function(c){function i(a,p,y){var D=this;if((D=c.call(this,$o(a),p,y)||this).Bf=a,a.length%2!=1)throw new oe(ue.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+a.R()+" has "+a.length);return D}return I.__extends(i,c),Object.defineProperty(i.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var a=this.Ff.path.h();return a.m()?null:new La(new Z(a),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),i.prototype.doc=function(a){Ne("CollectionReference.doc",arguments,0,1),0===arguments.length&&(a=Mn.k()),Le("CollectionReference.doc","non-empty string",1,a);var p=Lt.g(a);return La.Rf(this.Ff.path.child(p),this.firestore,this.d_)},i.prototype.add=function(a){me("CollectionReference.add",arguments,1);var p=this.d_?this.d_.toFirestore(a):a;Le("CollectionReference.add","object",1,p);var y=this.doc();return new La(y.f_,this.firestore,null).set(p).then(function(){return y})},i.prototype.withConverter=function(a){return new i(this.Bf,this.firestore,a)},i}(lc);function Ml(c,i){if(void 0===i)return{merge:!1};if(pn(c,i,["merge","mergeFields"]),pt(c,"boolean","merge",i.merge),void 0!==(D=i.mergeFields)&&function(L,W,se,be,Re){if(!(be instanceof Array))throw new oe(ue.INVALID_ARGUMENT,"Function "+L+"() requires its "+W+" option to be an array, but it was: "+An(be));for(var Oe=0;Oe<be.length;++Oe)if(!Re(be[Oe]))throw new oe(ue.INVALID_ARGUMENT,"Function "+L+"() requires all "+W+" elements to be a string or a FieldPath, but the value at index "+Oe+" was: "+An(be[Oe]))}(c,"mergeFields",0,D,function(a){return"string"==typeof a||a instanceof Iu}),void 0!==i.mergeFields&&void 0!==i.merge)throw new oe(ue.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');var D;return i}function Hs(c,i){return void 0===i?{}:(pn(c,i,["serverTimestamps"]),Nt(c,0,"serverTimestamps",i.serverTimestamps,["estimate","previous","none"]),i)}function Gd(c,i){Pt(c,"object",1,i),i&&(pn(c,i,["source"]),Nt(c,0,"source",i.source,["default","server","cache"]))}function Va(c,i,a){if(i instanceof nl){if(i.firestore!==a)throw new oe(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}throw qn(c,"DocumentReference",1,i)}function ch(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function dc(c,i,a){return c?a&&(a.merge||a.mergeFields)?c.toFirestore(i,a):c.toFirestore(i):i}var ig=function(c){function i(){return null!==c&&c.apply(this,arguments)||this}return I.__extends(i,c),i.serverTimestamp=function(){le("FieldValue.serverTimestamp",arguments);var a=new jc("serverTimestamp");return a.e_="FieldValue.serverTimestamp",new i(a)},i.delete=function(){le("FieldValue.delete",arguments);var a=new Na("deleteField");return a.e_="FieldValue.delete",new i(a)},i.arrayUnion=function(){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];K("FieldValue.arrayUnion",arguments,1);var y=function(){for(var D=[],A=0;A<arguments.length;A++)D[A]=arguments[A];return K("arrayUnion()",arguments,1),new oc("arrayUnion",D)}.apply(void 0,a);return y.e_="FieldValue.arrayUnion",new i(y)},i.arrayRemove=function(){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];K("FieldValue.arrayRemove",arguments,1);var y=function(){for(var D=[],A=0;A<arguments.length;A++)D[A]=arguments[A];return K("arrayRemove()",arguments,1),new Hc("arrayRemove",D)}.apply(void 0,a);return y.e_="FieldValue.arrayRemove",new i(y)},i.increment=function(a){Le("FieldValue.increment","number",1,a),me("FieldValue.increment",arguments,1);var p=new Ai("increment",a);return p.e_="FieldValue.increment",new i(p)},i.prototype.isEqual=function(a){return this.l_.isEqual(a.l_)},i}(Nu),$d={Firestore:Il,GeoPoint:eu,Timestamp:At,Blob:zr,Transaction:Nl,WriteBatch:Al,DocumentReference:La,DocumentSnapshot:xu,Query:lc,QueryDocumentSnapshot:ac,QuerySnapshot:zc,CollectionReference:cc,FieldPath:Iu,FieldValue:ig,setLogLevel:Il.setLogLevel,CACHE_SIZE_UNLIMITED:ka};function Wd(c){c.INTERNAL.registerComponent(new Be.Component("firestore",function(p){return y=p.getProvider("app").getImmediate(),D=p.getProvider("auth-internal"),A=new Xa,L=new Su(A),new Il(y,D,L,A);var y,D,A,L},"PUBLIC").setServiceProps(Object.assign({},$d))),c.registerVersion("@firebase/firestore","1.18.0")}Wd(ke.default),je.__PRIVATE_registerFirestore=Wd},300:(zt,je,de)=>{"use strict";function I(){for(var we=0,Ce=0,it=arguments.length;Ce<it;Ce++)we+=arguments[Ce].length;var _t=Array(we),dt=0;for(Ce=0;Ce<it;Ce++)for(var ot=arguments[Ce],Ke=0,Je=ot.length;Ke<Je;Ke++,dt++)_t[dt]=ot[Ke];return _t}de.r(je),de.d(je,{LogLevel:()=>Qe,Logger:()=>ue,setLogLevel:()=>oe,setUserLogHandler:()=>Te});var u,ee=[],Qe=(()=>{return(we=Qe||(Qe={}))[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",Qe;var we})(),xe={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},Be=Qe.INFO,Ae=((u={})[Qe.DEBUG]="log",u[Qe.VERBOSE]="log",u[Qe.INFO]="info",u[Qe.WARN]="warn",u[Qe.ERROR]="error",u),ke=function(we,Ce){for(var it=[],_t=2;_t<arguments.length;_t++)it[_t-2]=arguments[_t];if(!(Ce<we.logLevel)){var dt=(new Date).toISOString(),ot=Ae[Ce];if(!ot)throw new Error("Attempted to log a message with an invalid logType (value: "+Ce+")");console[ot].apply(console,I(["["+dt+"]  "+we.name+":"],it))}},ue=function(){function we(Ce){this.name=Ce,this._logLevel=Be,this._logHandler=ke,this._userLogHandler=null,ee.push(this)}return Object.defineProperty(we.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ce){if(!(Ce in Qe))throw new TypeError('Invalid value "'+Ce+'" assigned to `logLevel`');this._logLevel=Ce},enumerable:!1,configurable:!0}),we.prototype.setLogLevel=function(Ce){this._logLevel="string"==typeof Ce?xe[Ce]:Ce},Object.defineProperty(we.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ce){this._userLogHandler=Ce},enumerable:!1,configurable:!0}),we.prototype.debug=function(){for(var Ce=[],it=0;it<arguments.length;it++)Ce[it]=arguments[it];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Qe.DEBUG],Ce)),this._logHandler.apply(this,I([this,Qe.DEBUG],Ce))},we.prototype.log=function(){for(var Ce=[],it=0;it<arguments.length;it++)Ce[it]=arguments[it];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Qe.VERBOSE],Ce)),this._logHandler.apply(this,I([this,Qe.VERBOSE],Ce))},we.prototype.info=function(){for(var Ce=[],it=0;it<arguments.length;it++)Ce[it]=arguments[it];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Qe.INFO],Ce)),this._logHandler.apply(this,I([this,Qe.INFO],Ce))},we.prototype.warn=function(){for(var Ce=[],it=0;it<arguments.length;it++)Ce[it]=arguments[it];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Qe.WARN],Ce)),this._logHandler.apply(this,I([this,Qe.WARN],Ce))},we.prototype.error=function(){for(var Ce=[],it=0;it<arguments.length;it++)Ce[it]=arguments[it];this._userLogHandler&&this._userLogHandler.apply(this,I([this,Qe.ERROR],Ce)),this._logHandler.apply(this,I([this,Qe.ERROR],Ce))},we}();function oe(we){ee.forEach(function(Ce){Ce.setLogLevel(we)})}function Te(we,Ce){for(var it=function(Ke){var Je=null;Ce&&Ce.level&&(Je=xe[Ce.level]),Ke.userLogHandler=null===we?null:function(Ft,kt){for(var Pn=[],Dn=2;Dn<arguments.length;Dn++)Pn[Dn-2]=arguments[Dn];var Lt=Pn.map(function(z){if(null==z)return null;if("string"==typeof z)return z;if("number"==typeof z||"boolean"==typeof z)return z.toString();if(z instanceof Error)return z.message;try{return JSON.stringify(z)}catch(te){return null}}).filter(function(z){return z}).join(" ");kt>=(null!=Je?Je:Ft.logLevel)&&we({level:Qe[kt].toLowerCase(),message:Lt,args:Pn,type:Ft.name})}},_t=0,dt=ee;_t<dt.length;_t++)it(dt[_t])}},1704:(zt,je,de)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var I=de(5057),u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ee=function(Ge,Ee){if(!Ge)throw Qe(Ee)},Qe=function(Ge){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ge)},xe=function(Ge){for(var Ee=[],Ue=0,rt=0;rt<Ge.length;rt++){var Ze=Ge.charCodeAt(rt);Ze<128?Ee[Ue++]=Ze:Ze<2048?(Ee[Ue++]=Ze>>6|192,Ee[Ue++]=63&Ze|128):55296==(64512&Ze)&&rt+1<Ge.length&&56320==(64512&Ge.charCodeAt(rt+1))?(Ze=65536+((1023&Ze)<<10)+(1023&Ge.charCodeAt(++rt)),Ee[Ue++]=Ze>>18|240,Ee[Ue++]=Ze>>12&63|128,Ee[Ue++]=Ze>>6&63|128,Ee[Ue++]=63&Ze|128):(Ee[Ue++]=Ze>>12|224,Ee[Ue++]=Ze>>6&63|128,Ee[Ue++]=63&Ze|128)}return Ee},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ge,Ee){if(!Array.isArray(Ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ue=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[],Ze=0;Ze<Ge.length;Ze+=3){var Tt=Ge[Ze],Vt=Ze+1<Ge.length,Jt=Vt?Ge[Ze+1]:0,nn=Ze+2<Ge.length,an=nn?Ge[Ze+2]:0,br=(15&Jt)<<2|an>>6,Fn=63&an;nn||(Fn=64,Vt||(br=64)),rt.push(Ue[Tt>>2],Ue[(3&Tt)<<4|Jt>>4],Ue[br],Ue[Fn])}return rt.join("")},encodeString:function(Ge,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(Ge):this.encodeByteArray(xe(Ge),Ee)},decodeString:function(Ge,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(Ge):function(Ge){for(var Ee=[],Ue=0,rt=0;Ue<Ge.length;){var Ze=Ge[Ue++];if(Ze<128)Ee[rt++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){var Tt=Ge[Ue++];Ee[rt++]=String.fromCharCode((31&Ze)<<6|63&Tt)}else if(Ze>239&&Ze<365){var nn=((7&Ze)<<18|(63&(Tt=Ge[Ue++]))<<12|(63&(Vt=Ge[Ue++]))<<6|63&Ge[Ue++])-65536;Ee[rt++]=String.fromCharCode(55296+(nn>>10)),Ee[rt++]=String.fromCharCode(56320+(1023&nn))}else{Tt=Ge[Ue++];var Vt=Ge[Ue++];Ee[rt++]=String.fromCharCode((15&Ze)<<12|(63&Tt)<<6|63&Vt)}}return Ee.join("")}(this.decodeStringToByteArray(Ge,Ee))},decodeStringToByteArray:function(Ge,Ee){this.init_();for(var Ue=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[],Ze=0;Ze<Ge.length;){var Tt=Ue[Ge.charAt(Ze++)],Jt=Ze<Ge.length?Ue[Ge.charAt(Ze)]:0,an=++Ze<Ge.length?Ue[Ge.charAt(Ze)]:64,on=++Ze<Ge.length?Ue[Ge.charAt(Ze)]:64;if(++Ze,null==Tt||null==Jt||null==an||null==on)throw Error();rt.push(Tt<<2|Jt>>4),64!==an&&(rt.push(Jt<<4&240|an>>2),64!==on&&rt.push(an<<6&192|on))}return rt},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ge=0;Ge<this.ENCODED_VALS.length;Ge++)this.byteToCharMap_[Ge]=this.ENCODED_VALS.charAt(Ge),this.charToByteMap_[this.byteToCharMap_[Ge]]=Ge,this.byteToCharMapWebSafe_[Ge]=this.ENCODED_VALS_WEBSAFE.charAt(Ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ge]]=Ge,Ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ge)]=Ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ge)]=Ge)}}},ue=function(Ge){try{return Ae.decodeString(Ge,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function Te(Ge,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===Ge&&(Ge={});break;case Array:Ge=[];break;default:return Ee}for(var rt in Ee)!Ee.hasOwnProperty(rt)||(Ge[rt]=Te(Ge[rt],Ee[rt]));return Ge}var we=function(){function Ge(){var Ee=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ue,rt){Ee.resolve=Ue,Ee.reject=rt})}return Ge.prototype.wrapCallback=function(Ee){var Ue=this;return function(rt,Ze){rt?Ue.reject(rt):Ue.resolve(Ze),"function"==typeof Ee&&(Ue.promise.catch(function(){}),1===Ee.length?Ee(rt):Ee(rt,Ze))}},Ge}();function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ge){return!1}}var le=function(Ge){function Ee(Ue,rt){var Ze=Ge.call(this,rt)||this;return Ze.code=Ue,Ze.name="FirebaseError",Object.setPrototypeOf(Ze,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ze,me.prototype.create),Ze}return I.__extends(Ee,Ge),Ee}(Error),me=function(){function Ge(Ee,Ue,rt){this.service=Ee,this.serviceName=Ue,this.errors=rt}return Ge.prototype.create=function(Ee){for(var Ue=[],rt=1;rt<arguments.length;rt++)Ue[rt-1]=arguments[rt];for(var Ze=Ue[0]||{},Tt=this.service+"/"+Ee,Vt=this.errors[Ee],Jt=Vt?K(Vt,Ze):"Error",nn=this.serviceName+": "+Jt+" ("+Tt+").",an=new le(Tt,nn),Yt=0,on=Object.keys(Ze);Yt<on.length;Yt++){var br=on[Yt];"_"!==br.slice(-1)&&(br in an&&console.warn('Overwriting FirebaseError base field "'+br+'" can cause unexpected behavior.'),an[br]=Ze[br])}return an},Ge}();function K(Ge,Ee){return Ge.replace(Ne,function(Ue,rt){var Ze=Ee[rt];return null!=Ze?String(Ze):"<"+rt+"?>"})}var Ne=/\{\$([^}]+)}/g;function Le(Ge){return JSON.parse(Ge)}var Pe=function(Ge){var Ee={},Ue={},rt={},Ze="";try{var Tt=Ge.split(".");Ee=Le(ue(Tt[0])||""),Ue=Le(ue(Tt[1])||""),Ze=Tt[2],rt=Ue.d||{},delete Ue.d}catch(Vt){}return{header:Ee,claims:Ue,data:rt,signature:Ze}},Et=function(){function Ge(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}return Ge.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ge.prototype.compress_=function(Ee,Ue){Ue||(Ue=0);var rt=this.W_;if("string"==typeof Ee)for(var Ze=0;Ze<16;Ze++)rt[Ze]=Ee.charCodeAt(Ue)<<24|Ee.charCodeAt(Ue+1)<<16|Ee.charCodeAt(Ue+2)<<8|Ee.charCodeAt(Ue+3),Ue+=4;else for(Ze=0;Ze<16;Ze++)rt[Ze]=Ee[Ue]<<24|Ee[Ue+1]<<16|Ee[Ue+2]<<8|Ee[Ue+3],Ue+=4;for(Ze=16;Ze<80;Ze++)rt[Ze]=4294967295&((Tt=rt[Ze-3]^rt[Ze-8]^rt[Ze-14]^rt[Ze-16])<<1|Tt>>>31);var on,br,Vt=this.chain_[0],Jt=this.chain_[1],nn=this.chain_[2],an=this.chain_[3],Yt=this.chain_[4];for(Ze=0;Ze<80;Ze++){Ze<40?Ze<20?(on=an^Jt&(nn^an),br=1518500249):(on=Jt^nn^an,br=1859775393):Ze<60?(on=Jt&nn|an&(Jt|nn),br=2400959708):(on=Jt^nn^an,br=3395469782);var Tt=(Vt<<5|Vt>>>27)+on+Yt+br+rt[Ze]&4294967295;Yt=an,an=nn,nn=4294967295&(Jt<<30|Jt>>>2),Jt=Vt,Vt=Tt}this.chain_[0]=this.chain_[0]+Vt&4294967295,this.chain_[1]=this.chain_[1]+Jt&4294967295,this.chain_[2]=this.chain_[2]+nn&4294967295,this.chain_[3]=this.chain_[3]+an&4294967295,this.chain_[4]=this.chain_[4]+Yt&4294967295},Ge.prototype.update=function(Ee,Ue){if(null!=Ee){void 0===Ue&&(Ue=Ee.length);for(var rt=Ue-this.blockSize,Ze=0,Tt=this.buf_,Vt=this.inbuf_;Ze<Ue;){if(0===Vt)for(;Ze<=rt;)this.compress_(Ee,Ze),Ze+=this.blockSize;if("string"==typeof Ee){for(;Ze<Ue;)if(Tt[Vt]=Ee.charCodeAt(Ze),++Ze,++Vt===this.blockSize){this.compress_(Tt),Vt=0;break}}else for(;Ze<Ue;)if(Tt[Vt]=Ee[Ze],++Ze,++Vt===this.blockSize){this.compress_(Tt),Vt=0;break}}this.inbuf_=Vt,this.total_+=Ue}},Ge.prototype.digest=function(){var Ee=[],Ue=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var rt=this.blockSize-1;rt>=56;rt--)this.buf_[rt]=255&Ue,Ue/=256;this.compress_(this.buf_);var Ze=0;for(rt=0;rt<5;rt++)for(var Tt=24;Tt>=0;Tt-=8)Ee[Ze]=this.chain_[rt]>>Tt&255,++Ze;return Ee},Ge}(),Li=function(){function Ge(Ee,Ue){var rt=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ue,this.task.then(function(){Ee(rt)}).catch(function(Ze){rt.error(Ze)})}return Ge.prototype.next=function(Ee){this.forEachObserver(function(Ue){Ue.next(Ee)})},Ge.prototype.error=function(Ee){this.forEachObserver(function(Ue){Ue.error(Ee)}),this.close(Ee)},Ge.prototype.complete=function(){this.forEachObserver(function(Ee){Ee.complete()}),this.close()},Ge.prototype.subscribe=function(Ee,Ue,rt){var Tt,Ze=this;if(void 0===Ee&&void 0===Ue&&void 0===rt)throw new Error("Missing Observer.");void 0===(Tt=function(Ge,Ee){if("object"!=typeof Ge||null===Ge)return!1;for(var Ue=0,rt=["next","error","complete"];Ue<rt.length;Ue++){var Ze=rt[Ue];if(Ze in Ge&&"function"==typeof Ge[Ze])return!0}return!1}(Ee)?Ee:{next:Ee,error:Ue,complete:rt}).next&&(Tt.next=rr),void 0===Tt.error&&(Tt.error=rr),void 0===Tt.complete&&(Tt.complete=rr);var Vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ze.finalError?Tt.error(Ze.finalError):Tt.complete()}catch(Jt){}}),this.observers.push(Tt),Vt},Ge.prototype.unsubscribeOne=function(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Ge.prototype.forEachObserver=function(Ee){if(!this.finalized)for(var Ue=0;Ue<this.observers.length;Ue++)this.sendOne(Ue,Ee)},Ge.prototype.sendOne=function(Ee,Ue){var rt=this;this.task.then(function(){if(void 0!==rt.observers&&void 0!==rt.observers[Ee])try{Ue(rt.observers[Ee])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})},Ge.prototype.close=function(Ee){var Ue=this;this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(function(){Ue.observers=void 0,Ue.onNoObservers=void 0}))},Ge}();function rr(){}function un(Ge,Ee,Ue){var rt="";switch(Ee){case 1:rt=Ue?"first":"First";break;case 2:rt=Ue?"second":"Second";break;case 3:rt=Ue?"third":"Third";break;case 4:rt=Ue?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Ge+" failed: "+(rt+" argument ")}je.CONSTANTS=u,je.Deferred=we,je.ErrorFactory=me,je.FirebaseError=le,je.MAX_VALUE_MILLIS=144e5,je.RANDOM_FACTOR=.5,je.Sha1=Et,je.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},je.assert=ee,je.assertionError=Qe,je.async=function(Ge,Ee){return function(){for(var Ue=[],rt=0;rt<arguments.length;rt++)Ue[rt]=arguments[rt];Promise.resolve(!0).then(function(){Ge.apply(void 0,Ue)}).catch(function(Ze){Ee&&Ee(Ze)})}},je.base64=Ae,je.base64Decode=ue,je.base64Encode=function(Ge){var Ee=xe(Ge);return Ae.encodeByteArray(Ee,!0)},je.calculateBackoffMillis=function(Ge,Ee,Ue){void 0===Ee&&(Ee=1e3),void 0===Ue&&(Ue=2);var rt=Ee*Math.pow(Ue,Ge),Ze=Math.round(.5*rt*(Math.random()-.5)*2);return Math.min(144e5,rt+Ze)},je.contains=function(Ge,Ee){return Object.prototype.hasOwnProperty.call(Ge,Ee)},je.createSubscribe=function(Ge,Ee){var Ue=new Li(Ge,Ee);return Ue.subscribe.bind(Ue)},je.decode=Pe,je.deepCopy=function(Ge){return Te(void 0,Ge)},je.deepExtend=Te,je.errorPrefix=un,je.getUA=Ce,je.isAdmin=function(Ge){var Ee=Pe(Ge).claims;return"object"==typeof Ee&&!0===Ee.admin},je.isBrowser=function(){return"object"==typeof self&&self.self===self},je.isBrowserExtension=function(){var Ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ge&&void 0!==Ge.id},je.isElectron=function(){return Ce().indexOf("Electron/")>=0},je.isEmpty=function(Ge){for(var Ee in Ge)if(Object.prototype.hasOwnProperty.call(Ge,Ee))return!1;return!0},je.isIE=function(){var Ge=Ce();return Ge.indexOf("MSIE ")>=0||Ge.indexOf("Trident/")>=0},je.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},je.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())},je.isNode=_t,je.isNodeSdk=function(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN},je.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},je.isSafari=function(){return!_t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},je.isUWP=function(){return Ce().indexOf("MSAppHost/")>=0},je.isValidFormat=function(Ge){var Ue=Pe(Ge).claims;return!!Ue&&"object"==typeof Ue&&Ue.hasOwnProperty("iat")},je.isValidTimestamp=function(Ge){var Ee=Pe(Ge).claims,Ue=Math.floor((new Date).getTime()/1e3),rt=0,Ze=0;return"object"==typeof Ee&&(Ee.hasOwnProperty("nbf")?rt=Ee.nbf:Ee.hasOwnProperty("iat")&&(rt=Ee.iat),Ze=Ee.hasOwnProperty("exp")?Ee.exp:rt+86400),!!Ue&&!!rt&&!!Ze&&Ue>=rt&&Ue<=Ze},je.issuedAtTime=function(Ge){var Ee=Pe(Ge).claims;return"object"==typeof Ee&&Ee.hasOwnProperty("iat")?Ee.iat:null},je.jsonEval=Le,je.map=function(Ge,Ee,Ue){var rt={};for(var Ze in Ge)Object.prototype.hasOwnProperty.call(Ge,Ze)&&(rt[Ze]=Ee.call(Ue,Ge[Ze],Ze,Ge));return rt},je.querystring=function(Ge){for(var Ee=[],Ue=function(nn,an){Array.isArray(an)?an.forEach(function(Yt){Ee.push(encodeURIComponent(nn)+"="+encodeURIComponent(Yt))}):Ee.push(encodeURIComponent(nn)+"="+encodeURIComponent(an))},rt=0,Ze=Object.entries(Ge);rt<Ze.length;rt++){var Tt=Ze[rt];Ue(Tt[0],Tt[1])}return Ee.length?"&"+Ee.join("&"):""},je.querystringDecode=function(Ge){var Ee={};return Ge.replace(/^\?/,"").split("&").forEach(function(rt){if(rt){var Ze=rt.split("=");Ee[Ze[0]]=Ze[1]}}),Ee},je.safeGet=function(Ge,Ee){if(Object.prototype.hasOwnProperty.call(Ge,Ee))return Ge[Ee]},je.stringLength=function(Ge){for(var Ee=0,Ue=0;Ue<Ge.length;Ue++){var rt=Ge.charCodeAt(Ue);rt<128?Ee++:rt<2048?Ee+=2:rt>=55296&&rt<=56319?(Ee+=4,Ue++):Ee+=3}return Ee},je.stringToByteArray=function(Ge){for(var Ee=[],Ue=0,rt=0;rt<Ge.length;rt++){var Ze=Ge.charCodeAt(rt);if(Ze>=55296&&Ze<=56319){var Tt=Ze-55296;rt++,ee(rt<Ge.length,"Surrogate pair missing trail surrogate."),Ze=65536+(Tt<<10)+(Ge.charCodeAt(rt)-56320)}Ze<128?Ee[Ue++]=Ze:Ze<2048?(Ee[Ue++]=Ze>>6|192,Ee[Ue++]=63&Ze|128):Ze<65536?(Ee[Ue++]=Ze>>12|224,Ee[Ue++]=Ze>>6&63|128,Ee[Ue++]=63&Ze|128):(Ee[Ue++]=Ze>>18|240,Ee[Ue++]=Ze>>12&63|128,Ee[Ue++]=Ze>>6&63|128,Ee[Ue++]=63&Ze|128)}return Ee},je.stringify=function(Ge){return JSON.stringify(Ge)},je.validateArgCount=function(Ge,Ee,Ue,rt){var Ze;if(rt<Ee?Ze="at least "+Ee:rt>Ue&&(Ze=0===Ue?"none":"no more than "+Ue),Ze)throw new Error(Ge+" failed: Was called with "+rt+(1===rt?" argument.":" arguments.")+" Expects "+Ze+".")},je.validateCallback=function(Ge,Ee,Ue,rt){if((!rt||Ue)&&"function"!=typeof Ue)throw new Error(un(Ge,Ee,rt)+"must be a valid function.")},je.validateContextObject=function(Ge,Ee,Ue,rt){if((!rt||Ue)&&("object"!=typeof Ue||null===Ue))throw new Error(un(Ge,Ee,rt)+"must be a valid context object.")},je.validateIndexedDBOpenable=function(){return new Promise(function(Ge,Ee){try{var Ue=!0,rt="validate-browser-context-for-indexeddb-analytics-module",Ze=window.indexedDB.open(rt);Ze.onsuccess=function(){Ze.result.close(),Ue||window.indexedDB.deleteDatabase(rt),Ge(!0)},Ze.onupgradeneeded=function(){Ue=!1},Ze.onerror=function(){var Tt;Ee((null===(Tt=Ze.error)||void 0===Tt?void 0:Tt.message)||"")}}catch(Tt){Ee(Tt)}})},je.validateNamespace=function(Ge,Ee,Ue,rt){if((!rt||Ue)&&"string"!=typeof Ue)throw new Error(un(Ge,Ee,rt)+"must be a valid firebase namespace.")}},2870:(zt,je,de)=>{"use strict";de.r(je),de.d(je,{default:()=>Vr,ErrorCode:()=>Ci,EventType:()=>qo,WebChannel:()=>ar,XhrIo:()=>zo,createWebChannelTransport:()=>is});var I=function(b,k){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ge){Y.__proto__=ge}||function(Y,ge){for(var Ie in ge)Object.prototype.hasOwnProperty.call(ge,Ie)&&(Y[Ie]=ge[Ie])})(b,k)};function ee(b){var k="function"==typeof Symbol&&Symbol.iterator,Y=k&&b[k],ge=0;if(Y)return Y.call(b);if(b&&"number"==typeof b.length)return{next:function(){return b&&ge>=b.length&&(b=void 0),{value:b&&b[ge++],done:!b}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,Qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Be=Be||{},Ae=Qe||self;function ke(){}function ue(b){var k=typeof b;return"object"!=k?k:b?Array.isArray(b)?"array":k:"null"}function oe(b){var k=ue(b);return"array"==k||"object"==k&&"number"==typeof b.length}function Te(b){var k=typeof b;return"object"==k&&null!=b||"function"==k}var Ce="closure_uid_"+(1e9*Math.random()>>>0),it=0;function _t(b,k,Y){return b.call.apply(b.bind,arguments)}function dt(b,k,Y){if(!b)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,ge),b.apply(k,Ie)}}return function(){return b.apply(k,arguments)}}function ot(b,k,Y){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_t:dt).apply(null,arguments)}function Ke(b,k){var Y=Array.prototype.slice.call(arguments,1);return function(){var ge=Y.slice();return ge.push.apply(ge,arguments),b.apply(this,ge)}}var Je=Date.now;function Ft(b,k){function Y(){}Y.prototype=k.prototype,b.S=k.prototype,b.prototype=new Y,b.prototype.constructor=b}function kt(){this.j=this.j,this.i=this.i}kt.prototype.j=!1,kt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(b){Object.prototype.hasOwnProperty.call(b,Ce)&&b[Ce]||(b[Ce]=++it)}(this)},kt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Dn=Array.prototype.indexOf?function(b,k){return Array.prototype.indexOf.call(b,k,void 0)}:function(b,k){if("string"==typeof b)return"string"!=typeof k||1!=k.length?-1:b.indexOf(k,0);for(var Y=0;Y<b.length;Y++)if(Y in b&&b[Y]===k)return Y;return-1},Lt=Array.prototype.forEach?function(b,k,Y){Array.prototype.forEach.call(b,k,Y)}:function(b,k,Y){for(var ge=b.length,Ie="string"==typeof b?b.split(""):b,Xe=0;Xe<ge;Xe++)Xe in Ie&&k.call(Y,Ie[Xe],Xe,b)};function te(b){return Array.prototype.concat.apply([],arguments)}function Z(b){var k=b.length;if(0<k){for(var Y=Array(k),ge=0;ge<k;ge++)Y[ge]=b[ge];return Y}return[]}function le(b){return/^[\s\xa0]*$/.test(b)}var Le,me=String.prototype.trim?function(b){return b.trim()}:function(b){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(b)[1]};function K(b,k){return-1!=b.indexOf(k)}function Ne(b,k){return b<k?-1:b>k?1:0}e:{var Pt=Ae.navigator;if(Pt){var Pe=Pt.userAgent;if(Pe){Le=Pe;break e}}Le=""}function pt(b,k,Y){for(var ge in b)k.call(Y,b[ge],ge,b)}function Nt(b){var k={};for(var Y in b)k[Y]=b[Y];return k}var tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wt(b,k){for(var Y,ge,Ie=1;Ie<arguments.length;Ie++){for(Y in ge=arguments[Ie])b[Y]=ge[Y];for(var Xe=0;Xe<tt.length;Xe++)Y=tt[Xe],Object.prototype.hasOwnProperty.call(ge,Y)&&(b[Y]=ge[Y])}}function bn(b){return bn[" "](b),b}bn[" "]=ke;var Mn,b,gi=K(Le,"Opera"),pn=K(Le,"Trident")||K(Le,"MSIE"),qn=K(Le,"Edge"),Rn=qn||pn,Et=K(Le,"Gecko")&&!(K(Le.toLowerCase(),"webkit")&&!K(Le,"Edge"))&&!(K(Le,"Trident")||K(Le,"MSIE"))&&!K(Le,"Edge"),li=K(Le.toLowerCase(),"webkit")&&!K(Le,"Edge");function Li(){var b=Ae.document;return b?b.documentMode:void 0}e:{var Ht="",rr=(b=Le,Et?/rv:([^\);]+)(\)|;)/.exec(b):qn?/Edge\/([\d\.]+)/.exec(b):pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b):li?/WebKit\/(\S+)/.exec(b):gi?/(?:Version)[ \/]?(\S+)/.exec(b):void 0);if(rr&&(Ht=rr?rr[1]:""),pn){var zn=Li();if(null!=zn&&zn>parseFloat(Ht)){Mn=String(zn);break e}}Mn=Ht}var un={};function lr(b){return function(b,k){var Y=un;return Object.prototype.hasOwnProperty.call(Y,b)?Y[b]:Y[b]=k()}(b,function(){for(var k=0,Y=me(String(Mn)).split("."),ge=me(String(b)).split("."),Ie=Math.max(Y.length,ge.length),Xe=0;0==k&&Xe<Ie;Xe++){var Dt=Y[Xe]||"",xn=ge[Xe]||"";do{if(Dt=/(\d*)(\D*)(.*)/.exec(Dt)||["","","",""],xn=/(\d*)(\D*)(.*)/.exec(xn)||["","","",""],0==Dt[0].length&&0==xn[0].length)break;k=Ne(0==Dt[1].length?0:parseInt(Dt[1],10),0==xn[1].length?0:parseInt(xn[1],10))||Ne(0==Dt[2].length,0==xn[2].length)||Ne(Dt[2],xn[2]),Dt=Dt[3],xn=xn[3]}while(0==k)}return 0<=k})}var zr=Ae.document&&pn&&(Li()||parseInt(Mn,10))||void 0,Yr=!pn||9<=Number(zr),mo=pn&&!lr("9"),Zr=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var b=!1,k=Object.defineProperty({},"passive",{get:function(){b=!0}});try{Ae.addEventListener("test",ke,k),Ae.removeEventListener("test",ke,k)}catch(Y){}return b}();function At(b,k){this.type=b,this.a=this.target=k,this.defaultPrevented=!1}function Qt(b,k){if(At.call(this,b?b.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,b){var Y=this.type=b.type,ge=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.a=k,k=b.relatedTarget){if(Et){e:{try{bn(k.nodeName);var Ie=!0;break e}catch(Xe){}Ie=!1}Ie||(k=null)}}else"mouseover"==Y?k=b.fromElement:"mouseout"==Y&&(k=b.toElement);this.relatedTarget=k,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType="string"==typeof b.pointerType?b.pointerType:mi[b.pointerType]||"",this.c=b,b.defaultPrevented&&this.b()}}At.prototype.b=function(){this.defaultPrevented=!0},Ft(Qt,At);var mi={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var b=this.c;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,mo)try{(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)&&(b.keyCode=-1)}catch(k){}};var Ge="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ue(b,k,Y,ge,Ie){this.listener=b,this.proxy=null,this.src=k,this.type=Y,this.capture=!!ge,this.ca=Ie,this.key=++Ee,this.Y=this.Z=!1}function rt(b){b.Y=!0,b.listener=null,b.proxy=null,b.src=null,b.ca=null}function Ze(b){this.src=b,this.a={},this.b=0}function Tt(b,k){var Y=k.type;if(Y in b.a){var Xe,ge=b.a[Y],Ie=Dn(ge,k);(Xe=0<=Ie)&&Array.prototype.splice.call(ge,Ie,1),Xe&&(rt(k),0==b.a[Y].length&&(delete b.a[Y],b.b--))}}function Vt(b,k,Y,ge){for(var Ie=0;Ie<b.length;++Ie){var Xe=b[Ie];if(!Xe.Y&&Xe.listener==k&&Xe.capture==!!Y&&Xe.ca==ge)return Ie}return-1}Ze.prototype.add=function(b,k,Y,ge,Ie){var Xe=b.toString();(b=this.a[Xe])||(b=this.a[Xe]=[],this.b++);var Dt=Vt(b,k,ge,Ie);return-1<Dt?(k=b[Dt],Y||(k.Z=!1)):((k=new Ue(k,this.src,Xe,!!ge,Ie)).Z=Y,b.push(k)),k};var Jt="closure_lm_"+(1e6*Math.random()|0),nn={};function an(b,k,Y,ge,Ie){if(ge&&ge.once)return br(b,k,Y,ge,Ie);if(Array.isArray(k)){for(var Xe=0;Xe<k.length;Xe++)an(b,k[Xe],Y,ge,Ie);return null}return Y=qi(Y),b&&b[Ge]?b.va(k,Y,Te(ge)?!!ge.capture:!!ge,Ie):Yt(b,k,Y,!1,ge,Ie)}function Yt(b,k,Y,ge,Ie,Xe){if(!k)throw Error("Invalid event type");var Dt=Te(Ie)?!!Ie.capture:!!Ie;if(Dt&&!Yr)return null;var xn=ds(b);if(xn||(b[Jt]=xn=new Ze(b)),(Y=xn.add(k,Y,ge,Dt,Xe)).proxy)return Y;if(ge=function(){var b=Wi,k=Yr?function(Y){return b.call(k.src,k.listener,Y)}:function(Y){if(!(Y=b.call(k.src,k.listener,Y)))return Y};return k}(),Y.proxy=ge,ge.src=b,ge.listener=Y,b.addEventListener)Zr||(Ie=Dt),void 0===Ie&&(Ie=!1),b.addEventListener(k.toString(),ge,Ie);else if(b.attachEvent)b.attachEvent(mr(k.toString()),ge);else{if(!b.addListener||!b.removeListener)throw Error("addEventListener and attachEvent are unavailable.");b.addListener(ge)}return Y}function br(b,k,Y,ge,Ie){if(Array.isArray(k)){for(var Xe=0;Xe<k.length;Xe++)br(b,k[Xe],Y,ge,Ie);return null}return Y=qi(Y),b&&b[Ge]?b.wa(k,Y,Te(ge)?!!ge.capture:!!ge,Ie):Yt(b,k,Y,!0,ge,Ie)}function Fn(b,k,Y,ge,Ie){if(Array.isArray(k))for(var Xe=0;Xe<k.length;Xe++)Fn(b,k[Xe],Y,ge,Ie);else ge=Te(ge)?!!ge.capture:!!ge,Y=qi(Y),b&&b[Ge]?(b=b.c,(k=String(k).toString())in b.a&&-1<(Y=Vt(Xe=b.a[k],Y,ge,Ie))&&(rt(Xe[Y]),Array.prototype.splice.call(Xe,Y,1),0==Xe.length&&(delete b.a[k],b.b--))):b&&(b=ds(b))&&(k=b.a[k.toString()],b=-1,k&&(b=Vt(k,Y,ge,Ie)),(Y=-1<b?k[b]:null)&&oo(Y))}function oo(b){if("number"!=typeof b&&b&&!b.Y){var k=b.src;if(k&&k[Ge])Tt(k.c,b);else{var Y=b.type,ge=b.proxy;k.removeEventListener?k.removeEventListener(Y,ge,b.capture):k.detachEvent?k.detachEvent(mr(Y),ge):k.addListener&&k.removeListener&&k.removeListener(ge),(Y=ds(k))?(Tt(Y,b),0==Y.b&&(Y.src=null,k[Jt]=null)):rt(b)}}}function mr(b){return b in nn?nn[b]:nn[b]="on"+b}function Zn(b,k){var Y=b.listener,ge=b.ca||b.src;return b.Z&&oo(b),Y.call(ge,k)}function Wi(b,k){if(b.Y)return!0;if(!Yr){if(!k)e:{k=["window","event"];for(var Y=Ae,ge=0;ge<k.length;ge++)if(null==(Y=Y[k[ge]])){k=null;break e}k=Y}return Zn(b,k=new Qt(k,this))}return Zn(b,new Qt(k,this))}function ds(b){return(b=b[Jt])instanceof Ze?b:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function qi(b){return"function"==ue(b)?b:(b[ei]||(b[ei]=function(k){return b.handleEvent(k)}),b[ei])}function sn(){kt.call(this),this.c=new Ze(this),this.J=this,this.C=null}function Sr(b,k,Y,ge){if(!(k=b.c.a[String(k)]))return!0;k=k.concat();for(var Ie=!0,Xe=0;Xe<k.length;++Xe){var Dt=k[Xe];if(Dt&&!Dt.Y&&Dt.capture==Y){var xn=Dt.listener,Nn=Dt.ca||Dt.src;Dt.Z&&Tt(b.c,Dt),Ie=!1!==xn.call(Nn,ge)&&Ie}}return Ie&&!ge.defaultPrevented}Ft(sn,kt),sn.prototype[Ge]=!0,(xe=sn.prototype).addEventListener=function(b,k,Y,ge){an(this,b,k,Y,ge)},xe.removeEventListener=function(b,k,Y,ge){Fn(this,b,k,Y,ge)},xe.dispatchEvent=function(b){var k,Y=this.C;if(Y)for(k=[];Y;Y=Y.C)k.push(Y);Y=this.J;var ge=b.type||b;if("string"==typeof b)b=new At(b,Y);else if(b instanceof At)b.target=b.target||Y;else{var Ie=b;wt(b=new At(ge,Y),Ie)}if(Ie=!0,k)for(var Xe=k.length-1;0<=Xe;Xe--){var Dt=b.a=k[Xe];Ie=Sr(Dt,ge,!0,b)&&Ie}if(Ie=Sr(Dt=b.a=Y,ge,!0,b)&&Ie,Ie=Sr(Dt,ge,!1,b)&&Ie,k)for(Xe=0;Xe<k.length;Xe++)Ie=Sr(Dt=b.a=k[Xe],ge,!1,b)&&Ie;return Ie},xe.G=function(){if(sn.S.G.call(this),this.c){var k,b=this.c;for(k in b.a){for(var Y=b.a[k],ge=0;ge<Y.length;ge++)rt(Y[ge]);delete b.a[k],b.b--}}this.C=null},xe.va=function(b,k,Y,ge){return this.c.add(String(b),k,!1,Y,ge)},xe.wa=function(b,k,Y,ge){return this.c.add(String(b),k,!0,Y,ge)};var En=Ae.JSON.stringify;function zi(){this.b=this.a=null}var dr,kn=new(function(){function b(k,Y,ge){this.f=ge,this.c=k,this.g=Y,this.b=0,this.a=null}return b.prototype.get=function(){var k;return 0<this.b?(this.b--,this.a=(k=this.a).next,k.next=null):k=this.c(),k},b}())(function(){return new Io},function(b){b.reset()},100);function Vi(){var b=_o,k=null;return b.a&&(k=b.a,b.a=b.a.next,b.a||(b.b=null),k.next=null),k}function Io(){this.next=this.b=this.a=null}function Vo(b){Ae.setTimeout(function(){throw b},0)}function Lr(b,k){dr||function(){var b=Ae.Promise.resolve(void 0);dr=function(){b.then(ti)}}(),Ur||(dr(),Ur=!0),_o.add(b,k)}zi.prototype.add=function(b,k){var Y=kn.get();Y.set(b,k),this.b?this.b.next=Y:this.a=Y,this.b=Y},Io.prototype.set=function(b,k){this.a=b,this.b=k,this.next=null},Io.prototype.reset=function(){this.next=this.b=this.a=null};var Ur=!1,_o=new zi;function ti(){for(var b;b=Vi();){try{b.a.call(b.b)}catch(Y){Vo(Y)}var k=kn;k.g(b),k.b<k.f&&(k.b++,b.next=k.a,k.a=b)}Ur=!1}function It(b,k){sn.call(this),this.b=b||1,this.a=k||Ae,this.f=ot(this.Ya,this),this.g=Je()}function _n(b){b.aa=!1,b.M&&(b.a.clearTimeout(b.M),b.M=null)}function rn(b,k,Y){if("function"==ue(b))Y&&(b=ot(b,Y));else{if(!b||"function"!=typeof b.handleEvent)throw Error("Invalid listener argument");b=ot(b.handleEvent,b)}return 2147483647<Number(k)?-1:Ae.setTimeout(b,k||0)}function ni(b){b.a=rn(function(){b.a=null,b.c&&(b.c=!1,ni(b))},b.h);var k=b.b;b.b=null,b.g.apply(null,k)}Ft(It,sn),(xe=It.prototype).aa=!1,xe.M=null,xe.Ya=function(){if(this.aa){var b=Je()-this.g;0<b&&b<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-b):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(_n(this),this.start()))}},xe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Je())},xe.G=function(){It.S.G.call(this),_n(this),delete this.a};var ri=function(b){function k(Y,ge,Ie){var Xe=b.call(this)||this;return Xe.g=null!=Ie?Y.bind(Ie):Y,Xe.h=ge,Xe.b=null,Xe.c=!1,Xe.a=null,Xe}return function(b,k){function Y(){this.constructor=b}I(b,k),b.prototype=null===k?Object.create(k):(Y.prototype=k.prototype,new Y)}(k,b),k.prototype.f=function(Y){this.b=arguments,this.a?this.c=!0:ni(this)},k.prototype.G=function(){b.prototype.G.call(this),this.a&&(Ae.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},k}(kt);function _r(b){kt.call(this),this.b=b,this.a={}}Ft(_r,kt);var ii=[];function wr(b,k,Y,ge){Array.isArray(Y)||(Y&&(ii[0]=Y.toString()),Y=ii);for(var Ie=0;Ie<Y.length;Ie++){var Xe=an(k,Y[Ie],ge||b.handleEvent,!1,b.b||b);if(!Xe)break;b.a[Xe.key]=Xe}}function yo(b){pt(b.a,function(k,Y){this.a.hasOwnProperty(Y)&&oo(k)},b),b.a={}}function $r(){this.a=!0}function Nr(b,k,Y,ge){b.info(function(){return"XMLHTTP TEXT ("+k+"): "+function(b,k){if(!b.a)return k;if(!k)return null;try{var Y=JSON.parse(k);if(Y)for(b=0;b<Y.length;b++)if(Array.isArray(Y[b])){var ge=Y[b];if(!(2>ge.length)){var Ie=ge[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var Xe=Ie[0];if("noop"!=Xe&&"stop"!=Xe&&"close"!=Xe)for(var Dt=1;Dt<Ie.length;Dt++)Ie[Dt]=""}}}return En(Y)}catch(xn){return k}}(b,Y)+(ge?" "+ge:"")})}_r.prototype.G=function(){_r.S.G.call(this),yo(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$r.prototype.info=function(){};var Cr=null;function Kt(){return Cr=Cr||new sn}function wn(b){At.call(this,"serverreachability",b)}function ir(b){var k=Kt();k.dispatchEvent(new wn(k,b))}function Vn(b){At.call(this,"statevent",b)}function Sn(b){var k=Kt();k.dispatchEvent(new Vn(k,b))}function Bo(b){At.call(this,"timingevent",b)}function Wr(b,k){if("function"!=ue(b))throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){b()},k)}Ft(wn,At),Ft(Vn,At),Ft(Bo,At);var vi={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},or={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Zi(){}function Ar(){}Zi.prototype.a=null;var No,Qi={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function oi(){At.call(this,"d")}function Qr(){At.call(this,"c")}function vo(){}function so(b,k,Y,ge){this.g=b,this.c=k,this.f=Y,this.T=ge||1,this.J=new _r(this),this.P=Mr,this.R=new It(b=Rn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ft(oi,At),Ft(Qr,At),Ft(vo,Zi),No=new vo;var Mr=45e3,Jr={},ts={};function bi(b,k,Y){b.H=1,b.i=lo(xi(k)),b.j=Y,b.I=!0,si(b,null)}function si(b,k){b.u=Je(),xr(b),b.l=xi(b.i);var Y=b.l,ge=b.T;Array.isArray(ge)||(ge=[String(ge)]),j(Y.b,"t",ge),b.D=0,b.a=ps(b.g,b.g.C?k:null),0<b.O&&(b.F=new ri(ot(b.Ca,b,b.a),b.O)),wr(b.J,b.a,"readystatechange",b.Wa),k=b.B?Nt(b.B):{},b.j?(b.m||(b.m="POST"),k["Content-Type"]="application/x-www-form-urlencoded",b.a.ba(b.l,b.m,b.j,k)):(b.m="GET",b.a.ba(b.l,b.m,null,k)),ir(1),function(b,k,Y,ge,Ie,Xe){b.info(function(){if(b.a)if(Xe)for(var Dt="",xn=Xe.split("&"),Nn=0;Nn<xn.length;Nn++){var Pr=xn[Nn].split("=");if(1<Pr.length){var Do=Pr[0];Pr=Pr[1];var hi=Do.split("_");Dt=2<=hi.length&&"type"==hi[1]?Dt+(Do+"=")+Pr+"&":Dt+(Do+"=redacted&")}}else Dt=null;else Dt=Xe;return"XMLHTTP REQ ("+ge+") [attempt "+Ie+"]: "+k+"\n"+Y+"\n"+Dt})}(b.c,b.m,b.l,b.f,b.T,b.j)}function Uo(b,k,Y){for(var ge=!0;!b.A&&b.D<Y.length;){var Ie=Ao(b,Y);if(Ie==ts){4==k&&(b.h=4,Sn(14),ge=!1),Nr(b.c,b.f,null,"[Incomplete Response]");break}if(Ie==Jr){b.h=4,Sn(15),Nr(b.c,b.f,Y,"[Invalid Chunk]"),ge=!1;break}Nr(b.c,b.f,Ie,null),Kn(b,Ie)}4==k&&0==Y.length&&(b.h=1,Sn(16),ge=!1),b.b=b.b&&ge,ge?0<Y.length&&!b.W&&(b.W=!0,(k=b.g).a==b&&k.V&&!k.F&&(k.c.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Ii(k),k.F=!0)):(Nr(b.c,b.f,Y,"[Invalid Chunked Response]"),fs(b),bo(b))}function Ao(b,k){var Y=b.D,ge=k.indexOf("\n",Y);return-1==ge?ts:(Y=Number(k.substring(Y,ge)),isNaN(Y)?Jr:(ge+=1)+Y>k.length?ts:(k=k.substr(ge,Y),b.D=ge+Y,k))}function xr(b){b.U=Je()+b.P,Rr(b,b.P)}function Rr(b,k){if(null!=b.o)throw Error("WatchDog timer not null");b.o=Wr(ot(b.Ua,b),k)}function jo(b){b.o&&(Ae.clearTimeout(b.o),b.o=null)}function bo(b){0==b.g.v||b.A||na(b.g,b)}function fs(b){jo(b);var k=b.F;k&&"function"==typeof k.ja&&k.ja(),b.F=null,_n(b.R),yo(b.J),b.a&&(k=b.a,b.a=null,k.abort(),k.ja())}function Kn(b,k){try{var Y=b.g;if(0!=Y.v&&(Y.a==b||fn(Y.b,b)))if(Y.I=b.N,!b.C&&fn(Y.b,b)&&3==Y.v){try{var ge=Y.ka.a.parse(k)}catch(Zs){ge=null}if(Array.isArray(ge)&&3==ge.length){var Ie=ge;if(0==Ie[0])e:if(Y.j)Y.oa=Ie[1],0<Y.oa-Y.P&&37500>Ie[2]&&Y.H&&0==Y.o&&!Y.m&&(Y.m=Wr(ot(Y.Ra,Y),6e3));else{if(Y.a){if(!(Y.a.u+3e3<b.u))break e;ks(Y),Wo(Y)}fi(Y),Sn(18)}if(1>=qt(Y.b)&&Y.ea){try{Y.ea()}catch(Zs){}Y.ea=void 0}}else eo(Y,11)}else if((b.C||Y.a==b)&&ks(Y),!le(k))for(k=ge=Y.ka.a.parse(k),ge=0;ge<k.length;ge++)if(Y.P=(Ie=k[ge])[0],Ie=Ie[1],2==Y.v)if("c"==Ie[0]){Y.J=Ie[1],Y.ga=Ie[2];var Xe=Ie[3];null!=Xe&&(Y.ha=Xe,Y.c.info("VER="+Y.ha));var Dt=Ie[4];null!=Dt&&(Y.pa=Dt,Y.c.info("SVER="+Y.pa));var xn=Ie[5];if(null!=xn&&"number"==typeof xn&&0<xn){var Nn=1.5*xn;Y.D=Nn,Y.c.info("backChannelRequestTimeoutMs_="+Nn)}Nn=Y;var Pr=b.a;if(Pr){var Do=Pr.a?Pr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var hi=Nn.b;!hi.a&&(K(Do,"spdy")||K(Do,"quic")||K(Do,"h2"))&&(hi.f=hi.g,hi.a=new Set,hi.b&&(er(hi,hi.b),hi.b=null))}if(Nn.A){var Fi=Pr.a?Pr.a.getResponseHeader("X-HTTP-Session-Id"):null;Fi&&(Nn.na=Fi,Xn(Nn.B,Nn.A,Fi))}}Y.v=3,Y.f&&Y.f.ta(),Y.V&&(Y.N=Je()-b.u,Y.c.info("Handshake RTT: "+Y.N+"ms"));var Ls=b;if((Nn=Y).la=rs(Nn,Nn.C?Nn.ga:null,Nn.fa),Ls.C){jn(Nn.b,Ls);var Dr=Ls,hn=Nn.D;hn&&Dr.setTimeout(hn),Dr.o&&(jo(Dr),xr(Dr)),Nn.a=Ls}else ns(Nn);0<Y.g.length&&xo(Y)}else"stop"!=Ie[0]&&"close"!=Ie[0]||eo(Y,7);else 3==Y.v&&("stop"==Ie[0]||"close"==Ie[0]?"stop"==Ie[0]?eo(Y,7):Cs(Y):"noop"!=Ie[0]&&Y.f&&Y.f.sa(Ie),Y.o=0);ir(4)}catch(Zs){}}function wo(b,k){if(b.forEach&&"function"==typeof b.forEach)b.forEach(k,void 0);else if(oe(b)||"string"==typeof b)Lt(b,k,void 0);else{if(b.L&&"function"==typeof b.L)var Y=b.L();else if(b.K&&"function"==typeof b.K)Y=void 0;else if(oe(b)||"string"==typeof b){Y=[];for(var ge=b.length,Ie=0;Ie<ge;Ie++)Y.push(Ie)}else for(Ie in Y=[],ge=0,b)Y[ge++]=Ie;Ie=(ge=function(b){if(b.K&&"function"==typeof b.K)return b.K();if("string"==typeof b)return b.split("");if(oe(b)){for(var k=[],Y=b.length,ge=0;ge<Y;ge++)k.push(b[ge]);return k}for(ge in k=[],Y=0,b)k[Y++]=b[ge];return k}(b)).length;for(var Xe=0;Xe<Ie;Xe++)k.call(void 0,ge[Xe],Y&&Y[Xe],b)}}function Ji(b,k){this.b={},this.a=[],this.c=0;var Y=arguments.length;if(1<Y){if(Y%2)throw Error("Uneven number of arguments");for(var ge=0;ge<Y;ge+=2)this.set(arguments[ge],arguments[ge+1])}else if(b)if(b instanceof Ji)for(Y=b.L(),ge=0;ge<Y.length;ge++)this.set(Y[ge],b.get(Y[ge]));else for(ge in b)this.set(ge,b[ge])}function Mi(b){if(b.c!=b.a.length){for(var k=0,Y=0;k<b.a.length;){var ge=b.a[k];Ki(b.b,ge)&&(b.a[Y++]=ge),k++}b.a.length=Y}if(b.c!=b.a.length){var Ie={};for(Y=k=0;k<b.a.length;)Ki(Ie,ge=b.a[k])||(b.a[Y++]=ge,Ie[ge]=1),k++;b.a.length=Y}}function Ki(b,k){return Object.prototype.hasOwnProperty.call(b,k)}(xe=so.prototype).setTimeout=function(b){this.P=b},xe.Wa=function(b){b=b.target;var k=this.F;k&&3==Er(b)?k.f():this.Ca(b)},xe.Ca=function(b){try{if(b==this.a)e:{var k=Er(this.a),Y=this.a.ua(),ge=this.a.X();if(!(3>k||3==k&&!Rn&&!this.a.$())){this.A||4!=k||7==Y||ir(8==Y||0>=ge?3:2),jo(this);var Ie=this.a.X();this.N=Ie;var Xe=this.a.$();if(this.b=200==Ie,function(b,k,Y,ge,Ie,Xe,Dt){b.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Ie+"]: "+k+"\n"+Y+"\n"+Xe+" "+Dt})}(this.c,this.m,this.l,this.f,this.T,k,Ie),this.b){if(this.V&&!this.C){t:{if(this.a){var Dt,xn=this.a;if((Dt=xn.a?xn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Dt)){var Nn=Dt;break t}}Nn=null}if(!Nn){this.b=!1,this.h=3,Sn(12),fs(this),bo(this);break e}Nr(this.c,this.f,Nn,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Kn(this,Nn)}this.I?(Uo(this,k,Xe),Rn&&this.b&&3==k&&(wr(this.J,this.R,"tick",this.Va),this.R.start())):(Nr(this.c,this.f,Xe,null),Kn(this,Xe)),4==k&&fs(this),this.b&&!this.A&&(4==k?na(this.g,this):(this.b=!1,xr(this)))}else 400==Ie&&0<Xe.indexOf("Unknown SID")?(this.h=3,Sn(12)):(this.h=0,Sn(13)),fs(this),bo(this)}}}catch(Pr){}},xe.Va=function(){if(this.a){var b=Er(this.a),k=this.a.$();this.D<k.length&&(jo(this),Uo(this,b,k),this.b&&4!=b&&xr(this))}},xe.cancel=function(){this.A=!0,fs(this)},xe.Ua=function(){this.o=null;var b=Je();0<=b-this.U?(function(b,k){b.info(function(){return"TIMEOUT: "+k})}(this.c,this.l),2!=this.H&&(ir(3),Sn(17)),fs(this),this.h=2,bo(this)):Rr(this,this.U-b)},(xe=Ji.prototype).K=function(){Mi(this);for(var b=[],k=0;k<this.a.length;k++)b.push(this.b[this.a[k]]);return b},xe.L=function(){return Mi(this),this.a.concat()},xe.get=function(b,k){return Ki(this.b,b)?this.b[b]:k},xe.set=function(b,k){Ki(this.b,b)||(this.c++,this.a.push(b)),this.b[b]=k},xe.forEach=function(b,k){for(var Y=this.L(),ge=0;ge<Y.length;ge++){var Ie=Y[ge],Xe=this.get(Ie);b.call(k,Xe,Ie,this)}};var gn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ci(b,k){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,b instanceof ci){this.a=void 0!==k?k:b.a,ao(this,b.f),this.j=b.j,Co(this,b.c),Ri(this,b.h),this.g=b.g,k=b.b;var Y=new F;Y.c=k.c,k.a&&(Y.a=new Ji(k.a),Y.b=k.b),uo(this,Y),this.i=b.i}else b&&(Y=String(b).match(gn))?(this.a=!!k,ao(this,Y[1]||"",!0),this.j=Oi(Y[2]||""),Co(this,Y[3]||"",!0),Ri(this,Y[4]),this.g=Oi(Y[5]||"",!0),uo(this,Y[6]||"",!0),this.i=Oi(Y[7]||"")):(this.a=!!k,this.b=new F(null,this.a))}function xi(b){return new ci(b)}function ao(b,k,Y){b.f=Y?Oi(k,!0):k,b.f&&(b.f=b.f.replace(/:$/,""))}function Co(b,k,Y){b.c=Y?Oi(k,!0):k}function Ri(b,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);b.h=k}else b.h=null}function uo(b,k,Y){k instanceof F?(b.b=k,function(b,k){k&&!b.f&&(ae(b),b.c=null,b.a.forEach(function(Y,ge){var Ie=ge.toLowerCase();ge!=Ie&&(ut(this,ge),j(this,Ie,Y))},b)),b.f=k}(b.b,b.a)):(Y||(k=Pi(k,$)),b.b=new F(k,b.a))}function Xn(b,k,Y){b.b.set(k,Y)}function lo(b){return Xn(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Je()).toString(36)),b}function Oi(b,k){return b?k?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Pi(b,k,Y){return"string"==typeof b?(b=encodeURI(b).replace(k,Mo),Y&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Mo(b){return"%"+((b=b.charCodeAt(0))>>4&15).toString(16)+(15&b).toString(16)}ci.prototype.toString=function(){var b=[],k=this.f;k&&b.push(Pi(k,Bi,!0),":");var Y=this.c;return(Y||"file"==k)&&(b.push("//"),(k=this.j)&&b.push(Pi(k,Bi,!0),"@"),b.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.h)&&b.push(":",String(Y))),(Y=this.g)&&(this.c&&"/"!=Y.charAt(0)&&b.push("/"),b.push(Pi(Y,"/"==Y.charAt(0)?jr:qs,!0))),(Y=this.b.toString())&&b.push("?",Y),(Y=this.i)&&b.push("#",Pi(Y,H)),b.join("")};var Bi=/[#\/\?@]/g,qs=/[#\?:]/g,jr=/[#\?]/g,$=/[#\?@]/g,H=/#/g;function F(b,k){this.b=this.a=null,this.c=b||null,this.f=!!k}function ae(b){b.a||(b.a=new Ji,b.b=0,b.c&&function(b,k){if(b){b=b.split("&");for(var Y=0;Y<b.length;Y++){var ge=b[Y].indexOf("="),Ie=null;if(0<=ge){var Xe=b[Y].substring(0,ge);Ie=b[Y].substring(ge+1)}else Xe=b[Y];k(Xe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}(b.c,function(k,Y){b.add(decodeURIComponent(k.replace(/\+/g," ")),Y)}))}function ut(b,k){ae(b),k=re(b,k),Ki(b.a.b,k)&&(b.c=null,b.b-=b.a.get(k).length,Ki((b=b.a).b,k)&&(delete b.b[k],b.c--,b.a.length>2*b.c&&Mi(b)))}function xt(b,k){return ae(b),k=re(b,k),Ki(b.a.b,k)}function j(b,k,Y){ut(b,k),0<Y.length&&(b.c=null,b.a.set(re(b,k),Z(Y)),b.b+=Y.length)}function re(b,k){return k=String(k),b.f&&(k=k.toLowerCase()),k}function fe(b,k){this.b=b,this.a=k}function Se(b){this.g=b||ct,b=Ae.PerformanceNavigationTiming?0<(b=Ae.performance.getEntriesByType("navigation")).length&&("hq"==b[0].nextHopProtocol||"h2"==b[0].nextHopProtocol):!!(Ae.ia&&Ae.ia.ya&&Ae.ia.ya()&&Ae.ia.ya().qb),this.f=b?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(xe=F.prototype).add=function(b,k){ae(this),this.c=null,b=re(this,b);var Y=this.a.get(b);return Y||this.a.set(b,Y=[]),Y.push(k),this.b+=1,this},xe.forEach=function(b,k){ae(this),this.a.forEach(function(Y,ge){Lt(Y,function(Ie){b.call(k,Ie,ge,this)},this)},this)},xe.L=function(){ae(this);for(var b=this.a.K(),k=this.a.L(),Y=[],ge=0;ge<k.length;ge++)for(var Ie=b[ge],Xe=0;Xe<Ie.length;Xe++)Y.push(k[ge]);return Y},xe.K=function(b){ae(this);var k=[];if("string"==typeof b)xt(this,b)&&(k=te(k,this.a.get(re(this,b))));else{b=this.a.K();for(var Y=0;Y<b.length;Y++)k=te(k,b[Y])}return k},xe.set=function(b,k){return ae(this),this.c=null,xt(this,b=re(this,b))&&(this.b-=this.a.get(b).length),this.a.set(b,[k]),this.b+=1,this},xe.get=function(b,k){return b&&0<(b=this.K(b)).length?String(b[0]):k},xe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var b=[],k=this.a.L(),Y=0;Y<k.length;Y++){var ge=k[Y],Ie=encodeURIComponent(String(ge));ge=this.K(ge);for(var Xe=0;Xe<ge.length;Xe++){var Dt=Ie;""!==ge[Xe]&&(Dt+="="+encodeURIComponent(String(ge[Xe]))),b.push(Dt)}}return this.c=b.join("&")};var ct=10;function vt(b){return!!b.b||!!b.a&&b.a.size>=b.f}function qt(b){return b.b?1:b.a?b.a.size:0}function fn(b,k){return b.b?b.b==k:!!b.a&&b.a.has(k)}function er(b,k){b.a?b.a.add(k):b.b=k}function jn(b,k){b.b&&b.b==k?b.b=null:b.a&&b.a.has(k)&&b.a.delete(k)}function Cn(b){var k,Y;if(null!=b.b)return b.c.concat(b.b.s);if(null!=b.a&&0!==b.a.size){var ge=b.c;try{for(var Ie=ee(b.a.values()),Xe=Ie.next();!Xe.done;Xe=Ie.next())ge=ge.concat(Xe.value.s)}catch(xn){k={error:xn}}finally{try{Xe&&!Xe.done&&(Y=Ie.return)&&Y.call(Ie)}finally{if(k)throw k.error}}return ge}return Z(b.c)}function Hn(){}function sr(){this.a=new Hn}function ai(b,k,Y){var ge=Y||"";try{wo(b,function(Ie,Xe){var Dt=Ie;Te(Ie)&&(Dt=En(Ie)),k.push(ge+Xe+"="+encodeURIComponent(Dt))})}catch(Ie){throw k.push(ge+"type="+encodeURIComponent("_badmap")),Ie}}function Kr(b,k,Y,ge,Ie){try{k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null,Ie(ge)}catch(Xe){}}Se.prototype.cancel=function(){var b,k;if(this.c=Cn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var Y=ee(this.a.values()),ge=Y.next();!ge.done;ge=Y.next())ge.value.cancel()}catch(Xe){b={error:Xe}}finally{try{ge&&!ge.done&&(k=Y.return)&&k.call(Y)}finally{if(b)throw b.error}}this.a.clear()}},Hn.prototype.stringify=function(b){return Ae.JSON.stringify(b,void 0)},Hn.prototype.parse=function(b){return Ae.JSON.parse(b,void 0)};var Fs=Ae.JSON.parse;function fr(b){sn.call(this),this.headers=new Ji,this.H=b||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rt,this.D=this.F=!1}Ft(fr,sn);var Rt="",ui=/^https?$/i,hs=["POST","PUT"];function fu(b){return"content-type"==b.toLowerCase()}function $o(b,k){b.b=!1,b.a&&(b.g=!0,b.a.abort(),b.g=!1),b.f=k,b.h=5,_a(b),mt(b)}function _a(b){b.u||(b.u=!0,b.dispatchEvent("complete"),b.dispatchEvent("error"))}function Si(b){if(b.b&&void 0!==Be&&(!b.s[1]||4!=Er(b)||2!=b.X()))if(b.l&&4==Er(b))rn(b.za,0,b);else if(b.dispatchEvent("readystatechange"),4==Er(b)){b.b=!1;try{var ge,k=b.X();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}if(!(ge=Y)){var Ie;if(Ie=0===k){var Xe=String(b.B).match(gn)[1]||null;if(!Xe&&Ae.self&&Ae.self.location){var Dt=Ae.self.location.protocol;Xe=Dt.substr(0,Dt.length-1)}Ie=!ui.test(Xe?Xe.toLowerCase():"")}ge=Ie}if(ge)b.dispatchEvent("complete"),b.dispatchEvent("success");else{b.h=6;try{var xn=2<Er(b)?b.a.statusText:""}catch(Nn){xn=""}b.f=xn+" ["+b.X()+"]",_a(b)}}finally{mt(b)}}}function mt(b,k){if(b.a){Bn(b);var Y=b.a,ge=b.s[0]?ke:null;b.a=null,b.s=null,k||b.dispatchEvent("ready");try{Y.onreadystatechange=ge}catch(Ie){}}}function Bn(b){b.a&&b.D&&(b.a.ontimeout=null),b.m&&(Ae.clearTimeout(b.m),b.m=null)}function Er(b){return b.a?b.a.readyState:0}function di(b,k,Y){e:{for(ge in Y){var ge=!1;break e}ge=!0}ge||(Y=function(b){var k="";return pt(b,function(Y,ge){k+=ge,k+=":",k+=Y,k+="\r\n"}),k}(Y),"string"==typeof b?null!=Y&&encodeURIComponent(String(Y)):Xn(b,k,Y))}function wi(b,k,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[b]||k}function On(b){this.pa=0,this.g=[],this.c=new $r,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=wi("failFast",!1,b),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=wi("baseRetryDelayMs",5e3,b),this.Ma=wi("retryDelaySeedMs",1e4,b),this.Ja=wi("forwardChannelMaxRetries",2,b),this.ma=wi("forwardChannelRequestTimeoutMs",2e4,b),this.Ka=b&&b.g||void 0,this.D=void 0,this.C=b&&b.supportsCrossDomainXhr||!1,this.J="",this.b=new Se(b&&b.concurrentRequestLimit),this.ka=new sr,this.da=b&&b.fastHandshake||!1,this.Ga=b&&b.b||!1,b&&b.f&&(this.c.a=!1),b&&b.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&b&&b.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Cs(b){if(qa(b),3==b.v){var k=b.R++,Y=xi(b.B);Xn(Y,"SID",b.J),Xn(Y,"RID",k),Xn(Y,"TYPE","terminate"),hr(b,Y),(k=new so(b,b.c,k,void 0)).H=2,k.i=lo(xi(Y)),Y=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(Y=Ae.navigator.sendBeacon(k.i.toString(),"")),!Y&&Ae.Image&&((new Image).src=k.i,Y=!0),Y||(k.a=ps(k.g,null),k.a.ba(k.i)),k.u=Je(),xr(k)}Ys(b)}function Wo(b){b.a&&(Ii(b),b.a.cancel(),b.a=null)}function qa(b){Wo(b),b.j&&(Ae.clearTimeout(b.j),b.j=null),ks(b),b.b.cancel(),b.h&&("number"==typeof b.h&&Ae.clearTimeout(b.h),b.h=null)}function Es(b,k){b.g.push(new fe(b.La++,k)),3==b.v&&xo(b)}function xo(b){vt(b.b)||b.h||(b.h=!0,Lr(b.Ba,b),b.u=0)}function In(b,k){var Y;Y=k?k.f:b.R++;var ge=xi(b.B);Xn(ge,"SID",b.J),Xn(ge,"RID",Y),Xn(ge,"AID",b.P),hr(b,ge),b.i&&b.l&&di(ge,b.i,b.l),Y=new so(b,b.c,Y,b.u+1),null===b.i&&(Y.B=b.l),k&&(b.g=k.s.concat(b.g)),k=Ro(b,Y,1e3),Y.setTimeout(Math.round(.5*b.ma)+Math.round(.5*b.ma*Math.random())),er(b.b,Y),bi(Y,ge,k)}function hr(b,k){b.f&&wo({},function(Y,ge){Xn(k,ge,Y)})}function Ro(b,k,Y){Y=Math.min(b.g.length,Y);var ge=b.f?ot(b.f.Ha,b.f,b):null;e:for(var Ie=b.g,Xe=-1;;){var Dt=["count="+Y];-1==Xe?0<Y?Dt.push("ofs="+(Xe=Ie[0].b)):Xe=0:Dt.push("ofs="+Xe);for(var xn=!0,Nn=0;Nn<Y;Nn++){var Pr=Ie[Nn].b,Do=Ie[Nn].a;if(0>(Pr-=Xe))Xe=Math.max(0,Ie[Nn].b-100),xn=!1;else try{ai(Do,Dt,"req"+Pr+"_")}catch(hi){ge&&ge(Do)}}if(xn){ge=Dt.join("&");break e}}return b=b.g.splice(0,Y),k.s=b,ge}function ns(b){b.a||b.j||(b.U=1,Lr(b.Aa,b),b.o=0)}function fi(b){return!(b.a||b.j||3<=b.o||(b.U++,b.j=Wr(ot(b.Aa,b),Hr(b,b.o)),b.o++,0))}function Ii(b){null!=b.s&&(Ae.clearTimeout(b.s),b.s=null)}function xa(b){b.a=new so(b,b.c,"rpc",b.U),null===b.i&&(b.a.B=b.l),b.a.O=0;var k=xi(b.la);Xn(k,"RID","rpc"),Xn(k,"SID",b.J),Xn(k,"CI",b.H?"0":"1"),Xn(k,"AID",b.P),hr(b,k),Xn(k,"TYPE","xmlhttp"),b.i&&b.l&&di(k,b.i,b.l),b.D&&b.a.setTimeout(b.D);var Y=b.a;b=b.ga,Y.H=1,Y.i=lo(xi(k)),Y.j=null,Y.I=!0,si(Y,b)}function ks(b){null!=b.m&&(Ae.clearTimeout(b.m),b.m=null)}function na(b,k){var Y=null;if(b.a==k){ks(b),Ii(b),b.a=null;var ge=2}else{if(!fn(b.b,k))return;Y=k.s,jn(b.b,k),ge=1}if(b.I=k.N,0!=b.v)if(k.b)if(1==ge){Y=k.j?k.j.length:0,k=Je()-k.u;var Ie=b.u;(ge=Kt()).dispatchEvent(new Bo(ge,Y,k,Ie)),xo(b)}else ns(b);else if(3==(Ie=k.h)||0==Ie&&0<b.I||!(1==ge&&function(b,k){return!(qt(b.b)>=b.b.f-(b.h?1:0)||(b.h?(b.g=k.s.concat(b.g),0):1==b.v||2==b.v||b.u>=(b.Ia?0:b.Ja)||(b.h=Wr(ot(b.Ba,b,k),Hr(b,b.u)),b.u++,0)))}(b,k)||2==ge&&fi(b)))switch(Y&&0<Y.length&&(k=b.b,k.c=k.c.concat(Y)),Ie){case 1:eo(b,5);break;case 4:eo(b,10);break;case 3:eo(b,6);break;default:eo(b,2)}}function Hr(b,k){var Y=b.Fa+Math.floor(Math.random()*b.Ma);return b.f||(Y*=2),Y*k}function eo(b,k){if(b.c.info("Error code "+k),2==k){var Y=null;b.f&&(Y=null);var ge=ot(b.Xa,b);Y||(Y=new ci("//www.google.com/images/cleardot.gif"),Ae.location&&"http"==Ae.location.protocol||ao(Y,"https"),lo(Y)),function(b,k){var Y=new $r;if(Ae.Image){var ge=new Image;ge.onload=Ke(Kr,Y,ge,"TestLoadImage: loaded",!0,k),ge.onerror=Ke(Kr,Y,ge,"TestLoadImage: error",!1,k),ge.onabort=Ke(Kr,Y,ge,"TestLoadImage: abort",!1,k),ge.ontimeout=Ke(Kr,Y,ge,"TestLoadImage: timeout",!1,k),Ae.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=b}else k(!1)}(Y.toString(),ge)}else Sn(2);b.v=0,b.f&&b.f.ra(k),Ys(b),qa(b)}function Ys(b){b.v=0,b.I=-1,b.f&&((0!=Cn(b.b).length||0!=b.g.length)&&(b.b.c.length=0,Z(b.g),b.g.length=0),b.f.qa())}function rs(b,k,Y){var ge=function(b){return b instanceof ci?xi(b):new ci(b,void 0)}(Y);if(""!=ge.c)k&&Co(ge,k+"."+ge.c),Ri(ge,ge.h);else{var Ie=Ae.location;ge=function(b,k,Y,ge){var Ie=new ci(null,void 0);return b&&ao(Ie,b),k&&Co(Ie,k),Y&&Ri(Ie,Y),ge&&(Ie.g=ge),Ie}(Ie.protocol,k?k+"."+Ie.hostname:Ie.hostname,+Ie.port,Y)}return b.W&&pt(b.W,function(Xe,Dt){Xn(ge,Dt,Xe)}),Y=b.na,(k=b.A)&&Y&&Xn(ge,k,Y),Xn(ge,"VER",b.ha),hr(b,ge),ge}function ps(b,k){if(k&&!b.C)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new fr(b.Ka)).F=b.C,k}function ya(){}function Ds(){if(pn&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function nr(b,k){sn.call(this),this.a=new On(k),this.l=b,this.b=k&&k.messageUrlParams||null,b=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.a.l=b,b=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(b?b["X-WebChannel-Content-Type"]=k.messageContentType:b={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.a&&(b?b["X-WebChannel-Client-Profile"]=k.a:b={"X-WebChannel-Client-Profile":k.a}),this.a.O=b,(b=k&&k.httpHeadersOverwriteParam)&&!le(b)&&(this.a.i=b),this.h=k&&k.supportsCrossDomainXhr||!1,this.g=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!le(k)&&(this.a.A=k,null!==(b=this.b)&&k in b&&k in(b=this.b)&&delete b[k]),this.f=new pr(this)}function Or(b){oi.call(this);var k=b.__sm__;if(k){e:{for(var Y in k){b=Y;break e}b=void 0}(this.c=b)?(b=this.c,this.data=null!==k&&b in k?k[b]:void 0):this.data=k}else this.data=b}function Ct(){Qr.call(this),this.status=1}function pr(b){this.a=b}(xe=fr.prototype).ba=function(b,k,Y,ge){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+b);k=k?k.toUpperCase():"GET",this.B=b,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(b){var k;return(k=b.a)||(k=b.a={}),k}(this.H?this.H:No),this.a.onreadystatechange=ot(this.za,this);try{this.A=!0,this.a.open(k,String(b),!0),this.A=!1}catch(Xe){return void $o(this,Xe)}b=Y||"";var Ie=new Ji(this.headers);ge&&wo(ge,function(Xe,Dt){Ie.set(Dt,Xe)}),ge=function(b){e:{for(var k=fu,Y=b.length,ge="string"==typeof b?b.split(""):b,Ie=0;Ie<Y;Ie++)if(Ie in ge&&k.call(void 0,ge[Ie],Ie,b)){k=Ie;break e}k=-1}return 0>k?null:"string"==typeof b?b.charAt(k):b[k]}(Ie.L()),Y=Ae.FormData&&b instanceof Ae.FormData,!(0<=Dn(hs,k))||ge||Y||Ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Ie.forEach(function(Xe,Dt){this.a.setRequestHeader(Dt,Xe)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bn(this),0<this.o&&((this.D=function(b){return pn&&lr(9)&&"number"==typeof b.timeout&&void 0!==b.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ot(this.xa,this)):this.m=rn(this.xa,this.o,this)),this.l=!0,this.a.send(b),this.l=!1}catch(Xe){$o(this,Xe)}},xe.xa=function(){void 0!==Be&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},xe.abort=function(b){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=b||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mt(this))},xe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mt(this,!0)),fr.S.G.call(this)},xe.za=function(){this.j||(this.A||this.l||this.g?Si(this):this.Ta())},xe.Ta=function(){Si(this)},xe.X=function(){try{return 2<Er(this)?this.a.status:-1}catch(b){return-1}},xe.$=function(){try{return this.a?this.a.responseText:""}catch(b){return""}},xe.Na=function(b){if(this.a){var k=this.a.responseText;return b&&0==k.indexOf(b)&&(k=k.substring(b.length)),Fs(k)}},xe.ua=function(){return this.h},xe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(xe=On.prototype).ha=8,xe.v=1,xe.Ba=function(b){if(this.h)if(this.h=null,1==this.v){if(!b){this.R=Math.floor(1e5*Math.random()),b=this.R++;var ge,k=new so(this,this.c,b,void 0),Y=this.l;if(this.O&&(Y?wt(Y=Nt(Y),this.O):Y=this.O),null===this.i&&(k.B=Y),this.da)e:{for(var Ie=ge=0;Ie<this.g.length;Ie++){var Xe=this.g[Ie];if(void 0===(Xe="__data__"in Xe.a&&"string"==typeof(Xe=Xe.a.__data__)?Xe.length:void 0))break;if(4096<(ge+=Xe)){ge=Ie;break e}if(4096===ge||Ie===this.g.length-1){ge=Ie+1;break e}}ge=1e3}else ge=1e3;ge=Ro(this,k,ge),Xn(Ie=xi(this.B),"RID",b),Xn(Ie,"CVER",22),this.A&&Xn(Ie,"X-HTTP-Session-Id",this.A),hr(this,Ie),this.i&&Y&&di(Ie,this.i,Y),er(this.b,k),this.Ga&&Xn(Ie,"TYPE","init"),this.da?(Xn(Ie,"$req",ge),Xn(Ie,"SID","null"),k.V=!0,bi(k,Ie,null)):bi(k,Ie,ge),this.v=2}}else 3==this.v&&(b?In(this,b):0==this.g.length||vt(this.b)||In(this))},xe.Aa=function(){if(this.j=null,xa(this),this.V&&!(this.F||null==this.a||0>=this.N)){var b=2*this.N;this.c.info("BP detection timer enabled: "+b),this.s=Wr(ot(this.Sa,this),b)}},xe.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Wo(this),xa(this))},xe.Ra=function(){null!=this.m&&(this.m=null,Wo(this),fi(this),Sn(19))},xe.Xa=function(b){b?(this.c.info("Successfully pinged google.com"),Sn(2)):(this.c.info("Failed to ping google.com"),Sn(1))},(xe=ya.prototype).ta=function(){},xe.sa=function(){},xe.ra=function(){},xe.qa=function(){},xe.Ha=function(){},Ds.prototype.a=function(b,k){return new nr(b,k)},Ft(nr,sn),(xe=nr.prototype).addEventListener=function(b,k,Y,ge){nr.S.addEventListener.call(this,b,k,Y,ge)},xe.removeEventListener=function(b,k,Y,ge){nr.S.removeEventListener.call(this,b,k,Y,ge)},xe.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var b=this.a,k=this.l,Y=this.b||void 0;Sn(0),b.fa=k,b.W=Y||{},b.H=b.T,b.B=rs(b,null,b.fa),xo(b)},xe.close=function(){Cs(this.a)},xe.Pa=function(b){if("string"==typeof b){var k={};k.__data__=b,Es(this.a,k)}else this.g?((k={}).__data__=En(b),Es(this.a,k)):Es(this.a,b)},xe.G=function(){this.a.f=null,delete this.f,Cs(this.a),delete this.a,nr.S.G.call(this)},Ft(Or,oi),Ft(Ct,Qr),Ft(pr,ya),pr.prototype.ta=function(){this.a.dispatchEvent("a")},pr.prototype.sa=function(b){this.a.dispatchEvent(new Or(b))},pr.prototype.ra=function(b){this.a.dispatchEvent(new Ct(b))},pr.prototype.qa=function(){this.a.dispatchEvent("b")},Ds.prototype.createWebChannel=Ds.prototype.a,nr.prototype.send=nr.prototype.Pa,nr.prototype.open=nr.prototype.Oa,nr.prototype.close=nr.prototype.close,vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,or.COMPLETE="complete",Ar.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",sn.prototype.listen=sn.prototype.va,fr.prototype.listenOnce=fr.prototype.wa,fr.prototype.getLastError=fr.prototype.Qa,fr.prototype.getLastErrorCode=fr.prototype.ua,fr.prototype.getStatus=fr.prototype.X,fr.prototype.getResponseJson=fr.prototype.Na,fr.prototype.getResponseText=fr.prototype.$,fr.prototype.send=fr.prototype.ba;var is=function(){return new Ds},Ci=vi,qo=or,ar=Ar,zo=fr;const Vr={createWebChannelTransport:is,ErrorCode:vi,EventType:or,WebChannel:Ar,XhrIo:fr}},4395:(zt,je,de)=>{"use strict";function u(Be){return Be&&"object"==typeof Be&&"default"in Be?Be:{default:Be}}var ee=u(de(6279));ee.default.registerVersion("firebase","7.24.0","app"),zt.exports=ee.default},6215:(zt,je,de)=>{"use strict";de.d(je,{X:()=>ee});var I=de(9765),u=de(7971);class ee extends I.xQ{constructor(xe){super(),this._value=xe}get value(){return this.getValue()}_subscribe(xe){const Be=super._subscribe(xe);return Be&&!Be.closed&&xe.next(this._value),Be}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.N;return this._value}next(xe){super.next(this._value=xe)}}},7574:(zt,je,de)=>{"use strict";de.d(je,{y:()=>Te});var I=de(7393),ee=de(9181),Qe=de(6490),Be=de(6554),Ae=de(4487);var oe=de(2494);let Te=(()=>{class Ce{constructor(_t){this._isScalar=!1,_t&&(this._subscribe=_t)}lift(_t){const dt=new Ce;return dt.source=this,dt.operator=_t,dt}subscribe(_t,dt,ot){const{operator:Ke}=this,Je=function(Ce,it,_t){if(Ce){if(Ce instanceof I.L)return Ce;if(Ce[ee.b])return Ce[ee.b]()}return Ce||it||_t?new I.L(Ce,it,_t):new I.L(Qe.c)}(_t,dt,ot);if(Je.add(Ke?Ke.call(Je,this.source):this.source||oe.v.useDeprecatedSynchronousErrorHandling&&!Je.syncErrorThrowable?this._subscribe(Je):this._trySubscribe(Je)),oe.v.useDeprecatedSynchronousErrorHandling&&Je.syncErrorThrowable&&(Je.syncErrorThrowable=!1,Je.syncErrorThrown))throw Je.syncErrorValue;return Je}_trySubscribe(_t){try{return this._subscribe(_t)}catch(dt){oe.v.useDeprecatedSynchronousErrorHandling&&(_t.syncErrorThrown=!0,_t.syncErrorValue=dt),function(Ce){for(;Ce;){const{closed:it,destination:_t,isStopped:dt}=Ce;if(it||dt)return!1;Ce=_t&&_t instanceof I.L?_t:null}return!0}(_t)?_t.error(dt):console.warn(dt)}}forEach(_t,dt){return new(dt=we(dt))((ot,Ke)=>{let Je;Je=this.subscribe(Ft=>{try{_t(Ft)}catch(kt){Ke(kt),Je&&Je.unsubscribe()}},Ke,ot)})}_subscribe(_t){const{source:dt}=this;return dt&&dt.subscribe(_t)}[Be.L](){return this}pipe(..._t){return 0===_t.length?this:function(Ce){return 0===Ce.length?Ae.y:1===Ce.length?Ce[0]:function(_t){return Ce.reduce((dt,ot)=>ot(dt),_t)}}(_t)(this)}toPromise(_t){return new(_t=we(_t))((dt,ot)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>ot(Je),()=>dt(Ke))})}}return Ce.create=it=>new Ce(it),Ce})();function we(Ce){if(Ce||(Ce=oe.v.Promise||Promise),!Ce)throw new Error("no Promise impl found");return Ce}},6490:(zt,je,de)=>{"use strict";de.d(je,{c:()=>ee});var I=de(2494),u=de(4449);const ee={closed:!0,next(Qe){},error(Qe){if(I.v.useDeprecatedSynchronousErrorHandling)throw Qe;(0,u.z)(Qe)},complete(){}}},5197:(zt,je,de)=>{"use strict";de.d(je,{L:()=>u});var I=de(7393);class u extends I.L{notifyNext(Qe,xe,Be,Ae,ke){this.destination.next(xe)}notifyError(Qe,xe){this.destination.error(Qe)}notifyComplete(Qe){this.destination.complete()}}},9765:(zt,je,de)=>{"use strict";de.d(je,{Yc:()=>Ae,xQ:()=>ke});var I=de(7574),u=de(7393),ee=de(5319),Qe=de(7971),xe=de(8858),Be=de(9181);class Ae extends u.L{constructor(Te){super(Te),this.destination=Te}}let ke=(()=>{class oe extends I.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Be.b](){return new Ae(this)}lift(we){const Ce=new ue(this,this);return Ce.operator=we,Ce}next(we){if(this.closed)throw new Qe.N;if(!this.isStopped){const{observers:Ce}=this,it=Ce.length,_t=Ce.slice();for(let dt=0;dt<it;dt++)_t[dt].next(we)}}error(we){if(this.closed)throw new Qe.N;this.hasError=!0,this.thrownError=we,this.isStopped=!0;const{observers:Ce}=this,it=Ce.length,_t=Ce.slice();for(let dt=0;dt<it;dt++)_t[dt].error(we);this.observers.length=0}complete(){if(this.closed)throw new Qe.N;this.isStopped=!0;const{observers:we}=this,Ce=we.length,it=we.slice();for(let _t=0;_t<Ce;_t++)it[_t].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(we){if(this.closed)throw new Qe.N;return super._trySubscribe(we)}_subscribe(we){if(this.closed)throw new Qe.N;return this.hasError?(we.error(this.thrownError),ee.w.EMPTY):this.isStopped?(we.complete(),ee.w.EMPTY):(this.observers.push(we),new xe.W(this,we))}asObservable(){const we=new I.y;return we.source=this,we}}return oe.create=(Te,we)=>new ue(Te,we),oe})();class ue extends ke{constructor(Te,we){super(),this.destination=Te,this.source=we}next(Te){const{destination:we}=this;we&&we.next&&we.next(Te)}error(Te){const{destination:we}=this;we&&we.error&&this.destination.error(Te)}complete(){const{destination:Te}=this;Te&&Te.complete&&this.destination.complete()}_subscribe(Te){const{source:we}=this;return we?this.source.subscribe(Te):ee.w.EMPTY}}},8858:(zt,je,de)=>{"use strict";de.d(je,{W:()=>u});var I=de(5319);class u extends I.w{constructor(Qe,xe){super(),this.subject=Qe,this.subscriber=xe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Qe=this.subject,xe=Qe.observers;if(this.subject=null,!xe||0===xe.length||Qe.isStopped||Qe.closed)return;const Be=xe.indexOf(this.subscriber);-1!==Be&&xe.splice(Be,1)}}},7393:(zt,je,de)=>{"use strict";de.d(je,{L:()=>Ae});var I=de(9105),u=de(6490),ee=de(5319),Qe=de(9181),xe=de(2494),Be=de(4449);class Ae extends ee.w{constructor(oe,Te,we){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.c;break;case 1:if(!oe){this.destination=u.c;break}if("object"==typeof oe){oe instanceof Ae?(this.syncErrorThrowable=oe.syncErrorThrowable,this.destination=oe,oe.add(this)):(this.syncErrorThrowable=!0,this.destination=new ke(this,oe));break}default:this.syncErrorThrowable=!0,this.destination=new ke(this,oe,Te,we)}}[Qe.b](){return this}static create(oe,Te,we){const Ce=new Ae(oe,Te,we);return Ce.syncErrorThrowable=!1,Ce}next(oe){this.isStopped||this._next(oe)}error(oe){this.isStopped||(this.isStopped=!0,this._error(oe))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(oe){this.destination.next(oe)}_error(oe){this.destination.error(oe),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:oe}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=oe,this}}class ke extends Ae{constructor(oe,Te,we,Ce){super(),this._parentSubscriber=oe;let it,_t=this;(0,I.m)(Te)?it=Te:Te&&(it=Te.next,we=Te.error,Ce=Te.complete,Te!==u.c&&(_t=Object.create(Te),(0,I.m)(_t.unsubscribe)&&this.add(_t.unsubscribe.bind(_t)),_t.unsubscribe=this.unsubscribe.bind(this))),this._context=_t,this._next=it,this._error=we,this._complete=Ce}next(oe){if(!this.isStopped&&this._next){const{_parentSubscriber:Te}=this;xe.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable?this.__tryOrSetError(Te,this._next,oe)&&this.unsubscribe():this.__tryOrUnsub(this._next,oe)}}error(oe){if(!this.isStopped){const{_parentSubscriber:Te}=this,{useDeprecatedSynchronousErrorHandling:we}=xe.v;if(this._error)we&&Te.syncErrorThrowable?(this.__tryOrSetError(Te,this._error,oe),this.unsubscribe()):(this.__tryOrUnsub(this._error,oe),this.unsubscribe());else if(Te.syncErrorThrowable)we?(Te.syncErrorValue=oe,Te.syncErrorThrown=!0):(0,Be.z)(oe),this.unsubscribe();else{if(this.unsubscribe(),we)throw oe;(0,Be.z)(oe)}}}complete(){if(!this.isStopped){const{_parentSubscriber:oe}=this;if(this._complete){const Te=()=>this._complete.call(this._context);xe.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable?(this.__tryOrSetError(oe,Te),this.unsubscribe()):(this.__tryOrUnsub(Te),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(oe,Te){try{oe.call(this._context,Te)}catch(we){if(this.unsubscribe(),xe.v.useDeprecatedSynchronousErrorHandling)throw we;(0,Be.z)(we)}}__tryOrSetError(oe,Te,we){if(!xe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Te.call(this._context,we)}catch(Ce){return xe.v.useDeprecatedSynchronousErrorHandling?(oe.syncErrorValue=Ce,oe.syncErrorThrown=!0,!0):((0,Be.z)(Ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:oe}=this;this._context=null,this._parentSubscriber=null,oe.unsubscribe()}}},5319:(zt,je,de)=>{"use strict";de.d(je,{w:()=>Be});var I=de(9796),u=de(1555),ee=de(9105);const xe=(()=>{function ke(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((oe,Te)=>`${Te+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return ke.prototype=Object.create(Error.prototype),ke})();class Be{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:oe,_ctorUnsubscribe:Te,_unsubscribe:we,_subscriptions:Ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,oe instanceof Be)oe.remove(this);else if(null!==oe)for(let it=0;it<oe.length;++it)oe[it].remove(this);if((0,ee.m)(we)){Te&&(this._unsubscribe=void 0);try{we.call(this)}catch(it){ue=it instanceof xe?Ae(it.errors):[it]}}if((0,I.k)(Ce)){let it=-1,_t=Ce.length;for(;++it<_t;){const dt=Ce[it];if((0,u.K)(dt))try{dt.unsubscribe()}catch(ot){ue=ue||[],ot instanceof xe?ue=ue.concat(Ae(ot.errors)):ue.push(ot)}}}if(ue)throw new xe(ue)}add(ue){let oe=ue;if(!ue)return Be.EMPTY;switch(typeof ue){case"function":oe=new Be(ue);case"object":if(oe===this||oe.closed||"function"!=typeof oe.unsubscribe)return oe;if(this.closed)return oe.unsubscribe(),oe;if(!(oe instanceof Be)){const Ce=oe;oe=new Be,oe._subscriptions=[Ce]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:Te}=oe;if(null===Te)oe._parentOrParents=this;else if(Te instanceof Be){if(Te===this)return oe;oe._parentOrParents=[Te,this]}else{if(-1!==Te.indexOf(this))return oe;Te.push(this)}const we=this._subscriptions;return null===we?this._subscriptions=[oe]:we.push(oe),oe}remove(ue){const oe=this._subscriptions;if(oe){const Te=oe.indexOf(ue);-1!==Te&&oe.splice(Te,1)}}}var ke;function Ae(ke){return ke.reduce((ue,oe)=>ue.concat(oe instanceof xe?oe.errors:oe),[])}Be.EMPTY=((ke=new Be).closed=!0,ke)},2494:(zt,je,de)=>{"use strict";de.d(je,{v:()=>u});let I=!1;const u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ee){if(ee){const Qe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Qe.stack)}else I&&console.log("RxJS: Back to a better error behavior. Thank you. <3");I=ee},get useDeprecatedSynchronousErrorHandling(){return I}}},5345:(zt,je,de)=>{"use strict";de.d(je,{IY:()=>Qe,Ds:()=>Be,ft:()=>ke});var I=de(7393),u=de(7574),ee=de(7444);class Qe extends I.L{constructor(oe){super(),this.parent=oe}_next(oe){this.parent.notifyNext(oe)}_error(oe){this.parent.notifyError(oe),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Be extends I.L{notifyNext(oe){this.destination.next(oe)}notifyError(oe){this.destination.error(oe)}notifyComplete(){this.destination.complete()}}function ke(ue,oe){if(oe.closed)return;if(ue instanceof u.y)return ue.subscribe(oe);let Te;try{Te=(0,ee.s)(ue)(oe)}catch(we){oe.error(we)}return Te}},2441:(zt,je,de)=>{"use strict";de.d(je,{c:()=>xe,N:()=>Be});var I=de(9765),u=de(7574),ee=de(5319),Qe=de(1307);class xe extends u.y{constructor(Te,we){super(),this.source=Te,this.subjectFactory=we,this._refCount=0,this._isComplete=!1}_subscribe(Te){return this.getSubject().subscribe(Te)}getSubject(){const Te=this._subject;return(!Te||Te.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Te=this._connection;return Te||(this._isComplete=!1,Te=this._connection=new ee.w,Te.add(this.source.subscribe(new Ae(this.getSubject(),this))),Te.closed&&(this._connection=null,Te=ee.w.EMPTY)),Te}refCount(){return(0,Qe.x)()(this)}}const Be=(()=>{const oe=xe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:oe._subscribe},_isComplete:{value:oe._isComplete,writable:!0},getSubject:{value:oe.getSubject},connect:{value:oe.connect},refCount:{value:oe.refCount}}})();class Ae extends I.Yc{constructor(Te,we){super(Te),this.connectable=we}_error(Te){this._unsubscribe(),super._error(Te)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Te=this.connectable;if(Te){this.connectable=null;const we=Te._connection;Te._refCount=0,Te._subject=null,Te._connection=null,we&&we.unsubscribe()}}}},9112:(zt,je,de)=>{"use strict";de.d(je,{aj:()=>Ae});var I=de(4869),u=de(9796),ee=de(5197),Qe=de(509),xe=de(6693);const Be={};function Ae(...oe){let Te,we;return(0,I.K)(oe[oe.length-1])&&(we=oe.pop()),"function"==typeof oe[oe.length-1]&&(Te=oe.pop()),1===oe.length&&(0,u.k)(oe[0])&&(oe=oe[0]),(0,xe.n)(oe,we).lift(new ke(Te))}class ke{constructor(Te){this.resultSelector=Te}call(Te,we){return we.subscribe(new ue(Te,this.resultSelector))}}class ue extends ee.L{constructor(Te,we){super(Te),this.resultSelector=we,this.active=0,this.values=[],this.observables=[]}_next(Te){this.values.push(Be),this.observables.push(Te)}_complete(){const Te=this.observables,we=Te.length;if(0===we)this.destination.complete();else{this.active=we,this.toRespond=we;for(let Ce=0;Ce<we;Ce++)this.add((0,Qe.D)(this,Te[Ce],void 0,Ce))}}notifyComplete(Te){0==(this.active-=1)&&this.destination.complete()}notifyNext(Te,we,Ce){const it=this.values,dt=this.toRespond?it[Ce]===Be?--this.toRespond:this.toRespond:0;it[Ce]=we,0===dt&&(this.resultSelector?this._tryResultSelector(it):this.destination.next(it.slice()))}_tryResultSelector(Te){let we;try{we=this.resultSelector.apply(this,Te)}catch(Ce){return void this.destination.error(Ce)}this.destination.next(we)}}},8071:(zt,je,de)=>{"use strict";de.d(je,{z:()=>Qe});var I=de(5917),u=de(3282);function Qe(...xe){return(0,u.J)(1)((0,I.of)(...xe))}},9193:(zt,je,de)=>{"use strict";de.d(je,{E:()=>u,c:()=>ee});var I=de(7574);const u=new I.y(xe=>xe.complete());function ee(xe){return xe?function(xe){return new I.y(Be=>xe.schedule(()=>Be.complete()))}(xe):u}},4402:(zt,je,de)=>{"use strict";de.d(je,{D:()=>_t});var I=de(7574),u=de(7444),ee=de(5319),Qe=de(6554),Ae=de(4087),ke=de(377),Te=de(4072),we=de(9489);function _t(dt,ot){return ot?function(dt,ot){if(null!=dt){if(function(dt){return dt&&"function"==typeof dt[Qe.L]}(dt))return function(dt,ot){return new I.y(Ke=>{const Je=new ee.w;return Je.add(ot.schedule(()=>{const Ft=dt[Qe.L]();Je.add(Ft.subscribe({next(kt){Je.add(ot.schedule(()=>Ke.next(kt)))},error(kt){Je.add(ot.schedule(()=>Ke.error(kt)))},complete(){Je.add(ot.schedule(()=>Ke.complete()))}}))})),Je})}(dt,ot);if((0,Te.t)(dt))return function(dt,ot){return new I.y(Ke=>{const Je=new ee.w;return Je.add(ot.schedule(()=>dt.then(Ft=>{Je.add(ot.schedule(()=>{Ke.next(Ft),Je.add(ot.schedule(()=>Ke.complete()))}))},Ft=>{Je.add(ot.schedule(()=>Ke.error(Ft)))}))),Je})}(dt,ot);if((0,we.z)(dt))return(0,Ae.r)(dt,ot);if(function(dt){return dt&&"function"==typeof dt[ke.hZ]}(dt)||"string"==typeof dt)return function(dt,ot){if(!dt)throw new Error("Iterable cannot be null");return new I.y(Ke=>{const Je=new ee.w;let Ft;return Je.add(()=>{Ft&&"function"==typeof Ft.return&&Ft.return()}),Je.add(ot.schedule(()=>{Ft=dt[ke.hZ](),Je.add(ot.schedule(function(){if(Ke.closed)return;let kt,Pn;try{const Dn=Ft.next();kt=Dn.value,Pn=Dn.done}catch(Dn){return void Ke.error(Dn)}Pn?Ke.complete():(Ke.next(kt),this.schedule())}))})),Je})}(dt,ot)}throw new TypeError((null!==dt&&typeof dt||dt)+" is not observable")}(dt,ot):dt instanceof I.y?dt:new I.y((0,u.s)(dt))}},6693:(zt,je,de)=>{"use strict";de.d(je,{n:()=>Qe});var I=de(7574),u=de(5015),ee=de(4087);function Qe(xe,Be){return Be?(0,ee.r)(xe,Be):new I.y((0,u.V)(xe))}},6682:(zt,je,de)=>{"use strict";de.d(je,{T:()=>xe});var I=de(7574),u=de(4869),ee=de(3282),Qe=de(6693);function xe(...Be){let Ae=Number.POSITIVE_INFINITY,ke=null,ue=Be[Be.length-1];return(0,u.K)(ue)?(ke=Be.pop(),Be.length>1&&"number"==typeof Be[Be.length-1]&&(Ae=Be.pop())):"number"==typeof ue&&(Ae=Be.pop()),null===ke&&1===Be.length&&Be[0]instanceof I.y?Be[0]:(0,ee.J)(Ae)((0,Qe.n)(Be,ke))}},5917:(zt,je,de)=>{"use strict";de.d(je,{of:()=>Qe});var I=de(4869),u=de(6693),ee=de(4087);function Qe(...xe){let Be=xe[xe.length-1];return(0,I.K)(Be)?(xe.pop(),(0,ee.r)(xe,Be)):(0,u.n)(xe)}},5242:(zt,je,de)=>{"use strict";de.d(je,{d:()=>u});var I=de(7393);function u(xe=null){return Be=>Be.lift(new ee(xe))}class ee{constructor(Be){this.defaultValue=Be}call(Be,Ae){return Ae.subscribe(new Qe(Be,this.defaultValue))}}class Qe extends I.L{constructor(Be,Ae){super(Be),this.defaultValue=Ae,this.isEmpty=!0}_next(Be){this.isEmpty=!1,this.destination.next(Be)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(zt,je,de)=>{"use strict";de.d(je,{h:()=>u});var I=de(7393);function u(xe,Be){return function(ke){return ke.lift(new ee(xe,Be))}}class ee{constructor(Be,Ae){this.predicate=Be,this.thisArg=Ae}call(Be,Ae){return Ae.subscribe(new Qe(Be,this.predicate,this.thisArg))}}class Qe extends I.L{constructor(Be,Ae,ke){super(Be),this.predicate=Ae,this.thisArg=ke,this.count=0}_next(Be){let Ae;try{Ae=this.predicate.call(this.thisArg,Be,this.count++)}catch(ke){return void this.destination.error(ke)}Ae&&this.destination.next(Be)}}},8049:(zt,je,de)=>{"use strict";de.d(je,{P:()=>Ae});var I=de(3410),u=de(5435),ee=de(5257),Qe=de(5242),xe=de(4635),Be=de(4487);function Ae(ke,ue){const oe=arguments.length>=2;return Te=>Te.pipe(ke?(0,u.h)((we,Ce)=>ke(we,Ce,Te)):Be.y,(0,ee.q)(1),oe?(0,Qe.d)(ue):(0,xe.T)(()=>new I.K))}},8002:(zt,je,de)=>{"use strict";de.d(je,{U:()=>u});var I=de(7393);function u(xe,Be){return function(ke){if("function"!=typeof xe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ke.lift(new ee(xe,Be))}}class ee{constructor(Be,Ae){this.project=Be,this.thisArg=Ae}call(Be,Ae){return Ae.subscribe(new Qe(Be,this.project,this.thisArg))}}class Qe extends I.L{constructor(Be,Ae,ke){super(Be),this.project=Ae,this.count=0,this.thisArg=ke||this}_next(Be){let Ae;try{Ae=this.project.call(this.thisArg,Be,this.count++)}catch(ke){return void this.destination.error(ke)}this.destination.next(Ae)}}},3282:(zt,je,de)=>{"use strict";de.d(je,{J:()=>ee});var I=de(9773),u=de(4487);function ee(Qe=Number.POSITIVE_INFINITY){return(0,I.zg)(u.y,Qe)}},9773:(zt,je,de)=>{"use strict";de.d(je,{zg:()=>Qe});var I=de(8002),u=de(4402),ee=de(5345);function Qe(ke,ue,oe=Number.POSITIVE_INFINITY){return"function"==typeof ue?Te=>Te.pipe(Qe((we,Ce)=>(0,u.D)(ke(we,Ce)).pipe((0,I.U)((it,_t)=>ue(we,it,Ce,_t))),oe)):("number"==typeof ue&&(oe=ue),Te=>Te.lift(new xe(ke,oe)))}class xe{constructor(ue,oe=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=oe}call(ue,oe){return oe.subscribe(new Be(ue,this.project,this.concurrent))}}class Be extends ee.Ds{constructor(ue,oe,Te=Number.POSITIVE_INFINITY){super(ue),this.project=oe,this.concurrent=Te,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let oe;const Te=this.index++;try{oe=this.project(ue,Te)}catch(we){return void this.destination.error(we)}this.active++,this._innerSub(oe)}_innerSub(ue){const oe=new ee.IY(this),Te=this.destination;Te.add(oe);const we=(0,ee.ft)(ue,oe);we!==oe&&Te.add(we)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(zt,je,de)=>{"use strict";de.d(je,{x:()=>u});var I=de(7393);function u(){return function(Be){return Be.lift(new ee(Be))}}class ee{constructor(Be){this.connectable=Be}call(Be,Ae){const{connectable:ke}=this;ke._refCount++;const ue=new Qe(Be,ke),oe=Ae.subscribe(ue);return ue.closed||(ue.connection=ke.connect()),oe}}class Qe extends I.L{constructor(Be,Ae){super(Be),this.connectable=Ae}_unsubscribe(){const{connectable:Be}=this;if(!Be)return void(this.connection=null);this.connectable=null;const Ae=Be._refCount;if(Ae<=0)return void(this.connection=null);if(Be._refCount=Ae-1,Ae>1)return void(this.connection=null);const{connection:ke}=this,ue=Be._connection;this.connection=null,ue&&(!ke||ue===ke)&&ue.unsubscribe()}}},2145:(zt,je,de)=>{"use strict";de.d(je,{R:()=>u});var I=de(7393);function u(xe,Be){let Ae=!1;return arguments.length>=2&&(Ae=!0),function(ue){return ue.lift(new ee(xe,Be,Ae))}}class ee{constructor(Be,Ae,ke=!1){this.accumulator=Be,this.seed=Ae,this.hasSeed=ke}call(Be,Ae){return Ae.subscribe(new Qe(Be,this.accumulator,this.seed,this.hasSeed))}}class Qe extends I.L{constructor(Be,Ae,ke,ue){super(Be),this.accumulator=Ae,this._seed=ke,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(Be){this.hasSeed=!0,this._seed=Be}_next(Be){if(this.hasSeed)return this._tryNext(Be);this.seed=Be,this.destination.next(Be)}_tryNext(Be){const Ae=this.index++;let ke;try{ke=this.accumulator(this.seed,Be,Ae)}catch(ue){this.destination.error(ue)}this.seed=ke,this.destination.next(ke)}}},8819:(zt,je,de)=>{"use strict";de.d(je,{B:()=>Ae});var I=de(2441);var Qe=de(1307),xe=de(9765);function Be(){return new xe.xQ}function Ae(){return ke=>(0,Qe.x)()(function(ke,ue){return function(Te){let we;we="function"==typeof ke?ke:function(){return ke};const Ce=Object.create(Te,I.N);return Ce.source=Te,Ce.subjectFactory=we,Ce}}(Be)(ke))}},9761:(zt,je,de)=>{"use strict";de.d(je,{O:()=>ee});var I=de(8071),u=de(4869);function ee(...Qe){const xe=Qe[Qe.length-1];return(0,u.K)(xe)?(Qe.pop(),Be=>(0,I.z)(Qe,Be,xe)):Be=>(0,I.z)(Qe,Be)}},3190:(zt,je,de)=>{"use strict";de.d(je,{w:()=>Qe});var I=de(8002),u=de(4402),ee=de(5345);function Qe(Ae,ke){return"function"==typeof ke?ue=>ue.pipe(Qe((oe,Te)=>(0,u.D)(Ae(oe,Te)).pipe((0,I.U)((we,Ce)=>ke(oe,we,Te,Ce))))):ue=>ue.lift(new xe(Ae))}class xe{constructor(ke){this.project=ke}call(ke,ue){return ue.subscribe(new Be(ke,this.project))}}class Be extends ee.Ds{constructor(ke,ue){super(ke),this.project=ue,this.index=0}_next(ke){let ue;const oe=this.index++;try{ue=this.project(ke,oe)}catch(Te){return void this.destination.error(Te)}this._innerSub(ue)}_innerSub(ke){const ue=this.innerSubscription;ue&&ue.unsubscribe();const oe=new ee.IY(this),Te=this.destination;Te.add(oe),this.innerSubscription=(0,ee.ft)(ke,oe),this.innerSubscription!==oe&&Te.add(this.innerSubscription)}_complete(){const{innerSubscription:ke}=this;(!ke||ke.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ke){this.destination.next(ke)}}},5257:(zt,je,de)=>{"use strict";de.d(je,{q:()=>Qe});var I=de(7393),u=de(7108),ee=de(9193);function Qe(Ae){return ke=>0===Ae?(0,ee.c)():ke.lift(new xe(Ae))}class xe{constructor(ke){if(this.total=ke,this.total<0)throw new u.W}call(ke,ue){return ue.subscribe(new Be(ke,this.total))}}class Be extends I.L{constructor(ke,ue){super(ke),this.total=ue,this.count=0}_next(ke){const ue=this.total,oe=++this.count;oe<=ue&&(this.destination.next(ke),oe===ue&&(this.destination.complete(),this.unsubscribe()))}}},8307:(zt,je,de)=>{"use strict";de.d(je,{b:()=>Qe});var I=de(7393),u=de(8640),ee=de(9105);function Qe(Ae,ke,ue){return function(Te){return Te.lift(new xe(Ae,ke,ue))}}class xe{constructor(ke,ue,oe){this.nextOrObserver=ke,this.error=ue,this.complete=oe}call(ke,ue){return ue.subscribe(new Be(ke,this.nextOrObserver,this.error,this.complete))}}class Be extends I.L{constructor(ke,ue,oe,Te){super(ke),this._tapNext=u.Z,this._tapError=u.Z,this._tapComplete=u.Z,this._tapError=oe||u.Z,this._tapComplete=Te||u.Z,(0,ee.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||u.Z,this._tapError=ue.error||u.Z,this._tapComplete=ue.complete||u.Z)}_next(ke){try{this._tapNext.call(this._context,ke)}catch(ue){return void this.destination.error(ue)}this.destination.next(ke)}_error(ke){try{this._tapError.call(this._context,ke)}catch(ue){return void this.destination.error(ue)}this.destination.error(ke)}_complete(){try{this._tapComplete.call(this._context)}catch(ke){return void this.destination.error(ke)}return this.destination.complete()}}},4635:(zt,je,de)=>{"use strict";de.d(je,{T:()=>ee});var I=de(3410),u=de(7393);function ee(Ae=Be){return ke=>ke.lift(new Qe(Ae))}class Qe{constructor(ke){this.errorFactory=ke}call(ke,ue){return ue.subscribe(new xe(ke,this.errorFactory))}}class xe extends u.L{constructor(ke,ue){super(ke),this.errorFactory=ue,this.hasValue=!1}_next(ke){this.hasValue=!0,this.destination.next(ke)}_complete(){if(this.hasValue)return this.destination.complete();{let ke;try{ke=this.errorFactory()}catch(ue){ke=ue}this.destination.error(ke)}}}function Be(){return new I.K}},4087:(zt,je,de)=>{"use strict";de.d(je,{r:()=>ee});var I=de(7574),u=de(5319);function ee(Qe,xe){return new I.y(Be=>{const Ae=new u.w;let ke=0;return Ae.add(xe.schedule(function(){ke!==Qe.length?(Be.next(Qe[ke++]),Be.closed||Ae.add(this.schedule())):Be.complete()})),Ae})}},377:(zt,je,de)=>{"use strict";de.d(je,{hZ:()=>u});const u="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(zt,je,de)=>{"use strict";de.d(je,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(zt,je,de)=>{"use strict";de.d(je,{b:()=>I});const I="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(zt,je,de)=>{"use strict";de.d(je,{W:()=>u});const u=(()=>{function ee(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ee.prototype=Object.create(Error.prototype),ee})()},3410:(zt,je,de)=>{"use strict";de.d(je,{K:()=>u});const u=(()=>{function ee(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return ee.prototype=Object.create(Error.prototype),ee})()},7971:(zt,je,de)=>{"use strict";de.d(je,{N:()=>u});const u=(()=>{function ee(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ee.prototype=Object.create(Error.prototype),ee})()},4449:(zt,je,de)=>{"use strict";function I(u){setTimeout(()=>{throw u},0)}de.d(je,{z:()=>I})},4487:(zt,je,de)=>{"use strict";function I(u){return u}de.d(je,{y:()=>I})},9796:(zt,je,de)=>{"use strict";de.d(je,{k:()=>I});const I=Array.isArray||(u=>u&&"number"==typeof u.length)},9489:(zt,je,de)=>{"use strict";de.d(je,{z:()=>I});const I=u=>u&&"number"==typeof u.length&&"function"!=typeof u},9105:(zt,je,de)=>{"use strict";function I(u){return"function"==typeof u}de.d(je,{m:()=>I})},1555:(zt,je,de)=>{"use strict";function I(u){return null!==u&&"object"==typeof u}de.d(je,{K:()=>I})},4072:(zt,je,de)=>{"use strict";function I(u){return!!u&&"function"!=typeof u.subscribe&&"function"==typeof u.then}de.d(je,{t:()=>I})},4869:(zt,je,de)=>{"use strict";function I(u){return u&&"function"==typeof u.schedule}de.d(je,{K:()=>I})},8640:(zt,je,de)=>{"use strict";function I(){}de.d(je,{Z:()=>I})},7444:(zt,je,de)=>{"use strict";de.d(je,{s:()=>Te});var I=de(5015),u=de(4449),Qe=de(377),Be=de(6554),ke=de(9489),ue=de(4072),oe=de(1555);const Te=we=>{if(we&&"function"==typeof we[Be.L])return(we=>Ce=>{const it=we[Be.L]();if("function"!=typeof it.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return it.subscribe(Ce)})(we);if((0,ke.z)(we))return(0,I.V)(we);if((0,ue.t)(we))return(we=>Ce=>(we.then(it=>{Ce.closed||(Ce.next(it),Ce.complete())},it=>Ce.error(it)).then(null,u.z),Ce))(we);if(we&&"function"==typeof we[Qe.hZ])return(we=>Ce=>{const it=we[Qe.hZ]();for(;;){let _t;try{_t=it.next()}catch(dt){return Ce.error(dt),Ce}if(_t.done){Ce.complete();break}if(Ce.next(_t.value),Ce.closed)break}return"function"==typeof it.return&&Ce.add(()=>{it.return&&it.return()}),Ce})(we);{const it=`You provided ${(0,oe.K)(we)?"an invalid object":`'${we}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(it)}}},5015:(zt,je,de)=>{"use strict";de.d(je,{V:()=>I});const I=u=>ee=>{for(let Qe=0,xe=u.length;Qe<xe&&!ee.closed;Qe++)ee.next(u[Qe]);ee.complete()}},509:(zt,je,de)=>{"use strict";de.d(je,{D:()=>xe});var I=de(7393);class u extends I.L{constructor(Ae,ke,ue){super(),this.parent=Ae,this.outerValue=ke,this.outerIndex=ue,this.index=0}_next(Ae){this.parent.notifyNext(this.outerValue,Ae,this.outerIndex,this.index++,this)}_error(Ae){this.parent.notifyError(Ae,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ee=de(7444),Qe=de(7574);function xe(Be,Ae,ke,ue,oe=new u(Be,ke,ue)){if(!oe.closed)return Ae instanceof Qe.y?Ae.subscribe(oe):(0,ee.s)(Ae)(oe)}},6334:(zt,je,de)=>{"use strict";var I=de(8583),u=de(7716);class ee extends I.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qe extends ee{static makeCurrent(){(0,I.HT)(new Qe)}onAndCancel(o,n,l){return o.addEventListener(n,l,!1),()=>{o.removeEventListener(n,l,!1)}}dispatchEvent(o,n){o.dispatchEvent(n)}remove(o){o.parentNode&&o.parentNode.removeChild(o)}createElement(o,n){return(n=n||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,n){return"window"===n?window:"document"===n?o:"body"===n?o.body:null}getBaseHref(o){const n=(xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null);return null==n?null:function(d){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",d);const o=Ae.pathname;return"/"===o.charAt(0)?o:`/${o}`}(n)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return(0,I.Mx)(document.cookie,o)}}let Ae,xe=null;const ue=new u.OlP("TRANSITION_ID"),Te=[{provide:u.ip1,useFactory:function(d,o,n){return()=>{n.get(u.CZH).donePromise.then(()=>{const l=(0,I.q)(),g=o.querySelectorAll(`style[ng-transition="${d}"]`);for(let E=0;E<g.length;E++)l.remove(g[E])})}},deps:[ue,I.K0,u.zs3],multi:!0}];class we{static init(){(0,u.VLi)(new we)}addToWindow(o){u.dqk.getAngularTestability=(l,g=!0)=>{const E=o.findTestabilityInTree(l,g);if(null==E)throw new Error("Could not find testability for element.");return E},u.dqk.getAllAngularTestabilities=()=>o.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>o.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(l=>{const g=u.dqk.getAllAngularTestabilities();let E=g.length,O=!1;const V=function(X){O=O||X,E--,0==E&&l(O)};g.forEach(function(X){X.whenStable(V)})})}findTestabilityInTree(o,n,l){if(null==n)return null;const g=o.getTestability(n);return null!=g?g:l?(0,I.q)().isShadowRoot(n)?this.findTestabilityInTree(o,n.host,!0):this.findTestabilityInTree(o,n.parentElement,!0):null}}let Ce=(()=>{class d{build(){return new XMLHttpRequest}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})();const me=new u.OlP("EventManagerPlugins");let K=(()=>{class d{constructor(n,l){this._zone=l,this._eventNameToPlugin=new Map,n.forEach(g=>g.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,l,g){return this._findPluginFor(l).addEventListener(n,l,g)}addGlobalEventListener(n,l,g){return this._findPluginFor(l).addGlobalEventListener(n,l,g)}getZone(){return this._zone}_findPluginFor(n){const l=this._eventNameToPlugin.get(n);if(l)return l;const g=this._plugins;for(let E=0;E<g.length;E++){const O=g[E];if(O.supports(n))return this._eventNameToPlugin.set(n,O),O}throw new Error(`No event manager plugin found for event ${n}`)}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(me),u.LFG(u.R0b))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})();class Ne{constructor(o){this._doc=o}addGlobalEventListener(o,n,l){const g=(0,I.q)().getGlobalEventTarget(this._doc,o);if(!g)throw new Error(`Unsupported event target ${g} for event ${n}`);return this.addEventListener(g,n,l)}}let Le=(()=>{class d{constructor(){this._stylesSet=new Set}addStyles(n){const l=new Set;n.forEach(g=>{this._stylesSet.has(g)||(this._stylesSet.add(g),l.add(g))}),this.onStylesAdded(l)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})(),Pt=(()=>{class d extends Le{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,l,g){n.forEach(E=>{const O=this._doc.createElement("style");O.textContent=E,g.push(l.appendChild(O))})}addHost(n){const l=[];this._addStylesToHost(this._stylesSet,n,l),this._hostNodes.set(n,l)}removeHost(n){const l=this._hostNodes.get(n);l&&l.forEach(Pe),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((l,g)=>{this._addStylesToHost(n,g,l)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Pe))}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(I.K0))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})();function Pe(d){(0,I.q)().remove(d)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Nt=/%COMP%/g;function qn(d,o,n){for(let l=0;l<o.length;l++){let g=o[l];Array.isArray(g)?qn(d,g,n):(g=g.replace(Nt,d),n.push(g))}return n}function Rn(d){return o=>{if("__ngUnwrap__"===o)return d;!1===d(o)&&(o.preventDefault(),o.returnValue=!1)}}let li=(()=>{class d{constructor(n,l,g){this.eventManager=n,this.sharedStylesHost=l,this.appId=g,this.rendererByCompId=new Map,this.defaultRenderer=new Li(n)}createRenderer(n,l){if(!n||!l)return this.defaultRenderer;switch(l.encapsulation){case u.ifc.Emulated:{let g=this.rendererByCompId.get(l.id);return g||(g=new zn(this.eventManager,this.sharedStylesHost,l,this.appId),this.rendererByCompId.set(l.id,g)),g.applyToHost(n),g}case 1:case u.ifc.ShadowDom:return new un(this.eventManager,this.sharedStylesHost,n,l);default:if(!this.rendererByCompId.has(l.id)){const g=qn(l.id,l.styles,[]);this.sharedStylesHost.addStyles(g),this.rendererByCompId.set(l.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(K),u.LFG(Pt),u.LFG(u.AFp))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})();class Li{constructor(o){this.eventManager=o,this.data=Object.create(null)}destroy(){}createElement(o,n){return n?document.createElementNS(pt[n]||n,o):document.createElement(o)}createComment(o){return document.createComment(o)}createText(o){return document.createTextNode(o)}appendChild(o,n){o.appendChild(n)}insertBefore(o,n,l){o&&o.insertBefore(n,l)}removeChild(o,n){o&&o.removeChild(n)}selectRootElement(o,n){let l="string"==typeof o?document.querySelector(o):o;if(!l)throw new Error(`The selector "${o}" did not match any elements`);return n||(l.textContent=""),l}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,n,l,g){if(g){n=g+":"+n;const E=pt[g];E?o.setAttributeNS(E,n,l):o.setAttribute(n,l)}else o.setAttribute(n,l)}removeAttribute(o,n,l){if(l){const g=pt[l];g?o.removeAttributeNS(g,n):o.removeAttribute(`${l}:${n}`)}else o.removeAttribute(n)}addClass(o,n){o.classList.add(n)}removeClass(o,n){o.classList.remove(n)}setStyle(o,n,l,g){g&(u.JOm.DashCase|u.JOm.Important)?o.style.setProperty(n,l,g&u.JOm.Important?"important":""):o.style[n]=l}removeStyle(o,n,l){l&u.JOm.DashCase?o.style.removeProperty(n):o.style[n]=""}setProperty(o,n,l){o[n]=l}setValue(o,n){o.nodeValue=n}listen(o,n,l){return"string"==typeof o?this.eventManager.addGlobalEventListener(o,n,Rn(l)):this.eventManager.addEventListener(o,n,Rn(l))}}class zn extends Li{constructor(o,n,l,g){super(o),this.component=l;const E=qn(g+"-"+l.id,l.styles,[]);n.addStyles(E),this.contentAttr="_ngcontent-%COMP%".replace(Nt,g+"-"+l.id),this.hostAttr=function(d){return"_nghost-%COMP%".replace(Nt,d)}(g+"-"+l.id)}applyToHost(o){super.setAttribute(o,this.hostAttr,"")}createElement(o,n){const l=super.createElement(o,n);return super.setAttribute(l,this.contentAttr,""),l}}class un extends Li{constructor(o,n,l,g){super(o),this.sharedStylesHost=n,this.hostEl=l,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=qn(g.id,g.styles,[]);for(let O=0;O<E.length;O++){const V=document.createElement("style");V.textContent=E[O],this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(o,n){return super.appendChild(this.nodeOrShadowRoot(o),n)}insertBefore(o,n,l){return super.insertBefore(this.nodeOrShadowRoot(o),n,l)}removeChild(o,n){return super.removeChild(this.nodeOrShadowRoot(o),n)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}}let lr=(()=>{class d extends Ne{constructor(n){super(n)}supports(n){return!0}addEventListener(n,l,g){return n.addEventListener(l,g,!1),()=>this.removeEventListener(n,l,g)}removeEventListener(n,l,g){return n.removeEventListener(l,g)}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(I.K0))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})();const Ge=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nn={alt:d=>d.altKey,control:d=>d.ctrlKey,meta:d=>d.metaKey,shift:d=>d.shiftKey};let an=(()=>{class d extends Ne{constructor(n){super(n)}supports(n){return null!=d.parseEventName(n)}addEventListener(n,l,g){const E=d.parseEventName(l),O=d.eventCallback(E.fullKey,g,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.q)().onAndCancel(n,E.domEventName,O))}static parseEventName(n){const l=n.toLowerCase().split("."),g=l.shift();if(0===l.length||"keydown"!==g&&"keyup"!==g)return null;const E=d._normalizeKey(l.pop());let O="";if(Ge.forEach(X=>{const ce=l.indexOf(X);ce>-1&&(l.splice(ce,1),O+=X+".")}),O+=E,0!=l.length||0===E.length)return null;const V={};return V.domEventName=g,V.fullKey=O,V}static getEventFullKey(n){let l="",g=function(d){let o=d.key;if(null==o){if(o=d.keyIdentifier,null==o)return"Unidentified";o.startsWith("U+")&&(o=String.fromCharCode(parseInt(o.substring(2),16)),3===d.location&&rt.hasOwnProperty(o)&&(o=rt[o]))}return Ue[o]||o}(n);return g=g.toLowerCase()," "===g?g="space":"."===g&&(g="dot"),Ge.forEach(E=>{E!=g&&nn[E](n)&&(l+=E+".")}),l+=g,l}static eventCallback(n,l,g){return E=>{d.getEventFullKey(E)===n&&g.runGuarded(()=>l(E))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(I.K0))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d})();const Sr=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:I.bD},{provide:u.g9A,useValue:function(){Qe.makeCurrent(),we.init()},multi:!0},{provide:I.K0,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),En=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:me,useClass:lr,multi:!0,deps:[I.K0,u.R0b,u.Lbi]},{provide:me,useClass:an,multi:!0,deps:[I.K0]},[],{provide:li,useClass:li,deps:[K,Pt,u.AFp]},{provide:u.FYo,useExisting:li},{provide:Le,useExisting:Pt},{provide:Pt,useClass:Pt,deps:[I.K0]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:K,useClass:K,deps:[me,u.R0b]},{provide:I.JF,useClass:Ce,deps:[]},[]];let zi=(()=>{class d{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:d,providers:[{provide:u.AFp,useValue:n.appId},{provide:ue,useExisting:u.AFp},Te]}}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(d,12))},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({providers:En,imports:[I.ez,u.hGG]}),d})();"undefined"!=typeof window&&window;var Tn=de(665),Nr=de(5319);class bs extends Nr.w{constructor(o,n){super()}schedule(o,n=0){return this}}class Yi extends bs{constructor(o,n){super(o,n),this.scheduler=o,this.work=n,this.pending=!1}schedule(o,n=0){if(this.closed)return this;this.state=o;const l=this.id,g=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(g,l,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(g,this.id,n),this}requestAsyncId(o,n,l=0){return setInterval(o.flush.bind(o,this),l)}recycleAsyncId(o,n,l=0){if(null!==l&&this.delay===l&&!1===this.pending)return n;clearInterval(n)}execute(o,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const l=this._execute(o,n);if(l)return l;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,n){let g,l=!1;try{this.work(o)}catch(E){l=!0,g=!!E&&E||new Error(E)}if(l)return this.unsubscribe(),g}_unsubscribe(){const o=this.id,n=this.scheduler,l=n.actions,g=l.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==g&&l.splice(g,1),null!=o&&(this.id=this.recycleAsyncId(n,o,null)),this.delay=null}}let Kt=(()=>{class d{constructor(n,l=d.now){this.SchedulerAction=n,this.now=l}schedule(n,l=0,g){return new this.SchedulerAction(this,n).schedule(g,l)}}return d.now=()=>Date.now(),d})();class wn extends Kt{constructor(o,n=Kt.now){super(o,()=>wn.delegate&&wn.delegate!==this?wn.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(o,n=0,l){return wn.delegate&&wn.delegate!==this?wn.delegate.schedule(o,n,l):super.schedule(o,n,l)}flush(o){const{actions:n}=this;if(this.active)return void n.push(o);let l;this.active=!0;do{if(l=o.execute(o.state,o.delay))break}while(o=n.shift());if(this.active=!1,l){for(;o=n.shift();)o.unsubscribe();throw l}}}const Vn=new class extends wn{}(class extends Yi{constructor(o,n){super(o,n),this.scheduler=o,this.work=n}schedule(o,n=0){return n>0?super.schedule(o,n):(this.delay=n,this.state=o,this.scheduler.flush(this),this)}execute(o,n){return n>0||this.closed?super.execute(o,n):this._execute(o,n)}requestAsyncId(o,n,l=0){return null!==l&&l>0||null===l&&this.delay>0?super.requestAsyncId(o,n,l):o.flush(this)}}),Sn=Vn,Bo=new wn(Yi),Wr=Bo;var vi=de(8307),or=de(7574);let Zi=1;const Ti=Promise.resolve(),Ar={};function Qi(d){return d in Ar&&(delete Ar[d],!0)}const oi={setImmediate(d){const o=Zi++;return Ar[o]=!0,Ti.then(()=>Qi(o)&&d()),o},clearImmediate(d){Qi(d)}},Mr=new class extends wn{flush(o){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let l,g=-1,E=n.length;o=o||n.shift();do{if(l=o.execute(o.state,o.delay))break}while(++g<E&&(o=n.shift()));if(this.active=!1,l){for(;++g<E&&(o=n.shift());)o.unsubscribe();throw l}}}(class extends Yi{constructor(o,n){super(o,n),this.scheduler=o,this.work=n}requestAsyncId(o,n,l=0){return null!==l&&l>0?super.requestAsyncId(o,n,l):(o.actions.push(this),o.scheduled||(o.scheduled=oi.setImmediate(o.flush.bind(o,null))))}recycleAsyncId(o,n,l=0){if(null!==l&&l>0||null===l&&this.delay>0)return super.recycleAsyncId(o,n,l);0===o.actions.length&&(oi.clearImmediate(n),o.scheduled=void 0)}});var Jr=de(9796);function ts(d){return!(0,Jr.k)(d)&&d-parseFloat(d)+1>=0}class bi extends or.y{constructor(o,n=0,l=Mr){super(),this.source=o,this.delayTime=n,this.scheduler=l,(!ts(n)||n<0)&&(this.delayTime=0),(!l||"function"!=typeof l.schedule)&&(this.scheduler=Mr)}static create(o,n=0,l=Mr){return new bi(o,n,l)}static dispatch(o){const{source:n,subscriber:l}=o;return this.add(n.subscribe(l))}_subscribe(o){return this.scheduler.schedule(bi.dispatch,this.delayTime,{source:this.source,subscriber:o})}}class Uo{constructor(o,n){this.scheduler=o,this.delay=n}call(o,n){return new bi(n,this.delay,this.scheduler).subscribe(o)}}var Ao=de(7393),xr=de(9193),Rr=de(5917);class Kn{constructor(o,n,l){this.kind=o,this.value=n,this.error=l,this.hasValue="N"===o}observe(o){switch(this.kind){case"N":return o.next&&o.next(this.value);case"E":return o.error&&o.error(this.error);case"C":return o.complete&&o.complete()}}do(o,n,l){switch(this.kind){case"N":return o&&o(this.value);case"E":return n&&n(this.error);case"C":return l&&l()}}accept(o,n,l){return o&&"function"==typeof o.next?this.observe(o):this.do(o,n,l)}toObservable(){switch(this.kind){case"N":return(0,Rr.of)(this.value);case"E":return d=this.error,new or.y(n=>n.error(d));case"C":return(0,xr.c)()}var d;throw new Error("unexpected notification kind value")}static createNext(o){return void 0!==o?new Kn("N",o):Kn.undefinedValueNotification}static createError(o){return new Kn("E",void 0,o)}static createComplete(){return Kn.completeNotification}}function Ho(d,o=0){return function(l){return l.lift(new wo(d,o))}}Kn.completeNotification=new Kn("C"),Kn.undefinedValueNotification=new Kn("N",void 0);class wo{constructor(o,n=0){this.scheduler=o,this.delay=n}call(o,n){return n.subscribe(new Ji(o,this.scheduler,this.delay))}}class Ji extends Ao.L{constructor(o,n,l=0){super(o),this.scheduler=n,this.delay=l}static dispatch(o){const{notification:n,destination:l}=o;n.observe(l),this.unsubscribe()}scheduleMessage(o){this.destination.add(this.scheduler.schedule(Ji.dispatch,this.delay,new Mi(o,this.destination)))}_next(o){this.scheduleMessage(Kn.createNext(o))}_error(o){this.scheduleMessage(Kn.createError(o)),this.unsubscribe()}_complete(){this.scheduleMessage(Kn.createComplete()),this.unsubscribe()}}class Mi{constructor(o,n){this.notification=o,this.destination=n}}var Ki=de(4395),gn=de.n(Ki);function Go(){}class ci{constructor(o,n=Vn){this.zone=o,this.delegate=n}now(){return this.delegate.now()}schedule(o,n,l){const g=this.zone;return this.delegate.schedule(function(O){g.runGuarded(()=>{o.apply(this,[O])})},n,l)}}class xi{constructor(o){this.zone=o,this.task=null}call(o,n){const l=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),n.pipe((0,vi.b)({next:l,complete:l,error:l})).subscribe(o).add(l)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ao{constructor(o){this.ngZone=o,this.outsideAngular=o.runOutsideAngular(()=>new ci(Zone.current)),this.insideAngular=o.run(()=>new ci(Zone.current,Bo))}}function Co(d){return function(n){return(n=n.lift(new xi(d.ngZone))).pipe(function(d,o=0){return function(l){return l.lift(new Uo(d,o))}}(d.outsideAngular),Ho(d.insideAngular))}}const Ri=["ngOnDestroy"],co=new u.OlP("angularfire2.app.options"),Eo=new u.OlP("angularfire2.app.nameOrConfig"),Pi=new u.GfV("6.0.4-canary.9a26fbe");function Mo(d,o,n){const g="object"==typeof n&&n||{};return g.name=g.name||"string"==typeof n&&n||"[DEFAULT]",gn().apps.filter(O=>O&&O.name===g.name)[0]||o.runOutsideAngular(()=>gn().initializeApp(d,g))}const Bi={provide:class{},useFactory:Mo,deps:[co,u.R0b,[new u.FiY,Eo]]};let qs=(()=>{class d{constructor(n){gn().registerVersion("angularfire",Pi.full,n.toString()),gn().registerVersion("angular",u.q4F.full)}static initializeApp(n,l){return{ngModule:d,providers:[{provide:co,useValue:n},{provide:Eo,useValue:l}]}}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(u.Lbi))},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({providers:[Bi]}),d})();var jr=de(4402),$=de(8002),H=de(2145),F=de(5435);function xt(d,o){return function(d,o=Bo){return new or.y(n=>{let l;return null!=o?o.schedule(()=>{l=d.onSnapshot(n)}):l=d.onSnapshot(n),()=>{null!=l&&l()}})}(d,o)}function re(d,o){return xt(d,o).pipe((0,$.U)(n=>({payload:n,type:"query"})))}function G(d,o){return re(d,o).pipe((0,$.U)(n=>n.payload.docChanges().map(l=>({type:l.type,payload:l}))))}function fe(d,o,n){return re(d,n).pipe((0,$.U)(l=>l.payload.docChanges()),(0,H.R)((l,g)=>function(d,o,n){return o.forEach(l=>{n.indexOf(l.type)>-1&&(d=function(d,o){switch(o.type){case"added":d[o.newIndex]&&d[o.newIndex].doc.ref.isEqual(o.doc.ref)||d.splice(o.newIndex,0,o);break;case"modified":(null==d[o.oldIndex]||d[o.oldIndex].doc.ref.isEqual(o.doc.ref))&&(o.oldIndex!==o.newIndex?(d.splice(o.oldIndex,1),d.splice(o.newIndex,0,o)):d.splice(o.newIndex,1,o));break;case"removed":d[o.oldIndex]&&d[o.oldIndex].doc.ref.isEqual(o.doc.ref)&&d.splice(o.oldIndex,1)}return d}(d,l))}),d}(l,g,o),[]),(0,$.U)(l=>l.map(g=>({type:g.type,payload:g}))))}function vt(d){return(!d||0===d.length)&&(d=["added","removed","modified"]),d}de(5910);class qt{constructor(o,n,l){this.ref=o,this.query=n,this.afs=l}stateChanges(o){return o&&0!==o.length?G(this.query,this.afs.schedulers.outsideAngular).pipe((0,$.U)(n=>n.filter(l=>o.indexOf(l.type)>-1)),(0,F.h)(n=>n.length>0),this.afs.keepUnstableUntilFirst):G(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(o){return this.stateChanges(o).pipe((0,H.R)((n,l)=>[...n,...l],[]))}snapshotChanges(o){const n=vt(o);return fe(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(o={}){return re(this.query,this.afs.schedulers.outsideAngular).pipe((0,$.U)(n=>n.payload.docs.map(l=>o.idField?Object.assign(Object.assign({},l.data()),{[o.idField]:l.id}):l.data())),this.afs.keepUnstableUntilFirst)}get(o){return(0,jr.D)(this.query.get(o)).pipe(Ho(this.afs.schedulers.insideAngular))}add(o){return this.ref.add(o)}doc(o){return new fn(this.ref.doc(o),this.afs)}}class fn{constructor(o,n){this.ref=o,this.afs=n}set(o,n){return this.ref.set(o,n)}update(o){return this.ref.update(o)}delete(){return this.ref.delete()}collection(o,n){const l=this.ref.collection(o),{ref:g,query:E}=ai(l,n);return new qt(g,E,this.afs)}snapshotChanges(){return(d=this.ref,o=this.afs.schedulers.outsideAngular,xt(d,o).pipe((0,$.U)(n=>({payload:n,type:"value"})))).pipe(this.afs.keepUnstableUntilFirst);var d,o}valueChanges(){return this.snapshotChanges().pipe((0,$.U)(o=>o.payload.data()))}get(o){return(0,jr.D)(this.ref.get(o)).pipe(Ho(this.afs.schedulers.insideAngular))}}class er{constructor(o,n){this.query=o,this.afs=n}stateChanges(o){return o&&0!==o.length?G(this.query,this.afs.schedulers.outsideAngular).pipe((0,$.U)(n=>n.filter(l=>o.indexOf(l.type)>-1)),(0,F.h)(n=>n.length>0),this.afs.keepUnstableUntilFirst):G(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(o){return this.stateChanges(o).pipe((0,H.R)((n,l)=>[...n,...l],[]))}snapshotChanges(o){const n=vt(o);return fe(this.query,n,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return re(this.query,this.afs.schedulers.outsideAngular).pipe((0,$.U)(n=>n.payload.docs.map(l=>l.data())),this.afs.keepUnstableUntilFirst)}get(o){return(0,jr.D)(this.query.get(o)).pipe(Ho(this.afs.schedulers.insideAngular))}}const jn=de(5910),Cn=new u.OlP("angularfire2.enableFirestorePersistence"),Hn=new u.OlP("angularfire2.firestore.persistenceSettings"),sr=new u.OlP("angularfire2.firestore.settings");function ai(d,o=(n=>n)){return{query:o(d),ref:d}}let Xi=(()=>{class d{constructor(n,l,g,E,O,V,X){this.schedulers=new ao(V),this.keepUnstableUntilFirst=Co(this.schedulers),this.firestore=V.runOutsideAngular(()=>{const ce=Mo(n,V,l);"registerFirestore"in jn&&jn.registerFirestore(gn());const he=ce.firestore();return E&&he.settings(E),he}),this.persistenceEnabled$=g&&!(0,I.PM)(O)?V.runOutsideAngular(()=>{try{return(0,jr.D)(this.firestore.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(he){return(0,Rr.of)(!1)}}):(0,Rr.of)(!1)}collection(n,l){let g;g="string"==typeof n?this.firestore.collection(n):n;const{ref:E,query:O}=ai(g,l),V=this.schedulers.ngZone.run(()=>E);return new qt(V,O,this)}collectionGroup(n,l){const g=l||(O=>O),E=this.firestore.collectionGroup(n);return new er(g(E),this)}doc(n){let l;l="string"==typeof n?this.firestore.doc(n):n;const g=this.schedulers.ngZone.run(()=>l);return new fn(g,this)}createId(){return this.firestore.collection("_").doc().id}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(co),u.LFG(Eo,8),u.LFG(Cn,8),u.LFG(sr,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Hn,8))},d.\u0275prov=(0,u.Yz7)({factory:function(){return new d((0,u.LFG)(co),(0,u.LFG)(Eo,8),(0,u.LFG)(Cn,8),(0,u.LFG)(sr,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b),(0,u.LFG)(Hn,8))},token:d,providedIn:"any"}),d})(),Kr=(()=>{class d{static enablePersistence(n){return{ngModule:d,providers:[{provide:Cn,useValue:!0},{provide:Hn,useValue:n}]}}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({providers:[Xi]}),d})();var Si=de(3507);function mt(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function Bn(d,o){d.prototype=Object.create(o.prototype),d.prototype.constructor=d,d.__proto__=o}var di,Or,Ct,pr,is,ar,Xe,ro,Is,X,ce,he,He,Ve,$e,d,o,n,l,g,E,O,V,at,Er={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tr={duration:.5,overwrite:!1,delay:0},wi=1e8,On=1e-8,Cs=2*Math.PI,Wo=Cs/4,qa=0,Es=Math.sqrt,xo=Math.cos,zs=Math.sin,In=function(o){return"string"==typeof o},hr=function(o){return"function"==typeof o},Ro=function(o){return"number"==typeof o},ns=function(o){return void 0===o},fi=function(o){return"object"==typeof o},Ii=function(o){return!1!==o},xa=function(){return"undefined"!=typeof window},ks=function(o){return hr(o)||In(o)},na="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Hr=Array.isArray,eo=/(?:-?\.?\d|\.)+/gi,Ys=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ps=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ya=/[+-]=-?[.\d]+/,Ds=/[^,'"\[\]\s]+/gi,nr=/[\d.+\-=]+(?:e[-+]\d*)*/i,Ci={},qo={},zo=function(o){return(qo=Ts(o,Ci))&&Qo},gr=function(o,n){return console.warn("Invalid property",o,"set to",n,"Missing plugin? gsap.registerPlugin()")},Vr=function(o,n){return!n&&console.warn(o)},b=function(o,n){return o&&(Ci[o]=n)&&qo&&(qo[o]=n)||Ci},k=function(){return 0},Y={},ge=[],Ie={},Dt={},xn={},Nn=30,Pr=[],Do="",hi=function(o){var l,g,n=o[0];if(fi(n)||hr(n)||(o=[o]),!(l=(n._gsap||{}).harness)){for(g=Pr.length;g--&&!Pr[g].targetTest(n););l=Pr[g]}for(g=o.length;g--;)o[g]&&(o[g]._gsap||(o[g]._gsap=new pu(o[g],l)))||o.splice(g,1);return o},Fi=function(o){return o._gsap||hi(no(o))[0]._gsap},Ls=function(o,n,l){return(l=o[n])&&hr(l)?o[n]():ns(l)&&o.getAttribute&&o.getAttribute(n)||l},Dr=function(o,n){return(o=o.split(",")).forEach(n)||o},hn=function(o){return Math.round(1e5*o)/1e5||0},Zs=function(o,n){for(var l=n.length,g=0;o.indexOf(n[g])<0&&++g<l;);return g<l},va=function(){var l,g,o=ge.length,n=ge.slice(0);for(Ie={},ge.length=0,l=0;l<o;l++)(g=n[l])&&g._lazy&&(g.render(g._lazy[0],g._lazy[1],!0)._lazy=0)},ba=function(o,n,l,g){ge.length&&va(),o.render(n,l,g),ge.length&&va()},pl=function(o){var n=parseFloat(o);return(n||0===n)&&(o+"").match(Ds).length<2?n:In(o)?o.trim():o},Vs=function(o){return o},to=function(o,n){for(var l in n)l in o||(o[l]=n[l]);return o},qu=function(o,n){for(var l in n)l in o||"duration"===l||"ease"===l||(o[l]=n[l])},Ts=function(o,n){for(var l in n)o[l]=n[l];return o},ra=function d(o,n){for(var l in n)"__proto__"!==l&&"constructor"!==l&&"prototype"!==l&&(o[l]=fi(n[l])?d(o[l]||(o[l]={}),n[l]):n[l]);return o},ia=function(o,n){var g,l={};for(g in o)g in n||(l[g]=o[g]);return l},Qs=function(o){var n=o.parent||Or,l=o.keyframes?qu:to;if(Ii(o.inherit))for(;n;)l(o,n.vars.defaults),n=n.parent||n._dp;return o},_=function(o,n,l,g){void 0===l&&(l="_first"),void 0===g&&(g="_last");var E=n._prev,O=n._next;E?E._next=O:o[l]===n&&(o[l]=O),O?O._prev=E:o[g]===n&&(o[g]=E),n._next=n._prev=n.parent=null},w=function(o,n){o.parent&&(!n||o.parent.autoRemoveChildren)&&o.parent.remove(o),o._act=0},M=function(o,n){if(o&&(!n||n._end>o._dur||n._start<0))for(var l=o;l;)l._dirty=1,l=l.parent;return o},P=function(o){for(var n=o.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return o},Q=function d(o){return!o||o._ts&&d(o.parent)},ie=function(o){return o._repeat?ye(o._tTime,o=o.duration()+o._rDelay)*o:0},ye=function(o,n){var l=Math.floor(o/=n);return o&&l===o?l-1:l},_e=function(o,n){return(o-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},We=function(o){return o._end=hn(o._start+(o._tDur/Math.abs(o._ts||o._rts||On)||0))},nt=function(o,n){var l=o._dp;return l&&l.smoothChildTiming&&o._ts&&(o._start=hn(l._time-(o._ts>0?n/o._ts:((o._dirty?o.totalDuration():o._tDur)-n)/-o._ts)),We(o),l._dirty||M(l,o)),o},x=function(o,n){var l;if((n._time||n._initted&&!n._dur)&&(l=_e(o.rawTime(),n),(!n._dur||gs(0,n.totalDuration(),l)-n._tTime>On)&&n.render(l,!0)),M(o,n)._dp&&o._initted&&o._time>=o._dur&&o._ts){if(o._dur<o.duration())for(l=o;l._dp;)l.rawTime()>=0&&l.totalTime(l._tTime),l=l._dp;o._zTime=-On}},N=function(o,n,l,g){return n.parent&&w(n),n._start=hn((Ro(l)?l:l||o!==Or?dn(o,l,n):o._time)+n._delay),n._end=hn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),function(o,n,l,g,E){void 0===l&&(l="_first"),void 0===g&&(g="_last");var V,O=o[g];if(E)for(V=n[E];O&&O[E]>V;)O=O._prev;O?(n._next=O._next,O._next=n):(n._next=o[l],o[l]=n),n._next?n._next._prev=n:o[g]=n,n._prev=O,n.parent=n._dp=o}(o,n,"_first","_last",o._sort?"_start":0),ne(n)||(o._recent=n),g||x(o,n),o},S=function(o,n){return(Ci.ScrollTrigger||gr("scrollTrigger",n))&&Ci.ScrollTrigger.create(n,o)},B=function(o,n,l,g){return yl(o,n),o._initted?!l&&o._pt&&(o._dur&&!1!==o.vars.lazy||!o._dur&&o.vars.lazy)&&Xe!==ji.frame?(ge.push(o),o._lazy=[n,g],1):void 0:1},q=function d(o){var n=o.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||d(n))},ne=function(o){var n=o.data;return"isFromStart"===n||"isStart"===n},ft=function(o,n,l,g){var E=o._repeat,O=hn(n)||0,V=o._tTime/o._tDur;return V&&!g&&(o._time*=O/o._dur),o._dur=O,o._tDur=E?E<0?1e10:hn(O*(E+1)+o._rDelay*E):O,V&&!g?nt(o,o._tTime=o._tDur*V):o.parent&&We(o),l||M(o.parent,o),o},Bt=function(o){return o instanceof ms?M(o):ft(o,o._dur)},cn={_start:0,endTime:k,totalDuration:k},dn=function d(o,n,l){var V,X,ce,g=o.labels,E=o._recent||cn,O=o.duration()>=wi?E.endTime(!1):o._dur;return In(n)&&(isNaN(n)||n in g)?(X=n.charAt(0),ce="%"===n.substr(-1),V=n.indexOf("="),"<"===X||">"===X?(V>=0&&(n=n.replace(/=/,"")),("<"===X?E._start:E.endTime(E._repeat>=0))+(parseFloat(n.substr(1))||0)*(ce?(V<0?E:l).totalDuration()/100:1)):V<0?(n in g||(g[n]=O),g[n]):(X=parseFloat(n.charAt(V-1)+n.substr(V+1)),ce&&l&&(X=X/100*(Hr(l)?l[0]:l).totalDuration()),V>1?d(o,n.substr(0,V-1),l)+X:O+X)):null==n?O:+n},Tr=function(o,n,l){var V,X,g=Ro(n[1]),E=(g?2:1)+(o<2?0:1),O=n[E];if(g&&(O.duration=n[1]),O.parent=l,o){for(V=O,X=l;X&&!("immediateRender"in V);)V=X.vars.defaults||{},X=Ii(X.vars.inherit)&&X.parent;O.immediateRender=Ii(V.immediateRender),o<2?O.runBackwards=1:O.startAt=n[E-1]}return new To(n[0],O,n[E+1])},Gn=function(o,n){return o||0===o?n(o):n},gs=function(o,n,l){return l<o?o:l>n?n:l},Xr=function(o){if("string"!=typeof o)return"";var n=nr.exec(o);return n?o.substr(n.index+n[0].length):""},Oo=[].slice,os=function(o,n){return o&&fi(o)&&"length"in o&&(!n&&!o.length||o.length-1 in o&&fi(o[0]))&&!o.nodeType&&o!==Ct},no=function(o,n,l){return!In(o)||l||!pr&&Ns()?Hr(o)?function(o,n,l){return void 0===l&&(l=[]),o.forEach(function(g){var E;return In(g)&&!n||os(g,1)?(E=l).push.apply(E,no(g)):l.push(g)})||l}(o,l):os(o)?Oo.call(o,0):o?[o]:[]:Oo.call((n||is).querySelectorAll(o),0)},hu=function(o){return o.sort(function(){return.5-Math.random()})},oa=function(o){if(hr(o))return o;var n=fi(o)?o:{each:o},l=Ya(n.ease),g=n.from||0,E=parseFloat(n.base)||0,O={},V=g>0&&g<1,X=isNaN(g)||V,ce=n.axis,he=g,He=g;return In(g)?he=He={center:.5,edges:.5,end:1}[g]||0:!V&&X&&(he=g[0],He=g[1]),function(Ve,$e,at){var bt,Mt,jt,tn,Ot,Ut,Xt,en,$t,qe=(at||n).length,gt=O[qe];if(!gt){if(!($t="auto"===n.grid?0:(n.grid||[1,wi])[1])){for(Xt=-wi;Xt<(Xt=at[$t++].getBoundingClientRect().left)&&$t<qe;);$t--}for(gt=O[qe]=[],bt=X?Math.min($t,qe)*he-.5:g%$t,Mt=X?qe*He/$t-.5:g/$t|0,Xt=0,en=wi,Ut=0;Ut<qe;Ut++)jt=Ut%$t-bt,tn=Mt-(Ut/$t|0),gt[Ut]=Ot=ce?Math.abs("y"===ce?tn:jt):Es(jt*jt+tn*tn),Ot>Xt&&(Xt=Ot),Ot<en&&(en=Ot);"random"===g&&hu(gt),gt.max=Xt-en,gt.min=en,gt.v=qe=(parseFloat(n.amount)||parseFloat(n.each)*($t>qe?qe-1:ce?"y"===ce?qe/$t:$t:Math.max($t,qe/$t))||0)*("edges"===g?-1:1),gt.b=qe<0?E-qe:E,gt.u=Xr(n.amount||n.each)||0,l=l&&qe<0?_l(l):l}return qe=(gt[Ve]-gt.min)/gt.max||0,hn(gt.b+(l?l(qe):qe)*gt.v)+gt.u}},Js=function(o){var n=o<1?Math.pow(10,(o+"").length-2):1;return function(l){var g=Math.round(parseFloat(l)/o)*o*n;return(g-g%1)/n+(Ro(l)?0:Xr(l))}},Hl=function(o,n){var g,E,l=Hr(o);return!l&&fi(o)&&(g=l=o.radius||wi,o.values?(o=no(o.values),(E=!Ro(o[0]))&&(g*=g)):o=Js(o.increment)),Gn(n,l?hr(o)?function(O){return E=o(O),Math.abs(E-O)<=g?E:O}:function(O){for(var Ve,$e,V=parseFloat(E?O.x:O),X=parseFloat(E?O.y:0),ce=wi,he=0,He=o.length;He--;)(Ve=E?(Ve=o[He].x-V)*Ve+($e=o[He].y-X)*$e:Math.abs(o[He]-V))<ce&&(ce=Ve,he=He);return he=!g||ce<=g?o[he]:O,E||he===O||Ro(O)?he:he+Xr(O)}:Js(o))},Gf=function(o,n,l,g){return Gn(Hr(o)?!n:!0===l?!!(l=0):!g,function(){return Hr(o)?o[~~(Math.random()*o.length)]:(l=l||1e-5)&&(g=l<1?Math.pow(10,(l+"").length-2):1)&&Math.floor(Math.round((o-l/2+Math.random()*(n-o+.99*l))/l)*l*g)/g})},yr=function(o,n,l){return Gn(l,function(g){return o[~~n(g)]})},Po=function(o){for(var g,E,O,V,n=0,l="";~(g=o.indexOf("random(",n));)O=o.indexOf(")",g),V="["===o.charAt(g+7),E=o.substr(g+7,O-g-7).match(V?Ds:eo),l+=o.substr(n,g-n)+Gf(V?E:+E[0],V?0:+E[1],+E[2]||1e-5),n=O+1;return l+o.substr(n,o.length-n)},Wf=function(o,n,l,g,E){var O=n-o,V=g-l;return Gn(E,function(X){return l+((X-o)/O*V||0)})},Ui=function(o,n,l){var O,V,X,g=o.labels,E=wi;for(O in g)(V=g[O]-n)<0==!!l&&V&&E>(V=Math.abs(V))&&(X=O,E=V);return X},fo=function(o,n,l){var O,V,g=o.vars,E=g[n];if(E)return O=g[n+"Params"],V=g.callbackScope||o,l&&ge.length&&va(),O?E.apply(V,O):E.call(V)},Yo=function(o){return w(o),o.scrollTrigger&&o.scrollTrigger.kill(!1),o.progress()<1&&fo(o,"onInterrupt"),o},Ks=function(o){var n=(o=!o.name&&o.default||o).name,l=hr(o),g=n&&!l&&o.init?function(){this._props=[]}:o,E={init:k,render:wl,add:gu,kill:_u,modifier:sa,rawVars:0},O={targetTest:0,get:0,getSetter:Qa,aliases:{},register:0};if(Ns(),o!==g){if(Dt[n])return;to(g,to(ia(o,E),O)),Ts(g.prototype,Ts(E,ia(o,O))),Dt[g.prop=n]=g,o.targetTest&&(Pr.push(g),Y[n]=1),n=("css"===n?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}b(n,g),o.register&&o.register(Qo,g,Zo)},Br=255,wa={aqua:[0,Br,Br],lime:[0,Br,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Br],navy:[0,0,128],white:[Br,Br,Br],olive:[128,128,0],yellow:[Br,Br,0],orange:[Br,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Br,0,0],pink:[Br,192,203],cyan:[0,Br,Br],transparent:[Br,Br,Br,0]},Ca=function(o,n,l){return(6*(o=o<0?o+1:o>1?o-1:o)<1?n+(l-n)*o*6:o<.5?l:3*o<2?n+(l-n)*(2/3-o)*6:n)*Br+.5|0},ho=function(o,n,l){var E,O,V,X,ce,he,He,Ve,$e,at,g=o?Ro(o)?[o>>16,o>>8&Br,o&Br]:0:wa.black;if(!g){if(","===o.substr(-1)&&(o=o.substr(0,o.length-1)),wa[o])g=wa[o];else if("#"===o.charAt(0)){if(o.length<6&&(E=o.charAt(1),O=o.charAt(2),V=o.charAt(3),o="#"+E+E+O+O+V+V+(5===o.length?o.charAt(4)+o.charAt(4):"")),9===o.length)return[(g=parseInt(o.substr(1,6),16))>>16,g>>8&Br,g&Br,parseInt(o.substr(7),16)/255];g=[(o=parseInt(o.substr(1),16))>>16,o>>8&Br,o&Br]}else if("hsl"===o.substr(0,3))if(g=at=o.match(eo),n){if(~o.indexOf("="))return g=o.match(Ys),l&&g.length<4&&(g[3]=1),g}else X=+g[0]%360/360,ce=+g[1]/100,E=2*(he=+g[2]/100)-(O=he<=.5?he*(ce+1):he+ce-he*ce),g.length>3&&(g[3]*=1),g[0]=Ca(X+1/3,E,O),g[1]=Ca(X,E,O),g[2]=Ca(X-1/3,E,O);else g=o.match(eo)||wa.transparent;g=g.map(Number)}return n&&!at&&(E=g[0]/Br,O=g[1]/Br,V=g[2]/Br,he=((He=Math.max(E,O,V))+(Ve=Math.min(E,O,V)))/2,He===Ve?X=ce=0:($e=He-Ve,ce=he>.5?$e/(2-He-Ve):$e/(He+Ve),X=He===E?(O-V)/$e+(O<V?6:0):He===O?(V-E)/$e+2:(E-O)/$e+4,X*=60),g[0]=~~(X+.5),g[1]=~~(100*ce+.5),g[2]=~~(100*he+.5)),l&&g.length<4&&(g[3]=1),g},gl=function(o){var n=[],l=[],g=-1;return o.split(Ea).forEach(function(E){var O=E.match(rs)||[];n.push.apply(n,O),l.push(g+=O.length+1)}),n.c=l,n},Yu=function(o,n,l){var X,ce,he,He,g="",E=(o+g).match(Ea),O=n?"hsla(":"rgba(",V=0;if(!E)return o;if(E=E.map(function(Ve){return(Ve=ho(Ve,n,1))&&O+(n?Ve[0]+","+Ve[1]+"%,"+Ve[2]+"%,"+Ve[3]:Ve.join(","))+")"}),l&&(he=gl(o),(X=l.c).join(g)!==he.c.join(g)))for(He=(ce=o.replace(Ea,"1").split(rs)).length-1;V<He;V++)g+=ce[V]+(~X.indexOf(V)?E.shift()||O+"0,0,0,0)":(he.length?he:E.length?E:l).shift());if(!ce)for(He=(ce=o.split(Ea)).length-1;V<He;V++)g+=ce[V]+E[V];return g+ce[He]},Ea=function(){var o,d="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(o in wa)d+="|"+o+"\\b";return new RegExp(d+")","gi")}(),qf=/hsl[a]?\(/,Fo=function(o){var l,n=o.join(" ");if(Ea.lastIndex=0,Ea.test(n))return l=qf.test(n),o[1]=Yu(o[1],l),o[0]=Yu(o[0],l,gl(o[1])),!0},ji=(d=Date.now,o=500,n=33,l=d(),g=l,O=E=1e3/240,at=function qe(gt){var jt,tn,Ot,Ut,bt=d()-g,Mt=!0===gt;if(bt>o&&(l+=bt-n),((jt=(Ot=(g+=bt)-l)-O)>0||Mt)&&(Ut=++He.frame,Ve=Ot-1e3*He.time,He.time=Ot/=1e3,O+=jt+(jt>=E?4:E-jt),tn=1),Mt||(X=ce(qe)),tn)for($e=0;$e<V.length;$e++)V[$e](Ot,Ve,Ut,gt)},He={time:0,frame:0,tick:function(){at(!0)},deltaRatio:function(gt){return Ve/(1e3/(gt||60))},wake:function(){ar&&(!pr&&xa()&&(Ct=pr=window,is=Ct.document||{},Ci.gsap=Qo,(Ct.gsapVersions||(Ct.gsapVersions=[])).push(Qo.version),zo(qo||Ct.GreenSockGlobals||!Ct.gsap&&Ct||{}),he=Ct.requestAnimationFrame),X&&He.sleep(),ce=he||function(gt){return setTimeout(gt,O-1e3*He.time+1|0)},Is=1,at(2))},sleep:function(){(he?Ct.cancelAnimationFrame:clearTimeout)(X),Is=0,ce=k},lagSmoothing:function(gt,bt){o=gt||1/On,n=Math.min(bt,o,0)},fps:function(gt){O=1e3*He.time+(E=1e3/(gt||240))},add:function(gt){V.indexOf(gt)<0&&V.push(gt),Ns()},remove:function(gt){var bt;~(bt=V.indexOf(gt))&&V.splice(bt,1)&&$e>=bt&&$e--},_listeners:V=[]}),Ns=function(){return!Is&&ji.wake()},$n={},Bs=/^[\d.\-M][\d.\-,\s]/,ml=/["']/g,Gl=function(o){for(var V,X,ce,n={},l=o.substr(1,o.length-3).split(":"),g=l[0],E=1,O=l.length;E<O;E++)X=l[E],V=E!==O-1?X.lastIndexOf(","):X.length,ce=X.substr(0,V),n[g]=isNaN(ce)?ce.replace(ml,"").trim():+ce,g=X.substr(V+1).trim();return n},_l=function(o){return function(n){return 1-o(1-n)}},As=function d(o,n){for(var g,l=o._first;l;)l instanceof ms?d(l,n):l.vars.yoyoEase&&(!l._yoyo||!l._repeat)&&l._yoyo!==n&&(l.timeline?d(l.timeline,n):(g=l._ease,l._ease=l._yEase,l._yEase=g,l._yoyo=n)),l=l._next},Ya=function(o,n){return o&&(hr(o)?o:$n[o]||function(o){var n=(o+"").split("("),l=$n[n[0]];return l&&n.length>1&&l.config?l.config.apply(null,~o.indexOf("{")?[Gl(n[1])]:function(o){var n=o.indexOf("(")+1,l=o.indexOf(")"),g=o.indexOf("(",n);return o.substring(n,~g&&g<l?o.indexOf(")",l+1):l)}(o).split(",").map(pl)):$n._CE&&Bs.test(o)?$n._CE("",o):l}(o))||n},Us=function(o,n,l,g){void 0===l&&(l=function(X){return 1-n(1-X)}),void 0===g&&(g=function(X){return X<.5?n(2*X)/2:1-n(2*(1-X))/2});var O,E={easeIn:n,easeOut:l,easeInOut:g};return Dr(o,function(V){for(var X in $n[V]=Ci[V]=E,$n[O=V.toLowerCase()]=l,E)$n[O+("easeIn"===X?".in":"easeOut"===X?".out":".inOut")]=$n[V+"."+X]=E[X]}),E},zf=function(o){return function(n){return n<.5?(1-o(1-2*n))/2:.5+o(2*(n-.5))/2}},$l=function d(o,n,l){var g=n>=1?n:1,E=(l||(o?.3:.45))/(n<1?n:1),O=E/Cs*(Math.asin(1/g)||0),V=function(he){return 1===he?1:g*Math.pow(2,-10*he)*zs((he-O)*E)+1},X="out"===o?V:"in"===o?function(ce){return 1-V(1-ce)}:zf(V);return E=Cs/E,X.config=function(ce,he){return d(o,ce,he)},X},Zu=function d(o,n){void 0===n&&(n=1.70158);var l=function(O){return O?--O*O*((n+1)*O+n)+1:0},g="out"===o?l:"in"===o?function(E){return 1-l(1-E)}:zf(l);return g.config=function(E){return d(o,E)},g};Dr("Linear,Quad,Cubic,Quart,Quint,Strong",function(d,o){var n=o<5?o+1:o;Us(d+",Power"+(n-1),o?function(l){return Math.pow(l,n)}:function(l){return l},function(l){return 1-Math.pow(1-l,n)},function(l){return l<.5?Math.pow(2*l,n)/2:1-Math.pow(2*(1-l),n)/2})}),$n.Linear.easeNone=$n.none=$n.Linear.easeIn,Us("Elastic",$l("in"),$l("out"),$l()),function(d,o){var E=function(V){return V<.36363636363636365?d*V*V:V<.7272727272727273?d*Math.pow(V-1.5/o,2)+.75:V<.9090909090909092?d*(V-=2.25/o)*V+.9375:d*Math.pow(V-2.625/o,2)+.984375};Us("Bounce",function(O){return 1-E(1-O)},E)}(7.5625,2.75),Us("Expo",function(d){return d?Math.pow(2,10*(d-1)):0}),Us("Circ",function(d){return-(Es(1-d*d)-1)}),Us("Sine",function(d){return 1===d?1:1-xo(d*Wo)}),Us("Back",Zu("in"),Zu("out"),Zu()),$n.SteppedEase=$n.steps=Ci.SteppedEase={config:function(o,n){void 0===o&&(o=1);var l=1/o,g=o+(n?0:1),E=n?1:0;return function(V){return((g*gs(0,.99999999,V)|0)+E)*l}}},tr.ease=$n["quad.out"],Dr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(d){return Do+=d+","+d+"Params,"});var pu=function(o,n){this.id=qa++,o._gsap=this,this.target=o,this.harness=n,this.get=n?n.get:Ls,this.set=n?n.getSetter:Qa},Za=function(){function d(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,ft(this,+n.duration,1,1),this.data=n.data,Is||ji.wake()}var o=d.prototype;return o.delay=function(l){return l||0===l?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+l-this._delay),this._delay=l,this):this._delay},o.duration=function(l){return arguments.length?this.totalDuration(this._repeat>0?l+(l+this._rDelay)*this._repeat:l):this.totalDuration()&&this._dur},o.totalDuration=function(l){return arguments.length?(this._dirty=0,ft(this,this._repeat<0?l:(l-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},o.totalTime=function(l,g){if(Ns(),!arguments.length)return this._tTime;var E=this._dp;if(E&&E.smoothChildTiming&&this._ts){for(nt(this,l),!E._dp||E.parent||x(E,this);E.parent;)E.parent._time!==E._start+(E._ts>=0?E._tTime/E._ts:(E.totalDuration()-E._tTime)/-E._ts)&&E.totalTime(E._tTime,!0),E=E.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&l<this._tDur||this._ts<0&&l>0||!this._tDur&&!l)&&N(this._dp,this,this._start-this._delay)}return(this._tTime!==l||!this._dur&&!g||this._initted&&Math.abs(this._zTime)===On||!l&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=l),ba(this,l,g)),this},o.time=function(l,g){return arguments.length?this.totalTime(Math.min(this.totalDuration(),l+ie(this))%(this._dur+this._rDelay)||(l?this._dur:0),g):this._time},o.totalProgress=function(l,g){return arguments.length?this.totalTime(this.totalDuration()*l,g):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},o.progress=function(l,g){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?l:1-l)+ie(this),g):this.duration()?Math.min(1,this._time/this._dur):this.ratio},o.iteration=function(l,g){var E=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(l-1)*E,g):this._repeat?ye(this._tTime,E)+1:1},o.timeScale=function(l){if(!arguments.length)return this._rts===-On?0:this._rts;if(this._rts===l)return this;var g=this.parent&&this._ts?_e(this.parent._time,this):this._tTime;return this._rts=+l||0,this._ts=this._ps||l===-On?0:this._rts,P(this.totalTime(gs(-this._delay,this._tDur,g),!0))},o.paused=function(l){return arguments.length?(this._ps!==l&&(this._ps=l,l?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ns(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==On&&(this._tTime-=On)))),this):this._ps},o.startTime=function(l){if(arguments.length){this._start=l;var g=this.parent||this._dp;return g&&(g._sort||!this.parent)&&N(g,this,l-this._delay),this}return this._start},o.endTime=function(l){return this._start+(Ii(l)?this.totalDuration():this.duration())/Math.abs(this._ts)},o.rawTime=function(l){var g=this.parent||this._dp;return g?l&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_e(g.rawTime(l),this):this._tTime:this._tTime},o.globalTime=function(l){for(var g=this,E=arguments.length?l:g.rawTime();g;)E=g._start+E/(g._ts||1),g=g._dp;return E},o.repeat=function(l){return arguments.length?(this._repeat=l===1/0?-2:l,Bt(this)):-2===this._repeat?1/0:this._repeat},o.repeatDelay=function(l){if(arguments.length){var g=this._time;return this._rDelay=l,Bt(this),g?this.time(g):this}return this._rDelay},o.yoyo=function(l){return arguments.length?(this._yoyo=l,this):this._yoyo},o.seek=function(l,g){return this.totalTime(dn(this,l),Ii(g))},o.restart=function(l,g){return this.play().totalTime(l?-this._delay:0,Ii(g))},o.play=function(l,g){return null!=l&&this.seek(l,g),this.reversed(!1).paused(!1)},o.reverse=function(l,g){return null!=l&&this.seek(l||this.totalDuration(),g),this.reversed(!0).paused(!1)},o.pause=function(l,g){return null!=l&&this.seek(l,g),this.paused(!0)},o.resume=function(){return this.paused(!1)},o.reversed=function(l){return arguments.length?(!!l!==this.reversed()&&this.timeScale(-this._rts||(l?-On:0)),this):this._rts<0},o.invalidate=function(){return this._initted=this._act=0,this._zTime=-On,this},o.isActive=function(){var E,l=this.parent||this._dp,g=this._start;return!(l&&!(this._ts&&this._initted&&l.isActive()&&(E=l.rawTime(!0))>=g&&E<this.endTime(!0)-On))},o.eventCallback=function(l,g,E){var O=this.vars;return arguments.length>1?(g?(O[l]=g,E&&(O[l+"Params"]=E),"onUpdate"===l&&(this._onUpdate=g)):delete O[l],this):O[l]},o.then=function(l){var g=this;return new Promise(function(E){var O=hr(l)?l:Vs,V=function(){var ce=g.then;g.then=null,hr(O)&&(O=O(g))&&(O.then||O===g)&&(g.then=ce),E(O),g.then=ce};g._initted&&1===g.totalProgress()&&g._ts>=0||!g._tTime&&g._ts<0?V():g._prom=V})},o.kill=function(){Yo(this)},d}();to(Za.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-On,_prom:0,_ps:!1,_rts:1});var ms=function(d){function o(l,g){var E;return void 0===l&&(l={}),(E=d.call(this,l)||this).labels={},E.smoothChildTiming=!!l.smoothChildTiming,E.autoRemoveChildren=!!l.autoRemoveChildren,E._sort=Ii(l.sortChildren),Or&&N(l.parent||Or,mt(E),g),l.reversed&&E.reverse(),l.paused&&E.paused(!0),l.scrollTrigger&&S(mt(E),l.scrollTrigger),E}Bn(o,d);var n=o.prototype;return n.to=function(g,E,O){return Tr(0,arguments,this),this},n.from=function(g,E,O){return Tr(1,arguments,this),this},n.fromTo=function(g,E,O,V){return Tr(2,arguments,this),this},n.set=function(g,E,O){return E.duration=0,E.parent=this,Qs(E).repeatDelay||(E.repeat=0),E.immediateRender=!!E.immediateRender,new To(g,E,dn(this,O),1),this},n.call=function(g,E,O){return N(this,To.delayedCall(0,g,E),O)},n.staggerTo=function(g,E,O,V,X,ce,he){return O.duration=E,O.stagger=O.stagger||V,O.onComplete=ce,O.onCompleteParams=he,O.parent=this,new To(g,O,dn(this,X)),this},n.staggerFrom=function(g,E,O,V,X,ce,he){return O.runBackwards=1,Qs(O).immediateRender=Ii(O.immediateRender),this.staggerTo(g,E,O,V,X,ce,he)},n.staggerFromTo=function(g,E,O,V,X,ce,he,He){return V.startAt=O,Qs(V).immediateRender=Ii(V.immediateRender),this.staggerTo(g,E,V,X,ce,he,He)},n.render=function(g,E,O){var Ve,$e,at,qe,gt,bt,Mt,jt,tn,Ot,Ut,Xt,V=this._time,X=this._dirty?this.totalDuration():this._tDur,ce=this._dur,he=this!==Or&&g>X-On&&g>=0?X:g<On?0:g,He=this._zTime<0!=g<0&&(this._initted||!ce);if(he!==this._tTime||O||He){if(V!==this._time&&ce&&(he+=this._time-V,g+=this._time-V),Ve=he,tn=this._start,bt=!(jt=this._ts),He&&(ce||(V=this._zTime),(g||!E)&&(this._zTime=g)),this._repeat){if(Ut=this._yoyo,gt=ce+this._rDelay,this._repeat<-1&&g<0)return this.totalTime(100*gt+g,E,O);if(Ve=hn(he%gt),he===X?(qe=this._repeat,Ve=ce):((qe=~~(he/gt))&&qe===he/gt&&(Ve=ce,qe--),Ve>ce&&(Ve=ce)),Ot=ye(this._tTime,gt),!V&&this._tTime&&Ot!==qe&&(Ot=qe),Ut&&1&qe&&(Ve=ce-Ve,Xt=1),qe!==Ot&&!this._lock){var en=Ut&&1&Ot,$t=en===(Ut&&1&qe);if(qe<Ot&&(en=!en),V=en?0:ce,this._lock=1,this.render(V||(Xt?0:hn(qe*gt)),E,!ce)._lock=0,this._tTime=he,!E&&this.parent&&fo(this,"onRepeat"),this.vars.repeatRefresh&&!Xt&&(this.invalidate()._lock=1),V&&V!==this._time||bt!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(ce=this._dur,X=this._tDur,$t&&(this._lock=2,this.render(V=en?ce:-1e-4,!0),this.vars.repeatRefresh&&!Xt&&this.invalidate()),this._lock=0,!this._ts&&!bt)return this;As(this,Xt)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Mt=function(o,n,l){var g;if(l>n)for(g=o._first;g&&g._start<=l;){if(!g._dur&&"isPause"===g.data&&g._start>n)return g;g=g._next}else for(g=o._last;g&&g._start>=l;){if(!g._dur&&"isPause"===g.data&&g._start<n)return g;g=g._prev}}(this,hn(V),hn(Ve)))&&(he-=Ve-(Ve=Mt._start)),this._tTime=he,this._time=Ve,this._act=!jt,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=g,V=0),!V&&Ve&&!E&&(fo(this,"onStart"),this._tTime!==he))return this;if(Ve>=V&&g>=0)for($e=this._first;$e;){if(at=$e._next,($e._act||Ve>=$e._start)&&$e._ts&&Mt!==$e){if($e.parent!==this)return this.render(g,E,O);if($e.render($e._ts>0?(Ve-$e._start)*$e._ts:($e._dirty?$e.totalDuration():$e._tDur)+(Ve-$e._start)*$e._ts,E,O),Ve!==this._time||!this._ts&&!bt){Mt=0,at&&(he+=this._zTime=-On);break}}$e=at}else{$e=this._last;for(var qr=g<0?g:Ve;$e;){if(at=$e._prev,($e._act||qr<=$e._end)&&$e._ts&&Mt!==$e){if($e.parent!==this)return this.render(g,E,O);if($e.render($e._ts>0?(qr-$e._start)*$e._ts:($e._dirty?$e.totalDuration():$e._tDur)+(qr-$e._start)*$e._ts,E,O),Ve!==this._time||!this._ts&&!bt){Mt=0,at&&(he+=this._zTime=qr?-On:On);break}}$e=at}}if(Mt&&!E&&(this.pause(),Mt.render(Ve>=V?0:-On)._zTime=Ve>=V?1:-1,this._ts))return this._start=tn,We(this),this.render(g,E,O);this._onUpdate&&!E&&fo(this,"onUpdate",!0),(he===X&&X>=this.totalDuration()||!he&&V)&&(tn===this._start||Math.abs(jt)!==Math.abs(this._ts))&&(this._lock||((g||!ce)&&(he===X&&this._ts>0||!he&&this._ts<0)&&w(this,1),!E&&(!(g<0)||V)&&(he||V||!X)&&(fo(this,he===X&&g>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(he<X&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(g,E){var O=this;if(Ro(E)||(E=dn(this,E,g)),!(g instanceof Za)){if(Hr(g))return g.forEach(function(V){return O.add(V,E)}),this;if(In(g))return this.addLabel(g,E);if(!hr(g))return this;g=To.delayedCall(0,g)}return this!==g?N(this,g,E):this},n.getChildren=function(g,E,O,V){void 0===g&&(g=!0),void 0===E&&(E=!0),void 0===O&&(O=!0),void 0===V&&(V=-wi);for(var X=[],ce=this._first;ce;)ce._start>=V&&(ce instanceof To?E&&X.push(ce):(O&&X.push(ce),g&&X.push.apply(X,ce.getChildren(!0,E,O)))),ce=ce._next;return X},n.getById=function(g){for(var E=this.getChildren(1,1,1),O=E.length;O--;)if(E[O].vars.id===g)return E[O]},n.remove=function(g){return In(g)?this.removeLabel(g):hr(g)?this.killTweensOf(g):(_(this,g),g===this._recent&&(this._recent=this._last),M(this))},n.totalTime=function(g,E){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=hn(ji.time-(this._ts>0?g/this._ts:(this.totalDuration()-g)/-this._ts))),d.prototype.totalTime.call(this,g,E),this._forcing=0,this):this._tTime},n.addLabel=function(g,E){return this.labels[g]=dn(this,E),this},n.removeLabel=function(g){return delete this.labels[g],this},n.addPause=function(g,E,O){var V=To.delayedCall(0,E||k,O);return V.data="isPause",this._hasPause=1,N(this,V,dn(this,g))},n.removePause=function(g){var E=this._first;for(g=dn(this,g);E;)E._start===g&&"isPause"===E.data&&w(E),E=E._next},n.killTweensOf=function(g,E,O){for(var V=this.getTweensOf(g,O),X=V.length;X--;)Ni!==V[X]&&V[X].kill(g,E);return this},n.getTweensOf=function(g,E){for(var he,O=[],V=no(g),X=this._first,ce=Ro(E);X;)X instanceof To?Zs(X._targets,V)&&(ce?(!Ni||X._initted&&X._ts)&&X.globalTime(0)<=E&&X.globalTime(X.totalDuration())>E:!E||X.isActive())&&O.push(X):(he=X.getTweensOf(V,E)).length&&O.push.apply(O,he),X=X._next;return O},n.tweenTo=function(g,E){E=E||{};var $e,O=this,V=dn(O,g),ce=E.startAt,he=E.onStart,He=E.onStartParams,Ve=E.immediateRender,at=To.to(O,to({ease:E.ease||"none",lazy:!1,immediateRender:!1,time:V,overwrite:"auto",duration:E.duration||Math.abs((V-(ce&&"time"in ce?ce.time:O._time))/O.timeScale())||On,onStart:function(){if(O.pause(),!$e){var gt=E.duration||Math.abs((V-(ce&&"time"in ce?ce.time:O._time))/O.timeScale());at._dur!==gt&&ft(at,gt,0,1).render(at._time,!0,!0),$e=1}he&&he.apply(at,He||[])}},E));return Ve?at.render(0):at},n.tweenFromTo=function(g,E,O){return this.tweenTo(E,to({startAt:{time:dn(this,g)}},O))},n.recent=function(){return this._recent},n.nextLabel=function(g){return void 0===g&&(g=this._time),Ui(this,dn(this,g))},n.previousLabel=function(g){return void 0===g&&(g=this._time),Ui(this,dn(this,g),1)},n.currentLabel=function(g){return arguments.length?this.seek(g,!0):this.previousLabel(this._time+On)},n.shiftChildren=function(g,E,O){void 0===O&&(O=0);for(var ce,V=this._first,X=this.labels;V;)V._start>=O&&(V._start+=g,V._end+=g),V=V._next;if(E)for(ce in X)X[ce]>=O&&(X[ce]+=g);return M(this)},n.invalidate=function(){var g=this._first;for(this._lock=0;g;)g.invalidate(),g=g._next;return d.prototype.invalidate.call(this)},n.clear=function(g){void 0===g&&(g=!0);for(var O,E=this._first;E;)O=E._next,this.remove(E),E=O;return this._dp&&(this._time=this._tTime=this._pTime=0),g&&(this.labels={}),M(this)},n.totalDuration=function(g){var ce,he,He,E=0,O=this,V=O._last,X=wi;if(arguments.length)return O.timeScale((O._repeat<0?O.duration():O.totalDuration())/(O.reversed()?-g:g));if(O._dirty){for(He=O.parent;V;)ce=V._prev,V._dirty&&V.totalDuration(),(he=V._start)>X&&O._sort&&V._ts&&!O._lock?(O._lock=1,N(O,V,he-V._delay,1)._lock=0):X=he,he<0&&V._ts&&(E-=he,(!He&&!O._dp||He&&He.smoothChildTiming)&&(O._start+=he/O._ts,O._time-=he,O._tTime-=he),O.shiftChildren(-he,!1,-1/0),X=0),V._end>E&&V._ts&&(E=V._end),V=ce;ft(O,O===Or&&O._time>E?O._time:E,1,1),O._dirty=0}return O._tDur},o.updateRoot=function(g){if(Or._ts&&(ba(Or,_e(g,Or)),Xe=ji.frame),ji.frame>=Nn){Nn+=Er.autoSleep||120;var E=Or._first;if((!E||!E._ts)&&Er.autoSleep&&ji._listeners.length<2){for(;E&&!E._ts;)E=E._next;E||ji.sleep()}}},o}(Za);to(ms.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ni,Yf=function(o,n,l,g,E,O,V){var He,Ve,$e,at,qe,gt,bt,Mt,X=new Zo(this._pt,o,n,0,1,ql,null,E),ce=0,he=0;for(X.b=l,X.e=g,l+="",(bt=~(g+="").indexOf("random("))&&(g=Po(g)),O&&(O(Mt=[l,g],o,n),l=Mt[0],g=Mt[1]),Ve=l.match(ps)||[];He=ps.exec(g);)at=He[0],qe=g.substring(ce,He.index),$e?$e=($e+1)%5:"rgba("===qe.substr(-5)&&($e=1),at!==Ve[he++]&&(gt=parseFloat(Ve[he-1])||0,X._pt={_next:X._pt,p:qe||1===he?qe:",",s:gt,c:"="===at.charAt(1)?parseFloat(at.substr(2))*("-"===at.charAt(0)?-1:1):parseFloat(at)-gt,m:$e&&$e<4?Math.round:0},ce=ps.lastIndex);return X.c=ce<g.length?g.substring(ce,g.length):"",X.fp=V,(ya.test(g)||bt)&&(X.e=0),this._pt=X,X},gu=function(o,n,l,g,E,O,V,X,ce){hr(g)&&(g=g(E||0,o,O));var $e,he=o[n],He="get"!==l?l:hr(he)?ce?o[n.indexOf("set")||!hr(o["get"+n.substr(3)])?n:"get"+n.substr(3)](ce):o[n]():he,Ve=hr(he)?ce?Oc:Qf:vl;if(In(g)&&(~g.indexOf("random(")&&(g=Po(g)),"="===g.charAt(1)&&(($e=parseFloat(He)+parseFloat(g.substr(2))*("-"===g.charAt(0)?-1:1)+(Xr(He)||0))||0===$e)&&(g=$e)),He!==g)return isNaN(He*g)||""===g?(!he&&!(n in o)&&gr(n,g),Yf.call(this,o,n,He,g,Ve,X||Er.stringFilter,ce)):($e=new Zo(this._pt,o,n,+He||0,g-(He||0),"boolean"==typeof he?Ei:Qu,0,Ve),ce&&($e.fp=ce),V&&$e.modifier(V,this,o),this._pt=$e)},mu=function(o,n,l,g,E,O){var V,X,ce,he;if(Dt[o]&&!1!==(V=new Dt[o]).init(E,V.rawVars?n[o]:function(o,n,l,g,E){if(hr(o)&&(o=Da(o,E,n,l,g)),!fi(o)||o.style&&o.nodeType||Hr(o)||na(o))return In(o)?Da(o,E,n,l,g):o;var V,O={};for(V in o)O[V]=Da(o[V],E,n,l,g);return O}(n[o],g,E,O,l),l,g,O)&&(l._pt=X=new Zo(l._pt,E,o,0,1,V.render,V,0,V.priority),l!==ro))for(ce=l._ptLookup[l._targets.indexOf(E)],he=V._props.length;he--;)ce[V._props[he]]=X;return V},yl=function d(o,n){var Ut,Xt,en,$t,qr,Gi,$i,xs,go,Rs,cs,pa,Nc,l=o.vars,g=l.ease,E=l.startAt,O=l.immediateRender,V=l.lazy,X=l.onUpdate,ce=l.onUpdateParams,he=l.callbackScope,He=l.runBackwards,Ve=l.yoyoEase,at=l.autoRevert,qe=o._dur,gt=o._startAt,bt=o._targets,Mt=o.parent,jt=Mt&&"nested"===Mt.data?Mt.parent._targets:bt,tn="auto"===o._overwrite&&!di,Ot=o.timeline;if(Ot&&(!l.keyframes||!g)&&(g="none"),o._ease=Ya(g,tr.ease),o._yEase=Ve?_l(Ya(!0===Ve?g:Ve,tr.ease)):0,Ve&&o._yoyo&&!o._repeat&&(Ve=o._yEase,o._yEase=o._ease,o._ease=Ve),o._from=!Ot&&!!l.runBackwards,!Ot){if(pa=(xs=bt[0]?Fi(bt[0]).harness:0)&&l[xs.prop],Ut=ia(l,Y),gt&&gt.render(-1,!0).kill(),E)if(w(o._startAt=To.set(bt,to({data:"isStart",overwrite:!1,parent:Mt,immediateRender:!0,lazy:Ii(V),startAt:null,delay:0,onUpdate:X,onUpdateParams:ce,callbackScope:he,stagger:0},E))),n<0&&!O&&!at&&o._startAt.render(-1,!0),O){if(n>0&&!at&&(o._startAt=0),qe&&n<=0)return void(n&&(o._zTime=n))}else!1===at&&(o._startAt=0);else if(He&&qe)if(gt)!at&&(o._startAt=0);else if(n&&(O=!1),en=to({overwrite:!1,data:"isFromStart",lazy:O&&Ii(V),immediateRender:O,stagger:0,parent:Mt},Ut),pa&&(en[xs.prop]=pa),w(o._startAt=To.set(bt,en)),n<0&&o._startAt.render(-1,!0),O){if(!n)return}else d(o._startAt,On);for(o._pt=0,V=qe&&Ii(V)||V&&!qe,Xt=0;Xt<bt.length;Xt++){if($i=(qr=bt[Xt])._gsap||hi(bt)[Xt]._gsap,o._ptLookup[Xt]=Rs={},Ie[$i.id]&&ge.length&&va(),cs=jt===bt?Xt:jt.indexOf(qr),xs&&!1!==(go=new xs).init(qr,pa||Ut,o,cs,jt)&&(o._pt=$t=new Zo(o._pt,qr,go.name,0,1,go.render,go,0,go.priority),go._props.forEach(function(mn){Rs[mn]=$t}),go.priority&&(Gi=1)),!xs||pa)for(en in Ut)Dt[en]&&(go=mu(en,Ut,o,cs,qr,jt))?go.priority&&(Gi=1):Rs[en]=$t=gu.call(o,qr,en,"get",Ut[en],cs,jt,0,l.stringFilter);o._op&&o._op[Xt]&&o.kill(qr,o._op[Xt]),tn&&o._pt&&(Ni=o,Or.killTweensOf(qr,Rs,o.globalTime(0)),Nc=!o.parent,Ni=0),o._pt&&V&&(Ie[$i.id]=1)}Gi&&Cl(o),o._onInit&&o._onInit(o)}o._onUpdate=X,o._initted=(!o._op||o._pt)&&!Nc},Da=function(o,n,l,g,E){return hr(o)?o.call(n,l,g,E):In(o)&&~o.indexOf("random(")?Po(o):o},Dd=Do+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Zf=(Dd+",id,stagger,delay,duration,paused,scrollTrigger").split(","),To=function(d){function o(l,g,E,O){var V;"number"==typeof g&&(E.duration=g,g=E,E=null);var tn,Ot,Ut,Xt,en,$t,qr,Gi,X=(V=d.call(this,O?g:Qs(g))||this).vars,ce=X.duration,he=X.delay,He=X.immediateRender,Ve=X.stagger,$e=X.overwrite,at=X.keyframes,qe=X.defaults,gt=X.scrollTrigger,bt=X.yoyoEase,Mt=g.parent||Or,jt=(Hr(l)||na(l)?Ro(l[0]):"length"in g)?[l]:no(l);if(V._targets=jt.length?hi(jt):Vr("GSAP target "+l+" not found. https://greensock.com",!Er.nullTargetWarn)||[],V._ptLookup=[],V._overwrite=$e,at||Ve||ks(ce)||ks(he)){if(g=V.vars,(tn=V.timeline=new ms({data:"nested",defaults:qe||{}})).kill(),tn.parent=tn._dp=mt(V),tn._start=0,at)to(tn.vars.defaults,{ease:"none"}),Ve?jt.forEach(function($i,xs){return at.forEach(function(go,Rs){return tn.to($i,go,Rs?">":xs*Ve)})}):at.forEach(function($i){return tn.to(jt,$i,">")});else{if(Xt=jt.length,qr=Ve?oa(Ve):k,fi(Ve))for(en in Ve)~Dd.indexOf(en)&&(Gi||(Gi={}),Gi[en]=Ve[en]);for(Ot=0;Ot<Xt;Ot++){for(en in Ut={},g)Zf.indexOf(en)<0&&(Ut[en]=g[en]);Ut.stagger=0,bt&&(Ut.yoyoEase=bt),Gi&&Ts(Ut,Gi),$t=jt[Ot],Ut.duration=+Da(ce,mt(V),Ot,$t,jt),Ut.delay=(+Da(he,mt(V),Ot,$t,jt)||0)-V._delay,!Ve&&1===Xt&&Ut.delay&&(V._delay=he=Ut.delay,V._start+=he,Ut.delay=0),tn.to($t,Ut,qr(Ot,$t,jt))}tn.duration()?ce=he=0:V.timeline=0}ce||V.duration(ce=tn.duration())}else V.timeline=0;return!0===$e&&!di&&(Ni=mt(V),Or.killTweensOf(jt),Ni=0),N(Mt,mt(V),E),g.reversed&&V.reverse(),g.paused&&V.paused(!0),(He||!ce&&!at&&V._start===hn(Mt._time)&&Ii(He)&&Q(mt(V))&&"nested"!==Mt.data)&&(V._tTime=-On,V.render(Math.max(0,-he))),gt&&S(mt(V),gt),V}Bn(o,d);var n=o.prototype;return n.render=function(g,E,O){var He,Ve,$e,at,qe,gt,bt,Mt,jt,V=this._time,X=this._tDur,ce=this._dur,he=g>X-On&&g>=0?X:g<On?0:g;if(ce){if(he!==this._tTime||!g||O||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=g<0){if(He=he,Mt=this.timeline,this._repeat){if(at=ce+this._rDelay,this._repeat<-1&&g<0)return this.totalTime(100*at+g,E,O);if(He=hn(he%at),he===X?($e=this._repeat,He=ce):(($e=~~(he/at))&&$e===he/at&&(He=ce,$e--),He>ce&&(He=ce)),(gt=this._yoyo&&1&$e)&&(jt=this._yEase,He=ce-He),qe=ye(this._tTime,at),He===V&&!O&&this._initted)return this;$e!==qe&&(Mt&&this._yEase&&As(Mt,gt),this.vars.repeatRefresh&&!gt&&!this._lock&&(this._lock=O=1,this.render(hn(at*$e),!0).invalidate()._lock=0))}if(!this._initted){if(B(this,g<0?g:He,O,E))return this._tTime=0,this;if(ce!==this._dur)return this.render(g,E,O)}if(this._tTime=he,this._time=He,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=bt=(jt||this._ease)(He/ce),this._from&&(this.ratio=bt=1-bt),He&&!V&&!E&&(fo(this,"onStart"),this._tTime!==he))return this;for(Ve=this._pt;Ve;)Ve.r(bt,Ve.d),Ve=Ve._next;Mt&&Mt.render(g<0?g:!He&&gt?-On:Mt._dur*bt,E,O)||this._startAt&&(this._zTime=g),this._onUpdate&&!E&&(g<0&&this._startAt&&this._startAt.render(g,!0,O),fo(this,"onUpdate")),this._repeat&&$e!==qe&&this.vars.onRepeat&&!E&&this.parent&&fo(this,"onRepeat"),(he===this._tDur||!he)&&this._tTime===he&&(g<0&&this._startAt&&!this._onUpdate&&this._startAt.render(g,!0,!0),(g||!ce)&&(he===this._tDur&&this._ts>0||!he&&this._ts<0)&&w(this,1),!E&&(!(g<0)||V)&&(he||V)&&(fo(this,he===X?"onComplete":"onReverseComplete",!0),this._prom&&!(he<X&&this.timeScale()>0)&&this._prom()))}}else!function(o,n,l,g){var ce,he,He,E=o.ratio,O=n<0||!n&&(!o._start&&q(o)&&(o._initted||!ne(o))||(o._ts<0||o._dp._ts<0)&&!ne(o))?0:1,V=o._rDelay,X=0;if(V&&o._repeat&&(X=gs(0,o._tDur,n),he=ye(X,V),He=ye(o._tTime,V),o._yoyo&&1&he&&(O=1-O),he!==He&&(E=1-O,o.vars.repeatRefresh&&o._initted&&o.invalidate())),O!==E||g||o._zTime===On||!n&&o._zTime){if(!o._initted&&B(o,n,g,l))return;for(He=o._zTime,o._zTime=n||(l?On:0),l||(l=n&&!He),o.ratio=O,o._from&&(O=1-O),o._time=0,o._tTime=X,ce=o._pt;ce;)ce.r(O,ce.d),ce=ce._next;o._startAt&&n<0&&o._startAt.render(n,!0,!0),o._onUpdate&&!l&&fo(o,"onUpdate"),X&&o._repeat&&!l&&o.parent&&fo(o,"onRepeat"),(n>=o._tDur||n<0)&&o.ratio===O&&(O&&w(o,1),l||(fo(o,O?"onComplete":"onReverseComplete",!0),o._prom&&o._prom()))}else o._zTime||(o._zTime=n)}(this,g,E,O);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),d.prototype.invalidate.call(this)},n.kill=function(g,E){if(void 0===E&&(E="all"),!(g||E&&"all"!==E))return this._lazy=this._pt=0,this.parent?Yo(this):this;if(this.timeline){var O=this.timeline.totalDuration();return this.timeline.killTweensOf(g,E,Ni&&!0!==Ni.vars.overwrite)._first||Yo(this),this.parent&&O!==this.timeline.totalDuration()&&ft(this,this._dur*this.timeline._tDur/O,0,1),this}var He,Ve,$e,at,qe,gt,bt,V=this._targets,X=g?no(g):V,ce=this._ptLookup,he=this._pt;if((!E||"all"===E)&&function(o,n){for(var l=o.length,g=l===n.length;g&&l--&&o[l]===n[l];);return l<0}(V,X))return"all"===E&&(this._pt=0),Yo(this);for(He=this._op=this._op||[],"all"!==E&&(In(E)&&(qe={},Dr(E,function(Mt){return qe[Mt]=1}),E=qe),E=function(o,n){var E,O,V,X,l=o[0]?Fi(o[0]).harness:0,g=l&&l.aliases;if(!g)return n;for(O in E=Ts({},n),g)if(O in E)for(V=(X=g[O].split(",")).length;V--;)E[X[V]]=E[O];return E}(V,E)),bt=V.length;bt--;)if(~X.indexOf(V[bt]))for(qe in Ve=ce[bt],"all"===E?(He[bt]=E,at=Ve,$e={}):($e=He[bt]=He[bt]||{},at=E),at)(gt=Ve&&Ve[qe])&&((!("kill"in gt.d)||!0===gt.d.kill(qe))&&_(this,gt,"_pt"),delete Ve[qe]),"all"!==$e&&($e[qe]=1);return this._initted&&!this._pt&&he&&Yo(this),this},o.to=function(g,E){return new o(g,E,arguments[2])},o.from=function(g,E){return Tr(1,arguments)},o.delayedCall=function(g,E,O,V){return new o(E,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:g,onComplete:E,onReverseComplete:E,onCompleteParams:O,onReverseCompleteParams:O,callbackScope:V})},o.fromTo=function(g,E,O){return Tr(2,arguments)},o.set=function(g,E){return E.duration=0,E.repeatDelay||(E.repeat=0),new o(g,E)},o.killTweensOf=function(g,E,O){return Or.killTweensOf(g,E,O)},o}(Za);to(To.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Dr("staggerTo,staggerFrom,staggerFromTo",function(d){To[d]=function(){var o=new ms,n=Oo.call(arguments,0);return n.splice("staggerFromTo"===d?5:4,0,0),o[d].apply(o,n)}});var vl=function(o,n,l){return o[n]=l},Qf=function(o,n,l){return o[n](l)},Oc=function(o,n,l,g){return o[n](g.fp,l)},bl=function(o,n,l){return o.setAttribute(n,l)},Qa=function(o,n){return hr(o[n])?Qf:ns(o[n])&&o.setAttribute?bl:vl},Qu=function(o,n){return n.set(n.t,n.p,Math.round(1e6*(n.s+n.c*o))/1e6,n)},Ei=function(o,n){return n.set(n.t,n.p,!!(n.s+n.c*o),n)},ql=function(o,n){var l=n._pt,g="";if(!o&&n.b)g=n.b;else if(1===o&&n.e)g=n.e;else{for(;l;)g=l.p+(l.m?l.m(l.s+l.c*o):Math.round(1e4*(l.s+l.c*o))/1e4)+g,l=l._next;g+=n.c}n.set(n.t,n.p,g,n)},wl=function(o,n){for(var l=n._pt;l;)l.r(o,l.d),l=l._next},sa=function(o,n,l,g){for(var O,E=this._pt;E;)O=E._next,E.p===g&&E.modifier(o,n,l),E=O},_u=function(o){for(var l,g,n=this._pt;n;)g=n._next,n.p===o&&!n.op||n.op===o?_(this,n,"_pt"):n.dep||(l=1),n=g;return!l},Td=function(o,n,l,g){g.mSet(o,n,g.m.call(g.tween,l,g.mt),g)},Cl=function(o){for(var l,g,E,O,n=o._pt;n;){for(l=n._next,g=E;g&&g.pr>n.pr;)g=g._next;(n._prev=g?g._prev:O)?n._prev._next=n:E=n,(n._next=g)?g._prev=n:O=n,n=l}o._pt=E},Zo=function(){function d(n,l,g,E,O,V,X,ce,he){this.t=l,this.s=E,this.c=O,this.p=g,this.r=V||Qu,this.d=X||this,this.set=ce||vl,this.pr=he||0,this._next=n,n&&(n._prev=this)}return d.prototype.modifier=function(l,g,E){this.mSet=this.mSet||this.set,this.set=Td,this.m=l,this.mt=E,this.tween=g},d}();Dr(Do+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(d){return Y[d]=1}),Ci.TweenMax=Ci.TweenLite=To,Ci.TimelineLite=Ci.TimelineMax=ms,Or=new ms({sortChildren:!1,defaults:tr,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Er.stringFilter=Fo;var Ta={registerPlugin:function(){for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];n.forEach(function(g){return Ks(g)})},timeline:function(o){return new ms(o)},getTweensOf:function(o,n){return Or.getTweensOf(o,n)},getProperty:function(o,n,l,g){In(o)&&(o=no(o)[0]);var E=Fi(o||{}).get,O=l?Vs:pl;return"native"===l&&(l=""),o&&(n?O((Dt[n]&&Dt[n].get||E)(o,n,l,g)):function(V,X,ce){return O((Dt[V]&&Dt[V].get||E)(o,V,X,ce))})},quickSetter:function(o,n,l){if((o=no(o)).length>1){var g=o.map(function(he){return Qo.quickSetter(he,n,l)}),E=g.length;return function(he){for(var He=E;He--;)g[He](he)}}var O=Dt[n],V=Fi(o=o[0]||{}),X=V.harness&&(V.harness.aliases||{})[n]||n,ce=O?function(he){var He=new O;ro._pt=0,He.init(o,l?he+l:he,ro,0,[o]),He.render(1,He),ro._pt&&wl(1,ro)}:V.set(o,X);return O?ce:function(he){return ce(o,X,l?he+l:he,V,1)}},isTweening:function(o){return Or.getTweensOf(o,!0).length>0},defaults:function(o){return o&&o.ease&&(o.ease=Ya(o.ease,tr.ease)),ra(tr,o||{})},config:function(o){return ra(Er,o||{})},registerEffect:function(o){var n=o.name,l=o.effect,E=o.defaults,O=o.extendTimeline;(o.plugins||"").split(",").forEach(function(V){return V&&!Dt[V]&&!Ci[V]&&Vr(n+" effect requires "+V+" plugin.")}),xn[n]=function(V,X,ce){return l(no(V),to(X||{},E),ce)},O&&(ms.prototype[n]=function(V,X,ce){return this.add(xn[n](V,fi(X)?X:(ce=X)&&{},this),ce)})},registerEase:function(o,n){$n[o]=Ya(n)},parseEase:function(o,n){return arguments.length?Ya(o,n):$n},getById:function(o){return Or.getById(o)},exportRoot:function(o,n){void 0===o&&(o={});var g,E,l=new ms(o);for(l.smoothChildTiming=Ii(o.smoothChildTiming),Or.remove(l),l._dp=0,l._time=l._tTime=Or._time,g=Or._first;g;)E=g._next,(n||!(!g._dur&&g instanceof To&&g.vars.onComplete===g._targets[0]))&&N(l,g,g._start-g._delay),g=E;return N(Or,l,0),l},utils:{wrap:function d(o,n,l){var g=n-o;return Hr(o)?yr(o,d(0,o.length),n):Gn(l,function(E){return(g+(E-o)%g)%g+o})},wrapYoyo:function d(o,n,l){var g=n-o,E=2*g;return Hr(o)?yr(o,d(0,o.length-1),n):Gn(l,function(O){return o+((O=(E+(O-o)%E)%E||0)>g?E-O:O)})},distribute:oa,random:Gf,snap:Hl,normalize:function(o,n,l){return Wf(o,n,0,1,l)},getUnit:Xr,clamp:function(o,n,l){return Gn(l,function(g){return gs(o,n,g)})},splitColor:ho,toArray:no,selector:function(o){return o=no(o)[0]||Vr("Invalid scope")||{},function(n){var l=o.current||o.nativeElement||o;return no(n,l.querySelectorAll?l:l===o?Vr("Invalid scope")||is.createElement("div"):o)}},mapRange:Wf,pipe:function(){for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return function(g){return n.reduce(function(E,O){return O(E)},g)}},unitize:function(o,n){return function(l){return o(parseFloat(l))+(n||Xr(l))}},interpolate:function d(o,n,l,g){var E=isNaN(o+n)?0:function($e){return(1-$e)*o+$e*n};if(!E){var X,ce,he,He,Ve,O=In(o),V={};if(!0===l&&(g=1)&&(l=null),O)o={p:o},n={p:n};else if(Hr(o)&&!Hr(n)){for(he=[],Ve=(He=o.length)-2,ce=1;ce<He;ce++)he.push(d(o[ce-1],o[ce]));He--,E=function(at){at*=He;var qe=Math.min(Ve,~~at);return he[qe](at-qe)},l=n}else g||(o=Ts(Hr(o)?[]:{},o));if(!he){for(X in n)gu.call(V,o,X,"get",n[X]);E=function(at){return wl(at,V)||(O?o.p:o)}}}return Gn(l,E)},shuffle:hu},install:zo,effects:xn,ticker:ji,updateRoot:ms.updateRoot,plugins:Dt,globalTimeline:Or,core:{PropTween:Zo,globals:b,Tween:To,Timeline:ms,Animation:Za,getCache:Fi,_removeLinkedListItem:_,suppressOverwrites:function(o){return di=o}}};Dr("to,from,fromTo,delayedCall,set,killTweensOf",function(d){return Ta[d]=To[d]}),ji.add(ms.updateRoot),ro=Ta.to({},{duration:0});var yu=function(o,n){for(var l=o._pt;l&&l.p!==n&&l.op!==n&&l.fp!==n;)l=l._next;return l},Ju=function(o,n){return{name:o,rawVars:1,init:function(g,E,O){O._onInit=function(V){var X,ce;if(In(E)&&(X={},Dr(E,function(he){return X[he]=1}),E=X),n){for(ce in X={},E)X[ce]=n(E[ce]);E=X}!function(o,n){var g,E,O,l=o._targets;for(g in n)for(E=l.length;E--;)(O=o._ptLookup[E][g])&&(O=O.d)&&(O._pt&&(O=yu(O,g)),O&&O.modifier&&O.modifier(n[g],o,l[E],g))}(V,E)}}}},Qo=Ta.registerPlugin({name:"attr",init:function(o,n,l,g,E){var O,V;for(O in n)(V=this.add(o,"setAttribute",(o.getAttribute(O)||0)+"",n[O],g,E,0,0,O))&&(V.op=O),this._props.push(O)}},{name:"endArray",init:function(o,n){for(var l=n.length;l--;)this.add(o,l,o[l]||0,n[l])}},Ju("roundProps",Js),Ju("modifiers"),Ju("snap",Hl))||Ta;To.version=ms.version=Qo.version="3.7.1",ar=1,xa()&&Ns();var Ql,_s,Ku,Jl,bu,Xl,Xu,aa={},Sa=180/Math.PI,Jo=Math.PI/180,wu=Math.atan2,ec=1e8,Md=/([A-Z])/g,kc=/(?:left|right|width|margin|padding|x)/i,Cu=/[\s,\(]\S/,as={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Eu=function(o,n){return n.set(n.t,n.p,Math.round(1e4*(n.s+n.c*o))/1e4+n.u,n)},xd=function(o,n){return n.set(n.t,n.p,1===o?n.e:Math.round(1e4*(n.s+n.c*o))/1e4+n.u,n)},Xf=function(o,n){return n.set(n.t,n.p,o?Math.round(1e4*(n.s+n.c*o))/1e4+n.u:n.b,n)},eh=function(o,n){var l=n.s+n.c*o;n.set(n.t,n.p,~~(l+(l<0?-.5:.5))+n.u,n)},Lc=function(o,n){return n.set(n.t,n.p,o?n.e:n.b,n)},Vc=function(o,n){return n.set(n.t,n.p,1!==o?n.b:n.e,n)},th=function(o,n,l){return o.style[n]=l},Rd=function(o,n,l){return o.style.setProperty(n,l)},nh=function(o,n,l){return o._gsap[n]=l},Bc=function(o,n,l){return o._gsap.scaleX=o._gsap.scaleY=l},Uc=function(o,n,l,g,E){var O=o._gsap;O.scaleX=O.scaleY=l,O.renderTransform(E,O)},rh=function(o,n,l,g,E){var O=o._gsap;O[n]=l,O.renderTransform(E,O)},us="transform",Ka=us+"Origin",tc=function(o,n){var l=_s.createElementNS?_s.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),o):_s.createElement(o);return l.style?l:_s.createElement(o)},ko=function d(o,n,l){var g=getComputedStyle(o);return g[n]||g.getPropertyValue(n.replace(Md,"-$1").toLowerCase())||g.getPropertyValue(n)||!l&&d(o,Du(n)||n,1)||""},el="O,Moz,ms,Ms,Webkit".split(","),Du=function(o,n,l){var E=(n||bu).style,O=5;if(o in E&&!l)return o;for(o=o.charAt(0).toUpperCase()+o.substr(1);O--&&!(el[O]+o in E););return O<0?null:(3===O?"ms":O>=0?el[O]:"")+o},nc=function(){"undefined"!=typeof window&&window.document&&(Ql=window,Ku=(_s=Ql.document).documentElement,bu=tc("div")||{style:{}},tc("div"),us=Du(us),Ka=us+"Origin",bu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Xu=!!Du("perspective"),Jl=1)},rc=function d(o){var O,n=tc("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),l=this.parentNode,g=this.nextSibling,E=this.style.cssText;if(Ku.appendChild(n),n.appendChild(this),this.style.display="block",o)try{O=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=d}catch(V){}else this._gsapBBox&&(O=this._gsapBBox());return l&&(g?l.insertBefore(this,g):l.appendChild(this)),Ku.removeChild(n),this.style.cssText=E,O},ih=function(o,n){for(var l=n.length;l--;)if(o.hasAttribute(n[l]))return o.getAttribute(n[l])},Od=function(o){var n;try{n=o.getBBox()}catch(l){n=rc.call(o,!0)}return n&&(n.width||n.height)||o.getBBox===rc||(n=rc.call(o,!0)),!n||n.width||n.x||n.y?n:{x:+ih(o,["x","cx","x1"])||0,y:+ih(o,["y","cy","y1"])||0,width:0,height:0}},oh=function(o){return!(!o.getCTM||o.parentNode&&!o.ownerSVGElement||!Od(o))},Pa=function(o,n){if(n){var l=o.style;n in aa&&n!==Ka&&(n=us),l.removeProperty?(("ms"===n.substr(0,2)||"webkit"===n.substr(0,6))&&(n="-"+n),l.removeProperty(n.replace(Md,"-$1").toLowerCase())):l.removeAttribute(n)}},ua=function(o,n,l,g,E,O){var V=new Zo(o._pt,n,l,0,1,O?Vc:Lc);return o._pt=V,V.b=g,V.e=E,o._props.push(l),V},Tu={deg:1,rad:1,turn:1},Su=function d(o,n,l,g){var at,qe,gt,bt,E=parseFloat(l)||0,O=(l+"").trim().substr((E+"").length)||"px",V=bu.style,X=kc.test(n),ce="svg"===o.tagName.toLowerCase(),he=(ce?"client":"offset")+(X?"Width":"Height"),Ve="px"===g,$e="%"===g;return g===O||!E||Tu[g]||Tu[O]?E:("px"!==O&&!Ve&&(E=d(o,n,l,"px")),bt=o.getCTM&&oh(o),!$e&&"%"!==O||!aa[n]&&!~n.indexOf("adius")?(V[X?"width":"height"]=100+(Ve?O:g),qe=~n.indexOf("adius")||"em"===g&&o.appendChild&&!ce?o:o.parentNode,bt&&(qe=(o.ownerSVGElement||{}).parentNode),(!qe||qe===_s||!qe.appendChild)&&(qe=_s.body),(gt=qe._gsap)&&$e&&gt.width&&X&&gt.time===ji.time?hn(E/gt.width*100):(($e||"%"===O)&&(V.position=ko(o,"position")),qe===o&&(V.position="static"),qe.appendChild(bu),at=bu[he],qe.removeChild(bu),V.position="absolute",X&&$e&&((gt=Fi(qe)).time=ji.time,gt.width=qe[he]),hn(Ve?at*E/100:at&&E?100/at*E:0))):(at=bt?o.getBBox()[X?"width":"height"]:o[he],hn($e?E/at*100:E/100*at)))},Xa=function(o,n,l,g){var E;return Jl||nc(),n in as&&"transform"!==n&&~(n=as[n]).indexOf(",")&&(n=n.split(",")[0]),aa[n]&&"transform"!==n?(E=eu(o,g),E="transformOrigin"!==n?E[n]:E.svg?E.origin:Nu(ko(o,Ka))+" "+E.zOrigin+"px"):(!(E=o.style[n])||"auto"===E||g||~(E+"").indexOf("calc("))&&(E=Ia[n]&&Ia[n](o,n,l)||ko(o,n)||Ls(o,n)||("opacity"===n?1:0)),l&&!~(E+"").trim().indexOf(" ")?Su(o,n,E,l)+l:E},Dl=function(o,n,l,g){if(!l||"none"===l){var E=Du(n,o,1),O=E&&ko(o,E,1);O&&O!==l?(n=E,l=O):"borderColor"===n&&(l=ko(o,"borderTopColor"))}var he,He,Ve,$e,at,qe,gt,bt,Mt,jt,tn,Ot,V=new Zo(this._pt,o.style,n,0,1,ql),X=0,ce=0;if(V.b=l,V.e=g,l+="","auto"==(g+="")&&(o.style[n]=g,g=ko(o,n)||g,o.style[n]=l),Fo(he=[l,g]),g=he[1],Ve=(l=he[0]).match(rs)||[],(g.match(rs)||[]).length){for(;He=rs.exec(g);)gt=He[0],Mt=g.substring(X,He.index),at?at=(at+1)%5:("rgba("===Mt.substr(-5)||"hsla("===Mt.substr(-5))&&(at=1),gt!==(qe=Ve[ce++]||"")&&($e=parseFloat(qe)||0,tn=qe.substr(($e+"").length),(Ot="="===gt.charAt(1)?+(gt.charAt(0)+"1"):0)&&(gt=gt.substr(2)),bt=parseFloat(gt),jt=gt.substr((bt+"").length),X=rs.lastIndex-jt.length,jt||(jt=jt||Er.units[n]||tn,X===g.length&&(g+=jt,V.e+=jt)),tn!==jt&&($e=Su(o,n,qe,jt)||0),V._pt={_next:V._pt,p:Mt||1===ce?Mt:",",s:$e,c:Ot?Ot*bt:bt-$e,m:at&&at<4||"zIndex"===n?Math.round:0});V.c=X<g.length?g.substring(X,g.length):""}else V.r="display"===n&&"none"===g?Vc:Lc;return ya.test(g)&&(V.e=0),this._pt=V,V},ic={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Iu=function(o){var n=o.split(" "),l=n[0],g=n[1]||"50%";return("top"===l||"bottom"===l||"left"===g||"right"===g)&&(o=l,l=g,g=o),n[0]=ic[l]||l,n[1]=ic[g]||g,n.join(" ")},sh=function(o,n){if(n.tween&&n.tween._time===n.tween._dur){var V,X,ce,l=n.t,E=n.u,O=l._gsap;if("all"===E||!0===E)l.style.cssText="",X=1;else for(ce=(E=E.split(",")).length;--ce>-1;)aa[V=E[ce]]&&(X=1,V="transformOrigin"===V?Ka:us),Pa(l,V);X&&(Pa(l,us),O&&(O.svg&&l.removeAttribute("transform"),eu(l,1),O.uncache=1))}},Ia={clearProps:function(o,n,l,g,E){if("isFromStart"!==E.data){var O=o._pt=new Zo(o._pt,n,l,0,0,sh);return O.u=g,O.pr=-10,O.tween=E,o._props.push(l),1}}},Na=[1,0,0,1,0,0],tl={},jc=function(o){return"matrix(1, 0, 0, 1, 0, 0)"===o||"none"===o||!o},oc=function(o){var n=ko(o,us);return jc(n)?Na:n.substr(7).match(Ys).map(hn)},Hc=function(o,n){var O,V,X,ce,l=o._gsap||Fi(o),g=o.style,E=oc(o);return l.svg&&o.getAttribute("transform")?"1,0,0,1,0,0"===(E=[(X=o.transform.baseVal.consolidate().matrix).a,X.b,X.c,X.d,X.e,X.f]).join(",")?Na:E:(E===Na&&!o.offsetParent&&o!==Ku&&!l.svg&&(X=g.display,g.display="block",(!(O=o.parentNode)||!o.offsetParent)&&(ce=1,V=o.nextSibling,Ku.appendChild(o)),E=oc(o),X?g.display=X:Pa(o,"display"),ce&&(V?O.insertBefore(o,V):O?O.appendChild(o):Ku.removeChild(o))),n&&E.length>6?[E[0],E[1],E[4],E[5],E[12],E[13]]:E)},Ai=function(o,n,l,g,E,O){var Ut,Xt,$t,V=o._gsap,X=E||Hc(o,!0),ce=V.xOrigin||0,he=V.yOrigin||0,He=V.xOffset||0,Ve=V.yOffset||0,$e=X[0],at=X[1],qe=X[2],gt=X[3],bt=X[4],Mt=X[5],jt=n.split(" "),tn=parseFloat(jt[0])||0,Ot=parseFloat(jt[1])||0;l?X!==Na&&(Xt=$e*gt-at*qe)&&($t=tn*(-at/Xt)+Ot*($e/Xt)-($e*Mt-at*bt)/Xt,tn=tn*(gt/Xt)+Ot*(-qe/Xt)+(qe*Mt-gt*bt)/Xt,Ot=$t):(tn=(Ut=Od(o)).x+(~jt[0].indexOf("%")?tn/100*Ut.width:tn),Ot=Ut.y+(~(jt[1]||jt[0]).indexOf("%")?Ot/100*Ut.height:Ot)),g||!1!==g&&V.smooth?(V.xOffset=He+((bt=tn-ce)*$e+(Mt=Ot-he)*qe)-bt,V.yOffset=Ve+(bt*at+Mt*gt)-Mt):V.xOffset=V.yOffset=0,V.xOrigin=tn,V.yOrigin=Ot,V.smooth=!!g,V.origin=n,V.originIsAbsolute=!!l,o.style[Ka]="0px 0px",O&&(ua(O,V,"xOrigin",ce,tn),ua(O,V,"yOrigin",he,Ot),ua(O,V,"xOffset",He,V.xOffset),ua(O,V,"yOffset",Ve,V.yOffset)),o.setAttribute("data-svg-origin",tn+" "+Ot)},eu=function(o,n){var l=o._gsap||new pu(o);if("x"in l&&!n&&!l.uncache)return l;var ce,he,He,Ve,$e,at,qe,gt,bt,Mt,jt,tn,Ot,Ut,Xt,en,$t,qr,Gi,$i,xs,go,Rs,cs,pa,Nc,mn,_d,Bl,r_,Ma,Ul,g=o.style,E=l.scaleX<0,O="px",V="deg",X=ko(o,Ka)||"0";return ce=he=He=at=qe=gt=bt=Mt=jt=0,Ve=$e=1,l.svg=!(!o.getCTM||!oh(o)),Ut=Hc(o,l.svg),l.svg&&(cs=(!l.uncache||"0px 0px"===X)&&!n&&o.getAttribute("data-svg-origin"),Ai(o,cs||X,!!cs||l.originIsAbsolute,!1!==l.smooth,Ut)),tn=l.xOrigin||0,Ot=l.yOrigin||0,Ut!==Na&&(qr=Ut[0],Gi=Ut[1],$i=Ut[2],xs=Ut[3],ce=go=Ut[4],he=Rs=Ut[5],6===Ut.length?(Ve=Math.sqrt(qr*qr+Gi*Gi),$e=Math.sqrt(xs*xs+$i*$i),at=qr||Gi?wu(Gi,qr)*Sa:0,(bt=$i||xs?wu($i,xs)*Sa+at:0)&&($e*=Math.abs(Math.cos(bt*Jo))),l.svg&&(ce-=tn-(tn*qr+Ot*$i),he-=Ot-(tn*Gi+Ot*xs))):(r_=Ut[7],mn=Ut[8],_d=Ut[9],Ma=Ut[11],ce=Ut[12],he=Ut[13],He=Ut[14],qe=(Xt=wu(Ul=Ut[6],Bl=Ut[10]))*Sa,Xt&&(cs=go*(en=Math.cos(-Xt))+mn*($t=Math.sin(-Xt)),pa=Rs*en+_d*$t,Nc=Ul*en+Bl*$t,mn=go*-$t+mn*en,_d=Rs*-$t+_d*en,Bl=Ul*-$t+Bl*en,Ma=r_*-$t+Ma*en,go=cs,Rs=pa,Ul=Nc),gt=(Xt=wu(-$i,Bl))*Sa,Xt&&(en=Math.cos(-Xt),Ma=xs*($t=Math.sin(-Xt))+Ma*en,qr=cs=qr*en-mn*$t,Gi=pa=Gi*en-_d*$t,$i=Nc=$i*en-Bl*$t),at=(Xt=wu(Gi,qr))*Sa,Xt&&(cs=qr*(en=Math.cos(Xt))+Gi*($t=Math.sin(Xt)),pa=go*en+Rs*$t,Gi=Gi*en-qr*$t,Rs=Rs*en-go*$t,qr=cs,go=pa),qe&&Math.abs(qe)+Math.abs(at)>359.9&&(qe=at=0,gt=180-gt),Ve=hn(Math.sqrt(qr*qr+Gi*Gi+$i*$i)),$e=hn(Math.sqrt(Rs*Rs+Ul*Ul)),Xt=wu(go,Rs),bt=Math.abs(Xt)>2e-4?Xt*Sa:0,jt=Ma?1/(Ma<0?-Ma:Ma):0),l.svg&&(cs=o.getAttribute("transform"),l.forceCSS=o.setAttribute("transform","")||!jc(ko(o,us)),cs&&o.setAttribute("transform",cs))),Math.abs(bt)>90&&Math.abs(bt)<270&&(E?(Ve*=-1,bt+=at<=0?180:-180,at+=at<=0?180:-180):($e*=-1,bt+=bt<=0?180:-180)),l.x=ce-((l.xPercent=ce&&(l.xPercent||(Math.round(o.offsetWidth/2)===Math.round(-ce)?-50:0)))?o.offsetWidth*l.xPercent/100:0)+O,l.y=he-((l.yPercent=he&&(l.yPercent||(Math.round(o.offsetHeight/2)===Math.round(-he)?-50:0)))?o.offsetHeight*l.yPercent/100:0)+O,l.z=He+O,l.scaleX=hn(Ve),l.scaleY=hn($e),l.rotation=hn(at)+V,l.rotationX=hn(qe)+V,l.rotationY=hn(gt)+V,l.skewX=bt+V,l.skewY=Mt+V,l.transformPerspective=jt+O,(l.zOrigin=parseFloat(X.split(" ")[2])||0)&&(g[Ka]=Nu(X)),l.xOffset=l.yOffset=0,l.force3D=Er.force3D,l.renderTransform=l.svg?ah:Xu?Gc:nl,l.uncache=0,l},Nu=function(o){return(o=o.split(" "))[0]+" "+o[1]},Tl=function(o,n,l){var g=Xr(n);return hn(parseFloat(n)+parseFloat(Su(o,"x",l+"px",g)))+g},nl=function(o,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Gc(o,n)},Au="0deg",rl="0px",tu=") ",Gc=function(o,n){var l=n||this,g=l.xPercent,E=l.yPercent,O=l.x,V=l.y,X=l.z,ce=l.rotation,he=l.rotationY,He=l.rotationX,Ve=l.skewX,$e=l.skewY,at=l.scaleX,qe=l.scaleY,gt=l.transformPerspective,bt=l.force3D,Mt=l.target,jt=l.zOrigin,tn="",Ot="auto"===bt&&o&&1!==o||!0===bt;if(jt&&(He!==Au||he!==Au)){var $t,Ut=parseFloat(he)*Jo,Xt=Math.sin(Ut),en=Math.cos(Ut);Ut=parseFloat(He)*Jo,$t=Math.cos(Ut),O=Tl(Mt,O,Xt*$t*-jt),V=Tl(Mt,V,-Math.sin(Ut)*-jt),X=Tl(Mt,X,en*$t*-jt+jt)}gt!==rl&&(tn+="perspective("+gt+tu),(g||E)&&(tn+="translate("+g+"%, "+E+"%) "),(Ot||O!==rl||V!==rl||X!==rl)&&(tn+=X!==rl||Ot?"translate3d("+O+", "+V+", "+X+") ":"translate("+O+", "+V+tu),ce!==Au&&(tn+="rotate("+ce+tu),he!==Au&&(tn+="rotateY("+he+tu),He!==Au&&(tn+="rotateX("+He+tu),(Ve!==Au||$e!==Au)&&(tn+="skew("+Ve+", "+$e+tu),(1!==at||1!==qe)&&(tn+="scale("+at+", "+qe+tu),Mt.style[us]=tn||"translate(0, 0)"},ah=function(o,n){var Ot,Ut,Xt,en,$t,l=n||this,g=l.xPercent,E=l.yPercent,O=l.x,V=l.y,X=l.rotation,ce=l.skewX,he=l.skewY,He=l.scaleX,Ve=l.scaleY,$e=l.target,at=l.xOrigin,qe=l.yOrigin,gt=l.xOffset,bt=l.yOffset,Mt=l.forceCSS,jt=parseFloat(O),tn=parseFloat(V);X=parseFloat(X),ce=parseFloat(ce),(he=parseFloat(he))&&(ce+=he=parseFloat(he),X+=he),X||ce?(X*=Jo,ce*=Jo,Ot=Math.cos(X)*He,Ut=Math.sin(X)*He,Xt=Math.sin(X-ce)*-Ve,en=Math.cos(X-ce)*Ve,ce&&(he*=Jo,$t=Math.tan(ce-he),Xt*=$t=Math.sqrt(1+$t*$t),en*=$t,he&&($t=Math.tan(he),Ot*=$t=Math.sqrt(1+$t*$t),Ut*=$t)),Ot=hn(Ot),Ut=hn(Ut),Xt=hn(Xt),en=hn(en)):(Ot=He,en=Ve,Ut=Xt=0),(jt&&!~(O+"").indexOf("px")||tn&&!~(V+"").indexOf("px"))&&(jt=Su($e,"x",O,"px"),tn=Su($e,"y",V,"px")),(at||qe||gt||bt)&&(jt=hn(jt+at-(at*Ot+qe*Xt)+gt),tn=hn(tn+qe-(at*Ut+qe*en)+bt)),(g||E)&&($t=$e.getBBox(),jt=hn(jt+g/100*$t.width),tn=hn(tn+E/100*$t.height)),$e.setAttribute("transform",$t="matrix("+Ot+","+Ut+","+Xt+","+en+","+jt+","+tn+")"),Mt&&($e.style[us]=$t)},Pd=function(o,n,l,g,E,O){var Ve,$e,V=360,X=In(E),ce=parseFloat(E)*(X&&~E.indexOf("rad")?Sa:1),he=O?ce*O:ce-g,He=g+he+"deg";return X&&("short"===(Ve=E.split("_")[1])&&(he%=V)!=he%180&&(he+=he<0?V:-V),"cw"===Ve&&he<0?he=(he+V*ec)%V-~~(he/V)*V:"ccw"===Ve&&he>0&&(he=(he-V*ec)%V-~~(he/V)*V)),o._pt=$e=new Zo(o._pt,n,l,g,he,xd),$e.e=He,$e.u="deg",o._props.push(l),$e},$c=function(o,n){for(var l in n)o[l]=n[l];return o},Mu=function(o,n,l){var V,X,ce,he,He,Ve,at,g=$c({},l._gsap),O=l.style;for(X in g.svg?(ce=l.getAttribute("transform"),l.setAttribute("transform",""),O[us]=n,V=eu(l,1),Pa(l,us),l.setAttribute("transform",ce)):(ce=getComputedStyle(l)[us],O[us]=n,V=eu(l,1),O[us]=ce),aa)(ce=g[X])!==(he=V[X])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(X)<0&&(He=Xr(ce)!==(at=Xr(he))?Su(l,X,ce,at):parseFloat(ce),Ve=parseFloat(he),o._pt=new Zo(o._pt,V,X,He,Ve-He,Eu),o._pt.u=at||0,o._props.push(X));$c(V,g)};Dr("padding,margin,Width,Radius",function(d,o){var n="Top",l="Right",g="Bottom",E="Left",O=(o<3?[n,l,g,E]:[n+E,n+l,g+l,g+E]).map(function(V){return o<2?d+V:"border"+V+d});Ia[o>1?"border"+d:d]=function(V,X,ce,he,He){var Ve,$e;if(arguments.length<4)return Ve=O.map(function(at){return Xa(V,at,ce)}),5===($e=Ve.join(" ")).split(Ve[0]).length?Ve[0]:$e;Ve=(he+"").split(" "),$e={},O.forEach(function(at,qe){return $e[at]=Ve[qe]=Ve[qe]||Ve[(qe-1)/2|0]}),V.init(X,$e,He)}});var Ko={name:"css",register:nc,targetTest:function(o){return o.style&&o.nodeType},init:function(o,n,l,g,E){var ce,he,He,Ve,$e,at,qe,gt,bt,Mt,jt,tn,Ot,Ut,Xt,O=this._props,V=o.style,X=l.vars.startAt;for(qe in Jl||nc(),n)if("autoRound"!==qe&&(he=n[qe],!Dt[qe]||!mu(qe,n,l,g,o,E)))if(at=Ia[qe],"function"==($e=typeof he)&&($e=typeof(he=he.call(l,g,o,E))),"string"===$e&&~he.indexOf("random(")&&(he=Po(he)),at)at(this,o,qe,he,l)&&(Xt=1);else if("--"===qe.substr(0,2))ce=(getComputedStyle(o).getPropertyValue(qe)+"").trim(),he+="",Ea.lastIndex=0,Ea.test(ce)||(gt=Xr(ce),bt=Xr(he)),bt?gt!==bt&&(ce=Su(o,qe,ce,bt)+bt):gt&&(he+=gt),this.add(V,"setProperty",ce,he,g,E,0,0,qe),O.push(qe);else if("undefined"!==$e){if(X&&qe in X?(ce="function"==typeof X[qe]?X[qe].call(l,g,o,E):X[qe],qe in Er.units&&!Xr(ce)&&(ce+=Er.units[qe]),"="===(ce+"").charAt(1)&&(ce=Xa(o,qe))):ce=Xa(o,qe),Ve=parseFloat(ce),(Mt="string"===$e&&"="===he.charAt(1)?+(he.charAt(0)+"1"):0)&&(he=he.substr(2)),He=parseFloat(he),qe in as&&("autoAlpha"===qe&&(1===Ve&&"hidden"===Xa(o,"visibility")&&He&&(Ve=0),ua(this,V,"visibility",Ve?"inherit":"hidden",He?"inherit":"hidden",!He)),"scale"!==qe&&"transform"!==qe&&~(qe=as[qe]).indexOf(",")&&(qe=qe.split(",")[0])),jt=qe in aa)if(tn||((Ot=o._gsap).renderTransform&&!n.parseTransform||eu(o,n.parseTransform),Ut=!1!==n.smoothOrigin&&Ot.smooth,(tn=this._pt=new Zo(this._pt,V,us,0,1,Ot.renderTransform,Ot,0,-1)).dep=1),"scale"===qe)this._pt=new Zo(this._pt,Ot,"scaleY",Ot.scaleY,(Mt?Mt*He:He-Ot.scaleY)||0),O.push("scaleY",qe),qe+="X";else{if("transformOrigin"===qe){he=Iu(he),Ot.svg?Ai(o,he,0,Ut,0,this):((bt=parseFloat(he.split(" ")[2])||0)!==Ot.zOrigin&&ua(this,Ot,"zOrigin",Ot.zOrigin,bt),ua(this,V,qe,Nu(ce),Nu(he)));continue}if("svgOrigin"===qe){Ai(o,he,1,Ut,0,this);continue}if(qe in tl){Pd(this,Ot,qe,Ve,he,Mt);continue}if("smoothOrigin"===qe){ua(this,Ot,"smooth",Ot.smooth,he);continue}if("force3D"===qe){Ot[qe]=he;continue}if("transform"===qe){Mu(this,he,o);continue}}else qe in V||(qe=Du(qe)||qe);if(jt||(He||0===He)&&(Ve||0===Ve)&&!Cu.test(he)&&qe in V)He||(He=0),(gt=(ce+"").substr((Ve+"").length))!==(bt=Xr(he)||(qe in Er.units?Er.units[qe]:gt))&&(Ve=Su(o,qe,ce,bt)),this._pt=new Zo(this._pt,jt?Ot:V,qe,Ve,Mt?Mt*He:He-Ve,jt||"px"!==bt&&"zIndex"!==qe||!1===n.autoRound?Eu:eh),this._pt.u=bt||0,gt!==bt&&(this._pt.b=ce,this._pt.r=Xf);else if(qe in V)Dl.call(this,o,qe,ce,he);else{if(!(qe in o)){gr(qe,he);continue}this.add(o,qe,ce||o[qe],he,g,E)}O.push(qe)}Xt&&Cl(this)},get:Xa,aliases:as,getSetter:function(o,n,l){var g=as[n];return g&&g.indexOf(",")<0&&(n=g),n in aa&&n!==Ka&&(o._gsap.x||Xa(o,"x"))?l&&Xl===l?"scale"===n?Bc:nh:(Xl=l||{})&&("scale"===n?Uc:rh):o.style&&!ns(o.style[n])?th:~n.indexOf("-")?Rd:Qa(o,n)},core:{_removeProperty:Pa,_getMatrix:Hc}};Qo.utils.checkPrefix=Du,function(d,o,n,l){var g=Dr(d+","+o+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(E){aa[E]=1});Dr(o,function(E){Er.units[E]="deg",tl[E]=1}),as[g[13]]=d+","+o,Dr("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(E){var O=E.split(":");as[O[1]]=g[O[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Dr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(d){Er.units[d]="px"}),Qo.registerPlugin(Ko);var Aa=Qo.registerPlugin(Ko)||Qo,js=de(3190),vr=de(9765),Fa=de(7971),Sl=de(8858);class Wc extends vr.xQ{constructor(o=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,l){super(),this.scheduler=l,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=o<1?1:o,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(o){if(!this.isStopped){const n=this._events;n.push(o),n.length>this._bufferSize&&n.shift()}super.next(o)}nextTimeWindow(o){this.isStopped||(this._events.push(new kd(this._getNow(),o)),this._trimBufferThenGetEvents()),super.next(o)}_subscribe(o){const n=this._infiniteTimeWindow,l=n?this._events:this._trimBufferThenGetEvents(),g=this.scheduler,E=l.length;let O;if(this.closed)throw new Fa.N;if(this.isStopped||this.hasError?O=Nr.w.EMPTY:(this.observers.push(o),O=new Sl.W(this,o)),g&&o.add(o=new Ji(o,g)),n)for(let V=0;V<E&&!o.closed;V++)o.next(l[V]);else for(let V=0;V<E&&!o.closed;V++)o.next(l[V].value);return this.hasError?o.error(this.thrownError):this.isStopped&&o.complete(),O}_getNow(){return(this.scheduler||Sn).now()}_trimBufferThenGetEvents(){const o=this._getNow(),n=this._bufferSize,l=this._windowTime,g=this._events,E=g.length;let O=0;for(;O<E&&!(o-g[O].time<l);)O++;return E>n&&(O=Math.max(O,E-n)),O>0&&g.splice(0,O),g}}class kd{constructor(o,n){this.time=o,this.value=n}}var Vd=de(8049);let il=(()=>{class d{constructor(n,l,g,E){const O=new ao(E),V=Co(O),X=(0,Rr.of)(void 0).pipe(Ho(O.outsideAngular),(0,js.w)(()=>E.runOutsideAngular(()=>de.e(952).then(de.bind(de,1952)))),(0,$.U)(()=>Mo(n,E,l)),(0,$.U)(ce=>E.runOutsideAngular(()=>ce.auth())),function(d,o,n){let l;return l=d&&"object"==typeof d?d:{bufferSize:d,windowTime:o,refCount:!1,scheduler:n},g=>g.lift(function({bufferSize:d=Number.POSITIVE_INFINITY,windowTime:o=Number.POSITIVE_INFINITY,refCount:n,scheduler:l}){let g,O,E=0,V=!1,X=!1;return function(he){let He;E++,!g||V?(V=!1,g=new Wc(d,o,l),He=g.subscribe(this),O=he.subscribe({next(Ve){g.next(Ve)},error(Ve){V=!0,g.error(Ve)},complete(){X=!0,O=void 0,g.complete()}}),X&&(O=void 0)):He=g.subscribe(this),this.add(()=>{E--,He.unsubscribe(),He=void 0,O&&!X&&n&&0===E&&(O.unsubscribe(),O=void 0,g=void 0)})}}(l))}({bufferSize:1,refCount:!1}));return(0,I.PM)(g)?this.authState=this.user=this.idToken=this.idTokenResult=(0,Rr.of)(null):(X.pipe((0,Vd.P)()).subscribe(),this.authState=X.pipe((0,js.w)(he=>he.getRedirectResult().then(()=>he,()=>he)),(0,js.w)(he=>E.runOutsideAngular(()=>new or.y(he.onAuthStateChanged.bind(he)))),V),this.user=X.pipe((0,js.w)(he=>he.getRedirectResult().then(()=>he,()=>he)),(0,js.w)(he=>E.runOutsideAngular(()=>new or.y(he.onIdTokenChanged.bind(he)))),V),this.idToken=this.user.pipe((0,js.w)(he=>he?(0,jr.D)(he.getIdToken()):(0,Rr.of)(null))),this.idTokenResult=this.user.pipe((0,js.w)(he=>he?(0,jr.D)(he.getIdTokenResult()):(0,Rr.of)(null)))),((d,o,n)=>new Proxy(d,{get:(l,g)=>n.runOutsideAngular(()=>{if(d[g])return d[g];if(Ri.includes(g))return()=>{};const E=o.toPromise().then(O=>{const V=O&&O[g];return"function"==typeof V?V.bind(O):V&&V.then?V.then(X=>n.run(()=>X)):n.run(()=>V)});return new Proxy(()=>{},{get:(O,V)=>E[V],apply:(O,V,X)=>E.then(ce=>ce&&ce(...X))})})}))(this,X,E)}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(co),u.LFG(Eo,8),u.LFG(u.Lbi),u.LFG(u.R0b))},d.\u0275prov=(0,u.Yz7)({factory:function(){return new d((0,u.LFG)(co),(0,u.LFG)(Eo,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b))},token:d,providedIn:"any"}),d})(),ka=(()=>{class d{constructor(){this.email="",this.password=""}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),sc=(()=>{class d{constructor(){this.message=""}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Il=(()=>{class d{constructor(){this.message=""}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Nl=(()=>{class d{constructor(n,l,g,E,O){this.angularFireAuth=n,this.usuarioService=l,this.routes=g,this.errorMessageService=E,this.successMessageService=O,this.email="",this.userData=n.authState,this.isLoggedIn=!1}SignUp(n,l){this.angularFireAuth.createUserWithEmailAndPassword(n,l).then(g=>{console.log("You are Successfully signed up!",g),this.usuarioService.email=n,this.usuarioService.password=l,sessionStorage.setItem("loggedUser",n),this.isLoggedIn=!0,this.email=n,this.successMessageService.message="Successful login! Welcome "+this.usuarioService.email,this.routes.navigate(["/home"]),setTimeout(()=>{this.successMessageService.message=""},2e3)}).catch(g=>{this.errorMessageService.message=g.message,setTimeout(()=>{this.errorMessageService.message=""},2e3)})}SignIn(n,l){this.angularFireAuth.signInWithEmailAndPassword(n,l).then(g=>{console.log("You are in!"),this.usuarioService.email=n,this.usuarioService.password=l,sessionStorage.setItem("loggedUser",n),this.isLoggedIn=!0,this.email=n,this.successMessageService.message="Successful login! Welcome "+this.usuarioService.email,this.routes.navigate(["/home"]),setTimeout(()=>{this.successMessageService.message=""},2e3)}).catch(g=>{this.errorMessageService.message=g.message,setTimeout(()=>{this.errorMessageService.message=""},2e3)})}SignOut(){this.angularFireAuth.signOut(),this.usuarioService.email="",this.usuarioService.password="",sessionStorage.setItem("loggedUser",""),this.isLoggedIn=!1,this.email="",setTimeout(()=>{this.routes.navigate(["/home"])},2e3)}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(il),u.LFG(ka),u.LFG(Si.F0),u.LFG(sc),u.LFG(Il))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Al=(()=>{class d{constructor(n,l,g,E){this.routes=n,this.authService=l,this.usuarioService=g,this.usuarioActual=E,this.email="",this.pass="",this.tl=Aa.timeline({paused:!0}),this.usuarioActual=g}ngOnInit(){}createTl(){this.tl.to("#inBtn",{duration:.5,yoyo:!0,repeat:1,y:-5,ease:"back.out(4)"})}playTlIntn(){this.createTl(),this.tl.play()}signUp(){this.authService.SignUp(this.email,this.pass)}signIn(){this.authService.SignIn(this.email,this.pass)}signOut(){this.authService.SignOut()}TestSignIn(){this.authService.SignIn("kiki@mail.com","unotresdos")}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(Si.F0),u.Y36(Nl),u.Y36(ka),u.Y36(ka))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"form-signin"],["src","../assets/brand/bootstrap-solid.svg","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","name","email","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","name","pass","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],["id","inBtn","type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"mouseenter","click"],["id","upBtn","type","button",1,"btn","btn-lg","btn-info","btn-block",3,"click"],["type","button",1,"btn","btn-lg","btn-secondary","btn-block",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(n,l){1&n&&(u.TgZ(0,"form",0),u._UZ(1,"img",1),u.TgZ(2,"h1",2),u._uU(3,"Please sign in"),u.qZA(),u.TgZ(4,"label",3),u._uU(5,"Email address"),u.qZA(),u.TgZ(6,"input",4),u.NdJ("ngModelChange",function(E){return l.email=E}),u.qZA(),u.TgZ(7,"label",5),u._uU(8,"Password"),u.qZA(),u.TgZ(9,"input",6),u.NdJ("ngModelChange",function(E){return l.pass=E}),u.qZA(),u.TgZ(10,"div",7),u.TgZ(11,"label"),u._UZ(12,"input",8),u._uU(13," Remember me "),u.qZA(),u.qZA(),u.TgZ(14,"button",9),u.NdJ("mouseenter",function(){return l.playTlIntn()})("click",function(){return l.signIn()}),u._uU(15,"Ingresar"),u.qZA(),u.TgZ(16,"button",10),u.NdJ("click",function(){return l.signUp()}),u._uU(17,"Registrate"),u.qZA(),u.TgZ(18,"button",11),u.NdJ("click",function(){return l.TestSignIn()}),u._uU(19,"Test Login"),u.qZA(),u.TgZ(20,"p",12),u._uU(21,"\xa9 2017-2021"),u.qZA(),u.qZA()),2&n&&(u.xp6(6),u.Q6J("ngModel",l.email),u.xp6(3),u.Q6J("ngModel",l.pass))},directives:[Tn._Y,Tn.JL,Tn.F,Tn.Fj,Tn.Q7,Tn.JJ,Tn.On],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),d})(),La=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-quien-soy"]],decls:9,vars:0,consts:[["role","main"],[1,"container","marketing"],[1,"customWrapper"],[1,"col-lg-4","custom"],["src","../../../assets/img/profile.png","alt",""]],template:function(n,l){1&n&&(u.TgZ(0,"main",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.TgZ(5,"h2"),u._uU(6,"Yanina Perez"),u.qZA(),u.TgZ(7,"p"),u._uU(8,"Juego puzzle: hay que armar la imagen correcta en la menor cantidad de movimientos posibles."),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:["body[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem;color:#5a5a5a}.carousel[_ngcontent-%COMP%]{margin-bottom:4rem}.carousel-caption[_ngcontent-%COMP%]{bottom:3rem;z-index:10}.carousel-item[_ngcontent-%COMP%]{height:32rem}.carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;min-width:100%;height:32rem}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.marketing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:.75rem;margin-left:.75rem}.featurette-divider[_ngcontent-%COMP%]{margin:5rem 0}.featurette-heading[_ngcontent-%COMP%]{font-weight:300;line-height:1;letter-spacing:-.05rem}@media (min-width: 40em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}.custom[_ngcontent-%COMP%]{width:20%}.customWrapper[_ngcontent-%COMP%]{width:100%;position:absolute;top:100px;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),d})(),Ud=(()=>{class d{constructor(){this.gameNameRecibido="",this.descripcionJuegoRecibida="",this.linkJuegoRecibido=""}ngOnInit(){}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-game-card"]],inputs:{gameNameRecibido:"gameNameRecibido",descripcionJuegoRecibida:"descripcionJuegoRecibida",linkJuegoRecibido:"linkJuegoRecibido"},decls:10,vars:3,consts:[[1,"d-md-flex","flex-md-equal","w-100","my-md-3","pl-md-3"],[1,"bg-dark","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","py-3"],[1,"display-5"],[1,"lead"],["type","button",1,"btn","btn-lg","btn-block","btn-outline-warning",3,"routerLink"],[1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"]],template:function(n,l){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"h2",3),u._uU(4),u.qZA(),u.TgZ(5,"p",4),u._uU(6),u.qZA(),u.TgZ(7,"button",5),u._uU(8,"Jugar"),u.qZA(),u.qZA(),u._UZ(9,"div",6),u.qZA(),u.qZA()),2&n&&(u.xp6(4),u.Oqu(l.gameNameRecibido),u.xp6(2),u.Oqu(l.descripcionJuegoRecibida),u.xp6(1),u.s9C("routerLink",l.linkJuegoRecibido))},directives:[Si.rH],styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,a.85);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),d})(),xu=(()=>{class d{constructor(n,l){this.usuarioService=n,this.usuarioActual=l,this.usuarioActual=new ka,this.usuarioActual.email=n.email,this.usuarioActual.password=n.password}ngOnInit(){}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(ka),u.Y36(ka))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-bienvenido"]],decls:93,vars:7,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","font-weight-normal"],[1,"lead","font-weight-normal"],["routerLink","/chat",1,"btn","btn-outline-secondary"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","pl-md-3"],[3,"gameNameRecibido","descripcionJuegoRecibida","linkJuegoRecibido"],[1,"container","py-5"],[1,"row"],[1,"col-12","col-md"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24","focusable","false",1,"d-block","mb-2"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],[1,"d-block","mb-3","text-muted"],[1,"col-6","col-md"],[1,"list-unstyled","text-small"],["href","#",1,"text-muted"]],template:function(n,l){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h1",2),u._uU(3),u.qZA(),u.TgZ(4,"p",3),u._uU(5,"Ingresa a la sala de chat para conversar con otros usuarios."),u.qZA(),u.TgZ(6,"a",4),u._uU(7,"Ir a sala de chat"),u.qZA(),u.qZA(),u._UZ(8,"div",5),u._UZ(9,"div",6),u.qZA(),u.TgZ(10,"div",7),u._UZ(11,"app-game-card",8),u._UZ(12,"app-game-card",8),u.qZA(),u.TgZ(13,"footer",9),u.TgZ(14,"div",10),u.TgZ(15,"div",11),u.O4$(),u.TgZ(16,"svg",12),u.TgZ(17,"title"),u._uU(18,"Product"),u.qZA(),u._UZ(19,"circle",13),u._UZ(20,"path",14),u.qZA(),u.kcU(),u.TgZ(21,"small",15),u._uU(22,"\xa9 2017-2021"),u.qZA(),u.qZA(),u.TgZ(23,"div",16),u.TgZ(24,"h5"),u._uU(25,"Features"),u.qZA(),u.TgZ(26,"ul",17),u.TgZ(27,"li"),u.TgZ(28,"a",18),u._uU(29,"Cool stuff"),u.qZA(),u.qZA(),u.TgZ(30,"li"),u.TgZ(31,"a",18),u._uU(32,"Random feature"),u.qZA(),u.qZA(),u.TgZ(33,"li"),u.TgZ(34,"a",18),u._uU(35,"Team feature"),u.qZA(),u.qZA(),u.TgZ(36,"li"),u.TgZ(37,"a",18),u._uU(38,"Stuff for developers"),u.qZA(),u.qZA(),u.TgZ(39,"li"),u.TgZ(40,"a",18),u._uU(41,"Another one"),u.qZA(),u.qZA(),u.TgZ(42,"li"),u.TgZ(43,"a",18),u._uU(44,"Last time"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(45,"div",16),u.TgZ(46,"h5"),u._uU(47,"Resources"),u.qZA(),u.TgZ(48,"ul",17),u.TgZ(49,"li"),u.TgZ(50,"a",18),u._uU(51,"Resource"),u.qZA(),u.qZA(),u.TgZ(52,"li"),u.TgZ(53,"a",18),u._uU(54,"Resource name"),u.qZA(),u.qZA(),u.TgZ(55,"li"),u.TgZ(56,"a",18),u._uU(57,"Another resource"),u.qZA(),u.qZA(),u.TgZ(58,"li"),u.TgZ(59,"a",18),u._uU(60,"Final resource"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(61,"div",16),u.TgZ(62,"h5"),u._uU(63,"Resources"),u.qZA(),u.TgZ(64,"ul",17),u.TgZ(65,"li"),u.TgZ(66,"a",18),u._uU(67,"Business"),u.qZA(),u.qZA(),u.TgZ(68,"li"),u.TgZ(69,"a",18),u._uU(70,"Education"),u.qZA(),u.qZA(),u.TgZ(71,"li"),u.TgZ(72,"a",18),u._uU(73,"Government"),u.qZA(),u.qZA(),u.TgZ(74,"li"),u.TgZ(75,"a",18),u._uU(76,"Gaming"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(77,"div",16),u.TgZ(78,"h5"),u._uU(79,"About"),u.qZA(),u.TgZ(80,"ul",17),u.TgZ(81,"li"),u.TgZ(82,"a",18),u._uU(83,"Team"),u.qZA(),u.qZA(),u.TgZ(84,"li"),u.TgZ(85,"a",18),u._uU(86,"Locations"),u.qZA(),u.qZA(),u.TgZ(87,"li"),u.TgZ(88,"a",18),u._uU(89,"Privacy"),u.qZA(),u.qZA(),u.TgZ(90,"li"),u.TgZ(91,"a",18),u._uU(92,"Terms"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n&&(u.xp6(3),u.Oqu(l.usuarioActual.email),u.xp6(8),u.Q6J("gameNameRecibido","Ahorcado")("descripcionJuegoRecibida","Adivina la palabra")("linkJuegoRecibido","/juegos/ahorcado"),u.xp6(1),u.Q6J("gameNameRecibido","Mayor o Menor")("descripcionJuegoRecibida","Adivina el valor de la pr\xf3xima carta")("linkJuegoRecibido","/juegos/mayoromenor"))},directives:[Si.yS,Ud],styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,a.85);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),d})(),ac=(()=>{class d{constructor(){this.title="ejercicio-1",this.edadUno=0,this.edadDos=0,this.promedio=0}ngOnInit(){}calcular(){this.promedio=(this.edadUno+this.edadDos)/2}limpiar(){this.edadDos=0,this.edadUno=0,this.promedio=0}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-ej1"]],decls:22,vars:3,consts:[["type","number",3,"ngModel","ngModelChange"],["type","button","value","Calcular",3,"click"],["type","button","value","Limpiar cuadros de texto",3,"click"]],template:function(n,l){1&n&&(u.TgZ(0,"h1"),u._uU(1,"Ejercicio 1"),u.qZA(),u._UZ(2,"br"),u._UZ(3,"br"),u.TgZ(4,"h4"),u._uU(5,"Edad 1: "),u.qZA(),u.TgZ(6,"input",0),u.NdJ("ngModelChange",function(E){return l.edadUno=E}),u.qZA(),u._UZ(7,"br"),u._UZ(8,"br"),u.TgZ(9,"h4"),u._uU(10,"Edad 2: "),u.qZA(),u.TgZ(11,"input",0),u.NdJ("ngModelChange",function(E){return l.edadDos=E}),u.qZA(),u._UZ(12,"br"),u._UZ(13,"br"),u.TgZ(14,"h4"),u._uU(15,"Promedio Edades"),u.qZA(),u.TgZ(16,"input",0),u.NdJ("ngModelChange",function(E){return l.promedio=E}),u.qZA(),u._UZ(17,"br"),u._UZ(18,"br"),u.TgZ(19,"input",1),u.NdJ("click",function(){return l.calcular()}),u.qZA(),u._UZ(20,"br"),u.TgZ(21,"input",2),u.NdJ("click",function(){return l.limpiar()}),u.qZA()),2&n&&(u.xp6(6),u.Q6J("ngModel",l.edadUno),u.xp6(5),u.Q6J("ngModel",l.edadDos),u.xp6(5),u.Q6J("ngModel",l.promedio))},directives:[Tn.wV,Tn.Fj,Tn.JJ,Tn.On],styles:[""]}),d})();class uc{constructor(){this.nombre="Kiki",this.clave="unotresdos"}}let lh=(()=>{class d{constructor(){this.myUsuario=new uc}ngOnInit(){}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-error"]],decls:6,vars:2,template:function(n,l){1&n&&(u.TgZ(0,"p"),u._uU(1,"ERROR !!"),u.qZA(),u.TgZ(2,"p"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA()),2&n&&(u.xp6(3),u.hij("Nombre de usuario: ",l.myUsuario.nombre,""),u.xp6(2),u.hij("Pass de usuario: ",l.myUsuario.clave,""))},styles:[""]}),d})();function qc(d,o,n,l,g,E,O){try{var V=d[E](O),X=V.value}catch(ce){return void n(ce)}V.done?o(X):Promise.resolve(X).then(l,g)}function nu(d){return function(){var o=this,n=arguments;return new Promise(function(l,g){var E=d.apply(o,n);function O(X){qc(E,l,g,O,V,"next",X)}function V(X){qc(E,l,g,O,V,"throw",X)}O(void 0)})}}let jd=(()=>{class d{constructor(n,l){this.afAuth=n,this.afs=l,this.nameCollectionDB="messages",this.chats=[],this.messagesCollection=l.collection(this.nameCollectionDB,g=>g.orderBy("createdAt","desc").limit(6)),this.afAuth.onAuthStateChanged(g=>{this.currentUser=g})}loadAllMessages(){return this.messagesCollection.valueChanges().pipe((0,$.U)(n=>{this.chats=[];for(const l of n)this.chats.unshift(l);return this.chats}))}addMessage(n){var l=this;return nu(function*(){var g,E;try{const O={uid:null===(g=l.currentUser)||void 0===g?void 0:g.uid,name:null===(E=l.currentUser)||void 0===E?void 0:E.email,message:n,createdAt:(new Date).getTime(),image:"../../assets/img/logo.svg",dateString:(new Date).toLocaleTimeString()};return yield l.messagesCollection.add(O)}catch(O){throw new Error(O.message)}})()}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(il),u.LFG(Xi))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Hd=(()=>{class d{constructor(){}openSnackBar(n,l){}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();function lc(d,o){if(1&d&&(u.TgZ(0,"div",9),u.TgZ(1,"div",10),u._UZ(2,"img",11),u.TgZ(3,"span",12),u._uU(4),u.qZA(),u.TgZ(5,"span",13),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"p",13),u._uU(8),u.qZA(),u.qZA()),2&d){const n=o.$implicit;u.xp6(2),u.Q6J("src",n.image,u.LSH),u.xp6(2),u.hij(" ",n.name," "),u.xp6(2),u.hij(" ",n.dateString,""),u.xp6(2),u.Oqu(n.message)}}function zc(d,o){if(1&d){const n=u.EpF();u.TgZ(0,"div",2),u.TgZ(1,"div",3),u.TgZ(2,"div",4),u.YNc(3,lc,9,4,"div",5),u.qZA(),u.TgZ(4,"div",6),u.TgZ(5,"div"),u._uU(6,"Escribe un mensaje..."),u.qZA(),u.TgZ(7,"input",7),u.NdJ("ngModelChange",function(g){return u.CHM(n),u.oxw().message=g})("keyup.enter",function(){return u.CHM(n),u.oxw().sendMessage()}),u.qZA(),u.TgZ(8,"button",8),u.NdJ("click",function(){return u.CHM(n),u.oxw().sendMessage()}),u.TgZ(9,"div"),u._uU(10,"send"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&d){const n=u.oxw();u.xp6(3),u.Q6J("ngForOf",n.chatService.chats),u.xp6(4),u.Q6J("ngModel",n.message)}}function cc(d,o){1&d&&(u.TgZ(0,"div",14),u.TgZ(1,"p"),u._uU(2,"Sorry you need to be logged in to use our chat room"),u.qZA(),u.qZA())}const Hs=[{path:"login",component:Al},{path:"ingreso",component:Al},{path:"quien-soy",component:La},{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:xu},{path:"casa",component:xu},{path:"ej1",component:ac},{path:"chat",component:(()=>{class d{constructor(n,l){this.chatService=n,this.notification=l,this.message="",this.chatService.loadAllMessages().subscribe(),this.loggedUser=sessionStorage.getItem("loggedUser")}ngOnInit(){}sendMessage(){var n=this;return nu(function*(){try{if(0===n.message.length)return;yield n.chatService.addMessage(n.message)}catch(l){n.notification.openSnackBar(l.message,"Cerrar")}finally{n.message=""}})()}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(jd),u.Y36(Hd))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-chat"]],decls:2,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between center",4,"ngIf"],["class","container",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between center"],[1,"container-chat"],["itemSize","50",1,"chat-container"],["fxLayout","column","fxFlexAlign","center flex-start",4,"ngFor","ngForOf"],["appearance","fill",1,"container-send-message"],["matInput","","type","text","name","message","placeholder","Aa",3,"ngModel","ngModelChange","keyup.enter"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fxLayout","column","fxFlexAlign","center flex-start"],["fxLayout","row","fxFlexAlign","flex-end center"],["alt","img profile",1,"image-chat-user",3,"src"],[1,"name-chat-user"],[1,"message-user"],[1,"container"]],template:function(n,l){1&n&&(u.YNc(0,zc,11,2,"div",0),u.YNc(1,cc,3,0,"div",1)),2&n&&(u.Q6J("ngIf",l.loggedUser),u.xp6(1),u.Q6J("ngIf",!l.loggedUser))},directives:[I.O5,I.sg,Tn.Fj,Tn.JJ,Tn.On],styles:[".chat-container[_ngcontent-%COMP%]{height:60vh;width:60vw;min-width:300px}.container-chat[_ngcontent-%COMP%]{border:2px solid #c2185b;border-radius:10px;padding:5px}.container-send-message[_ngcontent-%COMP%]{width:60vw;min-width:300px}.image-chat-user[_ngcontent-%COMP%]{width:40px;border-radius:50px;margin-right:10px}.name-chat-user[_ngcontent-%COMP%]{font-weight:500}.message-user[_ngcontent-%COMP%]{margin-top:10px}"]}),d})()},{path:"juegos",loadChildren:()=>de.e(919).then(de.bind(de,2919)).then(d=>d.JuegosModule)},{path:"**",component:lh}];let Va=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[Si.Bz.forRoot(Hs)],Si.Bz]}),d})();function ch(d,o){1&d&&(u.TgZ(0,"a",13),u._uU(1,"Login/Signup"),u.qZA())}function dc(d,o){if(1&d){const n=u.EpF();u.TgZ(0,"a",14),u.NdJ("click",function(){return u.CHM(n),u.oxw().signOut()}),u._uU(1,"Logout"),u.qZA()}}function ig(d,o){if(1&d&&(u.TgZ(0,"p",15),u._uU(1),u.qZA()),2&d){const n=u.oxw();u.xp6(1),u.hij("Bienvenida/o: ",n.authService.email,"")}}function $d(d,o){1&d&&(u.TgZ(0,"div",16),u._uU(1,"Successful logout ! See you soon"),u.qZA())}let Wd=(()=>{class d{constructor(n,l){this.authService=n,this.usuarioService=l,this.showLogOutMessage=!1}ngOnInit(){}signOut(){this.authService.SignOut(),this.showLogOutMessage=!0,setTimeout(()=>{this.showLogOutMessage=!1},3e3)}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(Nl),u.Y36(ka))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-nav-bar"]],decls:19,vars:4,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["id","logo","xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#002BFF","role","img","viewBox","0 0 32 32","focusable","false",1,"d-block","mx-auto"],["d","M27.5,15.4c0.8-2.6,0.6-5.4-0.6-7.9L26,5.7c-0.2-0.3-0.6-0.5-0.9-0.4l-2.2,0.8c-2,0.7-3.8,1.9-5.3,3.5\n\tc-0.5-0.1-1.1-0.1-1.6-0.1c-0.6,0-1.1,0-1.6,0.1c-1.4-1.6-3.2-2.8-5.3-3.5L6.9,5.4C6.6,5.2,6.2,5.4,6,5.7L5.2,7.5\n\tC4,10,3.8,12.8,4.5,15.4c-0.4,0.8-0.6,1.7-0.6,2.7c0,4.7,5.4,8.6,12.1,8.6s12.1-3.8,12.1-8.6C28.1,17.2,27.9,16.3,27.5,15.4z\n\t M18.1,21.7l-1.6,1.4c-0.2,0.1-0.3,0.2-0.5,0.2c-0.2,0-0.4-0.1-0.5-0.2l-1.6-1.4c-0.6-0.5-0.2-1.4,0.5-1.4h3.2\n\tC18.3,20.3,18.7,21.2,18.1,21.7z",1,"st0"],["routerLink","/home",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/quien-soy",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/ej1",1,"py-2","d-none","d-md-inline-block","buttonNav"],["routerLink","/error",1,"py-2","d-none","d-md-inline-block","buttonNav"],["class","py-2 d-none d-md-inline-block buttonNav","routerLink","/login",4,"ngIf"],["class","py-2 d-none d-md-inline-block buttonNav","id","logout",3,"click",4,"ngIf"],["class","py-2 d-none d-md-inline-block buttonNav",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["routerLink","/login",1,"py-2","d-none","d-md-inline-block","buttonNav"],["id","logout",1,"py-2","d-none","d-md-inline-block","buttonNav",3,"click"],[1,"py-2","d-none","d-md-inline-block","buttonNav"],[1,"alert","alert-danger"]],template:function(n,l){1&n&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"a",2),u.O4$(),u.TgZ(3,"svg",3),u.TgZ(4,"title"),u._uU(5,"Logo"),u.qZA(),u._UZ(6,"path",4),u.qZA(),u.qZA(),u.kcU(),u.TgZ(7,"a",5),u._uU(8,"Home"),u.qZA(),u.TgZ(9,"a",6),u._uU(10,"Quien soy"),u.qZA(),u.TgZ(11,"a",7),u._uU(12,"Ejercicio 1"),u.qZA(),u.TgZ(13,"a",8),u._uU(14,"Ejercicio 2"),u.qZA(),u.YNc(15,ch,2,0,"a",9),u.YNc(16,dc,2,0,"a",10),u.YNc(17,ig,2,1,"p",11),u.qZA(),u.qZA(),u.YNc(18,$d,2,0,"div",12)),2&n&&(u.xp6(15),u.Q6J("ngIf",!l.authService.isLoggedIn),u.xp6(1),u.Q6J("ngIf",l.authService.isLoggedIn),u.xp6(1),u.Q6J("ngIf",l.authService.isLoggedIn),u.xp6(1),u.Q6J("ngIf",l.showLogOutMessage))},directives:[Si.yS,I.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{font-family:"Raleway"}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}#logout[_ngcontent-%COMP%]{color:salmon;cursor:pointer}.site-header[_ngcontent-%COMP%]{background-color:#1f2732e6;height:70px}.buttonNav[_ngcontent-%COMP%]{text-decoration:none;font-family:"Raleway";font-weight:400;font-size:17px;padding:0 35px;margin-top:9px;letter-spacing:.05em;color:#66fcf1}.buttonNav[_ngcontent-%COMP%]:hover{color:#c5c6c8}.st0[_ngcontent-%COMP%]{fill:#66fcf1}.st0[_ngcontent-%COMP%]:hover{fill:#c5c6c8}#logo[_ngcontent-%COMP%]{margin-top:5px}']}),d})();function c(d,o){if(1&d&&(u.TgZ(0,"div",1),u._uU(1),u.qZA()),2&d){const n=u.oxw();u.xp6(1),u.Oqu(n.errorMessageService.message)}}let i=(()=>{class d{constructor(n){this.errorMessageService=n}ngOnInit(){}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(sc))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-error-message"]],decls:1,vars:1,consts:[["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(n,l){1&n&&u.YNc(0,c,2,1,"div",0),2&n&&u.Q6J("ngIf",l.errorMessageService.message)},directives:[I.O5],styles:[""]}),d})();function a(d,o){if(1&d&&(u.TgZ(0,"div",1),u._uU(1),u.qZA()),2&d){const n=u.oxw();u.xp6(1),u.Oqu(n.successMessageService.message)}}let p=(()=>{class d{constructor(n){this.successMessageService=n}ngOnInit(){}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(Il))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-success-message"]],decls:1,vars:1,consts:[["class","alert alert-success",4,"ngIf"],[1,"alert","alert-success"]],template:function(n,l){1&n&&u.YNc(0,a,2,1,"div",0),2&n&&u.Q6J("ngIf",l.successMessageService.message)},directives:[I.O5],styles:[""]}),d})(),y=(()=>{class d{constructor(n){this.usuario=n,this.title="my-app",this.edadUno=0,this.edadDos=0,this.promedio=0}calcular(){this.promedio=(this.edadUno+this.edadDos)/2}limpiar(){this.edadDos=0,this.edadUno=0,this.promedio=0}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(ka))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-root"]],decls:4,vars:0,template:function(n,l){1&n&&(u._UZ(0,"app-nav-bar"),u._UZ(1,"app-error-message"),u._UZ(2,"app-success-message"),u._UZ(3,"router-outlet"))},directives:[Wd,i,p,Si.lC],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{background-color:#0f1014;font-family:"Raleway"}#navBar[_ngcontent-%COMP%]{width:150px;background-color:#2e1284;height:100%;position:fixed;top:0;left:0;display:flex;flex-direction:column;align-items:center;font-family:"Vollkorn";font-weight:400;font-size:16px;padding-top:20px}.navItem[_ngcontent-%COMP%]{padding:15px 0;color:#fffaff;text-decoration:none;display:flex;flex-direction:column;align-items:center;border-bottom:solid 1px rgba(251,241,231,.5);width:100%}.navItem[_ngcontent-%COMP%]:hover{opacity:.5}.navIcon[_ngcontent-%COMP%]{width:35px;height:auto;fill:azure}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}']}),d})();const D_firebaseConfig={apiKey:"AIzaSyCnTq9tZXg8rOShB4Umkxj0V94t9qo9JT8",authDomain:"yanina-perez-labiv.firebaseapp.com",databaseURL:"https://yanina-perez-labiv-default-rtdb.firebaseio.com",projectId:"yanina-perez-labiv",storageBucket:"yanina-perez-labiv.appspot.com",messagingSenderId:"1024446828734",appId:"1:1024446828734:web:e4dd40ffa1eb8959a70eef"};var A=de(9105);function W(d,o,n,l){return(0,A.m)(n)&&(l=n,n=void 0),l?W(d,o,n).pipe((0,$.U)(g=>(0,Jr.k)(g)?l(...g):l(g))):new or.y(g=>{se(d,o,function(O){g.next(arguments.length>1?Array.prototype.slice.call(arguments):O)},g,n)})}function se(d,o,n,l,g){let E;if(function(d){return d&&"function"==typeof d.addEventListener&&"function"==typeof d.removeEventListener}(d)){const O=d;d.addEventListener(o,n,g),E=()=>O.removeEventListener(o,n,g)}else if(function(d){return d&&"function"==typeof d.on&&"function"==typeof d.off}(d)){const O=d;d.on(o,n),E=()=>O.off(o,n)}else if(function(d){return d&&"function"==typeof d.addListener&&"function"==typeof d.removeListener}(d)){const O=d;d.addListener(o,n),E=()=>O.removeListener(o,n)}else{if(!d||!d.length)throw new TypeError("Invalid event target");for(let O=0,V=d.length;O<V;O++)se(d[O],o,n,l,g)}l.add(E)}var Ye=de(4869);function ht(d){const{index:o,period:n,subscriber:l}=d;if(l.next(o),!l.closed){if(-1===n)return l.complete();d.index=o+1,this.schedule(d,n)}}var Zt=de(6693),Wt=de(5197),yn=de(509);class Qn{call(o,n){return n.subscribe(new Gr(o))}}class Gr extends Wt.L{constructor(o){super(o),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(o){this.observables.push(o)}_complete(){const o=this.observables,n=o.length;if(0===n)this.destination.complete();else{for(let l=0;l<n&&!this.hasFirst;l++){const E=(0,yn.D)(this,o[l],void 0,l);this.subscriptions&&this.subscriptions.push(E),this.add(E)}this.observables=null}}notifyNext(o,n,l){if(!this.hasFirst){this.hasFirst=!0;for(let g=0;g<this.subscriptions.length;g++)if(g!==l){let E=this.subscriptions[g];E.unsubscribe(),this.remove(E)}this.subscriptions=null}this.destination.next(n)}}de(6215),de(9112);var ca=de(8640);new or.y(ca.Z);var ru=de(377),da=de(5345);function ol(...d){const o=d[d.length-1];return"function"==typeof o&&d.pop(),(0,Zt.n)(d,void 0).lift(new Zc(o))}class Zc{constructor(o){this.resultSelector=o}call(o,n){return n.subscribe(new qd(o,this.resultSelector))}}class qd extends Ao.L{constructor(o,n,l=Object.create(null)){super(o),this.resultSelector=n,this.iterators=[],this.active=0,this.resultSelector="function"==typeof n?n:void 0}_next(o){const n=this.iterators;(0,Jr.k)(o)?n.push(new Ba(o)):n.push("function"==typeof o[ru.hZ]?new Gs(o[ru.hZ]()):new dh(this.destination,this,o))}_complete(){const o=this.iterators,n=o.length;if(this.unsubscribe(),0!==n){this.active=n;for(let l=0;l<n;l++){let g=o[l];g.stillUnsubscribed?this.destination.add(g.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const o=this.iterators,n=o.length,l=this.destination;for(let O=0;O<n;O++){let V=o[O];if("function"==typeof V.hasValue&&!V.hasValue())return}let g=!1;const E=[];for(let O=0;O<n;O++){let V=o[O],X=V.next();if(V.hasCompleted()&&(g=!0),X.done)return void l.complete();E.push(X.value)}this.resultSelector?this._tryresultSelector(E):l.next(E),g&&l.complete()}_tryresultSelector(o){let n;try{n=this.resultSelector.apply(this,o)}catch(l){return void this.destination.error(l)}this.destination.next(n)}}class Gs{constructor(o){this.iterator=o,this.nextResult=o.next()}hasValue(){return!0}next(){const o=this.nextResult;return this.nextResult=this.iterator.next(),o}hasCompleted(){const o=this.nextResult;return Boolean(o&&o.done)}}class Ba{constructor(o){this.array=o,this.index=0,this.length=0,this.length=o.length}[ru.hZ](){return this}next(o){const n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class dh extends da.Ds{constructor(o,n,l){super(o),this.parent=n,this.observable=l,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ru.hZ](){return this}next(){const o=this.buffer;return 0===o.length&&this.isComplete?{value:null,done:!0}:{value:o.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(o){this.buffer.push(o),this.parent.checkIterators()}subscribe(){return(0,da.ft)(this.observable,new da.IY(this))}}var zd=de(6682),O_=de(8071);function io(d){return o=>o.lift(new xl(d))}class xl{constructor(o){this.notifier=o}call(o,n){const l=new sg(o),g=(0,da.ft)(this.notifier,new da.IY(l));return g&&!l.seenValue?(l.add(g),n.subscribe(l)):l}}class sg extends da.Ds{constructor(o){super(o),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var fa=de(5257);de(9761);class P_{constructor(o,n){this.compare=o,this.keySelector=n}call(o,n){return n.subscribe(new ag(o,this.compare,this.keySelector))}}class ag extends Ao.L{constructor(o,n,l){super(o),this.keySelector=l,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(o,n){return o===n}_next(o){let n;try{const{keySelector:g}=this;n=g?g(o):o}catch(g){return this.destination.error(g)}let l=!1;if(this.hasKey)try{const{compare:g}=this;l=g(this.key,n)}catch(g){return this.destination.error(g)}else this.hasKey=!0;l||(this.key=n,this.destination.next(o))}}function Qc(...d){return o=>{let n;return"function"==typeof d[d.length-1]&&(n=d.pop()),o.lift(new ug(d,n))}}class ug{constructor(o,n){this.observables=o,this.project=n}call(o,n){return n.subscribe(new hh(o,this.observables,this.project))}}class hh extends Wt.L{constructor(o,n,l){super(o),this.observables=n,this.project=l,this.toRespond=[];const g=n.length;this.values=new Array(g);for(let E=0;E<g;E++)this.toRespond.push(E);for(let E=0;E<g;E++)this.add((0,yn.D)(this,n[E],void 0,E))}notifyNext(o,n,l){this.values[l]=n;const g=this.toRespond;if(g.length>0){const E=g.indexOf(l);-1!==E&&g.splice(E,1)}}notifyComplete(){}_next(o){if(0===this.toRespond.length){const n=[o,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(o){let n;try{n=this.project.apply(this,o)}catch(l){return void this.destination.error(l)}this.destination.next(n)}}de(9773);var mh=de(8819);const Ol=["*"],Q_=["dialog"];function Fu(d){return null!=d}function mc(d){return(d||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(d){let o=this;if(!document.documentElement.contains(o))return null;do{if(o.matches(d))return o;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);return null});const Bg={animation:!0,transitionTimerDelayMs:5};let Xo=(()=>{class d{constructor(){this.animation=Bg.animation}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=u.Yz7({factory:function(){return new d},token:d,providedIn:"root"}),d})();const iu=()=>{},{transitionTimerDelayMs:hy}=Bg,nd=new Map,ls=(d,o,n,l)=>{let g=l.context||{};const E=nd.get(o);if(E)switch(l.runningTransition){case"continue":return xr.E;case"stop":d.run(()=>E.transition$.complete()),g=Object.assign(E.context,g),nd.delete(o)}const O=n(o,l.animation,g)||iu;if(!l.animation||"none"===window.getComputedStyle(o).transitionProperty)return d.run(()=>O()),(0,Rr.of)(void 0).pipe(function(d){return o=>new or.y(n=>o.subscribe(O=>d.run(()=>n.next(O)),O=>d.run(()=>n.error(O)),()=>d.run(()=>n.complete())))}(d));const V=new vr.xQ,X=new vr.xQ,ce=V.pipe(function(...d){return o=>(0,O_.z)(o,(0,Rr.of)(...d))}(!0));nd.set(o,{transition$:V,complete:()=>{X.next(),X.complete()},context:g});const he=function(d){const{transitionDelay:o,transitionDuration:n}=window.getComputedStyle(d);return 1e3*(parseFloat(o)+parseFloat(n))}(o);return d.runOutsideAngular(()=>{const He=W(o,"transitionend").pipe(io(ce),(0,F.h)(({target:$e})=>$e===o));(function(...d){if(1===d.length){if(!(0,Jr.k)(d[0]))return d[0];d=d[0]}return(0,Zt.n)(d,void 0).lift(new Qn)})(function(d=0,o,n){let l=-1;return ts(o)?l=Number(o)<1?1:Number(o):(0,Ye.K)(o)&&(n=o),(0,Ye.K)(n)||(n=Wr),new or.y(g=>{const E=ts(d)?d:+d-n.now();return n.schedule(ht,E,{index:0,period:l,subscriber:g})})}(he+hy).pipe(io(ce)),He,X).pipe(io(ce)).subscribe(()=>{nd.delete(o),d.run(()=>{O(),V.next(),V.complete()})})}),V.asObservable()};let nf=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),rf=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),Ph=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({}),d})(),af=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),Lh=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({}),d})();var ur=(()=>(function(d){d[d.Tab=9]="Tab",d[d.Enter=13]="Enter",d[d.Escape=27]="Escape",d[d.Space=32]="Space",d[d.PageUp=33]="PageUp",d[d.PageDown=34]="PageDown",d[d.End=35]="End",d[d.Home=36]="Home",d[d.ArrowLeft=37]="ArrowLeft",d[d.ArrowUp=38]="ArrowUp",d[d.ArrowRight=39]="ArrowRight",d[d.ArrowDown=40]="ArrowDown"}(ur||(ur={})),ur))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const My=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gf(d){const o=Array.from(d.querySelectorAll(My)).filter(n=>-1!==n.tabIndex);return[o[0],o[o.length-1]]}new class{getAllStyles(o){return window.getComputedStyle(o)}getStyle(o,n){return this.getAllStyles(o)[n]}isStaticPositioned(o){return"static"===(this.getStyle(o,"position")||"static")}offsetParent(o){let n=o.offsetParent||document.documentElement;for(;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement}position(o,n=!0){let l,g={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(o,"position"))l=o.getBoundingClientRect(),l={top:l.top,bottom:l.bottom,left:l.left,right:l.right,height:l.height,width:l.width};else{const E=this.offsetParent(o);l=this.offset(o,!1),E!==document.documentElement&&(g=this.offset(E,!1)),g.top+=E.clientTop,g.left+=E.clientLeft}return l.top-=g.top,l.bottom-=g.top,l.left-=g.left,l.right-=g.left,n&&(l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}offset(o,n=!0){const l=o.getBoundingClientRect(),g_top=window.pageYOffset-document.documentElement.clientTop,g_left=window.pageXOffset-document.documentElement.clientLeft;let E={height:l.height||o.offsetHeight,width:l.width||o.offsetWidth,top:l.top+g_top,bottom:l.bottom+g_top,left:l.left+g_left,right:l.right+g_left};return n&&(E.height=Math.round(E.height),E.width=Math.round(E.width),E.top=Math.round(E.top),E.bottom=Math.round(E.bottom),E.left=Math.round(E.left),E.right=Math.round(E.right)),E}positionElements(o,n,l,g){const[E="top",O="center"]=l.split("-"),V=g?this.offset(o,!1):this.position(o,!1),X=this.getAllStyles(n),ce=parseFloat(X.marginTop),he=parseFloat(X.marginBottom),He=parseFloat(X.marginLeft),Ve=parseFloat(X.marginRight);let $e=0,at=0;switch(E){case"top":$e=V.top-(n.offsetHeight+ce+he);break;case"bottom":$e=V.top+V.height;break;case"left":at=V.left-(n.offsetWidth+He+Ve);break;case"right":at=V.left+V.width}switch(O){case"top":$e=V.top;break;case"bottom":$e=V.top+V.height-n.offsetHeight;break;case"left":at=V.left;break;case"right":at=V.left+V.width-n.offsetWidth;break;case"center":"top"===E||"bottom"===E?at=V.left+V.width/2-n.offsetWidth/2:$e=V.top+V.height/2-n.offsetHeight/2}n.style.transform=`translate(${Math.round(at)}px, ${Math.round($e)}px)`;const qe=n.getBoundingClientRect(),gt=document.documentElement,bt=window.innerHeight||gt.clientHeight,Mt=window.innerWidth||gt.clientWidth;return qe.left>=0&&qe.top>=0&&qe.right<=Mt&&qe.bottom<=bt}},new Date(1882,10,12),new Date(2174,10,25);let jy=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez,Tn.u5]]}),d})(),Gy=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({}),d})(),$y=(()=>{class d{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(Xo))},d.\u0275prov=u.Yz7({factory:function(){return new d(u.LFG(Xo))},token:d,providedIn:"root"}),d})();class Tc{constructor(o,n,l){this.nodes=o,this.viewRef=n,this.componentRef=l}}const _m=()=>{};let ym=(()=>{class d{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):_m}_adjustBody(n){const l=this._document.body,g=l.style.paddingRight,E=parseFloat(window.getComputedStyle(l)["padding-right"]);return l.style["padding-right"]=`${E+n}px`,()=>l.style["padding-right"]=g}_isPresent(n){const l=this._document.body.getBoundingClientRect();return window.innerWidth-(l.left+l.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const l=this._document.body;l.appendChild(n);const g=n.getBoundingClientRect().width-n.clientWidth;return l.removeChild(n),g}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(I.K0))},d.\u0275prov=u.Yz7({factory:function(){return new d(u.LFG(I.K0))},token:d,providedIn:"root"}),d})(),Sc=(()=>{class d{constructor(n,l){this._el=n,this._zone=l}ngOnInit(){this._zone.onStable.asObservable().pipe((0,fa.q)(1)).subscribe(()=>{ls(this._zone,this._el.nativeElement,(n,l)=>{l&&mc(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ls(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(u.SBq),u.Y36(u.R0b))},d.\u0275cmp=u.Xpm({type:d,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(n,l){2&n&&(u.Tol("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),u.ekj("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,l){},encapsulation:2}),d})();class vm{close(o){}dismiss(o){}}class bm{constructor(o,n,l,g){this._windowCmptRef=o,this._contentRef=n,this._backdropCmptRef=l,this._beforeDismiss=g,this._closed=new vr.xQ,this._dismissed=new vr.xQ,this._hidden=new vr.xQ,o.instance.dismissEvent.subscribe(E=>{this.dismiss(E)}),this.result=new Promise((E,O)=>{this._resolve=E,this._reject=O}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(io(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(io(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(o){this._windowCmptRef&&(this._closed.next(o),this._resolve(o),this._removeModalElements())}_dismiss(o){this._dismissed.next(o),this._reject(o),this._removeModalElements()}dismiss(o){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();n&&n.then?n.then(l=>{!1!==l&&this._dismiss(o)},()=>{}):!1!==n&&this._dismiss(o)}else this._dismiss(o)}_removeModalElements(){const o=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Rr.of)(void 0);o.subscribe(()=>{const{nativeElement:l}=this._windowCmptRef.location;l.parentNode.removeChild(l),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:l}=this._backdropCmptRef.location;l.parentNode.removeChild(l),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ol(o,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var fd=(()=>(function(d){d[d.BACKDROP_CLICK=0]="BACKDROP_CLICK",d[d.ESC=1]="ESC"}(fd||(fd={})),fd))();let wm=(()=>{class d{constructor(n,l,g){this._document=n,this._elRef=l,this._zone=g,this._closed$=new vr.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new vr.xQ,this.hidden=new vr.xQ}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,fa.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,l={animation:this.animation,runningTransition:"stop"},O=ol(ls(this._zone,n,()=>n.classList.remove("show"),l),ls(this._zone,this._dialogEl.nativeElement,()=>{},l));return O.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),O}_show(){const n={animation:this.animation,runningTransition:"continue"};ol(ls(this._zone,this._elRef.nativeElement,(E,O)=>{O&&mc(E),E.classList.add("show")},n),ls(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{W(n,"keydown").pipe(io(this._closed$),(0,F.h)(g=>g.which===ur.Escape)).subscribe(g=>{this.keyboard?requestAnimationFrame(()=>{g.defaultPrevented||this._zone.run(()=>this.dismiss(fd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let l=!1;W(this._dialogEl.nativeElement,"mousedown").pipe(io(this._closed$),(0,vi.b)(()=>l=!1),(0,js.w)(()=>W(n,"mouseup").pipe(io(this._closed$),(0,fa.q)(1))),(0,F.h)(({target:g})=>n===g)).subscribe(()=>{l=!0}),W(n,"click").pipe(io(this._closed$)).subscribe(({target:g})=>{n===g&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!l&&this._zone.run(()=>this.dismiss(fd.BACKDROP_CLICK))),l=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const l=n.querySelector("[ngbAutofocus]"),g=gf(n)[0];(l||g||n).focus()}}_restoreFocus(){const n=this._document.body,l=this._elWithFocus;let g;g=l&&l.focus&&n.contains(l)?l:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>g.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ls(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return d.\u0275fac=function(n){return new(n||d)(u.Y36(I.K0),u.Y36(u.SBq),u.Y36(u.R0b))},d.\u0275cmp=u.Xpm({type:d,selectors:[["ngb-modal-window"]],viewQuery:function(n,l){if(1&n&&u.Gf(Q_,7),2&n){let g;u.iGM(g=u.CRH())&&(l._dialogEl=g.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,l){2&n&&(u.uIk("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),u.Tol("modal d-block"+(l.windowClass?" "+l.windowClass:"")),u.ekj("fade",l.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ol,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,l){1&n&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&n&&u.Tol("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),d})(),hd=(()=>{class d{constructor(n,l,g,E,O,V){this._applicationRef=n,this._injector=l,this._document=g,this._scrollBar=E,this._rendererFactory=O,this._ngZone=V,this._activeWindowCmptHasChanged=new vr.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const X=this._windowCmpts[this._windowCmpts.length-1];((d,o,n,l=!1)=>{d.runOutsideAngular(()=>{const g=W(o,"focusin").pipe(io(n),(0,$.U)(E=>E.target));W(o,"keydown").pipe(io(n),(0,F.h)(E=>E.which===ur.Tab),Qc(g)).subscribe(([E,O])=>{const[V,X]=gf(o);(O===V||O===o)&&E.shiftKey&&(X.focus(),E.preventDefault()),O===X&&!E.shiftKey&&(V.focus(),E.preventDefault())}),l&&W(o,"click").pipe(io(n),Qc(g),(0,$.U)(E=>E[1])).subscribe(E=>E.focus())})})(this._ngZone,X.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(X.location.nativeElement)}})}open(n,l,g,E){const O=E.container instanceof HTMLElement?E.container:Fu(E.container)?this._document.querySelector(E.container):this._document.body,V=this._rendererFactory.createRenderer(null,null),X=this._scrollBar.compensate(),ce=()=>{this._modalRefs.length||(V.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!O)throw new Error(`The specified modal container "${E.container||"body"}" was not found in the DOM.`);const he=new vm,He=this._getContentRef(n,E.injector||l,g,he,E);let Ve=!1!==E.backdrop?this._attachBackdrop(n,O):void 0,$e=this._attachWindowComponent(n,O,He),at=new bm($e,He,Ve,E.beforeDismiss);return this._registerModalRef(at),this._registerWindowCmpt($e),at.result.then(X,X),at.result.then(ce,ce),he.close=qe=>{at.close(qe)},he.dismiss=qe=>{at.dismiss(qe)},this._applyWindowOptions($e.instance,E),1===this._modalRefs.length&&V.addClass(this._document.body,"modal-open"),Ve&&Ve.instance&&(this._applyBackdropOptions(Ve.instance,E),Ve.changeDetectorRef.detectChanges()),$e.changeDetectorRef.detectChanges(),at}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(l=>l.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,l){let E=n.resolveComponentFactory(Sc).create(this._injector);return this._applicationRef.attachView(E.hostView),l.appendChild(E.location.nativeElement),E}_attachWindowComponent(n,l,g){let O=n.resolveComponentFactory(wm).create(this._injector,g.nodes);return this._applicationRef.attachView(O.hostView),l.appendChild(O.location.nativeElement),O}_applyWindowOptions(n,l){this._windowAttributes.forEach(g=>{Fu(l[g])&&(n[g]=l[g])})}_applyBackdropOptions(n,l){this._backdropAttributes.forEach(g=>{Fu(l[g])&&(n[g]=l[g])})}_getContentRef(n,l,g,E,O){return g?g instanceof u.Rgc?this._createFromTemplateRef(g,E):function(d){return"string"==typeof d}(g)?this._createFromString(g):this._createFromComponent(n,l,g,E,O):new Tc([])}_createFromTemplateRef(n,l){const E=n.createEmbeddedView({$implicit:l,close(O){l.close(O)},dismiss(O){l.dismiss(O)}});return this._applicationRef.attachView(E),new Tc([E.rootNodes],E)}_createFromString(n){const l=this._document.createTextNode(`${n}`);return new Tc([[l]])}_createFromComponent(n,l,g,E,O){const V=n.resolveComponentFactory(g),X=u.zs3.create({providers:[{provide:vm,useValue:E}],parent:l}),ce=V.create(X),he=ce.location.nativeElement;return O.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(ce.hostView),new Tc([[he]],ce.hostView,ce)}_setAriaHidden(n){const l=n.parentElement;l&&n!==this._document.body&&(Array.from(l.children).forEach(g=>{g!==n&&"SCRIPT"!==g.nodeName&&(this._ariaHiddenValues.set(g,g.getAttribute("aria-hidden")),g.setAttribute("aria-hidden","true"))}),this._setAriaHidden(l))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,l)=>{n?l.setAttribute("aria-hidden",n):l.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const l=()=>{const g=this._modalRefs.indexOf(n);g>-1&&(this._modalRefs.splice(g,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(l,l)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const l=this._windowCmpts.indexOf(n);l>-1&&(this._windowCmpts.splice(l,1),this._activeWindowCmptHasChanged.next())})}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(I.K0),u.LFG(ym),u.LFG(u.FYo),u.LFG(u.R0b))},d.\u0275prov=u.Yz7({factory:function(){return new d(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(I.K0),u.LFG(ym),u.LFG(u.FYo),u.LFG(u.R0b))},token:d,providedIn:"root"}),d})(),Wy=(()=>{class d{constructor(n,l,g,E){this._moduleCFR=n,this._injector=l,this._modalStack=g,this._config=E}open(n,l={}){const g=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),l);return this._modalStack.open(this._moduleCFR,this._injector,n,g)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(hd),u.LFG($y))},d.\u0275prov=u.Yz7({factory:function(){return new d(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(hd),u.LFG($y))},token:d,providedIn:"root"}),d})(),Jh=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({providers:[Wy]}),d})(),Yy=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),Df=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),up=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),lp=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),fp=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),mp=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),_p=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})(),Um=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({}),d})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let bp=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[[I.ez]]}),d})();const uu=[nf,rf,Ph,af,Lh,jy,Gy,Jh,Yy,Df,up,lp,fp,mp,_p,Um,bp];let Ga=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({imports:[uu,nf,rf,Ph,af,Lh,jy,Gy,Jh,Yy,Df,up,lp,fp,mp,_p,Um,bp]}),d})();class $m{constructor(o){this.predicate=o}call(o,n){return n.subscribe(new Wm(o,this.predicate))}}class Wm extends Ao.L{constructor(o,n){super(o),this.predicate=n,this.skipping=!0,this.index=0}_next(o){const n=this.destination;this.skipping&&this.tryCallPredicate(o),this.skipping||n.next(o)}tryCallPredicate(o){try{const n=this.predicate(o,this.index++);this.skipping=Boolean(n)}catch(n){this.destination.error(n)}}}var qm=de(4614);function zm(d){return null==d}function Tf(d){return"function"==typeof d.set}function Ic(d,o){return Tf(o)?o:d.ref(o)}function Ym(d,o){if(function(d){return"string"==typeof d}(d))return o.stringCase();if(Tf(d))return o.firebaseCase();if(function(d){return"function"==typeof d.exportVal}(d))return o.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof d)}function md(d,o,n="on",l=Bo){return new or.y(g=>{let E=null;return E=d[n](o,(O,V)=>{l.schedule(()=>{g.next({snapshot:O,prevKey:V})}),"once"===n&&l.schedule(()=>g.complete())},O=>{l.schedule(()=>g.error(O))}),"on"===n?{unsubscribe(){null!=E&&d.off(o,E)}}:{unsubscribe(){}}}).pipe((0,$.U)(g=>{const{snapshot:E,prevKey:O}=g;let V=null;return E.exists()&&(V=E.key),{type:o,payload:E,prevKey:O,key:V}}),(0,mh.B)())}function wp(d,o){const n=d.length;for(let l=0;l<n;l++)if(d[l].payload.key===o)return l;return-1}function uv(d,o){const{payload:n,prevKey:l,key:g}=o,E=wp(d,g),O=function(d,o){if(zm(o))return 0;{const n=wp(d,o);return-1===n?d.length:n+1}}(d,l);switch(o.type){case"value":if(o.payload&&o.payload.exists()){let V=null;o.payload.forEach(X=>{const ce={payload:X,type:"value",prevKey:V,key:X.key};return V=X.key,d=[...d,ce],!1})}return d;case"child_added":if(E>-1){const V=d[E-1];(V&&V.key||null)!==l&&(d=d.filter(X=>X.payload.key!==n.key)).splice(O,0,o)}else{if(null==l)return[o,...d];(d=d.slice()).splice(O,0,o)}return d;case"child_removed":return d.filter(V=>V.payload.key!==n.key);case"child_changed":return d.map(V=>V.payload.key===g?o:V);case"child_moved":if(E>-1){const V=d.splice(E,1)[0];return(d=d.slice()).splice(O,0,V),d}return d;default:return d}}function Cp(d){return(zm(d)||0===d.length)&&(d=["child_added","child_removed","child_changed","child_moved"]),d}function Ep(d,o,n){return function(d,o,n){return md(d,"value","once",n).pipe((0,js.w)(l=>{const g=[(0,Rr.of)(l)];return o.forEach(E=>g.push(md(d,E,"on",n))),(0,zd.T)(...g).pipe((0,H.R)(uv,[]))}),function(d,o){return n=>n.lift(new P_(d,o))}())}(d,o=Cp(o),n)}function If(d,o,n){const l=(o=Cp(o)).map(g=>md(d,g,"on",n));return(0,zd.T)(...l)}function Dp(d,o){return function(l,g){return Ym(l,{stringCase:()=>d.child(l)[o](g),firebaseCase:()=>l[o](g),snapshotCase:()=>l.ref[o](g)})}}function Km(d){return function(n){return n?Ym(n,{stringCase:()=>d.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):d.remove()}}function Tp(d,o){return function(){return md(d,"value","on",o)}}const t_=new u.OlP("angularfire2.realtimeDatabaseURL");let cv=(()=>{class d{constructor(n,l,g,E,O){this.schedulers=new ao(O),this.keepUnstableUntilFirst=Co(this.schedulers),this.database=O.runOutsideAngular(()=>{const V=Mo(n,O,l);return qm.registerDatabase&&(0,qm.registerDatabase)(gn()),V.database(g||void 0)})}list(n,l){const g=Ic(this.database,n);let E=g;return l&&(E=l(g)),function(d,o){const n=o.schedulers.outsideAngular,l=o.schedulers.ngZone.run(()=>d.ref);return{query:d,update:Dp(l,"update"),set:Dp(l,"set"),push:g=>l.push(g),remove:Km(l),snapshotChanges:g=>Ep(d,g,n).pipe(o.keepUnstableUntilFirst),stateChanges:g=>If(d,g,n).pipe(o.keepUnstableUntilFirst),auditTrail:g=>function(d,o,n){return function(d,o,n){return function(d,o){return md(d,"value","on",o).pipe((0,$.U)(n=>{let l;return n.payload.forEach(g=>(l=g.key,!1)),{data:n,lastKeyToLoad:l}}))}(d,n).pipe(Qc(o),(0,$.U)(([g,E])=>{const O=g.lastKeyToLoad,V=E.map(X=>X.key);return{actions:E,lastKeyToLoad:O,loadedKeys:V}}),function(d){return o=>o.lift(new $m(d))}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,$.U)(g=>g.actions))}(d,If(d,o).pipe((0,H.R)((g,E)=>[...g,E],[])),n)}(d,g,n).pipe(o.keepUnstableUntilFirst),valueChanges:g=>Ep(d,g,n).pipe((0,$.U)(O=>O.map(V=>V.payload.val())),o.keepUnstableUntilFirst)}}(E,this)}object(n){return function(d,o){return{query:d,snapshotChanges:()=>Tp(d,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst),update:n=>d.ref.update(n),set:n=>d.ref.set(n),remove:()=>d.ref.remove(),valueChanges:()=>Tp(d,o.schedulers.outsideAngular)().pipe(o.keepUnstableUntilFirst,(0,$.U)(l=>l.payload.exists()?l.payload.val():null))}}(Ic(this.database,n),this)}createPushId(){return this.database.ref().push().key}}return d.\u0275fac=function(n){return new(n||d)(u.LFG(co),u.LFG(Eo,8),u.LFG(t_,8),u.LFG(u.Lbi),u.LFG(u.R0b))},d.\u0275prov=(0,u.Yz7)({factory:function(){return new d((0,u.LFG)(co),(0,u.LFG)(Eo,8),(0,u.LFG)(t_,8),(0,u.LFG)(u.Lbi),(0,u.LFG)(u.R0b))},token:d,providedIn:"any"}),d})(),dv=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d}),d.\u0275inj=u.cJS({providers:[cv]}),d})(),n_=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=u.oAB({type:d,bootstrap:[y]}),d.\u0275inj=u.cJS({providers:[Nl,sc,Il],imports:[[zi,Va,Tn.u5,qs.initializeApp(D_firebaseConfig),Kr,Ga,dv]]}),d})();(0,u.G48)(),Sr().bootstrapModule(n_).catch(d=>console.error(d))},7796:(zt,je,de)=>{"use strict";de.r(je),de.d(je,{__extends:()=>u,__assign:()=>ee,__rest:()=>Qe,__decorate:()=>xe,__param:()=>Be,__metadata:()=>Ae,__awaiter:()=>ke,__generator:()=>ue,__createBinding:()=>oe,__exportStar:()=>Te,__values:()=>we,__read:()=>Ce,__spread:()=>it,__spreadArrays:()=>_t,__await:()=>dt,__asyncGenerator:()=>ot,__asyncDelegator:()=>Ke,__asyncValues:()=>Je,__makeTemplateObject:()=>Ft,__importStar:()=>kt,__importDefault:()=>Pn,__classPrivateFieldGet:()=>Dn,__classPrivateFieldSet:()=>Lt});var I=function(z,te){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,le){Z.__proto__=le}||function(Z,le){for(var me in le)le.hasOwnProperty(me)&&(Z[me]=le[me])})(z,te)};function u(z,te){function Z(){this.constructor=z}I(z,te),z.prototype=null===te?Object.create(te):(Z.prototype=te.prototype,new Z)}var ee=function(){return(ee=Object.assign||function(te){for(var Z,le=1,me=arguments.length;le<me;le++)for(var K in Z=arguments[le])Object.prototype.hasOwnProperty.call(Z,K)&&(te[K]=Z[K]);return te}).apply(this,arguments)};function Qe(z,te){var Z={};for(var le in z)Object.prototype.hasOwnProperty.call(z,le)&&te.indexOf(le)<0&&(Z[le]=z[le]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(le=Object.getOwnPropertySymbols(z);me<le.length;me++)te.indexOf(le[me])<0&&Object.prototype.propertyIsEnumerable.call(z,le[me])&&(Z[le[me]]=z[le[me]])}return Z}function xe(z,te,Z,le){var Ne,me=arguments.length,K=me<3?te:null===le?le=Object.getOwnPropertyDescriptor(te,Z):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(z,te,Z,le);else for(var Le=z.length-1;Le>=0;Le--)(Ne=z[Le])&&(K=(me<3?Ne(K):me>3?Ne(te,Z,K):Ne(te,Z))||K);return me>3&&K&&Object.defineProperty(te,Z,K),K}function Be(z,te){return function(Z,le){te(Z,le,z)}}function Ae(z,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,te)}function ke(z,te,Z,le){return new(Z||(Z=Promise))(function(K,Ne){function Le(pt){try{Pe(le.next(pt))}catch(Nt){Ne(Nt)}}function Pt(pt){try{Pe(le.throw(pt))}catch(Nt){Ne(Nt)}}function Pe(pt){pt.done?K(pt.value):function(K){return K instanceof Z?K:new Z(function(Ne){Ne(K)})}(pt.value).then(Le,Pt)}Pe((le=le.apply(z,te||[])).next())})}function ue(z,te){var le,me,K,Ne,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return Ne={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Le(Pe){return function(pt){return function(Pe){if(le)throw new TypeError("Generator is already executing.");for(;Z;)try{if(le=1,me&&(K=2&Pe[0]?me.return:Pe[0]?me.throw||((K=me.return)&&K.call(me),0):me.next)&&!(K=K.call(me,Pe[1])).done)return K;switch(me=0,K&&(Pe=[2&Pe[0],K.value]),Pe[0]){case 0:case 1:K=Pe;break;case 4:return Z.label++,{value:Pe[1],done:!1};case 5:Z.label++,me=Pe[1],Pe=[0];continue;case 7:Pe=Z.ops.pop(),Z.trys.pop();continue;default:if(!(K=(K=Z.trys).length>0&&K[K.length-1])&&(6===Pe[0]||2===Pe[0])){Z=0;continue}if(3===Pe[0]&&(!K||Pe[1]>K[0]&&Pe[1]<K[3])){Z.label=Pe[1];break}if(6===Pe[0]&&Z.label<K[1]){Z.label=K[1],K=Pe;break}if(K&&Z.label<K[2]){Z.label=K[2],Z.ops.push(Pe);break}K[2]&&Z.ops.pop(),Z.trys.pop();continue}Pe=te.call(z,Z)}catch(pt){Pe=[6,pt],me=0}finally{le=K=0}if(5&Pe[0])throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}([Pe,pt])}}}function oe(z,te,Z,le){void 0===le&&(le=Z),z[le]=te[Z]}function Te(z,te){for(var Z in z)"default"!==Z&&!te.hasOwnProperty(Z)&&(te[Z]=z[Z])}function we(z){var te="function"==typeof Symbol&&Symbol.iterator,Z=te&&z[te],le=0;if(Z)return Z.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&le>=z.length&&(z=void 0),{value:z&&z[le++],done:!z}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(z,te){var Z="function"==typeof Symbol&&z[Symbol.iterator];if(!Z)return z;var me,Ne,le=Z.call(z),K=[];try{for(;(void 0===te||te-- >0)&&!(me=le.next()).done;)K.push(me.value)}catch(Le){Ne={error:Le}}finally{try{me&&!me.done&&(Z=le.return)&&Z.call(le)}finally{if(Ne)throw Ne.error}}return K}function it(){for(var z=[],te=0;te<arguments.length;te++)z=z.concat(Ce(arguments[te]));return z}function _t(){for(var z=0,te=0,Z=arguments.length;te<Z;te++)z+=arguments[te].length;var le=Array(z),me=0;for(te=0;te<Z;te++)for(var K=arguments[te],Ne=0,Le=K.length;Ne<Le;Ne++,me++)le[me]=K[Ne];return le}function dt(z){return this instanceof dt?(this.v=z,this):new dt(z)}function ot(z,te,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=Z.apply(z,te||[]),K=[];return me={},Ne("next"),Ne("throw"),Ne("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ne(tt){le[tt]&&(me[tt]=function(wt){return new Promise(function(bn,An){K.push([tt,wt,bn,An])>1||Le(tt,wt)})})}function Le(tt,wt){try{!function(tt){tt.value instanceof dt?Promise.resolve(tt.value.v).then(Pe,pt):Nt(K[0][2],tt)}(le[tt](wt))}catch(bn){Nt(K[0][3],bn)}}function Pe(tt){Le("next",tt)}function pt(tt){Le("throw",tt)}function Nt(tt,wt){tt(wt),K.shift(),K.length&&Le(K[0][0],K[0][1])}}function Ke(z){var te,Z;return te={},le("next"),le("throw",function(me){throw me}),le("return"),te[Symbol.iterator]=function(){return this},te;function le(me,K){te[me]=z[me]?function(Ne){return(Z=!Z)?{value:dt(z[me](Ne)),done:"return"===me}:K?K(Ne):Ne}:K}}function Je(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,te=z[Symbol.asyncIterator];return te?te.call(z):(z=we(z),Z={},le("next"),le("throw"),le("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function le(K){Z[K]=z[K]&&function(Ne){return new Promise(function(Le,Pt){!function(K,Ne,Le,Pt){Promise.resolve(Pt).then(function(Pe){K({value:Pe,done:Le})},Ne)}(Le,Pt,(Ne=z[K](Ne)).done,Ne.value)})}}}function Ft(z,te){return Object.defineProperty?Object.defineProperty(z,"raw",{value:te}):z.raw=te,z}function kt(z){if(z&&z.__esModule)return z;var te={};if(null!=z)for(var Z in z)Object.hasOwnProperty.call(z,Z)&&(te[Z]=z[Z]);return te.default=z,te}function Pn(z){return z&&z.__esModule?z:{default:z}}function Dn(z,te){if(!te.has(z))throw new TypeError("attempted to get private field on non-instance");return te.get(z)}function Lt(z,te,Z){if(!te.has(z))throw new TypeError("attempted to set private field on non-instance");return te.set(z,Z),Z}},5385:(zt,je,de)=>{"use strict";de.r(je),de.d(je,{__extends:()=>u,__assign:()=>ee,__rest:()=>Qe,__decorate:()=>xe,__param:()=>Be,__metadata:()=>Ae,__awaiter:()=>ke,__generator:()=>ue,__createBinding:()=>oe,__exportStar:()=>Te,__values:()=>we,__read:()=>Ce,__spread:()=>it,__spreadArrays:()=>_t,__await:()=>dt,__asyncGenerator:()=>ot,__asyncDelegator:()=>Ke,__asyncValues:()=>Je,__makeTemplateObject:()=>Ft,__importStar:()=>kt,__importDefault:()=>Pn,__classPrivateFieldGet:()=>Dn,__classPrivateFieldSet:()=>Lt});var I=function(z,te){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,le){Z.__proto__=le}||function(Z,le){for(var me in le)le.hasOwnProperty(me)&&(Z[me]=le[me])})(z,te)};function u(z,te){function Z(){this.constructor=z}I(z,te),z.prototype=null===te?Object.create(te):(Z.prototype=te.prototype,new Z)}var ee=function(){return(ee=Object.assign||function(te){for(var Z,le=1,me=arguments.length;le<me;le++)for(var K in Z=arguments[le])Object.prototype.hasOwnProperty.call(Z,K)&&(te[K]=Z[K]);return te}).apply(this,arguments)};function Qe(z,te){var Z={};for(var le in z)Object.prototype.hasOwnProperty.call(z,le)&&te.indexOf(le)<0&&(Z[le]=z[le]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(le=Object.getOwnPropertySymbols(z);me<le.length;me++)te.indexOf(le[me])<0&&Object.prototype.propertyIsEnumerable.call(z,le[me])&&(Z[le[me]]=z[le[me]])}return Z}function xe(z,te,Z,le){var Ne,me=arguments.length,K=me<3?te:null===le?le=Object.getOwnPropertyDescriptor(te,Z):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(z,te,Z,le);else for(var Le=z.length-1;Le>=0;Le--)(Ne=z[Le])&&(K=(me<3?Ne(K):me>3?Ne(te,Z,K):Ne(te,Z))||K);return me>3&&K&&Object.defineProperty(te,Z,K),K}function Be(z,te){return function(Z,le){te(Z,le,z)}}function Ae(z,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,te)}function ke(z,te,Z,le){return new(Z||(Z=Promise))(function(K,Ne){function Le(pt){try{Pe(le.next(pt))}catch(Nt){Ne(Nt)}}function Pt(pt){try{Pe(le.throw(pt))}catch(Nt){Ne(Nt)}}function Pe(pt){pt.done?K(pt.value):function(K){return K instanceof Z?K:new Z(function(Ne){Ne(K)})}(pt.value).then(Le,Pt)}Pe((le=le.apply(z,te||[])).next())})}function ue(z,te){var le,me,K,Ne,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return Ne={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Le(Pe){return function(pt){return function(Pe){if(le)throw new TypeError("Generator is already executing.");for(;Z;)try{if(le=1,me&&(K=2&Pe[0]?me.return:Pe[0]?me.throw||((K=me.return)&&K.call(me),0):me.next)&&!(K=K.call(me,Pe[1])).done)return K;switch(me=0,K&&(Pe=[2&Pe[0],K.value]),Pe[0]){case 0:case 1:K=Pe;break;case 4:return Z.label++,{value:Pe[1],done:!1};case 5:Z.label++,me=Pe[1],Pe=[0];continue;case 7:Pe=Z.ops.pop(),Z.trys.pop();continue;default:if(!(K=(K=Z.trys).length>0&&K[K.length-1])&&(6===Pe[0]||2===Pe[0])){Z=0;continue}if(3===Pe[0]&&(!K||Pe[1]>K[0]&&Pe[1]<K[3])){Z.label=Pe[1];break}if(6===Pe[0]&&Z.label<K[1]){Z.label=K[1],K=Pe;break}if(K&&Z.label<K[2]){Z.label=K[2],Z.ops.push(Pe);break}K[2]&&Z.ops.pop(),Z.trys.pop();continue}Pe=te.call(z,Z)}catch(pt){Pe=[6,pt],me=0}finally{le=K=0}if(5&Pe[0])throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}([Pe,pt])}}}function oe(z,te,Z,le){void 0===le&&(le=Z),z[le]=te[Z]}function Te(z,te){for(var Z in z)"default"!==Z&&!te.hasOwnProperty(Z)&&(te[Z]=z[Z])}function we(z){var te="function"==typeof Symbol&&Symbol.iterator,Z=te&&z[te],le=0;if(Z)return Z.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&le>=z.length&&(z=void 0),{value:z&&z[le++],done:!z}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(z,te){var Z="function"==typeof Symbol&&z[Symbol.iterator];if(!Z)return z;var me,Ne,le=Z.call(z),K=[];try{for(;(void 0===te||te-- >0)&&!(me=le.next()).done;)K.push(me.value)}catch(Le){Ne={error:Le}}finally{try{me&&!me.done&&(Z=le.return)&&Z.call(le)}finally{if(Ne)throw Ne.error}}return K}function it(){for(var z=[],te=0;te<arguments.length;te++)z=z.concat(Ce(arguments[te]));return z}function _t(){for(var z=0,te=0,Z=arguments.length;te<Z;te++)z+=arguments[te].length;var le=Array(z),me=0;for(te=0;te<Z;te++)for(var K=arguments[te],Ne=0,Le=K.length;Ne<Le;Ne++,me++)le[me]=K[Ne];return le}function dt(z){return this instanceof dt?(this.v=z,this):new dt(z)}function ot(z,te,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=Z.apply(z,te||[]),K=[];return me={},Ne("next"),Ne("throw"),Ne("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ne(tt){le[tt]&&(me[tt]=function(wt){return new Promise(function(bn,An){K.push([tt,wt,bn,An])>1||Le(tt,wt)})})}function Le(tt,wt){try{!function(tt){tt.value instanceof dt?Promise.resolve(tt.value.v).then(Pe,pt):Nt(K[0][2],tt)}(le[tt](wt))}catch(bn){Nt(K[0][3],bn)}}function Pe(tt){Le("next",tt)}function pt(tt){Le("throw",tt)}function Nt(tt,wt){tt(wt),K.shift(),K.length&&Le(K[0][0],K[0][1])}}function Ke(z){var te,Z;return te={},le("next"),le("throw",function(me){throw me}),le("return"),te[Symbol.iterator]=function(){return this},te;function le(me,K){te[me]=z[me]?function(Ne){return(Z=!Z)?{value:dt(z[me](Ne)),done:"return"===me}:K?K(Ne):Ne}:K}}function Je(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,te=z[Symbol.asyncIterator];return te?te.call(z):(z=we(z),Z={},le("next"),le("throw"),le("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function le(K){Z[K]=z[K]&&function(Ne){return new Promise(function(Le,Pt){!function(K,Ne,Le,Pt){Promise.resolve(Pt).then(function(Pe){K({value:Pe,done:Le})},Ne)}(Le,Pt,(Ne=z[K](Ne)).done,Ne.value)})}}}function Ft(z,te){return Object.defineProperty?Object.defineProperty(z,"raw",{value:te}):z.raw=te,z}function kt(z){if(z&&z.__esModule)return z;var te={};if(null!=z)for(var Z in z)Object.hasOwnProperty.call(z,Z)&&(te[Z]=z[Z]);return te.default=z,te}function Pn(z){return z&&z.__esModule?z:{default:z}}function Dn(z,te){if(!te.has(z))throw new TypeError("attempted to get private field on non-instance");return te.get(z)}function Lt(z,te,Z){if(!te.has(z))throw new TypeError("attempted to set private field on non-instance");return te.set(z,Z),Z}},209:(zt,je,de)=>{"use strict";de.r(je),de.d(je,{__extends:()=>u,__assign:()=>ee,__rest:()=>Qe,__decorate:()=>xe,__param:()=>Be,__metadata:()=>Ae,__awaiter:()=>ke,__generator:()=>ue,__createBinding:()=>oe,__exportStar:()=>Te,__values:()=>we,__read:()=>Ce,__spread:()=>it,__spreadArrays:()=>_t,__await:()=>dt,__asyncGenerator:()=>ot,__asyncDelegator:()=>Ke,__asyncValues:()=>Je,__makeTemplateObject:()=>Ft,__importStar:()=>kt,__importDefault:()=>Pn,__classPrivateFieldGet:()=>Dn,__classPrivateFieldSet:()=>Lt});var I=function(z,te){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,le){Z.__proto__=le}||function(Z,le){for(var me in le)le.hasOwnProperty(me)&&(Z[me]=le[me])})(z,te)};function u(z,te){function Z(){this.constructor=z}I(z,te),z.prototype=null===te?Object.create(te):(Z.prototype=te.prototype,new Z)}var ee=function(){return(ee=Object.assign||function(te){for(var Z,le=1,me=arguments.length;le<me;le++)for(var K in Z=arguments[le])Object.prototype.hasOwnProperty.call(Z,K)&&(te[K]=Z[K]);return te}).apply(this,arguments)};function Qe(z,te){var Z={};for(var le in z)Object.prototype.hasOwnProperty.call(z,le)&&te.indexOf(le)<0&&(Z[le]=z[le]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(le=Object.getOwnPropertySymbols(z);me<le.length;me++)te.indexOf(le[me])<0&&Object.prototype.propertyIsEnumerable.call(z,le[me])&&(Z[le[me]]=z[le[me]])}return Z}function xe(z,te,Z,le){var Ne,me=arguments.length,K=me<3?te:null===le?le=Object.getOwnPropertyDescriptor(te,Z):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(z,te,Z,le);else for(var Le=z.length-1;Le>=0;Le--)(Ne=z[Le])&&(K=(me<3?Ne(K):me>3?Ne(te,Z,K):Ne(te,Z))||K);return me>3&&K&&Object.defineProperty(te,Z,K),K}function Be(z,te){return function(Z,le){te(Z,le,z)}}function Ae(z,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,te)}function ke(z,te,Z,le){return new(Z||(Z=Promise))(function(K,Ne){function Le(pt){try{Pe(le.next(pt))}catch(Nt){Ne(Nt)}}function Pt(pt){try{Pe(le.throw(pt))}catch(Nt){Ne(Nt)}}function Pe(pt){pt.done?K(pt.value):function(K){return K instanceof Z?K:new Z(function(Ne){Ne(K)})}(pt.value).then(Le,Pt)}Pe((le=le.apply(z,te||[])).next())})}function ue(z,te){var le,me,K,Ne,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return Ne={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Le(Pe){return function(pt){return function(Pe){if(le)throw new TypeError("Generator is already executing.");for(;Z;)try{if(le=1,me&&(K=2&Pe[0]?me.return:Pe[0]?me.throw||((K=me.return)&&K.call(me),0):me.next)&&!(K=K.call(me,Pe[1])).done)return K;switch(me=0,K&&(Pe=[2&Pe[0],K.value]),Pe[0]){case 0:case 1:K=Pe;break;case 4:return Z.label++,{value:Pe[1],done:!1};case 5:Z.label++,me=Pe[1],Pe=[0];continue;case 7:Pe=Z.ops.pop(),Z.trys.pop();continue;default:if(!(K=(K=Z.trys).length>0&&K[K.length-1])&&(6===Pe[0]||2===Pe[0])){Z=0;continue}if(3===Pe[0]&&(!K||Pe[1]>K[0]&&Pe[1]<K[3])){Z.label=Pe[1];break}if(6===Pe[0]&&Z.label<K[1]){Z.label=K[1],K=Pe;break}if(K&&Z.label<K[2]){Z.label=K[2],Z.ops.push(Pe);break}K[2]&&Z.ops.pop(),Z.trys.pop();continue}Pe=te.call(z,Z)}catch(pt){Pe=[6,pt],me=0}finally{le=K=0}if(5&Pe[0])throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}([Pe,pt])}}}function oe(z,te,Z,le){void 0===le&&(le=Z),z[le]=te[Z]}function Te(z,te){for(var Z in z)"default"!==Z&&!te.hasOwnProperty(Z)&&(te[Z]=z[Z])}function we(z){var te="function"==typeof Symbol&&Symbol.iterator,Z=te&&z[te],le=0;if(Z)return Z.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&le>=z.length&&(z=void 0),{value:z&&z[le++],done:!z}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(z,te){var Z="function"==typeof Symbol&&z[Symbol.iterator];if(!Z)return z;var me,Ne,le=Z.call(z),K=[];try{for(;(void 0===te||te-- >0)&&!(me=le.next()).done;)K.push(me.value)}catch(Le){Ne={error:Le}}finally{try{me&&!me.done&&(Z=le.return)&&Z.call(le)}finally{if(Ne)throw Ne.error}}return K}function it(){for(var z=[],te=0;te<arguments.length;te++)z=z.concat(Ce(arguments[te]));return z}function _t(){for(var z=0,te=0,Z=arguments.length;te<Z;te++)z+=arguments[te].length;var le=Array(z),me=0;for(te=0;te<Z;te++)for(var K=arguments[te],Ne=0,Le=K.length;Ne<Le;Ne++,me++)le[me]=K[Ne];return le}function dt(z){return this instanceof dt?(this.v=z,this):new dt(z)}function ot(z,te,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=Z.apply(z,te||[]),K=[];return me={},Ne("next"),Ne("throw"),Ne("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ne(tt){le[tt]&&(me[tt]=function(wt){return new Promise(function(bn,An){K.push([tt,wt,bn,An])>1||Le(tt,wt)})})}function Le(tt,wt){try{!function(tt){tt.value instanceof dt?Promise.resolve(tt.value.v).then(Pe,pt):Nt(K[0][2],tt)}(le[tt](wt))}catch(bn){Nt(K[0][3],bn)}}function Pe(tt){Le("next",tt)}function pt(tt){Le("throw",tt)}function Nt(tt,wt){tt(wt),K.shift(),K.length&&Le(K[0][0],K[0][1])}}function Ke(z){var te,Z;return te={},le("next"),le("throw",function(me){throw me}),le("return"),te[Symbol.iterator]=function(){return this},te;function le(me,K){te[me]=z[me]?function(Ne){return(Z=!Z)?{value:dt(z[me](Ne)),done:"return"===me}:K?K(Ne):Ne}:K}}function Je(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,te=z[Symbol.asyncIterator];return te?te.call(z):(z=we(z),Z={},le("next"),le("throw"),le("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function le(K){Z[K]=z[K]&&function(Ne){return new Promise(function(Le,Pt){!function(K,Ne,Le,Pt){Promise.resolve(Pt).then(function(Pe){K({value:Pe,done:Le})},Ne)}(Le,Pt,(Ne=z[K](Ne)).done,Ne.value)})}}}function Ft(z,te){return Object.defineProperty?Object.defineProperty(z,"raw",{value:te}):z.raw=te,z}function kt(z){if(z&&z.__esModule)return z;var te={};if(null!=z)for(var Z in z)Object.hasOwnProperty.call(z,Z)&&(te[Z]=z[Z]);return te.default=z,te}function Pn(z){return z&&z.__esModule?z:{default:z}}function Dn(z,te){if(!te.has(z))throw new TypeError("attempted to get private field on non-instance");return te.get(z)}function Lt(z,te,Z){if(!te.has(z))throw new TypeError("attempted to set private field on non-instance");return te.set(z,Z),Z}},5704:(zt,je,de)=>{"use strict";de.r(je),de.d(je,{__extends:()=>u,__assign:()=>ee,__rest:()=>Qe,__decorate:()=>xe,__param:()=>Be,__metadata:()=>Ae,__awaiter:()=>ke,__generator:()=>ue,__createBinding:()=>oe,__exportStar:()=>Te,__values:()=>we,__read:()=>Ce,__spread:()=>it,__spreadArrays:()=>_t,__await:()=>dt,__asyncGenerator:()=>ot,__asyncDelegator:()=>Ke,__asyncValues:()=>Je,__makeTemplateObject:()=>Ft,__importStar:()=>kt,__importDefault:()=>Pn,__classPrivateFieldGet:()=>Dn,__classPrivateFieldSet:()=>Lt});var I=function(z,te){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,le){Z.__proto__=le}||function(Z,le){for(var me in le)le.hasOwnProperty(me)&&(Z[me]=le[me])})(z,te)};function u(z,te){function Z(){this.constructor=z}I(z,te),z.prototype=null===te?Object.create(te):(Z.prototype=te.prototype,new Z)}var ee=function(){return(ee=Object.assign||function(te){for(var Z,le=1,me=arguments.length;le<me;le++)for(var K in Z=arguments[le])Object.prototype.hasOwnProperty.call(Z,K)&&(te[K]=Z[K]);return te}).apply(this,arguments)};function Qe(z,te){var Z={};for(var le in z)Object.prototype.hasOwnProperty.call(z,le)&&te.indexOf(le)<0&&(Z[le]=z[le]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(le=Object.getOwnPropertySymbols(z);me<le.length;me++)te.indexOf(le[me])<0&&Object.prototype.propertyIsEnumerable.call(z,le[me])&&(Z[le[me]]=z[le[me]])}return Z}function xe(z,te,Z,le){var Ne,me=arguments.length,K=me<3?te:null===le?le=Object.getOwnPropertyDescriptor(te,Z):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(z,te,Z,le);else for(var Le=z.length-1;Le>=0;Le--)(Ne=z[Le])&&(K=(me<3?Ne(K):me>3?Ne(te,Z,K):Ne(te,Z))||K);return me>3&&K&&Object.defineProperty(te,Z,K),K}function Be(z,te){return function(Z,le){te(Z,le,z)}}function Ae(z,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,te)}function ke(z,te,Z,le){return new(Z||(Z=Promise))(function(K,Ne){function Le(pt){try{Pe(le.next(pt))}catch(Nt){Ne(Nt)}}function Pt(pt){try{Pe(le.throw(pt))}catch(Nt){Ne(Nt)}}function Pe(pt){pt.done?K(pt.value):function(K){return K instanceof Z?K:new Z(function(Ne){Ne(K)})}(pt.value).then(Le,Pt)}Pe((le=le.apply(z,te||[])).next())})}function ue(z,te){var le,me,K,Ne,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return Ne={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Le(Pe){return function(pt){return function(Pe){if(le)throw new TypeError("Generator is already executing.");for(;Z;)try{if(le=1,me&&(K=2&Pe[0]?me.return:Pe[0]?me.throw||((K=me.return)&&K.call(me),0):me.next)&&!(K=K.call(me,Pe[1])).done)return K;switch(me=0,K&&(Pe=[2&Pe[0],K.value]),Pe[0]){case 0:case 1:K=Pe;break;case 4:return Z.label++,{value:Pe[1],done:!1};case 5:Z.label++,me=Pe[1],Pe=[0];continue;case 7:Pe=Z.ops.pop(),Z.trys.pop();continue;default:if(!(K=(K=Z.trys).length>0&&K[K.length-1])&&(6===Pe[0]||2===Pe[0])){Z=0;continue}if(3===Pe[0]&&(!K||Pe[1]>K[0]&&Pe[1]<K[3])){Z.label=Pe[1];break}if(6===Pe[0]&&Z.label<K[1]){Z.label=K[1],K=Pe;break}if(K&&Z.label<K[2]){Z.label=K[2],Z.ops.push(Pe);break}K[2]&&Z.ops.pop(),Z.trys.pop();continue}Pe=te.call(z,Z)}catch(pt){Pe=[6,pt],me=0}finally{le=K=0}if(5&Pe[0])throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}([Pe,pt])}}}function oe(z,te,Z,le){void 0===le&&(le=Z),z[le]=te[Z]}function Te(z,te){for(var Z in z)"default"!==Z&&!te.hasOwnProperty(Z)&&(te[Z]=z[Z])}function we(z){var te="function"==typeof Symbol&&Symbol.iterator,Z=te&&z[te],le=0;if(Z)return Z.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&le>=z.length&&(z=void 0),{value:z&&z[le++],done:!z}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(z,te){var Z="function"==typeof Symbol&&z[Symbol.iterator];if(!Z)return z;var me,Ne,le=Z.call(z),K=[];try{for(;(void 0===te||te-- >0)&&!(me=le.next()).done;)K.push(me.value)}catch(Le){Ne={error:Le}}finally{try{me&&!me.done&&(Z=le.return)&&Z.call(le)}finally{if(Ne)throw Ne.error}}return K}function it(){for(var z=[],te=0;te<arguments.length;te++)z=z.concat(Ce(arguments[te]));return z}function _t(){for(var z=0,te=0,Z=arguments.length;te<Z;te++)z+=arguments[te].length;var le=Array(z),me=0;for(te=0;te<Z;te++)for(var K=arguments[te],Ne=0,Le=K.length;Ne<Le;Ne++,me++)le[me]=K[Ne];return le}function dt(z){return this instanceof dt?(this.v=z,this):new dt(z)}function ot(z,te,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=Z.apply(z,te||[]),K=[];return me={},Ne("next"),Ne("throw"),Ne("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ne(tt){le[tt]&&(me[tt]=function(wt){return new Promise(function(bn,An){K.push([tt,wt,bn,An])>1||Le(tt,wt)})})}function Le(tt,wt){try{!function(tt){tt.value instanceof dt?Promise.resolve(tt.value.v).then(Pe,pt):Nt(K[0][2],tt)}(le[tt](wt))}catch(bn){Nt(K[0][3],bn)}}function Pe(tt){Le("next",tt)}function pt(tt){Le("throw",tt)}function Nt(tt,wt){tt(wt),K.shift(),K.length&&Le(K[0][0],K[0][1])}}function Ke(z){var te,Z;return te={},le("next"),le("throw",function(me){throw me}),le("return"),te[Symbol.iterator]=function(){return this},te;function le(me,K){te[me]=z[me]?function(Ne){return(Z=!Z)?{value:dt(z[me](Ne)),done:"return"===me}:K?K(Ne):Ne}:K}}function Je(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,te=z[Symbol.asyncIterator];return te?te.call(z):(z=we(z),Z={},le("next"),le("throw"),le("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function le(K){Z[K]=z[K]&&function(Ne){return new Promise(function(Le,Pt){!function(K,Ne,Le,Pt){Promise.resolve(Pt).then(function(Pe){K({value:Pe,done:Le})},Ne)}(Le,Pt,(Ne=z[K](Ne)).done,Ne.value)})}}}function Ft(z,te){return Object.defineProperty?Object.defineProperty(z,"raw",{value:te}):z.raw=te,z}function kt(z){if(z&&z.__esModule)return z;var te={};if(null!=z)for(var Z in z)Object.hasOwnProperty.call(z,Z)&&(te[Z]=z[Z]);return te.default=z,te}function Pn(z){return z&&z.__esModule?z:{default:z}}function Dn(z,te){if(!te.has(z))throw new TypeError("attempted to get private field on non-instance");return te.get(z)}function Lt(z,te,Z){if(!te.has(z))throw new TypeError("attempted to set private field on non-instance");return te.set(z,Z),Z}},5057:(zt,je,de)=>{"use strict";de.r(je),de.d(je,{__extends:()=>u,__assign:()=>ee,__rest:()=>Qe,__decorate:()=>xe,__param:()=>Be,__metadata:()=>Ae,__awaiter:()=>ke,__generator:()=>ue,__createBinding:()=>oe,__exportStar:()=>Te,__values:()=>we,__read:()=>Ce,__spread:()=>it,__spreadArrays:()=>_t,__await:()=>dt,__asyncGenerator:()=>ot,__asyncDelegator:()=>Ke,__asyncValues:()=>Je,__makeTemplateObject:()=>Ft,__importStar:()=>kt,__importDefault:()=>Pn,__classPrivateFieldGet:()=>Dn,__classPrivateFieldSet:()=>Lt});var I=function(z,te){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,le){Z.__proto__=le}||function(Z,le){for(var me in le)le.hasOwnProperty(me)&&(Z[me]=le[me])})(z,te)};function u(z,te){function Z(){this.constructor=z}I(z,te),z.prototype=null===te?Object.create(te):(Z.prototype=te.prototype,new Z)}var ee=function(){return(ee=Object.assign||function(te){for(var Z,le=1,me=arguments.length;le<me;le++)for(var K in Z=arguments[le])Object.prototype.hasOwnProperty.call(Z,K)&&(te[K]=Z[K]);return te}).apply(this,arguments)};function Qe(z,te){var Z={};for(var le in z)Object.prototype.hasOwnProperty.call(z,le)&&te.indexOf(le)<0&&(Z[le]=z[le]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(le=Object.getOwnPropertySymbols(z);me<le.length;me++)te.indexOf(le[me])<0&&Object.prototype.propertyIsEnumerable.call(z,le[me])&&(Z[le[me]]=z[le[me]])}return Z}function xe(z,te,Z,le){var Ne,me=arguments.length,K=me<3?te:null===le?le=Object.getOwnPropertyDescriptor(te,Z):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(z,te,Z,le);else for(var Le=z.length-1;Le>=0;Le--)(Ne=z[Le])&&(K=(me<3?Ne(K):me>3?Ne(te,Z,K):Ne(te,Z))||K);return me>3&&K&&Object.defineProperty(te,Z,K),K}function Be(z,te){return function(Z,le){te(Z,le,z)}}function Ae(z,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,te)}function ke(z,te,Z,le){return new(Z||(Z=Promise))(function(K,Ne){function Le(pt){try{Pe(le.next(pt))}catch(Nt){Ne(Nt)}}function Pt(pt){try{Pe(le.throw(pt))}catch(Nt){Ne(Nt)}}function Pe(pt){pt.done?K(pt.value):function(K){return K instanceof Z?K:new Z(function(Ne){Ne(K)})}(pt.value).then(Le,Pt)}Pe((le=le.apply(z,te||[])).next())})}function ue(z,te){var le,me,K,Ne,Z={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return Ne={next:Le(0),throw:Le(1),return:Le(2)},"function"==typeof Symbol&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Le(Pe){return function(pt){return function(Pe){if(le)throw new TypeError("Generator is already executing.");for(;Z;)try{if(le=1,me&&(K=2&Pe[0]?me.return:Pe[0]?me.throw||((K=me.return)&&K.call(me),0):me.next)&&!(K=K.call(me,Pe[1])).done)return K;switch(me=0,K&&(Pe=[2&Pe[0],K.value]),Pe[0]){case 0:case 1:K=Pe;break;case 4:return Z.label++,{value:Pe[1],done:!1};case 5:Z.label++,me=Pe[1],Pe=[0];continue;case 7:Pe=Z.ops.pop(),Z.trys.pop();continue;default:if(!(K=(K=Z.trys).length>0&&K[K.length-1])&&(6===Pe[0]||2===Pe[0])){Z=0;continue}if(3===Pe[0]&&(!K||Pe[1]>K[0]&&Pe[1]<K[3])){Z.label=Pe[1];break}if(6===Pe[0]&&Z.label<K[1]){Z.label=K[1],K=Pe;break}if(K&&Z.label<K[2]){Z.label=K[2],Z.ops.push(Pe);break}K[2]&&Z.ops.pop(),Z.trys.pop();continue}Pe=te.call(z,Z)}catch(pt){Pe=[6,pt],me=0}finally{le=K=0}if(5&Pe[0])throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}([Pe,pt])}}}function oe(z,te,Z,le){void 0===le&&(le=Z),z[le]=te[Z]}function Te(z,te){for(var Z in z)"default"!==Z&&!te.hasOwnProperty(Z)&&(te[Z]=z[Z])}function we(z){var te="function"==typeof Symbol&&Symbol.iterator,Z=te&&z[te],le=0;if(Z)return Z.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&le>=z.length&&(z=void 0),{value:z&&z[le++],done:!z}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(z,te){var Z="function"==typeof Symbol&&z[Symbol.iterator];if(!Z)return z;var me,Ne,le=Z.call(z),K=[];try{for(;(void 0===te||te-- >0)&&!(me=le.next()).done;)K.push(me.value)}catch(Le){Ne={error:Le}}finally{try{me&&!me.done&&(Z=le.return)&&Z.call(le)}finally{if(Ne)throw Ne.error}}return K}function it(){for(var z=[],te=0;te<arguments.length;te++)z=z.concat(Ce(arguments[te]));return z}function _t(){for(var z=0,te=0,Z=arguments.length;te<Z;te++)z+=arguments[te].length;var le=Array(z),me=0;for(te=0;te<Z;te++)for(var K=arguments[te],Ne=0,Le=K.length;Ne<Le;Ne++,me++)le[me]=K[Ne];return le}function dt(z){return this instanceof dt?(this.v=z,this):new dt(z)}function ot(z,te,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=Z.apply(z,te||[]),K=[];return me={},Ne("next"),Ne("throw"),Ne("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ne(tt){le[tt]&&(me[tt]=function(wt){return new Promise(function(bn,An){K.push([tt,wt,bn,An])>1||Le(tt,wt)})})}function Le(tt,wt){try{!function(tt){tt.value instanceof dt?Promise.resolve(tt.value.v).then(Pe,pt):Nt(K[0][2],tt)}(le[tt](wt))}catch(bn){Nt(K[0][3],bn)}}function Pe(tt){Le("next",tt)}function pt(tt){Le("throw",tt)}function Nt(tt,wt){tt(wt),K.shift(),K.length&&Le(K[0][0],K[0][1])}}function Ke(z){var te,Z;return te={},le("next"),le("throw",function(me){throw me}),le("return"),te[Symbol.iterator]=function(){return this},te;function le(me,K){te[me]=z[me]?function(Ne){return(Z=!Z)?{value:dt(z[me](Ne)),done:"return"===me}:K?K(Ne):Ne}:K}}function Je(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,te=z[Symbol.asyncIterator];return te?te.call(z):(z=we(z),Z={},le("next"),le("throw"),le("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function le(K){Z[K]=z[K]&&function(Ne){return new Promise(function(Le,Pt){!function(K,Ne,Le,Pt){Promise.resolve(Pt).then(function(Pe){K({value:Pe,done:Le})},Ne)}(Le,Pt,(Ne=z[K](Ne)).done,Ne.value)})}}}function Ft(z,te){return Object.defineProperty?Object.defineProperty(z,"raw",{value:te}):z.raw=te,z}function kt(z){if(z&&z.__esModule)return z;var te={};if(null!=z)for(var Z in z)Object.hasOwnProperty.call(z,Z)&&(te[Z]=z[Z]);return te.default=z,te}function Pn(z){return z&&z.__esModule?z:{default:z}}function Dn(z,te){if(!te.has(z))throw new TypeError("attempted to get private field on non-instance");return te.get(z)}function Lt(z,te,Z){if(!te.has(z))throw new TypeError("attempted to set private field on non-instance");return te.set(z,Z),Z}}},zt=>{zt(zt.s=6334)}]);