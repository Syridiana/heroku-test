(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{255:Lr=>{function be(nt){return Promise.resolve().then(()=>{var k=new Error("Cannot find module '"+nt+"'");throw k.code="MODULE_NOT_FOUND",k})}be.keys=()=>[],be.resolve=be,be.id=255,Lr.exports=be},279:(Lr,be,nt)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var fe,lt,k=nt(796),yt=nt(704),$e=nt(100),Re=nt(300),qt=((fe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",fe["bad-app-name"]="Illegal App name: '{$appName}",fe["duplicate-app"]="Firebase App named '{$appName}' already exists",fe["app-deleted"]="Firebase App named '{$appName}' already deleted",fe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",fe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",fe),Ne=new yt.ErrorFactory("app","Firebase",qt),Sn="@firebase/app",Ke="[DEFAULT]",bn=((lt={})[Sn]="fire-core",lt["@firebase/analytics"]="fire-analytics",lt["@firebase/auth"]="fire-auth",lt["@firebase/database"]="fire-rtdb",lt["@firebase/functions"]="fire-fn",lt["@firebase/installations"]="fire-iid",lt["@firebase/messaging"]="fire-fcm",lt["@firebase/performance"]="fire-perf",lt["@firebase/remote-config"]="fire-rc",lt["@firebase/storage"]="fire-gcs",lt["@firebase/firestore"]="fire-fst",lt["fire-js"]="fire-js",lt["firebase-wrapper"]="fire-js-all",lt),st=new Re.Logger("@firebase/app"),T=function(){function Pe(ue,Ue,Dt){var Xt,Qr,En=this;this.firebase_=Dt,this.isDeleted_=!1,this.name_=Ue.name,this.automaticDataCollectionEnabled_=Ue.automaticDataCollectionEnabled||!1,this.options_=yt.deepCopy(ue),this.container=new $e.ComponentContainer(Ue.name),this._addComponent(new $e.Component("app",function(){return En},"PUBLIC"));try{for(var Pn=k.__values(this.firebase_.INTERNAL.components.values()),fr=Pn.next();!fr.done;fr=Pn.next())this._addComponent(fr.value)}catch(hr){Xt={error:hr}}finally{try{fr&&!fr.done&&(Qr=Pn.return)&&Qr.call(Pn)}finally{if(Xt)throw Xt.error}}}return Object.defineProperty(Pe.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(ue){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=ue},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Pe.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Pe.prototype.delete=function(){var ue=this;return new Promise(function(Ue){ue.checkDestroyed_(),Ue()}).then(function(){return ue.firebase_.INTERNAL.removeApp(ue.name_),Promise.all(ue.container.getProviders().map(function(Ue){return Ue.delete()}))}).then(function(){ue.isDeleted_=!0})},Pe.prototype._getService=function(ue,Ue){return void 0===Ue&&(Ue=Ke),this.checkDestroyed_(),this.container.getProvider(ue).getImmediate({identifier:Ue})},Pe.prototype._removeServiceInstance=function(ue,Ue){void 0===Ue&&(Ue=Ke),this.container.getProvider(ue).clearInstance(Ue)},Pe.prototype._addComponent=function(ue){try{this.container.addComponent(ue)}catch(Ue){st.debug("Component "+ue.name+" failed to register with FirebaseApp "+this.name,Ue)}},Pe.prototype._addOrOverwriteComponent=function(ue){this.container.addOrOverwriteComponent(ue)},Pe.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ne.create("app-deleted",{appName:this.name_})},Pe}();T.prototype.name&&T.prototype.options||T.prototype.delete||console.log("dc");var L=function V(){var Pe=function(Pe){var ue={},Ue=new Map,Dt={__esModule:!0,initializeApp:function(Et,Ve){void 0===Ve&&(Ve={}),("object"!=typeof Ve||null===Ve)&&(Ve={name:Ve});var Ze=Ve;void 0===Ze.name&&(Ze.name=Ke);var _t=Ze.name;if("string"!=typeof _t||!_t)throw Ne.create("bad-app-name",{appName:String(_t)});if(yt.contains(ue,_t))throw Ne.create("duplicate-app",{appName:_t});var zn=new Pe(Et,Ze,Dt);return ue[_t]=zn,zn},app:Qr,registerVersion:function(Et,Ve,mn){var Ze,_t=null!==(Ze=bn[Et])&&void 0!==Ze?Ze:Et;mn&&(_t+="-"+mn);var zn=_t.match(/\s|\//),Bn=Ve.match(/\s|\//);if(zn||Bn){var fi=['Unable to register library "'+_t+'" with version "'+Ve+'":'];return zn&&fi.push('library name "'+_t+'" contains illegal characters (whitespace or "/")'),zn&&Bn&&fi.push("and"),Bn&&fi.push('version name "'+Ve+'" contains illegal characters (whitespace or "/")'),void st.warn(fi.join(" "))}fr(new $e.Component(_t+"-version",function(){return{library:_t,version:Ve}},"VERSION"))},setLogLevel:Re.setLogLevel,onLog:function(Et,Ve){if(null!==Et&&"function"!=typeof Et)throw Ne.create("invalid-log-argument",{appName:name});Re.setUserLogHandler(Et,Ve)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:fr,removeApp:function(Et){delete ue[Et]},components:Ue,useAsService:function(Et,Ve){return"serverAuth"===Ve?null:Ve}}};function Qr(Et){if(!yt.contains(ue,Et=Et||Ke))throw Ne.create("no-app",{appName:Et});return ue[Et]}function fr(Et){var Ve,mn,Ze=Et.name;if(Ue.has(Ze))return st.debug("There were multiple attempts to register component "+Ze+"."),"PUBLIC"===Et.type?Dt[Ze]:null;if(Ue.set(Ze,Et),"PUBLIC"===Et.type){var _t=function(Hn){if(void 0===Hn&&(Hn=Qr()),"function"!=typeof Hn[Ze])throw Ne.create("invalid-app-argument",{appName:Ze});return Hn[Ze]()};void 0!==Et.serviceProps&&yt.deepExtend(_t,Et.serviceProps),Dt[Ze]=_t,Pe.prototype[Ze]=function(){for(var Hn=[],Jt=0;Jt<arguments.length;Jt++)Hn[Jt]=arguments[Jt];return this._getService.bind(this,Ze).apply(this,Et.multipleInstances?Hn:[])}}try{for(var zn=k.__values(Object.keys(ue)),Bn=zn.next();!Bn.done;Bn=zn.next())ue[Bn.value]._addComponent(Et)}catch(Hn){Ve={error:Hn}}finally{try{Bn&&!Bn.done&&(mn=zn.return)&&mn.call(zn)}finally{if(Ve)throw Ve.error}}return"PUBLIC"===Et.type?Dt[Ze]:null}return Dt.default=Dt,Object.defineProperty(Dt,"apps",{get:function(){return Object.keys(ue).map(function(Et){return ue[Et]})}}),Qr.App=Pe,Dt}(T);return Pe.INTERNAL=k.__assign(k.__assign({},Pe.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function(Ue){yt.deepExtend(Pe,Ue)},createSubscribe:yt.createSubscribe,ErrorFactory:yt.ErrorFactory,deepExtend:yt.deepExtend}),Pe}(),O=function(){function Pe(ue){this.container=ue}return Pe.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Ue){if(function(Pe){var ue=Pe.getComponent();return"VERSION"===(null==ue?void 0:ue.type)}(Ue)){var Dt=Ue.getImmediate();return Dt.library+"/"+Dt.version}return null}).filter(function(Ue){return Ue}).join(" ")},Pe}();if(yt.isBrowser()&&void 0!==self.firebase){st.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&st.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var X=L.initializeApp;L.initializeApp=function(){for(var Pe=[],ue=0;ue<arguments.length;ue++)Pe[ue]=arguments[ue];return yt.isNode()&&st.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),X.apply(void 0,Pe)};var Pe,Te=L;(Pe=Te).INTERNAL.registerComponent(new $e.Component("platform-logger",function(Ue){return new O(Ue)},"PRIVATE")),Pe.registerVersion(Sn,"0.6.11",undefined),Pe.registerVersion("fire-js",""),be.default=Te,be.firebase=Te},100:(Lr,be,nt)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var k=nt(385),yt=nt(704),$e=function(){function $(H,ke,Ee){this.name=H,this.instanceFactory=ke,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return $.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},$.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},$.prototype.setServiceProps=function(H){return this.serviceProps=H,this},$}(),Re="[DEFAULT]",fe=function(){function $(H,ke){this.name=H,this.container=ke,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return $.prototype.get=function(H){void 0===H&&(H=Re);var ke=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(ke)){var Ee=new yt.Deferred;this.instancesDeferred.set(ke,Ee);try{var Z=this.getOrInitializeService(ke);Z&&Ee.resolve(Z)}catch(pe){}}return this.instancesDeferred.get(ke).promise},$.prototype.getImmediate=function(H){var ke=k.__assign({identifier:Re,optional:!1},H),Z=ke.optional,pe=this.normalizeInstanceIdentifier(ke.identifier);try{var St=this.getOrInitializeService(pe);if(!St){if(Z)return null;throw Error("Service "+this.name+" is not available")}return St}catch(ct){if(Z)return null;throw ct}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(H){var ke,Ee;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,function($){return"EAGER"===$.instantiationMode}(H))try{this.getOrInitializeService(Re)}catch(At){}try{for(var Z=k.__values(this.instancesDeferred.entries()),pe=Z.next();!pe.done;pe=Z.next()){var St=k.__read(pe.value,2),me=St[1],Ce=this.normalizeInstanceIdentifier(St[0]);try{var de=this.getOrInitializeService(Ce);me.resolve(de)}catch(At){}}}catch(At){ke={error:At}}finally{try{pe&&!pe.done&&(Ee=Z.return)&&Ee.call(Z)}finally{if(ke)throw ke.error}}},$.prototype.clearInstance=function(H){void 0===H&&(H=Re),this.instancesDeferred.delete(H),this.instances.delete(H)},$.prototype.delete=function(){return k.__awaiter(this,void 0,void 0,function(){var H;return k.__generator(this,function(ke){switch(ke.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all(k.__spread(H.filter(function(Ee){return"INTERNAL"in Ee}).map(function(Ee){return Ee.INTERNAL.delete()}),H.filter(function(Ee){return"_delete"in Ee}).map(function(Ee){return Ee._delete()})))];case 1:return ke.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.getOrInitializeService=function(H){var ke=this.instances.get(H);return!ke&&this.component&&(ke=this.component.instanceFactory(this.container,function($){return $===Re?void 0:$}(H)),this.instances.set(H,ke)),ke||null},$.prototype.normalizeInstanceIdentifier=function(H){return this.component?this.component.multipleInstances?H:Re:H},$}(),Sn=function(){function $(H){this.name=H,this.providers=new Map}return $.prototype.addComponent=function(H){var ke=this.getProvider(H.name);if(ke.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);ke.setComponent(H)},$.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},$.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var ke=new fe(H,this);return this.providers.set(H,ke),ke},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}();be.Component=$e,be.ComponentContainer=Sn,be.Provider=fe},910:(Lr,be,nt)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var u,k=nt(812),yt=nt(279),$e=nt(300),Re=nt(704),fe=nt(870),qt=nt(100),Sn=(u=yt)&&"object"==typeof u&&"default"in u?u:{default:u},$={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=function(u){function o(a,l){var h=this;return(h=u.call(this,l)||this).code=a,h.message=l,h.name="FirebaseError",h.toString=function(){return h.name+": [code="+h.code+"]: "+h.message},h}return k.__extends(o,u),o}(Error),ke=new $e.Logger("@firebase/firestore");function Ee(){return ke.logLevel}function Z(u){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(ke.logLevel<=$e.LogLevel.DEBUG){var l=o.map(ct);ke.debug.apply(ke,k.__spreadArrays(["Firestore (7.24.0): "+u],l))}}function pe(u){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(ke.logLevel<=$e.LogLevel.ERROR){var l=o.map(ct);ke.error.apply(ke,k.__spreadArrays(["Firestore (7.24.0): "+u],l))}}function St(u){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(ke.logLevel<=$e.LogLevel.WARN){var l=o.map(ct);ke.warn.apply(ke,k.__spreadArrays(["Firestore (7.24.0): "+u],l))}}function ct(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function me(u){void 0===u&&(u="Unexpected state");var o="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+u;throw pe(o),new Error(o)}function Ce(u,o){u||me()}function de(u,o){return u}function At(u){var o=0;for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&o++;return o}function lt(u,o){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&o(a,u[a])}function Ke(u){for(var o in u)if(Object.prototype.hasOwnProperty.call(u,o))return!1;return!0}var bn=function(){function u(o,a,l){void 0===a?a=0:a>o.length&&me(),void 0===l?l=o.length-a:l>o.length-a&&me(),this.segments=o,this.offset=a,this.t=l}return Object.defineProperty(u.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(o){return 0===u.i(this,o)},u.prototype.child=function(o){var a=this.segments.slice(this.offset,this.limit());return o instanceof u?o.forEach(function(l){a.push(l)}):a.push(o),this.o(a)},u.prototype.limit=function(){return this.offset+this.length},u.prototype.u=function(o){return this.o(this.segments,this.offset+(o=void 0===o?1:o),this.length-o)},u.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},u.prototype.l=function(){return this.segments[this.offset]},u.prototype._=function(){return this.get(this.length-1)},u.prototype.get=function(o){return this.segments[this.offset+o]},u.prototype.m=function(){return 0===this.length},u.prototype.T=function(o){if(o.length<this.length)return!1;for(var a=0;a<this.length;a++)if(this.get(a)!==o.get(a))return!1;return!0},u.prototype.I=function(o){if(this.length+1!==o.length)return!1;for(var a=0;a<this.length;a++)if(this.get(a)!==o.get(a))return!1;return!0},u.prototype.forEach=function(o){for(var a=this.offset,l=this.limit();a<l;a++)o(this.segments[a])},u.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},u.i=function(o,a){for(var l=Math.min(o.length,a.length),h=0;h<l;h++){var g=o.get(h),y=a.get(h);if(g<y)return-1;if(g>y)return 1}return o.length<a.length?-1:o.length>a.length?1:0},u}(),st=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.o=function(a,l,h){return new o(a,l,h)},o.prototype.R=function(){return this.A().join("/")},o.prototype.toString=function(){return this.R()},o.g=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];for(var h=[],g=0,y=a;g<y.length;g++){var v=y[g];if(v.indexOf("//")>=0)throw new H($.INVALID_ARGUMENT,"Invalid segment ("+v+"). Paths must not contain // in them.");h.push.apply(h,v.split("/").filter(function(C){return C.length>0}))}return new o(h)},o.P=function(){return new o([])},o}(bn),T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,R=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.o=function(a,l,h){return new o(a,l,h)},o.V=function(a){return T.test(a)},o.prototype.R=function(){return this.A().map(function(a){return a=a.replace("\\","\\\\").replace("`","\\`"),o.V(a)||(a="`"+a+"`"),a}).join(".")},o.prototype.toString=function(){return this.R()},o.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},o.v=function(){return new o(["__name__"])},o.S=function(a){for(var l=[],h="",g=0,y=function(){if(0===h.length)throw new H($.INVALID_ARGUMENT,"Invalid field path ("+a+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");l.push(h),h=""},v=!1;g<a.length;){var C=a[g];if("\\"===C){if(g+1===a.length)throw new H($.INVALID_ARGUMENT,"Path has trailing escape character: "+a);var A=a[g+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new H($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+a);h+=A,g+=2}else"`"===C?(v=!v,g++):"."!==C||v?(h+=C,g++):(y(),g++)}if(y(),v)throw new H($.INVALID_ARGUMENT,"Unterminated ` in path: "+a);return new o(l)},o.P=function(){return new o([])},o}(bn),S=function(){function u(o){this.path=o}return u.D=function(o){return new u(st.g(o))},u.C=function(o){return new u(st.g(o).u(5))},u.prototype.N=function(o){return this.path.length>=2&&this.path.get(this.path.length-2)===o},u.prototype.isEqual=function(o){return null!==o&&0===st.i(this.path,o.path)},u.prototype.toString=function(){return this.path.toString()},u.i=function(o,a){return st.i(o.path,a.path)},u.F=function(o){return o.length%2==0},u.$=function(o){return new u(new st(o.slice()))},u}();function V(u,o){if(0!==o.length)throw new H($.INVALID_ARGUMENT,"Function "+u+"() does not support arguments, but was called with "+hr(o.length,"argument")+".")}function L(u,o,a){if(o.length!==a)throw new H($.INVALID_ARGUMENT,"Function "+u+"() requires "+hr(a,"argument")+", but was called with "+hr(o.length,"argument")+".")}function O(u,o,a){if(o.length<a)throw new H($.INVALID_ARGUMENT,"Function "+u+"() requires at least "+hr(a,"argument")+", but was called with "+hr(o.length,"argument")+".")}function G(u,o,a,l){if(o.length<a||o.length>l)throw new H($.INVALID_ARGUMENT,"Function "+u+"() requires between "+a+" and "+l+" arguments, but was called with "+hr(o.length,"argument")+".")}function se(u,o,a,l){Ue(u,o,Kr(a)+" argument",l)}function ze(u,o,a,l){void 0!==l&&se(u,o,a,l)}function X(u,o,a,l){Ue(u,o,a+" option",l)}function Te(u,o,a,l){void 0!==l&&X(u,o,a,l)}function Pe(u,o,a,l,h){void 0!==l&&function(g,y,v,C,A){for(var P=[],U=0,j=A;U<j.length;U++){var Q=j[U];if(Q===C)return;P.push(Xt(Q))}var te=Xt(C);throw new H($.INVALID_ARGUMENT,"Invalid value "+te+" provided to function "+g+'() for option "'+v+'". Acceptable values: '+P.join(", "))}(u,0,a,l,h)}function ue(u,o,a,l){if(!o.some(function(h){return h===l}))throw new H($.INVALID_ARGUMENT,"Invalid value "+Xt(l)+" provided to function "+u+"() for its "+Kr(a)+" argument. Acceptable values: "+o.join(", "));return l}function Ue(u,o,a,l){if(!("object"===o?Dt(l):"non-empty string"===o?"string"==typeof l&&""!==l:typeof l===o)){var h=Xt(l);throw new H($.INVALID_ARGUMENT,"Function "+u+"() requires its "+a+" to be of type "+o+", but it was: "+h)}}function Dt(u){return"object"==typeof u&&null!==u&&(Object.getPrototypeOf(u)===Object.prototype||null===Object.getPrototypeOf(u))}function Xt(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=u.substring(0,20)+"..."),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";var o=function(a){if(a.constructor){var l=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(l&&l.length>1)return l[1]}return null}(u);return o?"a custom "+o+" object":"an object"}return"function"==typeof u?"a function":me()}function Qr(u,o,a){if(void 0===a)throw new H($.INVALID_ARGUMENT,"Function "+u+"() requires a valid "+Kr(o)+" argument, but it was undefined.")}function En(u,o,a){lt(o,function(l,h){if(a.indexOf(l)<0)throw new H($.INVALID_ARGUMENT,"Unknown option '"+l+"' passed to function "+u+"(). Available options: "+a.join(", "))})}function Pn(u,o,a,l){var h=Xt(l);return new H($.INVALID_ARGUMENT,"Function "+u+"() requires its "+Kr(a)+" argument to be a "+o+", but it was: "+h)}function fr(u,o,a){if(a<=0)throw new H($.INVALID_ARGUMENT,"Function "+u+"() requires its "+Kr(o)+" argument to be a positive number, but it was: "+a+".")}function Kr(u){switch(u){case 1:return"first";case 2:return"second";case 3:return"third";default:return u+"th"}}function hr(u,o){return u+" "+o+(1===u?"":"s")}function Is(u){var o="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(o&&"function"==typeof o.getRandomValues)o.getRandomValues(a);else for(var l=0;l<u;l++)a[l]=Math.floor(256*Math.random());return a}var Et=function(){function u(){}return u.k=function(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/o.length)*o.length,l="";l.length<20;)for(var h=Is(40),g=0;g<h.length;++g)l.length<20&&h[g]<a&&(l+=o.charAt(h[g]%o.length));return l},u}();function Ve(u,o){return u<o?-1:u>o?1:0}function mn(u,o,a){return u.length===o.length&&u.every(function(l,h){return a(l,o[h])})}function Ze(u){return u+"\0"}var _t=function(){function u(o){this.M=o}return u.fromBase64String=function(o){return new u(atob(o))},u.fromUint8Array=function(o){return new u(function(a){for(var l="",h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(o))},u.prototype.toBase64=function(){return btoa(this.M)},u.prototype.toUint8Array=function(){return function(o){for(var a=new Uint8Array(o.length),l=0;l<o.length;l++)a[l]=o.charCodeAt(l);return a}(this.M)},u.prototype.O=function(){return 2*this.M.length},u.prototype.L=function(o){return Ve(this.M,o.M)},u.prototype.isEqual=function(o){return this.M===o.M},u}();_t.B=new _t("");var zn=function(){function u(o){this.q=o}return u.fromBase64String=function(o){try{return new u(_t.fromBase64String(o))}catch(a){throw new H($.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+a)}},u.fromUint8Array=function(o){return new u(_t.fromUint8Array(o))},u.prototype.toBase64=function(){return this.q.toBase64()},u.prototype.toUint8Array=function(){return this.q.toUint8Array()},u.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},u.prototype.isEqual=function(o){return this.q.isEqual(o.q)},u}();function Bn(){if("undefined"==typeof Uint8Array)throw new H($.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fi(){if("undefined"==typeof atob)throw new H($.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hn=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.fromBase64String=function(a){L("Blob.fromBase64String",arguments,1),se("Blob.fromBase64String","string",1,a),fi();try{return new o(_t.fromBase64String(a))}catch(l){throw new H($.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+l)}},o.fromUint8Array=function(a){if(L("Blob.fromUint8Array",arguments,1),Bn(),!(a instanceof Uint8Array))throw Pn("Blob.fromUint8Array","Uint8Array",1,a);return new o(_t.fromUint8Array(a))},o.prototype.toBase64=function(){return L("Blob.toBase64",arguments,0),fi(),u.prototype.toBase64.call(this)},o.prototype.toUint8Array=function(){return L("Blob.toUint8Array",arguments,0),Bn(),u.prototype.toUint8Array.call(this)},o.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},o}(zn),Jt=function(u,o,a,l,h,g){this.U=u,this.persistenceKey=o,this.host=a,this.ssl=l,this.forceLongPolling=h,this.W=g},Yo=function(){function u(o,a){this.projectId=o,this.database=a||"(default)"}return Object.defineProperty(u.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(o){return o instanceof u&&o.projectId===this.projectId&&o.database===this.database},u.prototype.L=function(o){return Ve(this.projectId,o.projectId)||Ve(this.database,o.database)},u}(),uo=function(){function u(o,a){this.K=o,this.G=a,this.H={}}return u.prototype.get=function(o){var a=this.K(o),l=this.H[a];if(void 0!==l)for(var h=0,g=l;h<g.length;h++){var y=g[h],C=y[1];if(this.G(y[0],o))return C}},u.prototype.has=function(o){return void 0!==this.get(o)},u.prototype.set=function(o,a){var l=this.K(o),h=this.H[l];if(void 0!==h){for(var g=0;g<h.length;g++)if(this.G(h[g][0],o))return void(h[g]=[o,a]);h.push([o,a])}else this.H[l]=[[o,a]]},u.prototype.delete=function(o){var a=this.K(o),l=this.H[a];if(void 0===l)return!1;for(var h=0;h<l.length;h++)if(this.G(l[h][0],o))return 1===l.length?delete this.H[a]:l.splice(h,1),!0;return!1},u.prototype.forEach=function(o){lt(this.H,function(a,l){for(var h=0,g=l;h<g.length;h++){var y=g[h];o(y[0],y[1])}})},u.prototype.m=function(){return Ke(this.H)},u}(),Lt=function(){function u(o,a){if(this.seconds=o,this.nanoseconds=a,a<0)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(o<-62135596800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o);if(o>=253402300800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o)}return u.now=function(){return u.fromMillis(Date.now())},u.fromDate=function(o){return u.fromMillis(o.getTime())},u.fromMillis=function(o){var a=Math.floor(o/1e3);return new u(a,1e6*(o-1e3*a))},u.prototype.toDate=function(){return new Date(this.toMillis())},u.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},u.prototype.Y=function(o){return this.seconds===o.seconds?Ve(this.nanoseconds,o.nanoseconds):Ve(this.seconds,o.seconds)},u.prototype.isEqual=function(o){return o.seconds===this.seconds&&o.nanoseconds===this.nanoseconds},u.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},u.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},u.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},u}(),et=function(){function u(o){this.timestamp=o}return u.J=function(o){return new u(o)},u.min=function(){return new u(new Lt(0,0))},u.prototype.L=function(o){return this.timestamp.Y(o.timestamp)},u.prototype.isEqual=function(o){return this.timestamp.isEqual(o.timestamp)},u.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},u.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},u.prototype.Z=function(){return this.timestamp},u}();function hi(u){return null==u}function K(u){return 0===u&&1/u==-1/0}function W(u){return"number"==typeof u&&Number.isInteger(u)&&!K(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}var J=function(u,o,a,l,h,g,y){void 0===o&&(o=null),void 0===a&&(a=[]),void 0===l&&(l=[]),void 0===h&&(h=null),void 0===g&&(g=null),void 0===y&&(y=null),this.path=u,this.collectionGroup=o,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=g,this.endAt=y,this.tt=null};function ne(u,o,a,l,h,g,y){return void 0===o&&(o=null),void 0===a&&(a=[]),void 0===l&&(l=[]),void 0===h&&(h=null),void 0===g&&(g=null),void 0===y&&(y=null),new J(u,o,a,l,h,g,y)}function Y(u){var o=de(u);if(null===o.tt){var a=o.path.R();null!==o.collectionGroup&&(a+="|cg:"+o.collectionGroup),a+="|f:",a+=o.filters.map(function(l){return(h=l).field.R()+h.op.toString()+tt(h.value);var h}).join(","),a+="|ob:",a+=o.orderBy.map(function(l){return(h=l).field.R()+h.dir;var h}).join(","),hi(o.limit)||(a+="|l:",a+=o.limit),o.startAt&&(a+="|lb:",a+=Ki(o.startAt)),o.endAt&&(a+="|ub:",a+=Ki(o.endAt)),o.tt=a}return o.tt}function Le(u,o){if(u.limit!==o.limit||u.orderBy.length!==o.orderBy.length)return!1;for(var a=0;a<u.orderBy.length;a++)if(!va(u.orderBy[a],o.orderBy[a]))return!1;if(u.filters.length!==o.filters.length)return!1;for(var l=0;l<u.filters.length;l++)if((h=u.filters[l]).op!==(g=o.filters[l]).op||!h.field.isEqual(g.field)||!xt(h.value,g.value))return!1;var h,g;return u.collectionGroup===o.collectionGroup&&!!u.path.isEqual(o.path)&&!!Yi(u.startAt,o.startAt)&&Yi(u.endAt,o.endAt)}function ft(u){return S.F(u.path)&&null===u.collectionGroup&&0===u.filters.length}var rt,He,jt=function(){function u(o,a,l,h,g,y,v){void 0===g&&(g=et.min()),void 0===y&&(y=et.min()),void 0===v&&(v=_t.B),this.target=o,this.targetId=a,this.et=l,this.sequenceNumber=h,this.nt=g,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=v}return u.prototype.st=function(o){return new u(this.target,this.targetId,this.et,o,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},u.prototype.it=function(o,a){return new u(this.target,this.targetId,this.et,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,o)},u.prototype.rt=function(o){return new u(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,o,this.resumeToken)},u}(),ir=function(u){this.count=u};function Wn(u){switch(u){case $.OK:return me();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return me()}}function An(u){if(void 0===u)return pe("GRPC error has no .code"),$.UNKNOWN;switch(u){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return me()}}(He=rt||(rt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";var We=function(){function u(o,a){this.i=o,this.root=a||Xe.EMPTY}return u.prototype.ot=function(o,a){return new u(this.i,this.root.ot(o,a,this.i).copy(null,null,Xe.at,null,null))},u.prototype.remove=function(o){return new u(this.i,this.root.remove(o,this.i).copy(null,null,Xe.at,null,null))},u.prototype.get=function(o){for(var a=this.root;!a.m();){var l=this.i(o,a.key);if(0===l)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null},u.prototype.indexOf=function(o){for(var a=0,l=this.root;!l.m();){var h=this.i(o,l.key);if(0===h)return a+l.left.size;h<0?l=l.left:(a+=l.left.size+1,l=l.right)}return-1},u.prototype.m=function(){return this.root.m()},Object.defineProperty(u.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),u.prototype.ct=function(){return this.root.ct()},u.prototype.ut=function(){return this.root.ut()},u.prototype.ht=function(o){return this.root.ht(o)},u.prototype.forEach=function(o){this.ht(function(a,l){return o(a,l),!1})},u.prototype.toString=function(){var o=[];return this.ht(function(a,l){return o.push(a+":"+l),!1}),"{"+o.join(", ")+"}"},u.prototype.lt=function(o){return this.root.lt(o)},u.prototype._t=function(){return new Si(this.root,null,this.i,!1)},u.prototype.ft=function(o){return new Si(this.root,o,this.i,!1)},u.prototype.dt=function(){return new Si(this.root,null,this.i,!0)},u.prototype.wt=function(o){return new Si(this.root,o,this.i,!0)},u}(),Si=function(){function u(o,a,l,h){this.Tt=h,this.Et=[];for(var g=1;!o.m();)if(g=a?l(o.key,a):1,h&&(g*=-1),g<0)o=this.Tt?o.left:o.right;else{if(0===g){this.Et.push(o);break}this.Et.push(o),o=this.Tt?o.right:o.left}}return u.prototype.It=function(){var o=this.Et.pop(),a={key:o.key,value:o.value};if(this.Tt)for(o=o.left;!o.m();)this.Et.push(o),o=o.right;else for(o=o.right;!o.m();)this.Et.push(o),o=o.left;return a},u.prototype.At=function(){return this.Et.length>0},u.prototype.Rt=function(){if(0===this.Et.length)return null;var o=this.Et[this.Et.length-1];return{key:o.key,value:o.value}},u}(),Xe=function(){function u(o,a,l,h,g){this.key=o,this.value=a,this.color=null!=l?l:u.RED,this.left=null!=h?h:u.EMPTY,this.right=null!=g?g:u.EMPTY,this.size=this.left.size+1+this.right.size}return u.prototype.copy=function(o,a,l,h,g){return new u(null!=o?o:this.key,null!=a?a:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=g?g:this.right)},u.prototype.m=function(){return!1},u.prototype.ht=function(o){return this.left.ht(o)||o(this.key,this.value)||this.right.ht(o)},u.prototype.lt=function(o){return this.right.lt(o)||o(this.key,this.value)||this.left.lt(o)},u.prototype.min=function(){return this.left.m()?this:this.left.min()},u.prototype.ct=function(){return this.min().key},u.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},u.prototype.ot=function(o,a,l){var h=this,g=l(o,h.key);return(h=g<0?h.copy(null,null,null,h.left.ot(o,a,l),null):0===g?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.ot(o,a,l))).gt()},u.prototype.Pt=function(){if(this.left.m())return u.EMPTY;var o=this;return o.left.yt()||o.left.left.yt()||(o=o.Vt()),(o=o.copy(null,null,null,o.left.Pt(),null)).gt()},u.prototype.remove=function(o,a){var l,h=this;if(a(o,h.key)<0)h.left.m()||h.left.yt()||h.left.left.yt()||(h=h.Vt()),h=h.copy(null,null,null,h.left.remove(o,a),null);else{if(h.left.yt()&&(h=h.bt()),h.right.m()||h.right.yt()||h.right.left.yt()||(h=h.vt()),0===a(o,h.key)){if(h.right.m())return u.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.Pt())}h=h.copy(null,null,null,null,h.right.remove(o,a))}return h.gt()},u.prototype.yt=function(){return this.color},u.prototype.gt=function(){var o=this;return o.right.yt()&&!o.left.yt()&&(o=o.St()),o.left.yt()&&o.left.left.yt()&&(o=o.bt()),o.left.yt()&&o.right.yt()&&(o=o.Dt()),o},u.prototype.Vt=function(){var o=this.Dt();return o.right.left.yt()&&(o=(o=(o=o.copy(null,null,null,null,o.right.bt())).St()).Dt()),o},u.prototype.vt=function(){var o=this.Dt();return o.left.left.yt()&&(o=(o=o.bt()).Dt()),o},u.prototype.St=function(){var o=this.copy(null,null,u.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)},u.prototype.bt=function(){var o=this.copy(null,null,u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)},u.prototype.Dt=function(){var o=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,a)},u.prototype.Ct=function(){var o=this.Nt();return Math.pow(2,o)<=this.size+1},u.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw me();var o=this.left.Nt();if(o!==this.right.Nt())throw me();return o+(this.yt()?0:1)},u}();Xe.EMPTY=null,Xe.RED=!0,Xe.at=!1,Xe.EMPTY=new(function(){function u(){this.size=0}return Object.defineProperty(u.prototype,"key",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"color",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"left",{get:function(){throw me()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"right",{get:function(){throw me()},enumerable:!1,configurable:!0}),u.prototype.copy=function(o,a,l,h,g){return this},u.prototype.ot=function(o,a,l){return new Xe(o,a)},u.prototype.remove=function(o,a){return this},u.prototype.m=function(){return!0},u.prototype.ht=function(o){return!1},u.prototype.lt=function(o){return!1},u.prototype.ct=function(){return null},u.prototype.ut=function(){return null},u.prototype.yt=function(){return!1},u.prototype.Ct=function(){return!0},u.prototype.Nt=function(){return 0},u}());var yn=function(){function u(o){this.i=o,this.data=new We(this.i)}return u.prototype.has=function(o){return null!==this.data.get(o)},u.prototype.first=function(){return this.data.ct()},u.prototype.last=function(){return this.data.ut()},Object.defineProperty(u.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),u.prototype.indexOf=function(o){return this.data.indexOf(o)},u.prototype.forEach=function(o){this.data.ht(function(a,l){return o(a),!1})},u.prototype.Ft=function(o,a){for(var l=this.data.ft(o[0]);l.At();){var h=l.It();if(this.i(h.key,o[1])>=0)return;a(h.key)}},u.prototype.xt=function(o,a){var l;for(l=void 0!==a?this.data.ft(a):this.data._t();l.At();)if(!o(l.It().key))return},u.prototype.$t=function(o){var a=this.data.ft(o);return a.At()?a.It().key:null},u.prototype._t=function(){return new il(this.data._t())},u.prototype.ft=function(o){return new il(this.data.ft(o))},u.prototype.add=function(o){return this.copy(this.data.remove(o).ot(o,!0))},u.prototype.delete=function(o){return this.has(o)?this.copy(this.data.remove(o)):this},u.prototype.m=function(){return this.data.m()},u.prototype.kt=function(o){var a=this;return a.size<o.size&&(a=o,o=this),o.forEach(function(l){a=a.add(l)}),a},u.prototype.isEqual=function(o){if(!(o instanceof u)||this.size!==o.size)return!1;for(var a=this.data._t(),l=o.data._t();a.At();){var h=a.It().key,g=l.It().key;if(0!==this.i(h,g))return!1}return!0},u.prototype.A=function(){var o=[];return this.forEach(function(a){o.push(a)}),o},u.prototype.toString=function(){var o=[];return this.forEach(function(a){return o.push(a)}),"SortedSet("+o.toString()+")"},u.prototype.copy=function(o){var a=new u(this.i);return a.data=o,a},u}(),il=function(){function u(o){this.Mt=o}return u.prototype.It=function(){return this.Mt.It().key},u.prototype.At=function(){return this.Mt.At()},u}(),Wt=new We(S.i);function Be(){return Wt}function Zo(){return Be()}var Yr=new We(S.i);function Tr(){return Yr}var ol=new We(S.i),Ya=new yn(S.i);function xe(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];for(var a=Ya,l=0,h=u;l<h.length;l++){var g=h[l];a=a.add(g)}return a}var dr=new yn(Ve);function Ts(){return dr}var Kf=function(){function u(o){this.i=o?function(a,l){return o(a,l)||S.i(a.key,l.key)}:function(a,l){return S.i(a.key,l.key)},this.Ot=Tr(),this.Lt=new We(this.i)}return u.Bt=function(o){return new u(o.i)},u.prototype.has=function(o){return null!=this.Ot.get(o)},u.prototype.get=function(o){return this.Ot.get(o)},u.prototype.first=function(){return this.Lt.ct()},u.prototype.last=function(){return this.Lt.ut()},u.prototype.m=function(){return this.Lt.m()},u.prototype.indexOf=function(o){var a=this.Ot.get(o);return a?this.Lt.indexOf(a):-1},Object.defineProperty(u.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),u.prototype.forEach=function(o){this.Lt.ht(function(a,l){return o(a),!1})},u.prototype.add=function(o){var a=this.delete(o.key);return a.copy(a.Ot.ot(o.key,o),a.Lt.ot(o,null))},u.prototype.delete=function(o){var a=this.get(o);return a?this.copy(this.Ot.remove(o),this.Lt.remove(a)):this},u.prototype.isEqual=function(o){if(!(o instanceof u)||this.size!==o.size)return!1;for(var a=this.Lt._t(),l=o.Lt._t();a.At();){var h=a.It().key,g=l.It().key;if(!h.isEqual(g))return!1}return!0},u.prototype.toString=function(){var o=[];return this.forEach(function(a){o.push(a.toString())}),0===o.length?"DocumentSet ()":"DocumentSet (\n  "+o.join("  \n")+"\n)"},u.prototype.copy=function(o,a){var l=new u;return l.i=this.i,l.Ot=o,l.Lt=a,l},u}(),sl=function(){function u(){this.qt=new We(S.i)}return u.prototype.track=function(o){var a=o.doc.key,l=this.qt.get(a);l?0!==o.type&&3===l.type?this.qt=this.qt.ot(a,o):3===o.type&&1!==l.type?this.qt=this.qt.ot(a,{type:l.type,doc:o.doc}):2===o.type&&2===l.type?this.qt=this.qt.ot(a,{type:2,doc:o.doc}):2===o.type&&0===l.type?this.qt=this.qt.ot(a,{type:0,doc:o.doc}):1===o.type&&0===l.type?this.qt=this.qt.remove(a):1===o.type&&2===l.type?this.qt=this.qt.ot(a,{type:1,doc:l.doc}):0===o.type&&1===l.type?this.qt=this.qt.ot(a,{type:2,doc:o.doc}):me():this.qt=this.qt.ot(a,o)},u.prototype.Ut=function(){var o=[];return this.qt.ht(function(a,l){o.push(l)}),o},u}(),zi=function(){function u(o,a,l,h,g,y,v,C){this.query=o,this.docs=a,this.Qt=l,this.docChanges=h,this.Wt=g,this.fromCache=y,this.jt=v,this.Kt=C}return u.Gt=function(o,a,l,h){var g=[];return a.forEach(function(y){g.push({type:0,doc:y})}),new u(o,a,Kf.Bt(a),g,l,h,!0,!1)},Object.defineProperty(u.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(o){if(!(this.fromCache===o.fromCache&&this.jt===o.jt&&this.Wt.isEqual(o.Wt)&&bo(this.query,o.query)&&this.docs.isEqual(o.docs)&&this.Qt.isEqual(o.Qt)))return!1;var a=this.docChanges,l=o.docChanges;if(a.length!==l.length)return!1;for(var h=0;h<a.length;h++)if(a[h].type!==l[h].type||!a[h].doc.isEqual(l[h].doc))return!1;return!0},u}(),pr=function(){function u(o,a,l,h,g){this.nt=o,this.zt=a,this.Ht=l,this.Yt=h,this.Jt=g}return u.Xt=function(o,a){var l=new Map;return l.set(o,Za.Zt(o,a)),new u(et.min(),l,Ts(),Be(),xe())},u}(),Za=function(){function u(o,a,l,h,g){this.resumeToken=o,this.te=a,this.ee=l,this.ne=h,this.se=g}return u.Zt=function(o,a){return new u(_t.B,a,xe(),xe(),xe())},u}(),ia=function(u,o,a,l){this.ie=u,this.removedTargetIds=o,this.key=a,this.re=l},Yf=function(u,o){this.targetId=u,this.oe=o},jr=function(u,o,a,l){void 0===a&&(a=_t.B),void 0===l&&(l=null),this.state=u,this.targetIds=o,this.resumeToken=a,this.cause=l},tc=function(){function u(){this.ae=0,this.ce=Zf(),this.ue=_t.B,this.he=!1,this.le=!0}return Object.defineProperty(u.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),u.prototype.de=function(o){o.O()>0&&(this.le=!0,this.ue=o)},u.prototype.we=function(){var o=xe(),a=xe(),l=xe();return this.ce.forEach(function(h,g){switch(g){case 0:o=o.add(h);break;case 2:a=a.add(h);break;case 1:l=l.add(h);break;default:me()}}),new Za(this.ue,this.he,o,a,l)},u.prototype.me=function(){this.le=!1,this.ce=Zf()},u.prototype.Te=function(o,a){this.le=!0,this.ce=this.ce.ot(o,a)},u.prototype.Ee=function(o){this.le=!0,this.ce=this.ce.remove(o)},u.prototype.Ie=function(){this.ae+=1},u.prototype.Ae=function(){this.ae-=1},u.prototype.Re=function(){this.le=!0,this.he=!0},u}(),al=function(){function u(o){this.ge=o,this.Pe=new Map,this.ye=Be(),this.Ve=ul(),this.pe=new yn(Ve)}return u.prototype.be=function(o){for(var a=0,l=o.ie;a<l.length;a++){var h=l[a];o.re instanceof Ot?this.ve(h,o.re):o.re instanceof ln&&this.Se(h,o.key,o.re)}for(var g=0,y=o.removedTargetIds;g<y.length;g++)this.Se(y[g],o.key,o.re)},u.prototype.De=function(o){var a=this;this.Ce(o,function(l){var h=a.Ne(l);switch(o.state){case 0:a.Fe(l)&&h.de(o.resumeToken);break;case 1:h.Ae(),h._e||h.me(),h.de(o.resumeToken);break;case 2:h.Ae(),h._e||a.removeTarget(l);break;case 3:a.Fe(l)&&(h.Re(),h.de(o.resumeToken));break;case 4:a.Fe(l)&&(a.xe(l),h.de(o.resumeToken));break;default:me()}})},u.prototype.Ce=function(o,a){var l=this;o.targetIds.length>0?o.targetIds.forEach(a):this.Pe.forEach(function(h,g){l.Fe(g)&&a(g)})},u.prototype.$e=function(o){var a=o.targetId,l=o.oe.count,h=this.ke(a);if(h){var g=h.target;if(ft(g))if(0===l){var y=new S(g.path);this.Se(a,y,new ln(y,et.min()))}else Ce(1===l);else this.Me(a)!==l&&(this.xe(a),this.pe=this.pe.add(a))}},u.prototype.Oe=function(o){var a=this,l=new Map;this.Pe.forEach(function(y,v){var C=a.ke(v);if(C){if(y.te&&ft(C.target)){var A=new S(C.target.path);null!==a.ye.get(A)||a.Le(v,A)||a.Se(v,A,new ln(A,o))}y.fe&&(l.set(v,y.we()),y.me())}});var h=xe();this.Ve.forEach(function(y,v){var C=!0;v.xt(function(A){var P=a.ke(A);return!P||2===P.et||(C=!1,!1)}),C&&(h=h.add(y))});var g=new pr(o,l,this.pe,this.ye,h);return this.ye=Be(),this.Ve=ul(),this.pe=new yn(Ve),g},u.prototype.ve=function(o,a){if(this.Fe(o)){var l=this.Le(o,a.key)?2:0;this.Ne(o).Te(a.key,l),this.ye=this.ye.ot(a.key,a),this.Ve=this.Ve.ot(a.key,this.Be(a.key).add(o))}},u.prototype.Se=function(o,a,l){if(this.Fe(o)){var h=this.Ne(o);this.Le(o,a)?h.Te(a,1):h.Ee(a),this.Ve=this.Ve.ot(a,this.Be(a).delete(o)),l&&(this.ye=this.ye.ot(a,l))}},u.prototype.removeTarget=function(o){this.Pe.delete(o)},u.prototype.Me=function(o){var a=this.Ne(o).we();return this.ge.qe(o).size+a.ee.size-a.se.size},u.prototype.Ie=function(o){this.Ne(o).Ie()},u.prototype.Ne=function(o){var a=this.Pe.get(o);return a||(a=new tc,this.Pe.set(o,a)),a},u.prototype.Be=function(o){var a=this.Ve.get(o);return a||(a=new yn(Ve),this.Ve=this.Ve.ot(o,a)),a},u.prototype.Fe=function(o){var a=null!==this.ke(o);return a||Z("WatchChangeAggregator","Detected inactive target",o),a},u.prototype.ke=function(o){var a=this.Pe.get(o);return a&&a._e?null:this.ge.Ue(o)},u.prototype.xe=function(o){var a=this;this.Pe.set(o,new tc),this.ge.qe(o).forEach(function(l){a.Se(o,l,null)})},u.prototype.Le=function(o,a){return this.ge.qe(o).has(a)},u}();function ul(){return new We(S.i)}function Zf(){return new We(S.i)}function Xo(u){var o,a;return"server_timestamp"===(null===(a=((null===(o=null==u?void 0:u.mapValue)||void 0===o?void 0:o.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function cl(u){var o=u.mapValue.fields.__previous_value__;return Xo(o)?cl(o):o}function Ss(u){var o=an(u.mapValue.fields.__local_write_time__.timestampValue);return new Lt(o.seconds,o.nanos)}var Xf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Xo(u)?4:10:me()}function xt(u,o){var h,a=_n(u);if(a!==_n(o))return!1;switch(a){case 0:return!0;case 1:return u.booleanValue===o.booleanValue;case 4:return Ss(u).isEqual(Ss(o));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;var g=an(l.timestampValue),y=an(h.timestampValue);return g.seconds===y.seconds&&g.nanos===y.nanos}(u,o);case 5:return u.stringValue===o.stringValue;case 6:return h=o,di(u.bytesValue).isEqual(di(h.bytesValue));case 7:return u.referenceValue===o.referenceValue;case 8:return function(l,h){return zt(l.geoPointValue.latitude)===zt(h.geoPointValue.latitude)&&zt(l.geoPointValue.longitude)===zt(h.geoPointValue.longitude)}(u,o);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return zt(l.integerValue)===zt(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){var g=zt(l.doubleValue),y=zt(h.doubleValue);return g===y?K(g)===K(y):isNaN(g)&&isNaN(y)}return!1}(u,o);case 9:return mn(u.arrayValue.values||[],o.arrayValue.values||[],xt);case 10:return function(l,h){var g=l.mapValue.fields||{},y=h.mapValue.fields||{};if(At(g)!==At(y))return!1;for(var v in g)if(g.hasOwnProperty(v)&&(void 0===y[v]||!xt(g[v],y[v])))return!1;return!0}(u,o);default:return me()}}function Xa(u,o){return void 0!==(u.values||[]).find(function(a){return xt(a,o)})}function Ai(u,o){var h,g,y,v,a=_n(u),l=_n(o);if(a!==l)return Ve(a,l);switch(a){case 0:return 0;case 1:return Ve(u.booleanValue,o.booleanValue);case 2:return g=o,(y=zt((h=u).integerValue||h.doubleValue))<(v=zt(g.integerValue||g.doubleValue))?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1;case 3:return Jf(u.timestampValue,o.timestampValue);case 4:return Jf(Ss(u),Ss(o));case 5:return Ve(u.stringValue,o.stringValue);case 6:return function(h,g){var y=di(h),v=di(g);return y.L(v)}(u.bytesValue,o.bytesValue);case 7:return function(h,g){for(var y=h.split("/"),v=g.split("/"),C=0;C<y.length&&C<v.length;C++){var A=Ve(y[C],v[C]);if(0!==A)return A}return Ve(y.length,v.length)}(u.referenceValue,o.referenceValue);case 8:return function(h,g){var y=Ve(zt(h.latitude),zt(g.latitude));return 0!==y?y:Ve(zt(h.longitude),zt(g.longitude))}(u.geoPointValue,o.geoPointValue);case 9:return function(h,g){for(var y=h.values||[],v=g.values||[],C=0;C<y.length&&C<v.length;++C){var A=Ai(y[C],v[C]);if(A)return A}return Ve(y.length,v.length)}(u.arrayValue,o.arrayValue);case 10:return function(h,g){var y=h.fields||{},v=Object.keys(y),C=g.fields||{},A=Object.keys(C);v.sort(),A.sort();for(var P=0;P<v.length&&P<A.length;++P){var U=Ve(v[P],A[P]);if(0!==U)return U;var j=Ai(y[v[P]],C[A[P]]);if(0!==j)return j}return Ve(v.length,A.length)}(u.mapValue,o.mapValue);default:throw me()}}function Jf(u,o){if("string"==typeof u&&"string"==typeof o&&u.length===o.length)return Ve(u,o);var a=an(u),l=an(o),h=Ve(a.seconds,l.seconds);return 0!==h?h:Ve(a.nanos,l.nanos)}function tt(u){return nc(u)}function nc(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?"time("+(h=an(u.timestampValue)).seconds+","+h.nanos+")":"stringValue"in u?u.stringValue:"bytesValue"in u?di(u.bytesValue).toBase64():"referenceValue"in u?S.C(u.referenceValue).toString():"geoPointValue"in u?"geo("+(o=u.geoPointValue).latitude+","+o.longitude+")":"arrayValue"in u?function(l){for(var h="[",g=!0,y=0,v=l.values||[];y<v.length;y++)g?g=!1:h+=",",h+=nc(v[y]);return h+"]"}(u.arrayValue):"mapValue"in u?function(l){for(var h="{",g=!0,y=0,v=Object.keys(l.fields||{}).sort();y<v.length;y++){var C=v[y];g?g=!1:h+=",",h+=C+":"+nc(l.fields[C])}return h+"}"}(u.mapValue):me();var h,o}function an(u){if(Ce(!!u),"string"==typeof u){var o=0,a=Xf.exec(u);if(Ce(!!a),a[1]){var l=a[1];l=(l+"000000000").substr(0,9),o=Number(l)}var h=new Date(u);return{seconds:Math.floor(h.getTime()/1e3),nanos:o}}return{seconds:zt(u.seconds),nanos:zt(u.nanos)}}function zt(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function di(u){return"string"==typeof u?_t.fromBase64String(u):_t.fromUint8Array(u)}function oa(u,o){return{referenceValue:"projects/"+u.projectId+"/databases/"+u.database+"/documents/"+o.path.R()}}function gr(u){return!!u&&"integerValue"in u}function sa(u){return!!u&&"arrayValue"in u}function xi(u){return!!u&&"nullValue"in u}function co(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function aa(u){return!!u&&"mapValue"in u}var ll={asc:"ASCENDING",desc:"DESCENDING"},qe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ja=function(u,o){this.U=u,this.Qe=o};function As(u){return{integerValue:""+u}}function pi(u,o){if(u.Qe){if(isNaN(o))return{doubleValue:"NaN"};if(o===1/0)return{doubleValue:"Infinity"};if(o===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K(o)?"-0":o}}function ua(u,o){return W(o)?As(o):pi(u,o)}function eu(u,o){return u.Qe?new Date(1e3*o.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+o.nanoseconds).slice(-9)+"Z":{seconds:""+o.seconds,nanos:o.nanoseconds}}function Mi(u,o){return u.Qe?o.toBase64():o.toUint8Array()}function or(u,o){return eu(u,o.Z())}function Ni(u){return Ce(!!u),et.J((a=an(u),new Lt(a.seconds,a.nanos)));var a}function rc(u,o){return(a=u,new st(["projects",a.projectId,"databases",a.database])).child("documents").child(o).R();var a}function vn(u){var o=st.g(u);return Ce(mr(o)),o}function lo(u,o){return rc(u.U,o.path)}function gi(u,o){var a=vn(o);return Ce(a.get(1)===u.U.projectId),Ce(!a.get(3)&&!u.U.database||a.get(3)===u.U.database),new S(hl(a))}function tu(u,o){return rc(u.U,o)}function fl(u){var o=vn(u);return 4===o.length?st.P():hl(o)}function wt(u){return new st(["projects",u.U.projectId,"databases",u.U.database]).R()}function hl(u){return Ce(u.length>4&&"documents"===u.get(4)),u.u(5)}function nu(u,o,a){return{name:lo(u,o),fields:a.proto.mapValue.fields}}function Zr(u,o){var a,h;if(o instanceof yo)a={update:nu(u,o.key,o.value)};else if(o instanceof Ht)a={delete:lo(u,o.key)};else if(o instanceof _r)a={update:nu(u,o.key,o.data),updateMask:ha(o.We)};else if(o instanceof Xr)a={transform:{document:lo(u,o.key),fieldTransforms:o.fieldTransforms.map(function(l){return function(h,g){var y=g.transform;if(y instanceof un)return{fieldPath:g.field.R(),setToServerValue:"REQUEST_TIME"};if(y instanceof $n)return{fieldPath:g.field.R(),appendMissingElements:{values:y.elements}};if(y instanceof Fn)return{fieldPath:g.field.R(),removeAllFromArray:{values:y.elements}};if(y instanceof Qn)return{fieldPath:g.field.R(),increment:y.je};throw me()}(0,l)})}};else{if(!(o instanceof ic))return me();a={verify:lo(u,o.key)}}return o.Ge.Ke||(a.currentDocument=void 0!==(h=o.Ge).updateTime?{updateTime:or(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:me()),a}function Mt(u,o){var P,a=o.currentDocument?void 0!==(P=o.currentDocument).updateTime?Nt.updateTime(Ni(P.updateTime)):void 0!==P.exists?Nt.exists(P.exists):Nt.ze():Nt.ze();if(o.update){var l=gi(u,o.update.name),h=new vo({mapValue:{fields:o.update.fields}});if(o.updateMask){var g=function(P){return new Pt((P.fieldPaths||[]).map(function(j){return R.S(j)}))}(o.updateMask);return new _r(l,h,g,a)}return new yo(l,h,a)}if(o.delete){var y=gi(u,o.delete);return new Ht(y,a)}if(o.transform){var v=gi(u,o.transform.document),C=o.transform.fieldTransforms.map(function(P){return function(U,j){var Q=null;"setToServerValue"in j?(Ce("REQUEST_TIME"===j.setToServerValue),Q=new un):"appendMissingElements"in j?Q=new $n(j.appendMissingElements.values||[]):"removeAllFromArray"in j?Q=new Fn(j.removeAllFromArray.values||[]):"increment"in j?Q=new Qn(U,j.increment):me();var ve=R.S(j.fieldPath);return new cn(ve,Q)}(u,P)});return Ce(!0===a.exists),new Xr(v,C)}if(o.verify){var A=gi(u,o.verify);return new ic(A,a)}return me()}function Jo(u,o){return{documents:[tu(u,o.path)]}}function ru(u,o){var a={structuredQuery:{}},l=o.path;null!==o.collectionGroup?(a.parent=tu(u,l),a.structuredQuery.from=[{collectionId:o.collectionGroup,allDescendants:!0}]):(a.parent=tu(u,l.h()),a.structuredQuery.from=[{collectionId:l._()}]);var h=function(v){if(0!==v.length){var C=v.map(function(A){return function(P){if("=="===P.op){if(co(P.value))return{unaryFilter:{field:Cn(P.field),op:"IS_NAN"}};if(xi(P.value))return{unaryFilter:{field:Cn(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(co(P.value))return{unaryFilter:{field:Cn(P.field),op:"IS_NOT_NAN"}};if(xi(P.value))return{unaryFilter:{field:Cn(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cn(P.field),op:eh(P.op),value:P.value}}}(A)});return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}}(o.filters);h&&(a.structuredQuery.where=h);var g=function(v){if(0!==v.length)return v.map(function(C){return{field:Cn((A=C).field),direction:xs(A.dir)};var A})}(o.orderBy);g&&(a.structuredQuery.orderBy=g);var C,y=(C=o.limit,u.Qe||hi(C)?C:{value:C});return null!==y&&(a.structuredQuery.limit=y),o.startAt&&(a.structuredQuery.startAt=iu(o.startAt)),o.endAt&&(a.structuredQuery.endAt=iu(o.endAt)),a}function ca(u){var o=fl(u.parent),a=u.structuredQuery,l=a.from?a.from.length:0,h=null;if(l>0){Ce(1===l);var g=a.from[0];g.allDescendants?h=g.collectionId:o=o.child(g.collectionId)}var y=[];a.where&&(y=fo(a.where));var v=[];a.orderBy&&(v=a.orderBy.map(function(U){return new Eo(Sr((j=U).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction));var j}));var U,j,C=null;a.limit&&(C=hi(j="object"==typeof(U=a.limit)?U.value:U)?null:j);var A=null;a.startAt&&(A=sr(a.startAt));var P=null;return a.endAt&&(P=sr(a.endAt)),Jr(yi(o,h,v,y,C,"F",A,P))}function fo(u){return u?void 0!==u.unaryFilter?[fa(u)]:void 0!==u.fieldFilter?[la(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(function(o){return fo(o)}).reduce(function(o,a){return o.concat(a)}):me():[]}function iu(u){return{before:u.before,values:u.position}}function sr(u){return new _a(u.values||[],!!u.before)}function xs(u){return ll[u]}function eh(u){return qe[u]}function Cn(u){return{fieldPath:u.R()}}function Sr(u){return R.S(u.fieldPath)}function la(u){return Br.create(Sr(u.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return me()}}(u.fieldFilter.op),u.fieldFilter.value)}function fa(u){switch(u.unaryFilter.op){case"IS_NAN":var o=Sr(u.unaryFilter.field);return Br.create(o,"==",{doubleValue:NaN});case"IS_NULL":var a=Sr(u.unaryFilter.field);return Br.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var l=Sr(u.unaryFilter.field);return Br.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var h=Sr(u.unaryFilter.field);return Br.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return me()}}function ha(u){var o=[];return u.fields.forEach(function(a){return o.push(a.R())}),{fieldPaths:o}}function mr(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}var Qt=function(){this.He=void 0};function da(u,o,a){return u instanceof un?(g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(l=a).seconds,nanos:l.nanoseconds}}}},(h=o)&&(g.fields.__previous_value__=h),{mapValue:g}):u instanceof $n?ho(u,o):u instanceof Fn?dl(u,o):function(l,h){var g=yr(l,h),y=Se(g)+Se(l.je);return gr(g)&&gr(l.je)?As(y):pi(l.serializer,y)}(u,o);var l,h,g}function Ye(u,o,a){return u instanceof $n?ho(u,o):u instanceof Fn?dl(u,o):a}function yr(u,o){return u instanceof Qn?gr(a=o)||(l=a)&&"doubleValue"in l?o:{integerValue:0}:null;var l,a}var un=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o}(Qt),$n=function(u){function o(a){var l=this;return(l=u.call(this)||this).elements=a,l}return k.__extends(o,u),o}(Qt);function ho(u,o){for(var a=vt(o),l=function(y){a.some(function(v){return xt(v,y)})||a.push(y)},h=0,g=u.elements;h<g.length;h++)l(g[h]);return{arrayValue:{values:a}}}var Fn=function(u){function o(a){var l=this;return(l=u.call(this)||this).elements=a,l}return k.__extends(o,u),o}(Qt);function dl(u,o){for(var a=vt(o),l=function(y){a=a.filter(function(v){return!xt(v,y)})},h=0,g=u.elements;h<g.length;h++)l(g[h]);return{arrayValue:{values:a}}}var Qn=function(u){function o(a,l){var h=this;return(h=u.call(this)||this).serializer=a,h.je=l,h}return k.__extends(o,u),o}(Qt);function Se(u){return zt(u.integerValue||u.doubleValue)}function vt(u){return sa(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}var Pt=function(){function u(o){this.fields=o,o.sort(R.i)}return u.prototype.Ye=function(o){for(var a=0,l=this.fields;a<l.length;a++)if(l[a].T(o))return!0;return!1},u.prototype.isEqual=function(o){return mn(this.fields,o.fields,function(a,l){return a.isEqual(l)})},u}(),cn=function(u,o){this.field=u,this.transform=o},po=function(u,o){this.version=u,this.transformResults=o},Nt=function(){function u(o,a){this.updateTime=o,this.exists=a}return u.ze=function(){return new u},u.exists=function(o){return new u(void 0,o)},u.updateTime=function(o){return new u(o)},Object.defineProperty(u.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(o){return this.exists===o.exists&&(this.updateTime?!!o.updateTime&&this.updateTime.isEqual(o.updateTime):!o.updateTime)},u}();function Ur(u,o){return void 0!==u.updateTime?o instanceof Ot&&o.version.isEqual(u.updateTime):void 0===u.exists||u.exists===o instanceof Ot}var Bt=function(){};function pa(u,o,a){return u instanceof yo?new Ot((l=u).key,a.version,l.value,{hasCommittedMutations:!0}):u instanceof _r?function(l,h,g){if(!Ur(l.Ge,h))return new kn(l.key,g.version);var y=Kn(l,h);return new Ot(l.key,g.version,y,{hasCommittedMutations:!0})}(u,o,a):u instanceof Xr?function(l,h,g){if(Ce(null!=g.transformResults),!Ur(l.Ge,h))return new kn(l.key,g.version);var y=_o(0,h),v=function(P,U,j){var Q=[];Ce(P.length===j.length);for(var te=0;te<j.length;te++){var ae=P[te],ve=ae.transform,Me=null;U instanceof Ot&&(Me=U.field(ae.field)),Q.push(Ye(ve,Me,j[te]))}return Q}(l.fieldTransforms,h,g.transformResults),C=g.version,A=Ar(l,y.data(),v);return new Ot(l.key,C,A,{hasCommittedMutations:!0})}(u,o,a):function(l,h,g){return new ln(l.key,g.version,{hasCommittedMutations:!0})}(u,0,a);var l}function go(u,o,a,l){return u instanceof yo?function(h,g){if(!Ur(h.Ge,g))return g;var y=mo(g);return new Ot(h.key,y,h.value,{Je:!0})}(u,o):u instanceof _r?function(h,g){if(!Ur(h.Ge,g))return g;var y=mo(g),v=Kn(h,g);return new Ot(h.key,y,v,{Je:!0})}(u,o):u instanceof Xr?function(h,g,y,v){if(!Ur(h.Ge,g))return g;var C=_o(0,g),A=function(U,j,Q,te){for(var ae=[],ve=0,Me=U;ve<Me.length;ve++){var Qe=Me[ve],ut=Qe.transform,It=null;Q instanceof Ot&&(It=Q.field(Qe.field)),null===It&&te instanceof Ot&&(It=te.field(Qe.field)),ae.push(da(ut,It,j))}return ae}(h.fieldTransforms,y,g,v),P=Ar(h,C.data(),A);return new Ot(h.key,C.version,P,{Je:!0})}(u,o,l,a):Ur((h=u).Ge,g=o)?new ln(h.key,et.min()):g;var h,g}function ht(u,o){return u instanceof Xr?function(a,l){for(var h=null,g=0,y=a.fieldTransforms;g<y.length;g++){var v=y[g],C=l instanceof Ot?l.field(v.field):void 0,A=yr(v.transform,C||null);null!=A&&(h=null==h?(new mi).set(v.field,A):h.set(v.field,A))}return h?h.Xe():null}(u,o):null}function ga(u,o){return u.type===o.type&&!!u.key.isEqual(o.key)&&!!u.Ge.isEqual(o.Ge)&&(0===u.type?u.value.isEqual(o.value):1===u.type?u.data.isEqual(o.data)&&u.We.isEqual(o.We):2!==u.type||mn(u.fieldTransforms,u.fieldTransforms,function(a,l){return(h=a).field.isEqual((g=l).field)&&(v=g.transform,(y=h.transform)instanceof $n&&v instanceof $n||y instanceof Fn&&v instanceof Fn?mn(y.elements,v.elements,xt):y instanceof Qn&&v instanceof Qn?xt(y.je,v.je):y instanceof un&&v instanceof un);var h,g,y,v}))}function mo(u){return u instanceof Ot?u.version:et.min()}var yo=function(u){function o(a,l,h){var g=this;return(g=u.call(this)||this).key=a,g.value=l,g.Ge=h,g.type=0,g}return k.__extends(o,u),o}(Bt),_r=function(u){function o(a,l,h,g){var y=this;return(y=u.call(this)||this).key=a,y.data=l,y.We=h,y.Ge=g,y.type=1,y}return k.__extends(o,u),o}(Bt);function Kn(u,o){return a=u,l=o instanceof Ot?o.data():vo.empty(),h=new mi(l),a.We.fields.forEach(function(g){if(!g.m()){var y=a.data.field(g);null!==y?h.set(g,y):h.delete(g)}}),h.Xe();var a,l,h}var Xr=function(u){function o(a,l){var h=this;return(h=u.call(this)||this).key=a,h.fieldTransforms=l,h.type=2,h.Ge=Nt.exists(!0),h}return k.__extends(o,u),o}(Bt);function _o(u,o){return o}function Ar(u,o,a){for(var l=new mi(o),h=0;h<u.fieldTransforms.length;h++)l.set(u.fieldTransforms[h].field,a[h]);return l.Xe()}var Ht=function(u){function o(a,l){var h=this;return(h=u.call(this)||this).key=a,h.Ge=l,h.type=3,h}return k.__extends(o,u),o}(Bt),ic=function(u){function o(a,l){var h=this;return(h=u.call(this)||this).key=a,h.Ge=l,h.type=4,h}return k.__extends(o,u),o}(Bt),vo=function(){function u(o){this.proto=o}return u.empty=function(){return new u({mapValue:{}})},u.prototype.field=function(o){if(o.m())return this.proto;for(var a=this.proto,l=0;l<o.length-1;++l)if(!a.mapValue.fields||!aa(a=a.mapValue.fields[o.get(l)]))return null;return(a=(a.mapValue.fields||{})[o._()])||null},u.prototype.isEqual=function(o){return xt(this.proto,o.proto)},u}(),mi=function(){function u(o){void 0===o&&(o=vo.empty()),this.Ze=o,this.tn=new Map}return u.prototype.set=function(o,a){return this.en(o,a),this},u.prototype.delete=function(o){return this.en(o,null),this},u.prototype.en=function(o,a){for(var l=this.tn,h=0;h<o.length-1;++h){var g=o.get(h),y=l.get(g);y instanceof Map?l=y:y&&10===_n(y)?(y=new Map(Object.entries(y.mapValue.fields||{})),l.set(g,y),l=y):(y=new Map,l.set(g,y),l=y)}l.set(o._(),a)},u.prototype.Xe=function(){var o=this.nn(R.P(),this.tn);return null!=o?new vo(o):this.Ze},u.prototype.nn=function(o,a){var l=this,h=!1,g=this.Ze.field(o),y=aa(g)?Object.assign({},g.mapValue.fields):{};return a.forEach(function(v,C){if(v instanceof Map){var A=l.nn(o.child(C),v);null!=A&&(y[C]=A,h=!0)}else null!==v?(y[C]=v,h=!0):y.hasOwnProperty(C)&&(delete y[C],h=!0)}),h?{mapValue:{fields:y}}:null},u}();function ou(u){var o=[];return lt(u.fields||{},function(a,l){var h=new R([a]);if(aa(l)){var g=ou(l.mapValue).fields;if(0===g.length)o.push(h);else for(var y=0,v=g;y<v.length;y++)o.push(h.child(v[y]))}else o.push(h)}),new Pt(o)}var nn=function(u,o){this.key=u,this.version=o},Ot=function(u){function o(a,l,h,g){var y=this;return(y=u.call(this,a,l)||this).sn=h,y.Je=!!g.Je,y.hasCommittedMutations=!!g.hasCommittedMutations,y}return k.__extends(o,u),o.prototype.field=function(a){return this.sn.field(a)},o.prototype.data=function(){return this.sn},o.prototype.rn=function(){return this.sn.proto},o.prototype.isEqual=function(a){return a instanceof o&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.Je===a.Je&&this.hasCommittedMutations===a.hasCommittedMutations&&this.sn.isEqual(a.sn)},o.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),o}(nn),ln=function(u){function o(a,l,h){var g=this;return(g=u.call(this,a,l)||this).hasCommittedMutations=!(!h||!h.hasCommittedMutations),g}return k.__extends(o,u),o.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(a){return a instanceof o&&a.hasCommittedMutations===this.hasCommittedMutations&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)},o}(nn),kn=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(o.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(a){return a instanceof o&&a.version.isEqual(this.version)&&a.key.isEqual(this.key)},o}(nn),Wi=function(u,o,a,l,h,g,y,v){void 0===o&&(o=null),void 0===a&&(a=[]),void 0===l&&(l=[]),void 0===h&&(h=null),void 0===g&&(g="F"),void 0===y&&(y=null),void 0===v&&(v=null),this.path=u,this.collectionGroup=o,this.on=a,this.filters=l,this.limit=h,this.an=g,this.startAt=y,this.endAt=v,this.cn=null,this.un=null};function yi(u,o,a,l,h,g,y,v){return new Wi(u,o,a,l,h,g,y,v)}function ar(u){return new Wi(u)}function es(u){return!hi(u.limit)&&"F"===u.an}function wo(u){return!hi(u.limit)&&"L"===u.an}function Qi(u){return u.on.length>0?u.on[0].field:null}function xr(u){for(var o=0,a=u.filters;o<a.length;o++){var l=a[o];if(l.hn())return l.field}return null}function Oi(u){return null!==u.collectionGroup}function ma(u){var o=de(u);if(null===o.cn){o.cn=[];var a=xr(o),l=Qi(o);if(null!==a&&null===l)a.p()||o.cn.push(new Eo(a)),o.cn.push(new Eo(R.v(),"asc"));else{for(var h=!1,g=0,y=o.on;g<y.length;g++){var v=y[g];o.cn.push(v),v.field.p()&&(h=!0)}if(!h){var C=o.on.length>0?o.on[o.on.length-1].dir:"asc";o.cn.push(new Eo(R.v(),C))}}}return o.cn}function Jr(u){var o=de(u);if(!o.un)if("F"===o.an)o.un=ne(o.path,o.collectionGroup,ma(o),o.filters,o.limit,o.startAt,o.endAt);else{for(var a=[],l=0,h=ma(o);l<h.length;l++){var g=h[l];a.push(new Eo(g.field,"desc"===g.dir?"asc":"desc"))}var v=o.endAt?new _a(o.endAt.position,!o.endAt.before):null,C=o.startAt?new _a(o.startAt.position,!o.startAt.before):null;o.un=ne(o.path,o.collectionGroup,a,o.filters,o.limit,v,C)}return o.un}function Ms(u,o,a){return new Wi(u.path,u.collectionGroup,u.on.slice(),u.filters.slice(),o,a,u.startAt,u.endAt)}function pl(u,o){return new Wi(u.path,u.collectionGroup,u.on.slice(),u.filters.slice(),u.limit,u.an,o,u.endAt)}function oc(u,o){return new Wi(u.path,u.collectionGroup,u.on.slice(),u.filters.slice(),u.limit,u.an,u.startAt,o)}function bo(u,o){return Le(Jr(u),Jr(o))&&u.an===o.an}function gl(u){return Y(Jr(u))+"|lt:"+u.an}function su(u){return"Query(target="+(a=(o=Jr(u)).path.R(),null!==o.collectionGroup&&(a+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(a+=", filters: ["+o.filters.map(function(l){return(h=l).field.R()+" "+h.op+" "+tt(h.value);var h}).join(", ")+"]"),hi(o.limit)||(a+=", limit: "+o.limit),o.orderBy.length>0&&(a+=", orderBy: ["+o.orderBy.map(function(l){return(h=l).field.R()+" ("+h.dir+")";var h}).join(", ")+"]"),o.startAt&&(a+=", startAt: "+Ki(o.startAt)),o.endAt&&(a+=", endAt: "+Ki(o.endAt)),"Target("+a+"); limitType=")+u.an+")";var o,a}function ts(u,o){return h=(l=o).key.path,(null!==(a=u).collectionGroup?l.key.N(a.collectionGroup)&&a.path.T(h):S.F(a.path)?a.path.isEqual(h):a.path.I(h))&&function(a,l){for(var h=0,g=a.on;h<g.length;h++){var y=g[h];if(!y.field.p()&&null===l.field(y.field))return!1}return!0}(u,o)&&function(a,l){for(var h=0,g=a.filters;h<g.length;h++)if(!g[h].matches(l))return!1;return!0}(u,o)&&function(a,l){return!(a.startAt&&!yl(a.startAt,ma(a),l)||a.endAt&&yl(a.endAt,ma(a),l))}(u,o);var a,l,h}function th(u){return function(o,a){for(var l=!1,h=0,g=ma(u);h<g.length;h++){var y=g[h],v=Yn(y,o,a);if(0!==v)return v;l=l||y.field.p()}return 0}}var Br=function(u){function o(a,l,h){var g=this;return(g=u.call(this)||this).field=a,g.op=l,g.value=h,g}return k.__extends(o,u),o.create=function(a,l,h){if(a.p())return"in"===l||"not-in"===l?this.ln(a,l,h):new au(a,l,h);if(xi(h)){if("=="!==l&&"!="!==l)throw new H($.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new o(a,l,h)}if(co(h)){if("=="!==l&&"!="!==l)throw new H($.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new o(a,l,h)}return"array-contains"===l?new ml(a,h):"in"===l?new ih(a,h):"not-in"===l?new ya(a,h):"array-contains-any"===l?new uu(a,h):new o(a,l,h)},o.ln=function(a,l,h){return"in"===l?new nh(a,h):new rh(a,h)},o.prototype.matches=function(a){var l=a.field(this.field);return"!="===this.op?null!==l&&this._n(Ai(l,this.value)):null!==l&&_n(this.value)===_n(l)&&this._n(Ai(l,this.value))},o.prototype._n=function(a){switch(this.op){case"<":return a<0;case"<=":return a<=0;case"==":return 0===a;case"!=":return 0!==a;case">":return a>0;case">=":return a>=0;default:return me()}},o.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},o}(function(){}),au=function(u){function o(a,l,h){var g=this;return(g=u.call(this,a,l,h)||this).key=S.C(h.referenceValue),g}return k.__extends(o,u),o.prototype.matches=function(a){var l=S.i(a.key,this.key);return this._n(l)},o}(Br),nh=function(u){function o(a,l){var h=this;return(h=u.call(this,a,"in",l)||this).keys=sc(0,l),h}return k.__extends(o,u),o.prototype.matches=function(a){return this.keys.some(function(l){return l.isEqual(a.key)})},o}(Br),rh=function(u){function o(a,l){var h=this;return(h=u.call(this,a,"not-in",l)||this).keys=sc(0,l),h}return k.__extends(o,u),o.prototype.matches=function(a){return!this.keys.some(function(l){return l.isEqual(a.key)})},o}(Br);function sc(u,o){var a;return((null===(a=o.arrayValue)||void 0===a?void 0:a.values)||[]).map(function(l){return S.C(l.referenceValue)})}var ml=function(u){function o(a,l){return u.call(this,a,"array-contains",l)||this}return k.__extends(o,u),o.prototype.matches=function(a){var l=a.field(this.field);return sa(l)&&Xa(l.arrayValue,this.value)},o}(Br),ih=function(u){function o(a,l){return u.call(this,a,"in",l)||this}return k.__extends(o,u),o.prototype.matches=function(a){var l=a.field(this.field);return null!==l&&Xa(this.value.arrayValue,l)},o}(Br),ya=function(u){function o(a,l){return u.call(this,a,"not-in",l)||this}return k.__extends(o,u),o.prototype.matches=function(a){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var l=a.field(this.field);return null!==l&&!Xa(this.value.arrayValue,l)},o}(Br),uu=function(u){function o(a,l){return u.call(this,a,"array-contains-any",l)||this}return k.__extends(o,u),o.prototype.matches=function(a){var l=this,h=a.field(this.field);return!(!sa(h)||!h.arrayValue.values)&&h.arrayValue.values.some(function(g){return Xa(l.value.arrayValue,g)})},o}(Br),_a=function(u,o){this.position=u,this.before=o};function Ki(u){return(u.before?"b":"a")+":"+u.position.map(function(o){return tt(o)}).join(",")}function yl(u,o,a){for(var l=0,h=0;h<u.position.length;h++){var g=o[h],y=u.position[h];if(l=g.field.p()?S.i(S.C(y.referenceValue),a.key):Ai(y,a.field(g.field)),"desc"===g.dir&&(l*=-1),0!==l)break}return u.before?l<=0:l<0}function Yi(u,o){if(null===u)return null===o;if(null===o||u.before!==o.before||u.position.length!==o.position.length)return!1;for(var a=0;a<u.position.length;a++)if(!xt(u.position[a],o.position[a]))return!1;return!0}var Eo=function(u,o){void 0===o&&(o="asc"),this.field=u,this.dir=o};function Yn(u,o,a){var h,y,v,C,l=u.field.p()?S.i(o.key,a.key):(y=a,v=o.field(h=u.field),C=y.field(h),null!==v&&null!==C?Ai(v,C):me());switch(u.dir){case"asc":return l;case"desc":return-1*l;default:return me()}}function va(u,o){return u.dir===o.dir&&u.field.isEqual(o.field)}var fn=function(){var u=this;this.promise=new Promise(function(o,a){u.resolve=o,u.reject=a})},cu=function(){function u(o,a,l,h,g){void 0===l&&(l=1e3),void 0===h&&(h=1.5),void 0===g&&(g=6e4),this.fn=o,this.dn=a,this.wn=l,this.mn=h,this.Tn=g,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return u.prototype.reset=function(){this.En=0},u.prototype.Rn=function(){this.En=this.Tn},u.prototype.gn=function(o){var a=this;this.cancel();var l=Math.floor(this.En+this.Pn()),h=Math.max(0,Date.now()-this.An),g=Math.max(0,l-h);g>0&&Z("ExponentialBackoff","Backing off for "+g+" ms (base delay: "+this.En+" ms, delay with jitter: "+l+" ms, last attempt: "+h+" ms ago)"),this.In=this.fn.yn(this.dn,g,function(){return a.An=Date.now(),o()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},u.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},u.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},u.prototype.Pn=function(){return(Math.random()-.5)*this.En},u}(),we=function(){function u(o){var a=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,o(function(l){a.Sn=!0,a.result=l,a.bn&&a.bn(l)},function(l){a.Sn=!0,a.error=l,a.vn&&a.vn(l)})}return u.prototype.catch=function(o){return this.next(void 0,o)},u.prototype.next=function(o,a){var l=this;return this.Dn&&me(),this.Dn=!0,this.Sn?this.error?this.Cn(a,this.error):this.Nn(o,this.result):new u(function(h,g){l.bn=function(y){l.Nn(o,y).next(h,g)},l.vn=function(y){l.Cn(a,y).next(h,g)}})},u.prototype.Fn=function(){var o=this;return new Promise(function(a,l){o.next(a,l)})},u.prototype.xn=function(o){try{var a=o();return a instanceof u?a:u.resolve(a)}catch(l){return u.reject(l)}},u.prototype.Nn=function(o,a){return o?this.xn(function(){return o(a)}):u.resolve(a)},u.prototype.Cn=function(o,a){return o?this.xn(function(){return o(a)}):u.reject(a)},u.resolve=function(o){return new u(function(a,l){a(o)})},u.reject=function(o){return new u(function(a,l){l(o)})},u.$n=function(o){return new u(function(a,l){var h=0,g=0,y=!1;o.forEach(function(v){++h,v.next(function(){++g,y&&g===h&&a()},function(C){return l(C)})}),y=!0,g===h&&a()})},u.kn=function(o){for(var a=u.resolve(!1),l=function(y){a=a.next(function(v){return v?u.resolve(v):y()})},h=0,g=o;h<g.length;h++)l(g[h]);return a},u.forEach=function(o,a){var l=this,h=[];return o.forEach(function(g,y){h.push(a.call(l,g,y))}),this.$n(h)},u}(),ei=function(){function u(o,a,l){this.name=o,this.version=a,this.Mn=l,12.2===u.On(Re.getUA())&&pe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return u.delete=function(o){return Z("SimpleDb","Removing database:",o),Io(window.indexedDB.deleteDatabase(o)).Fn()},u.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(u.Bn())return!0;var o=Re.getUA(),a=u.On(o),l=0<a&&a<10,h=u.qn(o),g=0<h&&h<4.5;return!(o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0||o.indexOf("Edge/")>0||l||g)},u.Bn=function(){var o;return"undefined"!=typeof process&&"YES"===(null===(o=process.env)||void 0===o?void 0:o.Un)},u.Qn=function(o,a){return o.store(a)},u.On=function(o){var a=o.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(l)},u.qn=function(o){var a=o.match(/Android ([\d.]+)/i),l=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(l)},u.prototype.Wn=function(o){return k.__awaiter(this,void 0,void 0,function(){var a,l=this;return k.__generator(this,function(h){switch(h.label){case 0:return this.db?[3,2]:(Z("SimpleDb","Opening database:",this.name),a=this,[4,new Promise(function(g,y){var v=indexedDB.open(l.name,l.version);v.onsuccess=function(C){g(C.target.result)},v.onblocked=function(){y(new Co(o,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=function(C){var A=C.target.error;y("VersionError"===A.name?new H($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Co(o,A))},v.onupgradeneeded=function(C){Z("SimpleDb",'Database "'+l.name+'" requires upgrade from version:',C.oldVersion),l.Mn.createOrUpgrade(C.target.result,v.transaction,C.oldVersion,l.version).next(function(){Z("SimpleDb","Database upgrade to version "+l.version+" complete")})}})]);case 1:a.db=h.sent(),h.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(g){return l.jn(g)}),this.db)]}})})},u.prototype.Kn=function(o){this.jn=o,this.db&&(this.db.onversionchange=function(a){return o(a)})},u.prototype.runTransaction=function(o,a,l,h){return k.__awaiter(this,void 0,void 0,function(){var g,y,v,C,A;return k.__generator(this,function(P){switch(P.label){case 0:g="readonly"===a,y=0,v=function(){var U,j,Q,te,ae;return k.__generator(this,function(ve){switch(ve.label){case 0:++y,ve.label=1;case 1:return ve.trys.push([1,4,,5]),[4,C.Wn(o)];case 2:return C.db=ve.sent(),U=Mr.open(C.db,o,g?"readonly":"readwrite",l),j=h(U).catch(function(Me){return U.abort(Me),we.reject(Me)}).Fn(),Q={},j.catch(function(){}),[4,U.Gn];case 3:return[2,(Q.value=(ve.sent(),j),Q)];case 4:return Z("SimpleDb","Transaction failed with error:",(te=ve.sent()).message,"Retrying:",ae="FirebaseError"!==te.name&&y<3),C.close(),ae?[3,5]:[2,{value:Promise.reject(te)}];case 5:return[2]}})},C=this,P.label=1;case 1:return[5,v()];case 2:if("object"==typeof(A=P.sent()))return[2,A.value];P.label=3;case 3:return[3,1];case 4:return[2]}})})},u.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},u}(),_l=function(){function u(o){this.zn=o,this.Hn=!1,this.Yn=null}return Object.defineProperty(u.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cursor",{set:function(o){this.zn=o},enumerable:!1,configurable:!0}),u.prototype.done=function(){this.Hn=!0},u.prototype.Xn=function(o){this.Yn=o},u.prototype.delete=function(){return Io(this.zn.delete())},u}(),Co=function(u){function o(a,l){var h=this;return(h=u.call(this,$.UNAVAILABLE,"IndexedDB transaction '"+a+"' failed: "+l)||this).name="IndexedDbTransactionError",h}return k.__extends(o,u),o}(H);function Do(u){return"IndexedDbTransactionError"===u.name}var Mr=function(){function u(o,a){var l=this;this.action=o,this.transaction=a,this.aborted=!1,this.Zn=new fn,this.transaction.oncomplete=function(){l.Zn.resolve()},this.transaction.onabort=function(){a.error?l.Zn.reject(new Co(o,a.error)):l.Zn.resolve()},this.transaction.onerror=function(h){var g=p(h.target.error);l.Zn.reject(new Co(o,g))}}return u.open=function(o,a,l,h){try{return new u(a,o.transaction(h,l))}catch(g){throw new Co(a,g)}},Object.defineProperty(u.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),u.prototype.abort=function(o){o&&this.Zn.reject(o),this.aborted||(Z("SimpleDb","Aborting transaction:",o?o.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},u.prototype.store=function(o){var a=this.transaction.objectStore(o);return new ac(a)},u}(),ac=function(){function u(o){this.store=o}return u.prototype.put=function(o,a){var l;return void 0!==a?(Z("SimpleDb","PUT",this.store.name,o,a),l=this.store.put(a,o)):(Z("SimpleDb","PUT",this.store.name,"<auto-key>",o),l=this.store.put(o)),Io(l)},u.prototype.add=function(o){return Z("SimpleDb","ADD",this.store.name,o,o),Io(this.store.add(o))},u.prototype.get=function(o){var a=this;return Io(this.store.get(o)).next(function(l){return void 0===l&&(l=null),Z("SimpleDb","GET",a.store.name,o,l),l})},u.prototype.delete=function(o){return Z("SimpleDb","DELETE",this.store.name,o),Io(this.store.delete(o))},u.prototype.count=function(){return Z("SimpleDb","COUNT",this.store.name),Io(this.store.count())},u.prototype.ts=function(o,a){var l=this.cursor(this.options(o,a)),h=[];return this.es(l,function(g,y){h.push(y)}).next(function(){return h})},u.prototype.ns=function(o,a){Z("SimpleDb","DELETE ALL",this.store.name);var l=this.options(o,a);l.ss=!1;var h=this.cursor(l);return this.es(h,function(g,y,v){return v.delete()})},u.prototype.rs=function(o,a){var l;a?l=o:(l={},a=o);var h=this.cursor(l);return this.es(h,a)},u.prototype.os=function(o){var a=this.cursor({});return new we(function(l,h){a.onerror=function(g){var y=p(g.target.error);h(y)},a.onsuccess=function(g){var y=g.target.result;y?o(y.primaryKey,y.value).next(function(v){v?y.continue():l()}):l()}})},u.prototype.es=function(o,a){var l=[];return new we(function(h,g){o.onerror=function(y){g(y.target.error)},o.onsuccess=function(y){var v=y.target.result;if(v){var C=new _l(v),A=a(v.primaryKey,v.value,C);if(A instanceof we){var P=A.catch(function(U){return C.done(),we.reject(U)});l.push(P)}C.Sn?h():null===C.Jn?v.continue():v.continue(C.Jn)}else h()}}).next(function(){return we.$n(l)})},u.prototype.options=function(o,a){var l=void 0;return void 0!==o&&("string"==typeof o?l=o:a=o),{index:l,range:a}},u.prototype.cursor=function(o){var a="next";if(o.reverse&&(a="prev"),o.index){var l=this.store.index(o.index);return o.ss?l.openKeyCursor(o.range,a):l.openCursor(o.range,a)}return this.store.openCursor(o.range,a)},u}();function Io(u){return new we(function(o,a){u.onsuccess=function(l){o(l.target.result)},u.onerror=function(l){var h=p(l.target.error);a(h)}})}var lu=!1;function p(u){var o=ei.On(Re.getUA());if(o>=12.2&&o<13){var a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){var l=new H("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+a+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lu||(lu=!0,setTimeout(function(){throw l},0)),l}}return u}function w(){return"undefined"!=typeof window?window:null}function D(){return"undefined"!=typeof document?document:null}var x=function(){function u(o,a,l,h,g){this.cs=o,this.dn=a,this.us=l,this.op=h,this.hs=g,this.ls=new fn,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(y){})}return u._s=function(o,a,l,h,g){var y=new u(o,a,Date.now()+l,h,g);return y.start(l),y},u.prototype.start=function(o){var a=this;this.fs=setTimeout(function(){return a.ds()},o)},u.prototype.pn=function(){return this.ds()},u.prototype.cancel=function(o){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new H($.CANCELLED,"Operation cancelled"+(o?": "+o:""))))},u.prototype.ds=function(){var o=this;this.cs.ws(function(){return null!==o.fs?(o.clearTimeout(),o.op().then(function(a){return o.ls.resolve(a)})):Promise.resolve()})},u.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},u}(),B=function(){function u(){var o=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new cu(this,"async_queue_retry"),this.Vs=function(){var l=D();l&&Z("AsyncQueue","Visibility state changed to  ",l.visibilityState),o.ys.Vn()};var a=D();a&&"function"==typeof a.addEventListener&&a.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(u.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),u.prototype.ws=function(o){this.enqueue(o)},u.prototype.bs=function(o){this.vs(),this.Ss(o)},u.prototype.Ds=function(){if(!this.Is){this.Is=!0;var o=D();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Vs)}},u.prototype.enqueue=function(o){return this.vs(),this.Is?new Promise(function(a){}):this.Ss(o)},u.prototype.Cs=function(o){var a=this;this.ws(function(){return a.Es.push(o),a.Ns()})},u.prototype.Ns=function(){return k.__awaiter(this,void 0,void 0,function(){var o,a=this;return k.__generator(this,function(l){switch(l.label){case 0:if(0===this.Es.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return l.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Do(o=l.sent()))throw o;return Z("AsyncQueue","Operation failed with retryable error: "+o),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return a.Ns()}),l.label=5;case 5:return[2]}})})},u.prototype.Ss=function(o){var a=this,l=this.Ts.then(function(){return a.gs=!0,o().catch(function(h){throw a.Rs=h,a.gs=!1,pe("INTERNAL UNHANDLED ERROR: ",(y=(g=h).message||"",g.stack&&(y=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),y)),h;var g,y}).then(function(h){return a.gs=!1,h})});return this.Ts=l,l},u.prototype.yn=function(o,a,l){var h=this;this.vs(),this.Ps.indexOf(o)>-1&&(a=0);var g=x._s(this,o,a,l,function(y){return h.Fs(y)});return this.As.push(g),g},u.prototype.vs=function(){this.Rs&&me()},u.prototype.xs=function(){},u.prototype.$s=function(){return k.__awaiter(this,void 0,void 0,function(){var o;return k.__generator(this,function(a){switch(a.label){case 0:return[4,o=this.Ts];case 1:a.sent(),a.label=2;case 2:if(o!==this.Ts)return[3,0];a.label=3;case 3:return[2]}})})},u.prototype.ks=function(o){for(var a=0,l=this.As;a<l.length;a++)if(l[a].dn===o)return!0;return!1},u.prototype.Ms=function(o){var a=this;return this.$s().then(function(){a.As.sort(function(y,v){return y.us-v.us});for(var l=0,h=a.As;l<h.length;l++){var g=h[l];if(g.pn(),"all"!==o&&g.dn===o)break}return a.$s()})},u.prototype.Os=function(o){this.Ps.push(o)},u.prototype.Fs=function(o){var a=this.As.indexOf(o);this.As.splice(a,1)},u}();function ee(u,o){if(pe("AsyncQueue",o+": "+u),Do(u))return new H($.UNAVAILABLE,o+": "+u);throw u}var Ae=function(){this.Ls=void 0,this.listeners=[]},Ge=function(){this.Bs=new uo(function(u){return gl(u)},bo),this.onlineState="Unknown",this.qs=new Set};function bt(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l,h,g,y,v,C;return k.__generator(this,function(A){switch(A.label){case 0:if(a=de(u),h=!1,(g=a.Bs.get(l=o.query))||(h=!0,g=new Ae),!h)return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),y=g,[4,a.Us(l)];case 2:return y.Ls=A.sent(),[3,4];case 3:return v=A.sent(),C=ee(v,"Initialization of query '"+su(o.query)+"' failed"),[2,void o.onError(C)];case 4:return a.Bs.set(l,g),g.listeners.push(o),o.Qs(a.onlineState),g.Ls&&o.Ws(g.Ls)&&wa(a),[2]}})})}function Zn(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l,h,g,y;return k.__generator(this,function(v){return a=de(u),h=!1,(g=a.Bs.get(l=o.query))&&(y=g.listeners.indexOf(o))>=0&&(g.listeners.splice(y,1),h=0===g.listeners.length),h?[2,(a.Bs.delete(l),a.js(l))]:[2]})})}function Nr(u,o){for(var a=de(u),l=!1,h=0,g=o;h<g.length;h++){var y=g[h],C=a.Bs.get(y.query);if(C){for(var A=0,P=C.listeners;A<P.length;A++)P[A].Ws(y)&&(l=!0);C.Ls=y}}l&&wa(a)}function hn(u,o,a){var l=de(u),h=l.Bs.get(o);if(h)for(var g=0,y=h.listeners;g<y.length;g++)y[g].onError(a);l.Bs.delete(o)}function wa(u){u.qs.forEach(function(o){o.next()})}var To=function(){function u(o,a,l){this.query=o,this.Ks=a,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=l||{}}return u.prototype.Ws=function(o){if(!this.options.includeMetadataChanges){for(var a=[],l=0,h=o.docChanges;l<h.length;l++){var g=h[l];3!==g.type&&a.push(g)}o=new zi(o.query,o.docs,o.Qt,a,o.Wt,o.fromCache,o.jt,!0)}var y=!1;return this.Gs?this.Hs(o)&&(this.Ks.next(o),y=!0):this.Ys(o,this.onlineState)&&(this.Js(o),y=!0),this.zs=o,y},u.prototype.onError=function(o){this.Ks.error(o)},u.prototype.Qs=function(o){this.onlineState=o;var a=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,o)&&(this.Js(this.zs),a=!0),a},u.prototype.Ys=function(o,a){return!o.fromCache||!(this.options.Xs&&"Offline"!==a||o.docs.m()&&"Offline"!==a)},u.prototype.Hs=function(o){return o.docChanges.length>0||!!(o.jt||this.zs&&this.zs.hasPendingWrites!==o.hasPendingWrites)&&!0===this.options.includeMetadataChanges},u.prototype.Js=function(o){o=zi.Gt(o.query,o.docs,o.Wt,o.fromCache),this.Gs=!0,this.Ks.next(o)},u}(),xn=function(){function u(o){this.uid=o}return u.prototype.Zs=function(){return null!=this.uid},u.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},u.prototype.isEqual=function(o){return o.uid===this.uid},u}();xn.UNAUTHENTICATED=new xn(null),xn.ei=new xn("google-credentials-uid"),xn.ni=new xn("first-party-uid");var en=function(){function u(o,a){var l=this;this.previousValue=o,a&&(a.si=function(h){return l.ii(h)},this.ri=function(h){return a.oi(h)})}return u.prototype.ii=function(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue},u.prototype.next=function(){var o=++this.previousValue;return this.ri&&this.ri(o),o},u}();function fu(u,o){return"firestore_clients_"+u+"_"+o}function vl(u,o,a){var l="firestore_mutations_"+u+"_"+a;return o.Zs()&&(l+="_"+o.uid),l}function oh(u,o){return"firestore_targets_"+u+"_"+o}en.ai=-1;var ns=function(){function u(o,a,l,h){this.user=o,this.batchId=a,this.state=l,this.error=h}return u.ci=function(o,a,l){var h=JSON.parse(l),g="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error),y=void 0;return g&&h.error&&(g="string"==typeof h.error.message&&"string"==typeof h.error.code)&&(y=new H(h.error.code,h.error.message)),g?new u(o,a,h.state,y):(pe("SharedClientState","Failed to parse mutation state for ID '"+a+"': "+l),null)},u.prototype.ui=function(){var o={state:this.state,updateTimeMs:Date.now()};return this.error&&(o.error={code:this.error.code,message:this.error.message}),JSON.stringify(o)},u}(),wl=function(){function u(o,a,l){this.targetId=o,this.state=a,this.error=l}return u.ci=function(o,a){var l=JSON.parse(a),h="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error),g=void 0;return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code)&&(g=new H(l.error.code,l.error.message)),h?new u(o,l.state,g):(pe("SharedClientState","Failed to parse target state for ID '"+o+"': "+a),null)},u.prototype.ui=function(){var o={state:this.state,updateTimeMs:Date.now()};return this.error&&(o.error={code:this.error.code,message:this.error.message}),JSON.stringify(o)},u}(),bl=function(){function u(o,a){this.clientId=o,this.activeTargetIds=a}return u.ci=function(o,a){for(var l=JSON.parse(a),h="object"==typeof l&&l.activeTargetIds instanceof Array,g=Ts(),y=0;h&&y<l.activeTargetIds.length;++y)h=W(l.activeTargetIds[y]),g=g.add(l.activeTargetIds[y]);return h?new u(o,g):(pe("SharedClientState","Failed to parse client data for instance '"+o+"': "+a),null)},u}(),at=function(){function u(o,a){this.clientId=o,this.onlineState=a}return u.ci=function(o){var a=JSON.parse(o);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new u(a.clientId,a.onlineState):(pe("SharedClientState","Failed to parse online state: "+o),null)},u}(),np=function(){function u(){this.activeTargetIds=Ts()}return u.prototype.hi=function(o){this.activeTargetIds=this.activeTargetIds.add(o)},u.prototype.li=function(o){this.activeTargetIds=this.activeTargetIds.delete(o)},u.prototype.ui=function(){var o={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(o)},u}(),sh=function(){function u(o,a,l,h,g){this.window=o,this.fn=a,this.persistenceKey=l,this._i=h,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new We(Ve),this.Ei=!1,this.Ii=[];var y=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.Ai=fu(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new np),this.gi=new RegExp("^firestore_clients_"+y+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+y+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+y+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return u.Ln=function(o){return!(!o||!o.localStorage)},u.prototype.start=function(){return k.__awaiter(this,void 0,void 0,function(){var o,a,l,h,g,y,v,C,A,P,j=this;return k.__generator(this,function(Q){switch(Q.label){case 0:return[4,this.fi.pi()];case 1:for(o=Q.sent(),a=0,l=o;a<l.length;a++)(h=l[a])!==this._i&&(g=this.getItem(fu(this.persistenceKey,h)))&&(y=bl.ci(h,g))&&(this.Ti=this.Ti.ot(y.clientId,y));for(this.bi(),(v=this.storage.getItem(this.Vi))&&(C=this.vi(v))&&this.Si(C),A=0,P=this.Ii;A<P.length;A++)this.mi(P[A]);return this.Ii=[],this.window.addEventListener("unload",function(){return j.Di()}),this.Ei=!0,[2]}})})},u.prototype.oi=function(o){this.setItem(this.Ri,JSON.stringify(o))},u.prototype.Ci=function(){return this.Ni(this.Ti)},u.prototype.Fi=function(o){var a=!1;return this.Ti.forEach(function(l,h){h.activeTargetIds.has(o)&&(a=!0)}),a},u.prototype.xi=function(o){this.$i(o,"pending")},u.prototype.ki=function(o,a,l){this.$i(o,a,l),this.Mi(o)},u.prototype.Oi=function(o){var a="not-current";if(this.Fi(o)){var l=this.storage.getItem(oh(this.persistenceKey,o));if(l){var h=wl.ci(o,l);h&&(a=h.state)}}return this.Li.hi(o),this.bi(),a},u.prototype.Bi=function(o){this.Li.li(o),this.bi()},u.prototype.qi=function(o){return this.Li.activeTargetIds.has(o)},u.prototype.Ui=function(o){this.removeItem(oh(this.persistenceKey,o))},u.prototype.Qi=function(o,a,l){this.Wi(o,a,l)},u.prototype.ji=function(o,a,l){var h=this;a.forEach(function(g){h.Mi(g)}),this.currentUser=o,l.forEach(function(g){h.xi(g)})},u.prototype.Ki=function(o){this.Gi(o)},u.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},u.prototype.getItem=function(o){var a=this.storage.getItem(o);return Z("SharedClientState","READ",o,a),a},u.prototype.setItem=function(o,a){Z("SharedClientState","SET",o,a),this.storage.setItem(o,a)},u.prototype.removeItem=function(o){Z("SharedClientState","REMOVE",o),this.storage.removeItem(o)},u.prototype.mi=function(o){var a=this,l=o;if(l.storageArea===this.storage){if(Z("SharedClientState","EVENT",l.key,l.newValue),l.key===this.Ai)return void pe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return k.__awaiter(a,void 0,void 0,function(){var h,g,y,v,C,A;return k.__generator(this,function(P){if(this.Ei){if(null!==l.key)if(this.gi.test(l.key)){if(null==l.newValue)return h=this.zi(l.key),[2,this.Hi(h,null)];if(g=this.Yi(l.key,l.newValue))return[2,this.Hi(g.clientId,g)]}else if(this.Pi.test(l.key)){if(null!==l.newValue&&(y=this.Ji(l.key,l.newValue)))return[2,this.Xi(y)]}else if(this.yi.test(l.key)){if(null!==l.newValue&&(v=this.Zi(l.key,l.newValue)))return[2,this.tr(v)]}else if(l.key===this.Vi){if(null!==l.newValue&&(C=this.vi(l.newValue)))return[2,this.Si(C)]}else l.key===this.Ri&&(A=function(U){var j=en.ai;if(null!=U)try{var Q=JSON.parse(U);Ce("number"==typeof Q),j=Q}catch(te){pe("SharedClientState","Failed to read sequence number from WebStorage",te)}return j}(l.newValue))!==en.ai&&this.si(A)}else this.Ii.push(l);return[2]})})})}},Object.defineProperty(u.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),u.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},u.prototype.$i=function(o,a,l){var h=new ns(this.currentUser,o,a,l),g=vl(this.persistenceKey,this.currentUser,o);this.setItem(g,h.ui())},u.prototype.Mi=function(o){var a=vl(this.persistenceKey,this.currentUser,o);this.removeItem(a)},u.prototype.Gi=function(o){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:o}))},u.prototype.Wi=function(o,a,l){var h=oh(this.persistenceKey,o),g=new wl(o,a,l);this.setItem(h,g.ui())},u.prototype.zi=function(o){var a=this.gi.exec(o);return a?a[1]:null},u.prototype.Yi=function(o,a){var l=this.zi(o);return bl.ci(l,a)},u.prototype.Ji=function(o,a){var l=this.Pi.exec(o),h=Number(l[1]);return ns.ci(new xn(void 0!==l[2]?l[2]:null),h,a)},u.prototype.Zi=function(o,a){var l=this.yi.exec(o),h=Number(l[1]);return wl.ci(h,a)},u.prototype.vi=function(o){return at.ci(o)},u.prototype.Xi=function(o){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){return o.user.uid===this.currentUser.uid?[2,this.fi.er(o.batchId,o.state,o.error)]:(Z("SharedClientState","Ignoring mutation for non-active user "+o.user.uid),[2])})})},u.prototype.tr=function(o){return this.fi.nr(o.targetId,o.state,o.error)},u.prototype.Hi=function(o,a){var l=this,h=a?this.Ti.ot(o,a):this.Ti.remove(o),g=this.Ni(this.Ti),y=this.Ni(h),v=[],C=[];return y.forEach(function(A){g.has(A)||v.push(A)}),g.forEach(function(A){y.has(A)||C.push(A)}),this.fi.sr(v,C).then(function(){l.Ti=h})},u.prototype.Si=function(o){this.Ti.get(o.clientId)&&this.di(o.onlineState)},u.prototype.Ni=function(o){var a=Ts();return o.forEach(function(l,h){a=a.kt(h.activeTargetIds)}),a},u}(),ah=function(){function u(){this.ir=new np,this.rr={},this.di=null,this.si=null}return u.prototype.xi=function(o){},u.prototype.ki=function(o,a,l){},u.prototype.Oi=function(o){return this.ir.hi(o),this.rr[o]||"not-current"},u.prototype.Qi=function(o,a,l){this.rr[o]=a},u.prototype.Bi=function(o){this.ir.li(o)},u.prototype.qi=function(o){return this.ir.activeTargetIds.has(o)},u.prototype.Ui=function(o){delete this.rr[o]},u.prototype.Ci=function(){return this.ir.activeTargetIds},u.prototype.Fi=function(o){return this.ir.activeTargetIds.has(o)},u.prototype.start=function(){return this.ir=new np,Promise.resolve()},u.prototype.ji=function(o,a,l){},u.prototype.Ki=function(o){},u.prototype.Di=function(){},u.prototype.oi=function(o){},u}(),uh=function(){function u(o,a,l,h){this.batchId=o,this.ar=a,this.baseMutations=l,this.mutations=h}return u.prototype.cr=function(o,a,l){for(var h=l.ur,g=0;g<this.mutations.length;g++){var y=this.mutations[g];y.key.isEqual(o)&&(a=pa(y,a,h[g]))}return a},u.prototype.hr=function(o,a){for(var l=0,h=this.baseMutations;l<h.length;l++){var g=h[l];g.key.isEqual(o)&&(a=go(g,a,a,this.ar))}for(var y=a,v=0,C=this.mutations;v<C.length;v++){var A=C[v];A.key.isEqual(o)&&(a=go(A,a,y,this.ar))}return a},u.prototype.lr=function(o){var a=this,l=o;return this.mutations.forEach(function(h){var g=a.hr(h.key,o.get(h.key));g&&(l=l.ot(h.key,g))}),l},u.prototype.keys=function(){return this.mutations.reduce(function(o,a){return o.add(a.key)},xe())},u.prototype.isEqual=function(o){return this.batchId===o.batchId&&mn(this.mutations,o.mutations,function(a,l){return ga(a,l)})&&mn(this.baseMutations,o.baseMutations,function(a,l){return ga(a,l)})},u}(),rp=function(){function u(o,a,l,h){this.batch=o,this._r=a,this.ur=l,this.dr=h}return u.from=function(o,a,l){Ce(o.mutations.length===l.length);for(var h=ol,g=o.mutations,y=0;y<g.length;y++)h=h.ot(g[y].key,l[y].version);return new u(o,a,l,h)},u}(),ip=function(){function u(){this.wr=new uo(function(o){return o.toString()},function(o,a){return o.isEqual(a)}),this.mr=!1}return Object.defineProperty(u.prototype,"readTime",{get:function(){return this.Tr},set:function(o){this.Tr=o},enumerable:!1,configurable:!0}),u.prototype.Er=function(o,a){this.Ir(),this.readTime=a,this.wr.set(o.key,o)},u.prototype.Ar=function(o,a){this.Ir(),a&&(this.readTime=a),this.wr.set(o,null)},u.prototype.Rr=function(o,a){this.Ir();var l=this.wr.get(a);return void 0!==l?we.resolve(l):this.gr(o,a)},u.prototype.getEntries=function(o,a){return this.Pr(o,a)},u.prototype.apply=function(o){return this.Ir(),this.mr=!0,this.yr(o)},u.prototype.Ir=function(){},u}(),op="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",he=function(){function u(){this.Vr=[]}return u.prototype.pr=function(o){this.Vr.push(o)},u.prototype.br=function(){this.Vr.forEach(function(o){return o()})},u}(),Ft=function(){function u(o,a,l){this.vr=o,this.Sr=a,this.Dr=l}return u.prototype.Cr=function(o,a){var l=this;return this.Sr.Nr(o,a).next(function(h){return l.Fr(o,a,h)})},u.prototype.Fr=function(o,a,l){return this.vr.Rr(o,a).next(function(h){for(var g=0,y=l;g<y.length;g++)h=y[g].hr(a,h);return h})},u.prototype.$r=function(o,a,l){var h=Zo();return a.forEach(function(g,y){for(var v=0,C=l;v<C.length;v++)y=C[v].hr(g,y);h=h.ot(g,y)}),h},u.prototype.kr=function(o,a){var l=this;return this.vr.getEntries(o,a).next(function(h){return l.Mr(o,h)})},u.prototype.Mr=function(o,a){var l=this;return this.Sr.Or(o,a).next(function(h){var g=l.$r(o,a,h),y=Be();return g.forEach(function(v,C){C||(C=new ln(v,et.min())),y=y.ot(v,C)}),y})},u.prototype.Lr=function(o,a,l){return S.F((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Br(o,a.path):Oi(a)?this.qr(o,a,l):this.Ur(o,a,l);var h},u.prototype.Br=function(o,a){return this.Cr(o,new S(a)).next(function(l){var h=Tr();return l instanceof Ot&&(h=h.ot(l.key,l)),h})},u.prototype.qr=function(o,a,l){var h=this,g=a.collectionGroup,y=Tr();return this.Dr.Qr(o,g).next(function(v){return we.forEach(v,function(C){var P,U,A=(P=a,U=C.child(g),new Wi(U,null,P.on.slice(),P.filters.slice(),P.limit,P.an,P.startAt,P.endAt));return h.Ur(o,A,l).next(function(P){P.forEach(function(U,j){y=y.ot(U,j)})})}).next(function(){return y})})},u.prototype.Ur=function(o,a,l){var h,g,y=this;return this.vr.Lr(o,a,l).next(function(v){return h=v,y.Sr.Wr(o,a)}).next(function(v){return y.jr(o,g=v,h).next(function(C){h=C;for(var A=0,P=g;A<P.length;A++)for(var U=P[A],j=0,Q=U.mutations;j<Q.length;j++){var te=Q[j],ae=te.key,ve=h.get(ae),Me=go(te,ve,ve,U.ar);h=Me instanceof Ot?h.ot(ae,Me):h.remove(ae)}})}).next(function(){return h.forEach(function(v,C){ts(a,C)||(h=h.remove(v))}),h})},u.prototype.jr=function(o,a,l){for(var h=xe(),g=0,y=a;g<y.length;g++)for(var v=0,C=y[g].mutations;v<C.length;v++){var A=C[v];A instanceof _r&&null===l.get(A.key)&&(h=h.add(A.key))}var P=l;return this.vr.getEntries(o,h).next(function(U){return U.forEach(function(j,Q){null!==Q&&Q instanceof Ot&&(P=P.ot(j,Q))}),P})},u}(),sp=function(){function u(o,a,l,h){this.targetId=o,this.fromCache=a,this.Kr=l,this.Gr=h}return u.zr=function(o,a){for(var l=xe(),h=xe(),g=0,y=a.docChanges;g<y.length;g++){var v=y[g];switch(v.type){case 0:l=l.add(v.doc.key);break;case 1:h=h.add(v.doc.key)}}return new u(o,a.fromCache,l,h)},u}();function Gn(u,o){var l=u[1],g=o[1],y=Ve(u[0],o[0]);return 0===y?Ve(l,g):y}var ap=function(){function u(o){this.Hr=o,this.buffer=new yn(Gn),this.Yr=0}return u.prototype.Jr=function(){return++this.Yr},u.prototype.Xr=function(o){var a=[o,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(a);else{var l=this.buffer.last();Gn(a,l)<0&&(this.buffer=this.buffer.delete(l).add(a))}},Object.defineProperty(u.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),u}(),hu={Zr:!1,eo:0,no:0,so:0},Kt=function(){function u(o,a,l){this.io=o,this.ro=a,this.oo=l}return u.ao=function(o){return new u(o,u.co,u.uo)},u}();Kt.ho=-1,Kt.lo=1048576,Kt._o=41943040,Kt.co=10,Kt.uo=1e3,Kt.fo=new Kt(Kt._o,Kt.co,Kt.uo),Kt.do=new Kt(Kt.ho,0,0);var ch=function(){function u(o,a){this.wo=o,this.cs=a,this.mo=!1,this.To=null}return u.prototype.start=function(o){this.wo.params.io!==Kt.ho&&this.Eo(o)},u.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(u.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),u.prototype.Eo=function(o){var a=this,l=this.mo?3e5:6e4;Z("LruGarbageCollector","Garbage collection scheduled in "+l+"ms"),this.To=this.cs.yn("lru_garbage_collection",l,function(){return k.__awaiter(a,void 0,void 0,function(){var h;return k.__generator(this,function(g){switch(g.label){case 0:this.To=null,this.mo=!0,g.label=1;case 1:return g.trys.push([1,3,,7]),[4,o.Io(this.wo)];case 2:return g.sent(),[3,7];case 3:return Do(h=g.sent())?(Z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h),[3,6]):[3,4];case 4:return[4,xo(h)];case 5:g.sent(),g.label=6;case 6:return[3,7];case 7:return[4,this.Eo(o)];case 8:return g.sent(),[2]}})})})},u}(),lh=function(){function u(o,a){this.Ao=o,this.params=a}return u.prototype.Ro=function(o,a){return this.Ao.Po(o).next(function(l){return Math.floor(a/100*l)})},u.prototype.yo=function(o,a){var l=this;if(0===a)return we.resolve(en.ai);var h=new ap(a);return this.Ao.Ce(o,function(g){return h.Xr(g.sequenceNumber)}).next(function(){return l.Ao.Vo(o,function(g){return h.Xr(g)})}).next(function(){return h.maxValue})},u.prototype.po=function(o,a,l){return this.Ao.po(o,a,l)},u.prototype.bo=function(o,a){return this.Ao.bo(o,a)},u.prototype.vo=function(o,a){var l=this;return this.params.io===Kt.ho?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(hu)):this.So(o).next(function(h){return h<l.params.io?(Z("LruGarbageCollector","Garbage collection skipped; Cache size "+h+" is lower than threshold "+l.params.io),hu):l.Do(o,a)})},u.prototype.So=function(o){return this.Ao.So(o)},u.prototype.Do=function(o,a){var l,h,g,y,v,C,A,P=this,U=Date.now();return this.Ro(o,this.params.ro).next(function(j){return j>P.params.oo?(Z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+P.params.oo+" from "+j),h=P.params.oo):h=j,y=Date.now(),P.yo(o,h)}).next(function(j){return l=j,v=Date.now(),P.po(o,l,a)}).next(function(j){return g=j,C=Date.now(),P.bo(o,l)}).next(function(j){return A=Date.now(),Ee()<=$e.LogLevel.DEBUG&&Z("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(y-U)+"ms\n\tDetermined least recently used "+h+" in "+(v-y)+"ms\n\tRemoved "+g+" targets in "+(C-v)+"ms\n\tRemoved "+j+" documents in "+(A-C)+"ms\nTotal Duration: "+(A-U)+"ms"),we.resolve({Zr:!0,eo:h,no:g,so:j})})},u}();function So(u){for(var o="",a=0;a<u.length;a++)o.length>0&&(o=uc(o)),o=Wm(u.get(a),o);return uc(o)}function Wm(u,o){for(var a=o,l=u.length,h=0;h<l;h++){var g=u.charAt(h);switch(g){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=g}}return a}function uc(u){return u+"\x01\x01"}function Ri(u){var o=u.length;if(Ce(o>=2),2===o)return Ce("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),st.P();for(var a=o-2,l=[],h="",g=0;g<o;){var y=u.indexOf("\x01",g);switch((y<0||y>a)&&me(),u.charAt(y+1)){case"\x01":var v=u.substring(g,y),C=void 0;0===h.length?C=v:(C=h+=v,h=""),l.push(C);break;case"\x10":h+=u.substring(g,y),h+="\0";break;case"\x11":h+=u.substring(g,y+1);break;default:me()}g=y+2}return new st(l)}var Hr=function(u){this.Co=u};function Pi(u,o){if(o.document)return C=!!o.hasCommittedMutations,A=gi(u.Co,(v=o.document).name),P=Ni(v.updateTime),U=new vo({mapValue:{fields:v.fields}}),new Ot(A,P,U,{hasCommittedMutations:!!C});var v,C,A,P,U;if(o.noDocument){var a=S.$(o.noDocument.path),l=cc(o.noDocument.readTime);return new ln(a,l,{hasCommittedMutations:!!o.hasCommittedMutations})}if(o.unknownDocument){var h=S.$(o.unknownDocument.path),g=cc(o.unknownDocument.version);return new kn(h,g)}return me()}function fh(u,o,a){var j,Q,l=Ns(a),h=o.key.path.h().A();if(o instanceof Ot){var g={name:lo(j=u.Co,(Q=o).key),fields:Q.rn().mapValue.fields,updateTime:eu(j,Q.version.Z())};return new dn(null,null,g,o.hasCommittedMutations,l,h)}if(o instanceof ln){var v=o.key.path.A(),C=El(o.version),A=o.hasCommittedMutations;return new dn(null,new Km(v,C),null,A,l,h)}if(o instanceof kn){var P=o.key.path.A(),U=El(o.version);return new dn(new Ym(P,U),null,null,!0,l,h)}return me()}function Ns(u){var o=u.Z();return[o.seconds,o.nanoseconds]}function Ao(u){var o=new Lt(u[0],u[1]);return et.J(o)}function El(u){var o=u.Z();return new Mn(o.seconds,o.nanoseconds)}function cc(u){var o=new Lt(u.seconds,u.nanoseconds);return et.J(o)}function du(u,o){var a=(o.baseMutations||[]).map(function(g){return Mt(u.Co,g)}),l=o.mutations.map(function(g){return Mt(u.Co,g)}),h=Lt.fromMillis(o.localWriteTimeMs);return new uh(o.batchId,h,a,l)}function lc(u){var o,a,l=cc(u.readTime),h=void 0!==u.lastLimboFreeSnapshotVersion?cc(u.lastLimboFreeSnapshotVersion):et.min();return void 0!==u.query.documents?(Ce(1===(a=u.query).documents.length),o=Jr(ar(fl(a.documents[0])))):o=ca(u.query),new jt(o,u.targetId,0,u.lastListenSequenceNumber,l,h,_t.fromBase64String(u.resumeToken))}function Cl(u,o){var a,l=El(o.nt),h=El(o.lastLimboFreeSnapshotVersion);a=ft(o.target)?Jo(u.Co,o.target):ru(u.Co,o.target);var g=o.resumeToken.toBase64();return new wr(o.targetId,Y(o.target),l,g,o.sequenceNumber,h,a)}var hh=function(){function u(o,a,l,h){this.userId=o,this.serializer=a,this.Dr=l,this.No=h,this.Fo={}}return u.xo=function(o,a,l,h){return Ce(""!==o.uid),new u(o.Zs()?o.uid:"",a,l,h)},u.prototype.$o=function(o){var a=!0,l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Os(o).rs({index:rn.userMutationsIndex,range:l},function(h,g,y){a=!1,y.done()}).next(function(){return a})},u.prototype.ko=function(o,a,l,h){var g=this,y=ba(o),v=Os(o);return v.add({}).next(function(C){Ce("number"==typeof C);for(var A=new uh(C,a,l,h),P=function(Me,Qe,ut){var It=ut.baseMutations.map(function(pn){return Zr(Me.Co,pn)}),Yt=ut.mutations.map(function(pn){return Zr(Me.Co,pn)});return new rn(Qe,ut.batchId,ut.ar.toMillis(),It,Yt)}(g.serializer,g.userId,A),U=[],j=new yn(function(Me,Qe){return Ve(Me.R(),Qe.R())}),Q=0,te=h;Q<te.length;Q++){var ae=te[Q],ve=Or.key(g.userId,ae.key.path,C);j=j.add(ae.key.path.h()),U.push(v.put(P)),U.push(y.put(ve,Or.PLACEHOLDER))}return j.forEach(function(Me){U.push(g.Dr.Mo(o,Me))}),o.pr(function(){g.Fo[C]=A.keys()}),we.$n(U).next(function(){return A})})},u.prototype.Oo=function(o,a){var l=this;return Os(o).get(a).next(function(h){return h?(Ce(h.userId===l.userId),du(l.serializer,h)):null})},u.prototype.Lo=function(o,a){var l=this;return this.Fo[a]?we.resolve(this.Fo[a]):this.Oo(o,a).next(function(h){if(h){var g=h.keys();return l.Fo[a]=g,g}return null})},u.prototype.Bo=function(o,a){var l=this,h=a+1,g=IDBKeyRange.lowerBound([this.userId,h]),y=null;return Os(o).rs({index:rn.userMutationsIndex,range:g},function(v,C,A){C.userId===l.userId&&(Ce(C.batchId>=h),y=du(l.serializer,C)),A.done()}).next(function(){return y})},u.prototype.qo=function(o){var a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),l=-1;return Os(o).rs({index:rn.userMutationsIndex,range:a,reverse:!0},function(h,g,y){l=g.batchId,y.done()}).next(function(){return l})},u.prototype.Uo=function(o){var a=this,l=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Os(o).ts(rn.userMutationsIndex,l).next(function(h){return h.map(function(g){return du(a.serializer,g)})})},u.prototype.Nr=function(o,a){var l=this,h=Or.prefixForPath(this.userId,a.path),g=IDBKeyRange.lowerBound(h),y=[];return ba(o).rs({range:g},function(v,C,A){var P=v[0],j=v[2],Q=Ri(v[1]);if(P===l.userId&&a.path.isEqual(Q))return Os(o).get(j).next(function(te){if(!te)throw me();Ce(te.userId===l.userId),y.push(du(l.serializer,te))});A.done()}).next(function(){return y})},u.prototype.Or=function(o,a){var l=this,h=new yn(Ve),g=[];return a.forEach(function(y){var v=Or.prefixForPath(l.userId,y.path),C=IDBKeyRange.lowerBound(v),A=ba(o).rs({range:C},function(P,U,j){var Q=P[0],ae=P[2],ve=Ri(P[1]);Q===l.userId&&y.path.isEqual(ve)?h=h.add(ae):j.done()});g.push(A)}),we.$n(g).next(function(){return l.Qo(o,h)})},u.prototype.Wr=function(o,a){var l=this,h=a.path,g=h.length+1,y=Or.prefixForPath(this.userId,h),v=IDBKeyRange.lowerBound(y),C=new yn(Ve);return ba(o).rs({range:v},function(A,P,U){var j=A[0],te=A[2],ae=Ri(A[1]);j===l.userId&&h.T(ae)?ae.length===g&&(C=C.add(te)):U.done()}).next(function(){return l.Qo(o,C)})},u.prototype.Qo=function(o,a){var l=this,h=[],g=[];return a.forEach(function(y){g.push(Os(o).get(y).next(function(v){if(null===v)throw me();Ce(v.userId===l.userId),h.push(du(l.serializer,v))}))}),we.$n(g).next(function(){return h})},u.prototype.Wo=function(o,a){var l=this;return Dl(o.jo,this.userId,a).next(function(h){return o.pr(function(){l.Ko(a.batchId)}),we.forEach(h,function(g){return l.No.Go(o,g)})})},u.prototype.Ko=function(o){delete this.Fo[o]},u.prototype.zo=function(o){var a=this;return this.$o(o).next(function(l){if(!l)return we.resolve();var h=IDBKeyRange.lowerBound(Or.prefixForUser(a.userId)),g=[];return ba(o).rs({range:h},function(y,v,C){if(y[0]===a.userId){var A=Ri(y[1]);g.push(A)}else C.done()}).next(function(){Ce(0===g.length)})})},u.prototype.Ho=function(o,a){return dh(o,this.userId,a)},u.prototype.Yo=function(o){var a=this;return fc(o).get(this.userId).next(function(l){return l||new Ps(a.userId,-1,"")})},u}();function dh(u,o,a){var l=Or.prefixForPath(o,a.path),h=l[1],g=IDBKeyRange.lowerBound(l),y=!1;return ba(u).rs({range:g,ss:!0},function(v,C,A){v[0]===o&&v[1]===h&&(y=!0),A.done()}).next(function(){return y})}function Dl(u,o,a){var l=u.store(rn.store),h=u.store(Or.store),g=[],y=IDBKeyRange.only(a.batchId),v=0,C=l.rs({range:y},function(te,ae,ve){return v++,ve.delete()});g.push(C.next(function(){Ce(1===v)}));for(var A=[],P=0,U=a.mutations;P<U.length;P++){var j=U[P],Q=Or.key(o,j.key.path,a.batchId);g.push(h.delete(Q)),A.push(j.key)}return we.$n(g).next(function(){return A})}function Os(u){return ni.Qn(u,rn.store)}function ba(u){return ni.Qn(u,Or.store)}function fc(u){return ni.Qn(u,Ps.store)}var up=function(){function u(o,a){this.serializer=o,this.Dr=a}return u.prototype.Er=function(o,a,l){return rs(o).put(Ea(a),l)},u.prototype.Ar=function(o,a){var l=rs(o),h=Ea(a);return l.delete(h)},u.prototype.updateMetadata=function(o,a){var l=this;return this.getMetadata(o).next(function(h){return h.byteSize+=a,l.Jo(o,h)})},u.prototype.Rr=function(o,a){var l=this;return rs(o).get(Ea(a)).next(function(h){return l.Xo(h)})},u.prototype.Zo=function(o,a){var l=this;return rs(o).get(Ea(a)).next(function(h){var g=l.Xo(h);return g?{ta:g,size:Il(h)}:null})},u.prototype.getEntries=function(o,a){var l=this,h=Zo();return this.ea(o,a,function(g,y){var v=l.Xo(y);h=h.ot(g,v)}).next(function(){return h})},u.prototype.na=function(o,a){var l=this,h=Zo(),g=new We(S.i);return this.ea(o,a,function(y,v){var C=l.Xo(v);C?(h=h.ot(y,C),g=g.ot(y,Il(v))):(h=h.ot(y,null),g=g.ot(y,0))}).next(function(){return{sa:h,ia:g}})},u.prototype.ea=function(o,a,l){if(a.m())return we.resolve();var h=IDBKeyRange.bound(a.first().path.A(),a.last().path.A()),g=a._t(),y=g.It();return rs(o).rs({range:h},function(v,C,A){for(var P=S.$(v);y&&S.i(y,P)<0;)l(y,null),y=g.It();y&&y.isEqual(P)&&(l(y,C),y=g.At()?g.It():null),y?A.Xn(y.path.A()):A.done()}).next(function(){for(;y;)l(y,null),y=g.At()?g.It():null})},u.prototype.Lr=function(o,a,l){var h=this,g=Tr(),y=a.path.length+1,v={};if(l.isEqual(et.min())){var C=a.path.A();v.range=IDBKeyRange.lowerBound(C)}else{var A=a.path.A(),P=Ns(l);v.range=IDBKeyRange.lowerBound([A,P],!0),v.index=dn.collectionReadTimeIndex}return rs(o).rs(v,function(U,j,Q){if(U.length===y){var te=Pi(h.serializer,j);a.path.T(te.key.path)?te instanceof Ot&&ts(a,te)&&(g=g.ot(te.key,te)):Q.done()}}).next(function(){return g})},u.prototype.ra=function(o){return new cp(this,!!o&&o.oa)},u.prototype.aa=function(o){return this.getMetadata(o).next(function(a){return a.byteSize})},u.prototype.getMetadata=function(o){return ph(o).get(_i.key).next(function(a){return Ce(!!a),a})},u.prototype.Jo=function(o,a){return ph(o).put(_i.key,a)},u.prototype.Xo=function(o){if(o){var a=Pi(this.serializer,o);return a instanceof ln&&a.version.isEqual(et.min())?null:a}return null},u}(),cp=function(u){function o(a,l){var h=this;return(h=u.call(this)||this).ca=a,h.oa=l,h.ua=new uo(function(g){return g.toString()},function(g,y){return g.isEqual(y)}),h}return k.__extends(o,u),o.prototype.yr=function(a){var l=this,h=[],g=0,y=new yn(function(v,C){return Ve(v.R(),C.R())});return this.wr.forEach(function(v,C){var A=l.ua.get(v);if(C){var P=fh(l.ca.serializer,C,l.readTime);y=y.add(v.path.h());var U=Il(P);g+=U-A,h.push(l.ca.Er(a,v,P))}else if(g-=A,l.oa){var j=fh(l.ca.serializer,new ln(v,et.min()),l.readTime);h.push(l.ca.Er(a,v,j))}else h.push(l.ca.Ar(a,v))}),y.forEach(function(v){h.push(l.ca.Dr.Mo(a,v))}),h.push(this.ca.updateMetadata(a,g)),we.$n(h)},o.prototype.gr=function(a,l){var h=this;return this.ca.Zo(a,l).next(function(g){return null===g?(h.ua.set(l,0),null):(h.ua.set(l,g.size),g.ta)})},o.prototype.Pr=function(a,l){var h=this;return this.ca.na(a,l).next(function(g){var y=g.sa;return g.ia.forEach(function(v,C){h.ua.set(v,C)}),y})},o}(ip);function ph(u){return ni.Qn(u,_i.store)}function rs(u){return ni.Qn(u,dn.store)}function Ea(u){return u.path.A()}function Il(u){var o;if(u.document)o=u.document;else if(u.unknownDocument)o=u.unknownDocument;else{if(!u.noDocument)throw me();o=u.noDocument}return JSON.stringify(o).length}var Qm=function(){function u(){this.ha=new vr}return u.prototype.Mo=function(o,a){return this.ha.add(a),we.resolve()},u.prototype.Qr=function(o,a){return we.resolve(this.ha.getEntries(a))},u}(),vr=function(){function u(){this.index={}}return u.prototype.add=function(o){var a=o._(),l=o.h(),h=this.index[a]||new yn(st.i),g=!h.has(l);return this.index[a]=h.add(l),g},u.prototype.has=function(o){var a=o._(),l=o.h(),h=this.index[a];return h&&h.has(l)},u.prototype.getEntries=function(o){return(this.index[o]||new yn(st.i)).A()},u}(),Rs=function(){function u(o){this.serializer=o}return u.prototype.createOrUpgrade=function(o,a,l,h){var g=this;Ce(l<h&&l>=0&&h<=10);var C,y=new Mr("createOrUpgrade",a);l<1&&h>=1&&(o.createObjectStore($r.store),(C=o).createObjectStore(Ps.store,{keyPath:Ps.keyPath}),C.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0}),C.createObjectStore(Or.store),is(o),function(C){C.createObjectStore(dn.store)}(o));var v=we.resolve();return l<3&&h>=3&&(0!==l&&(function(C){C.deleteObjectStore(Xn.store),C.deleteObjectStore(wr.store),C.deleteObjectStore(ti.store)}(o),is(o)),v=v.next(function(){return function(C){var A=C.store(ti.store),P=new ti(0,0,et.min().Z(),0);return A.put(ti.key,P)}(y)})),l<4&&h>=4&&(0!==l&&(v=v.next(function(){return function(C,A){return A.store(rn.store).ts().next(function(P){C.deleteObjectStore(rn.store),C.createObjectStore(rn.store,{keyPath:rn.keyPath,autoIncrement:!0}).createIndex(rn.userMutationsIndex,rn.userMutationsKeyPath,{unique:!0});var U=A.store(rn.store),j=P.map(function(Q){return U.put(Q)});return we.$n(j)})}(o,y)})),v=v.next(function(){!function(C){C.createObjectStore(vi.store,{keyPath:vi.keyPath})}(o)})),l<5&&h>=5&&(v=v.next(function(){return g.removeAcknowledgedMutations(y)})),l<6&&h>=6&&(v=v.next(function(){return function(C){C.createObjectStore(_i.store)}(o),g.addDocumentGlobal(y)})),l<7&&h>=7&&(v=v.next(function(){return g.ensureSequenceNumbers(y)})),l<8&&h>=8&&(v=v.next(function(){return g.createCollectionParentIndex(o,y)})),l<9&&h>=9&&(v=v.next(function(){(function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")})(o),function(C){var A=C.objectStore(dn.store);A.createIndex(dn.readTimeIndex,dn.readTimeIndexPath,{unique:!1}),A.createIndex(dn.collectionReadTimeIndex,dn.collectionReadTimeIndexPath,{unique:!1})}(a)})),l<10&&h>=10&&(v=v.next(function(){return g.rewriteCanonicalIds(y)})),v},u.prototype.addDocumentGlobal=function(o){var a=0;return o.store(dn.store).rs(function(l,h){a+=Il(h)}).next(function(){var l=new _i(a);return o.store(_i.store).put(_i.key,l)})},u.prototype.removeAcknowledgedMutations=function(o){var a=this,l=o.store(Ps.store),h=o.store(rn.store);return l.ts().next(function(g){return we.forEach(g,function(y){var v=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return h.ts(rn.userMutationsIndex,v).next(function(C){return we.forEach(C,function(A){Ce(A.userId===y.userId);var P=du(a.serializer,A);return Dl(o,y.userId,P).next(function(){})})})})})},u.prototype.ensureSequenceNumbers=function(o){var a=o.store(Xn.store),l=o.store(dn.store);return o.store(ti.store).get(ti.key).next(function(h){var g=[];return l.rs(function(y,v){var C=new st(y),A=[0,So(C)];g.push(a.get(A).next(function(P){return P?we.resolve():a.put(new Xn(0,So(C),h.highestListenSequenceNumber))}))}).next(function(){return we.$n(g)})})},u.prototype.createCollectionParentIndex=function(o,a){o.createObjectStore(Ca.store,{keyPath:Ca.keyPath});var l=a.store(Ca.store),h=new vr,g=function(y){if(h.add(y)){var v=y._(),C=y.h();return l.put({collectionId:v,parent:So(C)})}};return a.store(dn.store).rs({ss:!0},function(y,v){var C=new st(y);return g(C.h())}).next(function(){return a.store(Or.store).rs({ss:!0},function(y,v){var A=Ri(y[1]);return g(A.h())})})},u.prototype.rewriteCanonicalIds=function(o){var a=this,l=o.store(wr.store);return l.rs(function(h,g){var y=lc(g),v=Cl(a.serializer,y);return l.put(v)})},u}(),Mn=function(u,o){this.seconds=u,this.nanoseconds=o},$r=function(u,o,a){this.ownerId=u,this.allowTabSynchronization=o,this.leaseTimestampMs=a};$r.store="owner",$r.key="owner";var Ps=function(u,o,a){this.userId=u,this.lastAcknowledgedBatchId=o,this.lastStreamToken=a};Ps.store="mutationQueues",Ps.keyPath="userId";var rn=function(u,o,a,l,h){this.userId=u,this.batchId=o,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=h};rn.store="mutations",rn.keyPath="batchId",rn.userMutationsIndex="userMutationsIndex",rn.userMutationsKeyPath=["userId","batchId"];var Or=function(){function u(){}return u.prefixForUser=function(o){return[o]},u.prefixForPath=function(o,a){return[o,So(a)]},u.key=function(o,a,l){return[o,So(a),l]},u}();Or.store="documentMutations",Or.PLACEHOLDER=new Or;var Km=function(u,o){this.path=u,this.readTime=o},Ym=function(u,o){this.path=u,this.version=o},dn=function(u,o,a,l,h,g){this.unknownDocument=u,this.noDocument=o,this.document=a,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=g};dn.store="remoteDocuments",dn.readTimeIndex="readTimeIndex",dn.readTimeIndexPath="readTime",dn.collectionReadTimeIndex="collectionReadTimeIndex",dn.collectionReadTimeIndexPath=["parentPath","readTime"];var _i=function(u){this.byteSize=u};_i.store="remoteDocumentGlobal",_i.key="remoteDocumentGlobalKey";var wr=function(u,o,a,l,h,g,y){this.targetId=u,this.canonicalId=o,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=g,this.query=y};wr.store="targets",wr.keyPath="targetId",wr.queryTargetsIndexName="queryTargetsIndex",wr.queryTargetsKeyPath=["canonicalId","targetId"];var Xn=function(u,o,a){this.targetId=u,this.path=o,this.sequenceNumber=a};Xn.store="targetDocuments",Xn.keyPath=["targetId","path"],Xn.documentTargetsIndex="documentTargetsIndex",Xn.documentTargetsKeyPath=["path","targetId"];var ti=function(u,o,a,l){this.highestTargetId=u,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=a,this.targetCount=l};ti.key="targetGlobalKey",ti.store="targetGlobal";var Ca=function(u,o){this.collectionId=u,this.parent=o};function is(u){u.createObjectStore(Xn.store,{keyPath:Xn.keyPath}).createIndex(Xn.documentTargetsIndex,Xn.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.queryTargetsIndexName,wr.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(ti.store)}Ca.store="collectionParents",Ca.keyPath=["collectionId","parent"];var vi=function(u,o,a,l){this.clientId=u,this.updateTimeMs=o,this.networkEnabled=a,this.inForeground=l};vi.store="clientMetadata",vi.keyPath="clientId";var Zm=k.__spreadArrays(k.__spreadArrays(k.__spreadArrays([Ps.store,rn.store,Or.store,dn.store,wr.store,$r.store,ti.store,Xn.store],[vi.store]),[_i.store]),[Ca.store]),Xm=function(){function u(){this.la=new vr}return u.prototype.Mo=function(o,a){var l=this;if(!this.la.has(a)){var h=a._(),g=a.h();o.pr(function(){l.la.add(a)});var y={collectionId:h,parent:So(g)};return pu(o).put(y)}return we.resolve()},u.prototype.Qr=function(o,a){var l=[],h=IDBKeyRange.bound([a,""],[Ze(a),""],!1,!0);return pu(o).ts(h).next(function(g){for(var y=0,v=g;y<v.length;y++){var C=v[y];if(C.collectionId!==a)break;l.push(Ri(C.parent))}return l})},u}();function pu(u){return ni.Qn(u,Ca.store)}var gu=function(){function u(o){this._a=o}return u.prototype.next=function(){return this._a+=2,this._a},u.fa=function(){return new u(0)},u.da=function(){return new u(-1)},u}(),Jm=function(){function u(o,a){this.No=o,this.serializer=a}return u.prototype.wa=function(o){var a=this;return this.ma(o).next(function(l){var h=new gu(l.highestTargetId);return l.highestTargetId=h.next(),a.Ta(o,l).next(function(){return l.highestTargetId})})},u.prototype.Ea=function(o){return this.ma(o).next(function(a){return et.J(new Lt(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds))})},u.prototype.Ia=function(o){return this.ma(o).next(function(a){return a.highestListenSequenceNumber})},u.prototype.Aa=function(o,a,l){var h=this;return this.ma(o).next(function(g){return g.highestListenSequenceNumber=a,l&&(g.lastRemoteSnapshotVersion=l.Z()),a>g.highestListenSequenceNumber&&(g.highestListenSequenceNumber=a),h.Ta(o,g)})},u.prototype.Ra=function(o,a){var l=this;return this.ga(o,a).next(function(){return l.ma(o).next(function(h){return h.targetCount+=1,l.Pa(a,h),l.Ta(o,h)})})},u.prototype.ya=function(o,a){return this.ga(o,a)},u.prototype.Va=function(o,a){var l=this;return this.pa(o,a.targetId).next(function(){return mu(o).delete(a.targetId)}).next(function(){return l.ma(o)}).next(function(h){return Ce(h.targetCount>0),h.targetCount-=1,l.Ta(o,h)})},u.prototype.po=function(o,a,l){var h=this,g=0,y=[];return mu(o).rs(function(v,C){var A=lc(C);A.sequenceNumber<=a&&null===l.get(A.targetId)&&(g++,y.push(h.Va(o,A)))}).next(function(){return we.$n(y)}).next(function(){return g})},u.prototype.Ce=function(o,a){return mu(o).rs(function(l,h){var g=lc(h);a(g)})},u.prototype.ma=function(o){return ey(o).get(ti.key).next(function(a){return Ce(null!==a),a})},u.prototype.Ta=function(o,a){return ey(o).put(ti.key,a)},u.prototype.ga=function(o,a){return mu(o).put(Cl(this.serializer,a))},u.prototype.Pa=function(o,a){var l=!1;return o.targetId>a.highestTargetId&&(a.highestTargetId=o.targetId,l=!0),o.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=o.sequenceNumber,l=!0),l},u.prototype.ba=function(o){return this.ma(o).next(function(a){return a.targetCount})},u.prototype.va=function(o,a){var l=Y(a),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]),g=null;return mu(o).rs({range:h,index:wr.queryTargetsIndexName},function(y,v,C){var A=lc(v);Le(a,A.target)&&(g=A,C.done())}).next(function(){return g})},u.prototype.Sa=function(o,a,l){var h=this,g=[],y=Da(o);return a.forEach(function(v){var C=So(v.path);g.push(y.put(new Xn(l,C))),g.push(h.No.Da(o,l,v))}),we.$n(g)},u.prototype.Ca=function(o,a,l){var h=this,g=Da(o);return we.forEach(a,function(y){var v=So(y.path);return we.$n([g.delete([l,v]),h.No.Na(o,l,y)])})},u.prototype.pa=function(o,a){var l=Da(o),h=IDBKeyRange.bound([a],[a+1],!1,!0);return l.delete(h)},u.prototype.Fa=function(o,a){var l=IDBKeyRange.bound([a],[a+1],!1,!0),h=Da(o),g=xe();return h.rs({range:l,ss:!0},function(y,v,C){var A=Ri(y[1]),P=new S(A);g=g.add(P)}).next(function(){return g})},u.prototype.Ho=function(o,a){var l=So(a.path),h=IDBKeyRange.bound([l],[Ze(l)],!1,!0),g=0;return Da(o).rs({index:Xn.documentTargetsIndex,ss:!0,range:h},function(y,v,C){0!==y[0]&&(g++,C.done())}).next(function(){return g>0})},u.prototype.Ue=function(o,a){return mu(o).get(a).next(function(l){return l?lc(l):null})},u}();function mu(u){return ni.Qn(u,wr.store)}function ey(u){return ni.Qn(u,ti.store)}function Da(u){return ni.Qn(u,Xn.store)}var yu="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tl=function(u){function o(a,l){var h=this;return(h=u.call(this)||this).jo=a,h.xa=l,h}return k.__extends(o,u),o}(he),ni=function(){function u(o,a,l,h,g,y,v,C,A,P){if(this.allowTabSynchronization=o,this.persistenceKey=a,this.clientId=l,this.fn=g,this.window=y,this.document=v,this.$a=A,this.ka=P,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(U){return Promise.resolve()},!u.Ln())throw new H($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new lp(this,h),this.Wa=a+"main",this.serializer=new Hr(C),this.ja=new ei(this.Wa,10,new Rs(this.serializer)),this.Ka=new Jm(this.No,this.serializer),this.Dr=new Xm,this.vr=new up(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===P&&pe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return u.Qn=function(o,a){if(o instanceof Tl)return ei.Qn(o.jo,a);throw me()},u.prototype.start=function(){var o=this;return this.za().then(function(){if(!o.isPrimary&&!o.allowTabSynchronization)throw new H($.FAILED_PRECONDITION,yu);return o.Ha(),o.Ya(),o.Ja(),o.runTransaction("getHighestListenSequenceNumber","readonly",function(a){return o.Ka.Ia(a)})}).then(function(a){o.Ma=new en(a,o.$a)}).then(function(){o.Oa=!0}).catch(function(a){return o.ja&&o.ja.close(),Promise.reject(a)})},u.prototype.Xa=function(o){var a=this;return this.Qa=function(l){return k.__awaiter(a,void 0,void 0,function(){return k.__generator(this,function(h){return this.Ei?[2,o(l)]:[2]})})},o(this.isPrimary)},u.prototype.Za=function(o){var a=this;this.ja.Kn(function(l){return k.__awaiter(a,void 0,void 0,function(){return k.__generator(this,function(h){switch(h.label){case 0:return null===l.newVersion?[4,o()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})})},u.prototype.tc=function(o){var a=this;this.networkEnabled!==o&&(this.networkEnabled=o,this.fn.ws(function(){return k.__awaiter(a,void 0,void 0,function(){return k.__generator(this,function(l){switch(l.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})}))},u.prototype.za=function(){var o=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(a){return hc(a).put(new vi(o.clientId,Date.now(),o.networkEnabled,o.inForeground)).next(function(){if(o.isPrimary)return o.ec(a).next(function(l){l||(o.isPrimary=!1,o.fn.Cs(function(){return o.Qa(!1)}))})}).next(function(){return o.nc(a)}).next(function(l){return o.isPrimary&&!l?o.sc(a).next(function(){return!1}):!!l&&o.ic(a).next(function(){return!0})})}).catch(function(a){if(Do(a))return Z("IndexedDbPersistence","Failed to extend owner lease: ",a),o.isPrimary;if(!o.allowTabSynchronization)throw a;return Z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",a),!1}).then(function(a){o.isPrimary!==a&&o.fn.Cs(function(){return o.Qa(a)}),o.isPrimary=a})},u.prototype.ec=function(o){var a=this;return Fs(o).get($r.key).next(function(l){return we.resolve(a.rc(l))})},u.prototype.oc=function(o){return hc(o).delete(this.clientId)},u.prototype.ac=function(){return k.__awaiter(this,void 0,void 0,function(){var o,a,l,g=this;return k.__generator(this,function(y){switch(y.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(v){var C=u.Qn(v,vi.store);return C.ts().next(function(A){var P=g.uc(A,18e5),U=A.filter(function(j){return-1===P.indexOf(j)});return we.forEach(U,function(j){return C.delete(j.clientId)}).next(function(){return U})})}).catch(function(){return[]})]);case 1:if(o=y.sent(),this.Ga)for(a=0,l=o;a<l.length;a++)this.Ga.removeItem(this.hc(l[a].clientId));y.label=2;case 2:return[2]}})})},u.prototype.Ja=function(){var o=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return o.za().then(function(){return o.ac()}).then(function(){return o.Ja()})})},u.prototype.rc=function(o){return!!o&&o.ownerId===this.clientId},u.prototype.nc=function(o){var a=this;return this.ka?we.resolve(!0):Fs(o).get($r.key).next(function(l){if(null!==l&&a.cc(l.leaseTimestampMs,5e3)&&!a.lc(l.ownerId)){if(a.rc(l)&&a.networkEnabled)return!0;if(!a.rc(l)){if(!l.allowTabSynchronization)throw new H($.FAILED_PRECONDITION,yu);return!1}}return!(!a.networkEnabled||!a.inForeground)||hc(o).ts().next(function(h){return void 0===a.uc(h,5e3).find(function(g){return!(a.clientId===g.clientId||!(!a.networkEnabled&&g.networkEnabled||!a.inForeground&&g.inForeground&&a.networkEnabled===g.networkEnabled))})})}).next(function(l){return a.isPrimary!==l&&Z("IndexedDbPersistence","Client "+(l?"is":"is not")+" eligible for a primary lease."),l})},u.prototype.Di=function(){return k.__awaiter(this,void 0,void 0,function(){var o=this;return k.__generator(this,function(a){switch(a.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[$r.store,vi.store],function(l){var h=new Tl(l,en.ai);return o.sc(h).next(function(){return o.oc(h)})})];case 1:return a.sent(),this.ja.close(),this.wc(),[2]}})})},u.prototype.uc=function(o,a){var l=this;return o.filter(function(h){return l.cc(h.updateTimeMs,a)&&!l.lc(h.clientId)})},u.prototype.pi=function(){var o=this;return this.runTransaction("getActiveClients","readonly",function(a){return hc(a).ts().next(function(l){return o.uc(l,18e5).map(function(h){return h.clientId})})})},Object.defineProperty(u.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),u.prototype.mc=function(o){return hh.xo(o,this.serializer,this.Dr,this.No)},u.prototype.Tc=function(){return this.Ka},u.prototype.Ec=function(){return this.vr},u.prototype.Ic=function(){return this.Dr},u.prototype.runTransaction=function(o,a,l){var g,h=this;return Z("IndexedDbPersistence","Starting transaction:",o),this.ja.runTransaction(o,"readonly"===a?"readonly":"readwrite",Zm,function(v){return g=new Tl(v,h.Ma?h.Ma.next():en.ai),"readwrite-primary"===a?h.ec(g).next(function(C){return!!C||h.nc(g)}).next(function(C){if(!C)throw pe("Failed to obtain primary lease for action '"+o+"'."),h.isPrimary=!1,h.fn.Cs(function(){return h.Qa(!1)}),new H($.FAILED_PRECONDITION,op);return l(g)}).next(function(C){return h.ic(g).next(function(){return C})}):h.Ac(g).next(function(){return l(g)})}).then(function(v){return g.br(),v})},u.prototype.Ac=function(o){var a=this;return Fs(o).get($r.key).next(function(l){if(null!==l&&a.cc(l.leaseTimestampMs,5e3)&&!a.lc(l.ownerId)&&!a.rc(l)&&!(a.ka||a.allowTabSynchronization&&l.allowTabSynchronization))throw new H($.FAILED_PRECONDITION,yu)})},u.prototype.ic=function(o){var a=new $r(this.clientId,this.allowTabSynchronization,Date.now());return Fs(o).put($r.key,a)},u.Ln=function(){return ei.Ln()},u.prototype.sc=function(o){var a=this,l=Fs(o);return l.get($r.key).next(function(h){return a.rc(h)?(Z("IndexedDbPersistence","Releasing primary lease."),l.delete($r.key)):we.resolve()})},u.prototype.cc=function(o,a){var l=Date.now();return!(o<l-a||o>l&&(pe("Detected an update time that is in the future: "+o+" > "+l),1))},u.prototype.Ha=function(){var o=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){o.fn.ws(function(){return o.inForeground="visible"===o.document.visibilityState,o.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},u.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},u.prototype.Ya=function(){var o,a=this;"function"==typeof(null===(o=this.window)||void 0===o?void 0:o.addEventListener)&&(this.La=function(){a._c(),a.fn.ws(function(){return a.Di()})},this.window.addEventListener("unload",this.La))},u.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},u.prototype.lc=function(o){var a;try{var l=null!==(null===(a=this.Ga)||void 0===a?void 0:a.getItem(this.hc(o)));return Z("IndexedDbPersistence","Client '"+o+"' "+(l?"is":"is not")+" zombied in LocalStorage"),l}catch(h){return pe("IndexedDbPersistence","Failed to get zombied client id.",h),!1}},u.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(o){pe("Failed to set zombie client id.",o)}},u.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(o){}},u.prototype.hc=function(o){return"firestore_zombie_"+this.persistenceKey+"_"+o},u}();function Fs(u){return ni.Qn(u,$r.store)}function hc(u){return ni.Qn(u,vi.store)}var lp=function(){function u(o,a){this.db=o,this.wo=new lh(this,a)}return u.prototype.Po=function(o){var a=this.Rc(o);return this.db.Tc().ba(o).next(function(l){return a.next(function(h){return l+h})})},u.prototype.Rc=function(o){var a=0;return this.Vo(o,function(l){a++}).next(function(){return a})},u.prototype.Ce=function(o,a){return this.db.Tc().Ce(o,a)},u.prototype.Vo=function(o,a){return this.gc(o,function(l,h){return a(h)})},u.prototype.Da=function(o,a,l){return os(o,l)},u.prototype.Na=function(o,a,l){return os(o,l)},u.prototype.po=function(o,a,l){return this.db.Tc().po(o,a,l)},u.prototype.Go=function(o,a){return os(o,a)},u.prototype.Pc=function(o,a){return h=a,g=!1,fc(l=o).os(function(y){return dh(l,y,h).next(function(v){return v&&(g=!0),we.resolve(!v)})}).next(function(){return g});var l,h,g},u.prototype.bo=function(o,a){var l=this,h=this.db.Ec().ra(),g=[],y=0;return this.gc(o,function(v,C){if(C<=a){var A=l.Pc(o,v).next(function(P){if(!P)return y++,h.Rr(o,v).next(function(){return h.Ar(v),Da(o).delete([0,So(v.path)])})});g.push(A)}}).next(function(){return we.$n(g)}).next(function(){return h.apply(o)}).next(function(){return y})},u.prototype.removeTarget=function(o,a){var l=a.st(o.xa);return this.db.Tc().ya(o,l)},u.prototype.yc=function(o,a){return os(o,a)},u.prototype.gc=function(o,a){var l,h=Da(o),g=en.ai;return h.rs({index:Xn.documentTargetsIndex},function(y,v){var A=v.path,P=v.sequenceNumber;0===y[0]?(g!==en.ai&&a(new S(Ri(l)),g),g=P,l=A):g=en.ai}).next(function(){g!==en.ai&&a(new S(Ri(l)),g)})},u.prototype.So=function(o){return this.db.Ec().aa(o)},u}();function os(u,o){return Da(u).put((l=u.xa,new Xn(0,So(o.path),l)));var l}function gh(u,o){var a=u.projectId;return u.j||(a+="."+u.database),"firestore/"+o+"/"+a+"/"}var _u=function(){function u(o,a,l){this.persistence=o,this.Vc=a,this.bc=new We(Ve),this.vc=new uo(function(h){return Y(h)},Le),this.Sc=et.min(),this.Sr=o.mc(l),this.Dc=o.Ec(),this.Ka=o.Tc(),this.Cc=new Ft(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return u.prototype.Io=function(o){var a=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(l){return o.vo(l,a.bc)})},u}();function mh(u,o){var a=de(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(l){var y,v,C,A,P,U,j,h=o.batch.keys(),g=a.Dc.ra({oa:!0});return(y=a,v=l,C=o,A=g,P=C.batch,U=P.keys(),j=we.resolve(),U.forEach(function(Q){j=j.next(function(){return A.Rr(v,Q)}).next(function(te){var ae=te,ve=C.dr.get(Q);Ce(null!==ve),(!ae||ae.version.L(ve)<0)&&(ae=P.cr(Q,ae,C))&&A.Er(ae,C._r)})}),j.next(function(){return y.Sr.Wo(v,P)})).next(function(){return g.apply(l)}).next(function(){return a.Sr.zo(l)}).next(function(){return a.Cc.kr(l,h)})})}function dc(u){var o=de(u);return o.persistence.runTransaction("Get last remote snapshot version","readonly",function(a){return o.Ka.Ea(a)})}function xw(u,o){var a=de(u),l=o.nt,h=a.bc;return a.persistence.runTransaction("Apply remote event","readwrite-primary",function(g){var y=a.Dc.ra({oa:!0});h=a.bc;var v=[];o.zt.forEach(function(U,j){var ve,Me,Qe,Q=h.get(j);if(Q){v.push(a.Ka.Ca(g,U.se,j).next(function(){return a.Ka.Sa(g,U.ee,j)}));var te=U.resumeToken;if(te.O()>0){var ae=Q.it(te,l).st(g.xa);h=h.ot(j,ae),ve=Q,Qe=U,Ce((Me=ae).resumeToken.O()>0),(0===ve.resumeToken.O()||Me.nt.X()-ve.nt.X()>=3e8||Qe.ee.size+Qe.ne.size+Qe.se.size>0)&&v.push(a.Ka.ya(g,ae))}}});var C=Be(),A=xe();if(o.Yt.forEach(function(U,j){A=A.add(U)}),v.push(y.getEntries(g,A).next(function(U){o.Yt.forEach(function(j,Q){var te=U.get(j);Q instanceof ln&&Q.version.isEqual(et.min())?(y.Ar(j,l),C=C.ot(j,Q)):null==te||Q.version.L(te.version)>0||0===Q.version.L(te.version)&&te.hasPendingWrites?(y.Er(Q,l),C=C.ot(j,Q)):Z("LocalStore","Ignoring outdated watch update for ",j,". Current version:",te.version," Watch version:",Q.version),o.Jt.has(j)&&v.push(a.persistence.No.yc(g,j))})})),!l.isEqual(et.min())){var P=a.Ka.Ea(g).next(function(U){return a.Ka.Aa(g,g.xa,l)});v.push(P)}return we.$n(v).next(function(){return y.apply(g)}).next(function(){return a.Cc.Mr(g,C)})}).then(function(g){return a.bc=h,g})}function fp(u,o){var a=de(u);return a.persistence.runTransaction("Get next mutation batch","readonly",function(l){return void 0===o&&(o=-1),a.Sr.Bo(l,o)})}function pc(u,o){var a=de(u);return a.persistence.runTransaction("Allocate target","readwrite",function(l){var h;return a.Ka.va(l,o).next(function(g){return g?we.resolve(h=g):a.Ka.wa(l).next(function(y){return h=new jt(o,y,0,l.xa),a.Ka.Ra(l,h).next(function(){return h})})})}).then(function(l){var h=a.bc.get(l.targetId);return(null===h||l.nt.L(h.nt)>0)&&(a.bc=a.bc.ot(l.targetId,l),a.vc.set(o,l.targetId)),l})}function vu(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h,g,y;return k.__generator(this,function(v){switch(v.label){case 0:l=de(u),h=l.bc.get(o),g=a?"readwrite":"readwrite-primary",v.label=1;case 1:return v.trys.push([1,4,,5]),a?[3,3]:[4,l.persistence.runTransaction("Release target",g,function(C){return l.persistence.No.removeTarget(C,h)})];case 2:v.sent(),v.label=3;case 3:return[3,5];case 4:if(!Do(y=v.sent()))throw y;return Z("LocalStore","Failed to update sequence numbers for target "+o+": "+y),[3,5];case 5:return l.bc=l.bc.remove(o),l.vc.delete(h.target),[2]}})})}function Sl(u,o,a){var l=de(u),h=et.min(),g=xe();return l.persistence.runTransaction("Execute query","readonly",function(y){return(v=l,C=y,A=Jr(o),P=de(v),U=P.vc.get(A),void 0!==U?we.resolve(P.bc.get(U)):P.Ka.va(C,A)).next(function(v){if(v)return h=v.lastLimboFreeSnapshotVersion,l.Ka.Fa(y,v.targetId).next(function(C){g=C})}).next(function(){return l.Vc.Lr(y,o,a?h:et.min(),a?g:xe())}).next(function(v){return{documents:v,Fc:g}});var v,C,A,P,U})}function wu(u,o){var a=de(u),l=de(a.Ka),h=a.bc.get(o);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",function(g){return l.Ue(g,o).next(function(y){return y?y.target:null})})}function yh(u){var o=de(u);return o.persistence.runTransaction("Get new document changes","readonly",function(a){return h=a,g=o.Sc,y=de(o.Dc),v=Be(),C=Ns(g),A=rs(h),P=IDBKeyRange.lowerBound(C,!0),A.rs({index:dn.readTimeIndex,range:P},function(U,j){var Q=Pi(y.serializer,j);v=v.ot(Q.key,Q),C=j.readTime}).next(function(){return{xc:v,readTime:Ao(C)}});var h,g,y,v,C,A,P}).then(function(a){var l=a.xc;return o.Sc=a.readTime,l})}function _h(u){return k.__awaiter(this,void 0,void 0,function(){var o;return k.__generator(this,function(a){return[2,(o=de(u)).persistence.runTransaction("Synchronize last document change read time","readonly",function(l){return g=rs(l),y=et.min(),g.rs({index:dn.readTimeIndex,reverse:!0},function(v,C,A){C.readTime&&(y=Ao(C.readTime)),A.done()}).next(function(){return y});var g,y}).then(function(l){o.Sc=l})]})})}function xo(u){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(o){if(u.code!==$.FAILED_PRECONDITION||u.message!==op)throw u;return Z("LocalStore","Unexpectedly lost primary lease"),[2]})})}var bu=function(){function u(){this.$c=new yn(ur.kc),this.Mc=new yn(ur.Oc)}return u.prototype.m=function(){return this.$c.m()},u.prototype.Da=function(o,a){var l=new ur(o,a);this.$c=this.$c.add(l),this.Mc=this.Mc.add(l)},u.prototype.Lc=function(o,a){var l=this;o.forEach(function(h){return l.Da(h,a)})},u.prototype.Na=function(o,a){this.Bc(new ur(o,a))},u.prototype.qc=function(o,a){var l=this;o.forEach(function(h){return l.Na(h,a)})},u.prototype.Uc=function(o){var a=this,l=new S(new st([])),h=new ur(l,o),g=new ur(l,o+1),y=[];return this.Mc.Ft([h,g],function(v){a.Bc(v),y.push(v.key)}),y},u.prototype.Qc=function(){var o=this;this.$c.forEach(function(a){return o.Bc(a)})},u.prototype.Bc=function(o){this.$c=this.$c.delete(o),this.Mc=this.Mc.delete(o)},u.prototype.Wc=function(o){var a=new S(new st([])),l=new ur(a,o),h=new ur(a,o+1),g=xe();return this.Mc.Ft([l,h],function(y){g=g.add(y.key)}),g},u.prototype.Ho=function(o){var a=new ur(o,0),l=this.$c.$t(a);return null!==l&&o.isEqual(l.key)},u}(),ur=function(){function u(o,a){this.key=o,this.jc=a}return u.kc=function(o,a){return S.i(o.key,a.key)||Ve(o.jc,a.jc)},u.Oc=function(o,a){return Ve(o.jc,a.jc)||S.i(o.key,a.key)},u}(),hp=function(u,o){this.user=o,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+u},vh=function(){function u(){this.Gc=null}return u.prototype.getToken=function(){return Promise.resolve(null)},u.prototype.zc=function(){},u.prototype.Hc=function(o){this.Gc=o,o(xn.UNAUTHENTICATED)},u.prototype.Yc=function(){this.Gc=null},u}(),dp=function(){function u(o){var a=this;this.Jc=null,this.currentUser=xn.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){a.Zc++,a.currentUser=a.tu(),a.Xc=!0,a.Gc&&a.Gc(a.currentUser)},this.Zc=0,this.auth=o.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),o.get().then(function(l){a.auth=l,a.Jc&&a.auth.addAuthTokenListener(a.Jc)},function(){}))}return u.prototype.getToken=function(){var o=this,a=this.Zc,l=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(l).then(function(h){return o.Zc!==a?(Z("FirebaseCredentialsProvider","getToken aborted due to token change."),o.getToken()):h?(Ce("string"==typeof h.accessToken),new hp(h.accessToken,o.currentUser)):null}):Promise.resolve(null)},u.prototype.zc=function(){this.forceRefresh=!0},u.prototype.Hc=function(o){this.Gc=o,this.Xc&&o(this.currentUser)},u.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},u.prototype.tu=function(){var o=this.auth&&this.auth.getUid();return Ce(null===o||"string"==typeof o),new xn(o)},u}(),pp=function(){function u(o,a){this.eu=o,this.nu=a,this.type="FirstParty",this.user=xn.ni}return Object.defineProperty(u.prototype,"Kc",{get:function(){var o={"X-Goog-AuthUser":this.nu},a=this.eu.auth.getAuthHeaderValueForFirstParty([]);return a&&(o.Authorization=a),o},enumerable:!1,configurable:!0}),u}(),ty=function(){function u(o,a){this.eu=o,this.nu=a}return u.prototype.getToken=function(){return Promise.resolve(new pp(this.eu,this.nu))},u.prototype.Hc=function(o){o(xn.ni)},u.prototype.Yc=function(){},u.prototype.zc=function(){},u}(),gp=function(){function u(o,a,l,h,g,y){this.fn=o,this.su=l,this.iu=h,this.ru=g,this.listener=y,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new cu(o,a)}return u.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},u.prototype.uu=function(){return 2===this.state},u.prototype.start=function(){3!==this.state?this.auth():this.hu()},u.prototype.stop=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(o){switch(o.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},u.prototype.lu=function(){this.state=0,this.ys.reset()},u.prototype._u=function(){var o=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return o.fu()}))},u.prototype.du=function(o){this.wu(),this.stream.send(o)},u.prototype.fu=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(o){return this.uu()?[2,this.close(0)]:[2]})})},u.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},u.prototype.close=function(o,a){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(l){switch(l.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==o?this.ys.reset():a&&a.code===$.RESOURCE_EXHAUSTED?(pe(a.toString()),pe("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):a&&a.code===$.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=o,[4,this.listener.Tu(a)];case 1:return l.sent(),[2]}})})},u.prototype.mu=function(){},u.prototype.auth=function(){var o=this;this.state=1;var a=this.Eu(this.ou),l=this.ou;this.ru.getToken().then(function(h){o.ou===l&&o.Iu(h)},function(h){a(function(){var g=new H($.UNKNOWN,"Fetching auth token failed: "+h.message);return o.Au(g)})})},u.prototype.Iu=function(o){var a=this,l=this.Eu(this.ou);this.stream=this.Ru(o),this.stream.gu(function(){l(function(){return a.state=2,a.listener.gu()})}),this.stream.Tu(function(h){l(function(){return a.Au(h)})}),this.stream.onMessage(function(h){l(function(){return a.onMessage(h)})})},u.prototype.hu=function(){var o=this;this.state=4,this.ys.gn(function(){return k.__awaiter(o,void 0,void 0,function(){return k.__generator(this,function(a){return this.state=0,this.start(),[2]})})})},u.prototype.Au=function(o){return Z("PersistentStream","close with error: "+o),this.stream=null,this.close(3,o)},u.prototype.Eu=function(o){var a=this;return function(l){a.fn.ws(function(){return a.ou===o?l():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},u}(),Al=function(u){function o(a,l,h,g,y){var v=this;return(v=u.call(this,a,"listen_stream_connection_backoff","listen_stream_idle",l,h,y)||this).serializer=g,v}return k.__extends(o,u),o.prototype.Ru=function(a){return this.iu.Pu("Listen",a)},o.prototype.onMessage=function(a){this.ys.reset();var l=function(g,y){var v,ji;if("targetChange"in y){var C="NO_CHANGE"===(ji=y.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ji?1:"REMOVE"===ji?2:"CURRENT"===ji?3:"RESET"===ji?4:me(),A=y.targetChange.targetIds||[],P=function(ji,Dn){return ji.Qe?(Ce(void 0===Dn||"string"==typeof Dn),_t.fromBase64String(Dn||"")):(Ce(void 0===Dn||Dn instanceof Uint8Array),_t.fromUint8Array(Dn||new Uint8Array))}(g,y.targetChange.resumeToken),U=y.targetChange.cause,j=U&&function(ji){var Dn=void 0===ji.code?$.UNKNOWN:An(ji.code);return new H(Dn,ji.message||"")}(U);v=new jr(C,A,P,j||null)}else if("documentChange"in y){var Q=y.documentChange,te=gi(g,Q.document.name),ae=Ni(Q.document.updateTime),ve=new vo({mapValue:{fields:Q.document.fields}}),Me=new Ot(te,ae,ve,{});v=new ia(Q.targetIds||[],Q.removedTargetIds||[],Me.key,Me)}else if("documentDelete"in y){var It=y.documentDelete,Yt=gi(g,It.document),pn=It.readTime?Ni(It.readTime):et.min(),Ro=new ln(Yt,pn);v=new ia([],It.removedTargetIds||[],Ro.key,Ro)}else if("documentRemove"in y){var Au=y.documentRemove,jh=gi(g,Au.document);v=new ia([],Au.removedTargetIds||[],jh,null)}else{if(!("filter"in y))return me();var Po=y.filter,Ac=new ir(Po.count||0);v=new Yf(Po.targetId,Ac)}return v}(this.serializer,a),h=function(g){if(!("targetChange"in g))return et.min();var y=g.targetChange;return y.targetIds&&y.targetIds.length?et.min():y.readTime?Ni(y.readTime):et.min()}(a);return this.listener.yu(l,h)},o.prototype.Vu=function(a){var g,y,v,C,l={};l.database=wt(this.serializer),l.addTarget=(g=this.serializer,(v=ft(C=(y=a).target)?{documents:Jo(g,C)}:{query:ru(g,C)}).targetId=y.targetId,y.resumeToken.O()>0&&(v.resumeToken=Mi(g,y.resumeToken)),v);var h=function(g,y){var v=function(C,A){switch(A){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return me()}}(0,y.et);return null==v?null:{"goog-listen-tags":v}}(0,a);h&&(l.labels=h),this.du(l)},o.prototype.pu=function(a){var l={};l.database=wt(this.serializer),l.removeTarget=a,this.du(l)},o}(gp),gc=function(u){function o(a,l,h,g,y){var v=this;return(v=u.call(this,a,"write_stream_connection_backoff","write_stream_idle",l,h,y)||this).serializer=g,v.bu=!1,v}return k.__extends(o,u),Object.defineProperty(o.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),o.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,u.prototype.start.call(this)},o.prototype.mu=function(){this.bu&&this.Su([])},o.prototype.Ru=function(a){return this.iu.Pu("Write",a)},o.prototype.onMessage=function(a){if(Ce(!!a.streamToken),this.lastStreamToken=a.streamToken,this.bu){this.ys.reset();var l=(y=a.commitTime,(g=a.writeResults)&&g.length>0?(Ce(void 0!==y),g.map(function(v){return function(C,A){var P=Ni(C.updateTime?C.updateTime:A);P.isEqual(et.min())&&(P=Ni(A));var U=null;return C.transformResults&&C.transformResults.length>0&&(U=C.transformResults),new po(P,U)}(v,y)})):[]),h=Ni(a.commitTime);return this.listener.Du(h,l)}var g,y;return Ce(!a.writeResults||0===a.writeResults.length),this.bu=!0,this.listener.Cu()},o.prototype.Nu=function(){var a={};a.database=wt(this.serializer),this.du(a)},o.prototype.Su=function(a){var l=this,h={streamToken:this.lastStreamToken,writes:a.map(function(g){return Zr(l.serializer,g)})};this.du(h)},o}(gp),ny=function(u){function o(a,l,h){var g=this;return(g=u.call(this)||this).credentials=a,g.iu=l,g.serializer=h,g.Fu=!1,g}return k.__extends(o,u),o.prototype.xu=function(){if(this.Fu)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.")},o.prototype.$u=function(a,l,h){var g=this;return this.xu(),this.credentials.getToken().then(function(y){return g.iu.$u(a,l,h,y)}).catch(function(y){throw y.code===$.UNAUTHENTICATED&&g.credentials.zc(),y})},o.prototype.ku=function(a,l,h){var g=this;return this.xu(),this.credentials.getToken().then(function(y){return g.iu.ku(a,l,h,y)}).catch(function(y){throw y.code===$.UNAUTHENTICATED&&g.credentials.zc(),y})},o.prototype.terminate=function(){this.Fu=!1},o}(function(){}),mp=function(){function u(o,a){this.cs=o,this.di=a,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return u.prototype.Bu=function(){var o=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return o.Ou=null,o.Uu("Backend didn't respond within 10 seconds."),o.qu("Offline"),Promise.resolve()}))},u.prototype.Qu=function(o){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+o.toString()),this.qu("Offline")))},u.prototype.set=function(o){this.Wu(),this.Mu=0,"Online"===o&&(this.Lu=!1),this.qu(o)},u.prototype.qu=function(o){o!==this.state&&(this.state=o,this.di(o))},u.prototype.Uu=function(o){var a="Could not reach Cloud Firestore backend. "+o+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(pe(a),this.Lu=!1):Z("OnlineStateTracker",a)},u.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},u}(),yp=function(u,o,a,l,h){var g=this;this.ju=u,this.Ku=o,this.cs=a,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=h,this.Xu.Zu(function(y){a.ws(function(){return k.__awaiter(g,void 0,void 0,function(){return k.__generator(this,function(v){switch(v.label){case 0:return ri(this)?(Z("RemoteStore","Restarting streams for network reachability change."),[4,function(C){return k.__awaiter(this,void 0,void 0,function(){var A;return k.__generator(this,function(P){switch(P.label){case 0:return(A=de(C)).Yu.add(4),[4,br(A)];case 1:return P.sent(),A.th.set("Unknown"),A.Yu.delete(4),[4,Mo(A)];case 2:return P.sent(),[2]}})})}(this)]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})})}),this.th=new mp(a,l)};function Mo(u){return k.__awaiter(this,void 0,void 0,function(){var o,a;return k.__generator(this,function(l){switch(l.label){case 0:if(!ri(u))return[3,4];o=0,a=u.Ju,l.label=1;case 1:return o<a.length?[4,(0,a[o])(!0)]:[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})}function br(u){return k.__awaiter(this,void 0,void 0,function(){var o,a;return k.__generator(this,function(l){switch(l.label){case 0:o=0,a=u.Ju,l.label=1;case 1:return o<a.length?[4,(0,a[o])(!1)]:[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})}function xl(u){return k.__awaiter(this,void 0,void 0,function(){var o;return k.__generator(this,function(a){switch(a.label){case 0:return o=de(u),Z("RemoteStore","RemoteStore shutting down."),o.Yu.add(5),[4,br(o)];case 1:return a.sent(),o.Xu.Di(),o.th.set("Unknown"),[2]}})})}function ks(u,o){var a=de(u);a.Hu.has(o.targetId)||(a.Hu.set(o.targetId,o),mc(a)?Ta(a):yc(a).uu()&&Vs(a,o))}function No(u,o){var a=de(u),l=yc(a);a.Hu.delete(o),l.uu()&&Ia(a,o),0===a.Hu.size&&(l.uu()?l._u():ri(a)&&a.th.set("Unknown"))}function Vs(u,o){u.eh.Ie(o.targetId),yc(u).Vu(o)}function Ia(u,o){u.eh.Ie(o),yc(u).pu(o)}function Ta(u){u.eh=new al({qe:function(o){return u.Gu.qe(o)},Ue:function(o){return u.Hu.get(o)||null}}),yc(u).start(),u.th.Bu()}function mc(u){return ri(u)&&!yc(u).cu()&&u.Hu.size>0}function ri(u){return 0===de(u).Yu.size}function ry(u){u.eh=void 0}function Mw(u){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(o){return u.Hu.forEach(function(a,l){Vs(u,a)}),[2]})})}function iy(u,o){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){return ry(u),mc(u)?(u.th.Qu(o),Ta(u)):u.th.set("Unknown"),[2]})})}function Nw(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h,g;return k.__generator(this,function(y){switch(y.label){case 0:if(u.th.set("Online"),!(o instanceof jr&&2===o.state&&o.cause))return[3,6];y.label=1;case 1:return y.trys.push([1,3,,5]),[4,function(v,C){return k.__awaiter(this,void 0,void 0,function(){var A,P,U,j;return k.__generator(this,function(Q){switch(Q.label){case 0:A=C.cause,P=0,U=C.targetIds,Q.label=1;case 1:return P<U.length?v.Hu.has(j=U[P])?[4,v.Gu.nh(j,A)]:[3,3]:[3,5];case 2:Q.sent(),v.Hu.delete(j),v.eh.removeTarget(j),Q.label=3;case 3:Q.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}(u,o)];case 2:return y.sent(),[3,5];case 3:return l=y.sent(),Z("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),l),[4,Ml(u,l)];case 4:return y.sent(),[3,5];case 5:return[3,13];case 6:if(o instanceof ia?u.eh.be(o):o instanceof Yf?u.eh.$e(o):u.eh.De(o),a.isEqual(et.min()))return[3,13];y.label=7;case 7:return y.trys.push([7,11,,13]),[4,dc(u.ju)];case 8:return h=y.sent(),a.L(h)>=0?[4,(v=u,C=a,A=v.eh.Oe(C),A.zt.forEach(function(P,U){if(P.resumeToken.O()>0){var j=v.Hu.get(U);j&&v.Hu.set(U,j.it(P.resumeToken,C))}}),A.Ht.forEach(function(P){var U=v.Hu.get(P);if(U){v.Hu.set(P,U.it(_t.B,U.nt)),Ia(v,P);var j=new jt(U.target,P,1,U.sequenceNumber);Vs(v,j)}}),v.Gu.sh(A))]:[3,10];case 9:y.sent(),y.label=10;case 10:return[3,13];case 11:return Z("RemoteStore","Failed to raise snapshot:",g=y.sent()),[4,Ml(u,g)];case 12:return y.sent(),[3,13];case 13:return[2]}var v,C,A})})}function Ml(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l=this;return k.__generator(this,function(h){switch(h.label){case 0:if(!Do(o))throw o;return u.Yu.add(1),[4,br(u)];case 1:return h.sent(),u.th.set("Offline"),a||(a=function(){return dc(u.ju)}),u.cs.Cs(function(){return k.__awaiter(l,void 0,void 0,function(){return k.__generator(this,function(g){switch(g.label){case 0:return Z("RemoteStore","Retrying IndexedDB access"),[4,a()];case 1:return g.sent(),u.Yu.delete(1),[4,Mo(u)];case 2:return g.sent(),[2]}})})}),[2]}})})}function pt(u,o){return o().catch(function(a){return Ml(u,a,o)})}function Eu(u){return k.__awaiter(this,void 0,void 0,function(){var o,a,l,h,g;return k.__generator(this,function(y){switch(y.label){case 0:o=de(u),a=Sa(o),l=o.zu.length>0?o.zu[o.zu.length-1].batchId:-1,y.label=1;case 1:if(!(ri(v=o)&&v.zu.length<10))return[3,7];y.label=2;case 2:return y.trys.push([2,4,,6]),[4,fp(o.ju,l)];case 3:return null===(h=y.sent())?(0===o.zu.length&&a._u(),[3,7]):(l=h.batchId,function(v,C){v.zu.push(C);var A=Sa(v);A.uu()&&A.vu&&A.Su(C.mutations)}(o,h),[3,6]);case 4:return g=y.sent(),[4,Ml(o,g)];case 5:return y.sent(),[3,6];case 6:return[3,1];case 7:return wh(o)&&oy(o),[2]}var v})})}function wh(u){return ri(u)&&!Sa(u).cu()&&u.zu.length>0}function oy(u){Sa(u).start()}function Ow(u){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(o){return Sa(u).Nu(),[2]})})}function Rw(u){return k.__awaiter(this,void 0,void 0,function(){var o,a,l;return k.__generator(this,function(g){for(o=Sa(u),a=0,l=u.zu;a<l.length;a++)o.Su(l[a].mutations);return[2]})})}function Pw(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h;return k.__generator(this,function(g){switch(g.label){case 0:return l=u.zu.shift(),h=rp.from(l,o,a),[4,pt(u,function(){return u.Gu.ih(h)})];case 1:return g.sent(),[4,Eu(u)];case 2:return g.sent(),[2]}})})}function Fw(u,o){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){switch(a.label){case 0:return o&&Sa(u).vu?[4,function(l,h){return k.__awaiter(this,void 0,void 0,function(){var g,y;return k.__generator(this,function(v){switch(v.label){case 0:return Wn(y=h.code)&&y!==$.ABORTED?(g=l.zu.shift(),Sa(l).lu(),[4,pt(l,function(){return l.Gu.rh(g.batchId,h)})]):[3,3];case 1:return v.sent(),[4,Eu(l)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}(u,o)]:[3,2];case 1:a.sent(),a.label=2;case 2:return wh(u)&&oy(u),[2]}})})}function _p(u,o){return k.__awaiter(this,void 0,void 0,function(){var a;return k.__generator(this,function(h){switch(h.label){case 0:return a=de(u),o?(a.Yu.delete(2),[4,Mo(a)]):[3,2];case 1:return h.sent(),[3,5];case 2:return o?[3,4]:(a.Yu.add(2),[4,br(a)]);case 3:h.sent(),a.th.set("Unknown"),h.label=4;case 4:h.label=5;case 5:return[2]}})})}function yc(u){var a,l,h,g,o=this;return u.oh||(u.oh=(a=u.Ku,l=u.cs,h={gu:Mw.bind(null,u),Tu:iy.bind(null,u),yu:Nw.bind(null,u)},(g=de(a)).xu(),new Al(l,g.iu,g.credentials,g.serializer,h)),u.Ju.push(function(a){return k.__awaiter(o,void 0,void 0,function(){return k.__generator(this,function(l){switch(l.label){case 0:return a?(u.oh.lu(),mc(u)?Ta(u):u.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,u.oh.stop()];case 2:l.sent(),ry(u),l.label=3;case 3:return[2]}})})})),u.oh}function Sa(u){var a,l,h,g,o=this;return u.ah||(u.ah=(a=u.Ku,l=u.cs,h={gu:Ow.bind(null,u),Tu:Fw.bind(null,u),Cu:Rw.bind(null,u),Du:Pw.bind(null,u)},(g=de(a)).xu(),new gc(l,g.iu,g.credentials,g.serializer,h)),u.Ju.push(function(a){return k.__awaiter(o,void 0,void 0,function(){return k.__generator(this,function(l){switch(l.label){case 0:return a?(u.ah.lu(),[4,Eu(u)]):[3,2];case 1:return l.sent(),[3,4];case 2:return[4,u.ah.stop()];case 3:l.sent(),u.zu.length>0&&(Z("RemoteStore","Stopping write stream with "+u.zu.length+" pending writes"),u.zu=[]),l.label=4;case 4:return[2]}})})})),u.ah}var sy=function(u){this.key=u},Cu=function(u){this.key=u},ay=function(){function u(o,a){this.query=o,this.uh=a,this.hh=null,this.te=!1,this.lh=xe(),this.Wt=xe(),this._h=th(o),this.fh=new Kf(this._h)}return Object.defineProperty(u.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),u.prototype.wh=function(o,a){var l=this,h=a?a.mh:new sl,g=a?a.fh:this.fh,y=a?a.Wt:this.Wt,v=g,C=!1,A=es(this.query)&&g.size===this.query.limit?g.last():null,P=wo(this.query)&&g.size===this.query.limit?g.first():null;if(o.ht(function(j,Q){var te=g.get(j),ae=Q instanceof Ot?Q:null;ae&&(ae=ts(l.query,ae)?ae:null);var ve=!!te&&l.Wt.has(te.key),Me=!!ae&&(ae.Je||l.Wt.has(ae.key)&&ae.hasCommittedMutations),Qe=!1;te&&ae?te.data().isEqual(ae.data())?ve!==Me&&(h.track({type:3,doc:ae}),Qe=!0):l.Th(te,ae)||(h.track({type:2,doc:ae}),Qe=!0,(A&&l._h(ae,A)>0||P&&l._h(ae,P)<0)&&(C=!0)):!te&&ae?(h.track({type:0,doc:ae}),Qe=!0):te&&!ae&&(h.track({type:1,doc:te}),Qe=!0,(A||P)&&(C=!0)),Qe&&(ae?(v=v.add(ae),y=Me?y.add(j):y.delete(j)):(v=v.delete(j),y=y.delete(j)))}),es(this.query)||wo(this.query))for(;v.size>this.query.limit;){var U=es(this.query)?v.last():v.first();v=v.delete(U.key),y=y.delete(U.key),h.track({type:1,doc:U})}return{fh:v,mh:h,Eh:C,Wt:y}},u.prototype.Th=function(o,a){return o.Je&&a.hasCommittedMutations&&!a.Je},u.prototype.yr=function(o,a,l){var h=this,g=this.fh;this.fh=o.fh,this.Wt=o.Wt;var y=o.mh.Ut();y.sort(function(P,U){return Q=U.type,(te=function(ae){switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}})(P.type)-te(Q)||h._h(P.doc,U.doc);var Q,te}),this.Ih(l);var v=a?this.Ah():[],C=0===this.lh.size&&this.te?1:0,A=C!==this.hh;return this.hh=C,0!==y.length||A?{snapshot:new zi(this.query,o.fh,g,y,o.Wt,0===C,A,!1),Rh:v}:{Rh:v}},u.prototype.Qs=function(o){return this.te&&"Offline"===o?(this.te=!1,this.yr({fh:this.fh,mh:new sl,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},u.prototype.gh=function(o){return!this.uh.has(o)&&!!this.fh.has(o)&&!this.fh.get(o).Je},u.prototype.Ih=function(o){var a=this;o&&(o.ee.forEach(function(l){return a.uh=a.uh.add(l)}),o.ne.forEach(function(l){}),o.se.forEach(function(l){return a.uh=a.uh.delete(l)}),this.te=o.te)},u.prototype.Ah=function(){var o=this;if(!this.te)return[];var a=this.lh;this.lh=xe(),this.fh.forEach(function(h){o.gh(h.key)&&(o.lh=o.lh.add(h.key))});var l=[];return a.forEach(function(h){o.lh.has(h)||l.push(new Cu(h))}),this.lh.forEach(function(h){a.has(h)||l.push(new sy(h))}),l},u.prototype.Ph=function(o){this.uh=o.Fc,this.lh=xe();var a=this.wh(o.documents);return this.yr(a,!0)},u.prototype.yh=function(){return zi.Gt(this.query,this.fh,this.Wt,0===this.hh)},u}(),Jn=function(u,o,a){this.query=u,this.targetId=o,this.view=a},Nl=function(u){this.key=u,this.Vh=!1},Ol=function(){function u(o,a,l,h,g,y){this.ju=o,this.ph=a,this.bh=l,this.Sh=h,this.currentUser=g,this.Dh=y,this.Ch={},this.Nh=new uo(function(v){return gl(v)},bo),this.Fh=new Map,this.xh=[],this.$h=new We(S.i),this.kh=new Map,this.Mh=new bu,this.Oh={},this.Lh=new Map,this.Bh=gu.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(u.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),u}();function kw(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,h,g,y,v;return k.__generator(this,function(C){switch(C.label){case 0:return a=Cp(u),(g=a.Nh.get(o))?(a.Sh.Oi(g.targetId),h=g.view.yh(),[3,4]):[3,1];case 1:return[4,pc(a.ju,Jr(o))];case 2:return y=C.sent(),v=a.Sh.Oi(y.targetId),[4,bh(a,o,y.targetId,"current"===v)];case 3:h=C.sent(),a.Uh&&ks(a.ph,y),C.label=4;case 4:return[2,h]}})})}function bh(u,o,a,l){return k.__awaiter(this,void 0,void 0,function(){var h,g,y,v,C,A;return k.__generator(this,function(P){switch(P.label){case 0:return u.Qh=function(U,j,Q){return function(te,ae,ve,Me){return k.__awaiter(this,void 0,void 0,function(){var Qe,ut,It;return k.__generator(this,function(Yt){switch(Yt.label){case 0:return(Qe=ae.view.wh(ve)).Eh?[4,Sl(te.ju,ae.query,!1).then(function(pn){return ae.view.wh(pn.documents,Qe)})]:[3,2];case 1:Qe=Yt.sent(),Yt.label=2;case 2:return ut=Me&&Me.zt.get(ae.targetId),It=ae.view.yr(Qe,te.Uh,ut),[2,(Rl(te,ae.targetId,It.Rh),It.snapshot)]}})})}(u,U,j,Q)},[4,Sl(u.ju,o,!0)];case 1:return h=P.sent(),g=new ay(o,h.Fc),y=g.wh(h.documents),v=Za.Zt(a,l&&"Offline"!==u.onlineState),C=g.yr(y,u.Uh,v),Rl(u,a,C.Rh),A=new Jn(o,a,g),[2,(u.Nh.set(o,A),u.Fh.has(a)?u.Fh.get(a).push(o):u.Fh.set(a,[o]),C.snapshot)]}})})}function Fi(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l,h;return k.__generator(this,function(g){switch(g.label){case 0:return a=de(u),l=a.Nh.get(o),(h=a.Fh.get(l.targetId)).length>1?[2,(a.Fh.set(l.targetId,h.filter(function(y){return!bo(y,o)})),void a.Nh.delete(o))]:a.Uh?(a.Sh.Bi(l.targetId),a.Sh.Fi(l.targetId)?[3,2]:[4,vu(a.ju,l.targetId,!1).then(function(){a.Sh.Ui(l.targetId),No(a.ph,l.targetId),vc(a,l.targetId)}).catch(xo)]):[3,3];case 1:g.sent(),g.label=2;case 2:return[3,5];case 3:return vc(a,l.targetId),[4,vu(a.ju,l.targetId,!0)];case 4:g.sent(),g.label=5;case 5:return[2]}})})}function Zi(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l;return k.__generator(this,function(h){switch(h.label){case 0:a=de(u),h.label=1;case 1:return h.trys.push([1,4,,6]),[4,xw(a.ju,o)];case 2:return l=h.sent(),o.zt.forEach(function(g,y){var v=a.kh.get(y);v&&(Ce(g.ee.size+g.ne.size+g.se.size<=1),g.ee.size>0?v.Vh=!0:g.ne.size>0?Ce(v.Vh):g.se.size>0&&(Ce(v.Vh),v.Vh=!1))}),[4,ki(a,l,o)];case 3:return h.sent(),[3,6];case 4:return[4,xo(h.sent())];case 5:return h.sent(),[3,6];case 6:return[2]}})})}function _c(u,o,a){var l=de(u);if(l.Uh&&0===a||!l.Uh&&1===a){var h=[];l.Nh.forEach(function(g,y){var v=y.view.Qs(o);v.snapshot&&h.push(v.snapshot)}),function(g,y){var v=de(g);v.onlineState=y;var C=!1;v.Bs.forEach(function(A,P){for(var U=0,j=P.listeners;U<j.length;U++)j[U].Qs(y)&&(C=!0)}),C&&wa(v)}(l.bh,o),h.length&&l.Ch.yu(h),l.onlineState=o,l.Uh&&l.Sh.Ki(o)}}function Aa(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h,g,y,v,C;return k.__generator(this,function(A){switch(A.label){case 0:return(l=de(u)).Sh.Qi(o,"rejected",a),h=l.kh.get(o),(g=h&&h.key)?(y=(y=new We(S.i)).ot(g,new ln(g,et.min())),v=xe().add(g),C=new pr(et.min(),new Map,new yn(Ve),y,v),[4,Zi(l,C)]):[3,2];case 1:return A.sent(),l.$h=l.$h.remove(g),l.kh.delete(o),wc(l),[3,4];case 2:return[4,vu(l.ju,o,!1).then(function(){return vc(l,o,a)}).catch(xo)];case 3:A.sent(),A.label=4;case 4:return[2]}})})}function Ls(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l,h;return k.__generator(this,function(g){switch(g.label){case 0:a=de(u),l=o.batch.batchId,g.label=1;case 1:return g.trys.push([1,4,,6]),[4,mh(a.ju,o)];case 2:return h=g.sent(),Ch(a,l,null),Eh(a,l),a.Sh.ki(l,"acknowledged"),[4,ki(a,h)];case 3:return g.sent(),[3,6];case 4:return[4,xo(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function vp(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h;return k.__generator(this,function(g){switch(g.label){case 0:l=de(u),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,(y=l.ju,v=o,C=de(y),C.persistence.runTransaction("Reject batch","readwrite-primary",function(A){var P;return C.Sr.Oo(A,v).next(function(U){return Ce(null!==U),P=U.keys(),C.Sr.Wo(A,U)}).next(function(){return C.Sr.zo(A)}).next(function(){return C.Cc.kr(A,P)})}))];case 2:return h=g.sent(),Ch(l,o,a),Eh(l,o),l.Sh.ki(o,"rejected",a),[4,ki(l,h)];case 3:return g.sent(),[3,6];case 4:return[4,xo(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}var y,v,C})})}function Eh(u,o){(u.Lh.get(o)||[]).forEach(function(a){a.resolve()}),u.Lh.delete(o)}function Ch(u,o,a){var l=de(u),h=l.Oh[l.currentUser.ti()];if(h){var g=h.get(o);g&&(a?g.reject(a):g.resolve(),h=h.remove(o)),l.Oh[l.currentUser.ti()]=h}}function vc(u,o,a){void 0===a&&(a=null),u.Sh.Bi(o);for(var l=0,h=u.Fh.get(o);l<h.length;l++){var g=h[l];u.Nh.delete(g),a&&u.Ch.Wh(g,a)}u.Fh.delete(o),u.Uh&&u.Mh.Uc(o).forEach(function(y){u.Mh.Ho(y)||uy(u,y)})}function uy(u,o){var a=u.$h.get(o);null!==a&&(No(u.ph,a),u.$h=u.$h.remove(o),u.kh.delete(a),wc(u))}function Rl(u,o,a){for(var l=0,h=a;l<h.length;l++){var g=h[l];g instanceof sy?(u.Mh.Da(g.key,o),wi(u,g)):g instanceof Cu?(Z("SyncEngine","Document no longer in limbo: "+g.key),u.Mh.Na(g.key,o),u.Mh.Ho(g.key)||uy(u,g.key)):me()}}function wi(u,o){var a=o.key;u.$h.get(a)||(Z("SyncEngine","New document in limbo: "+a),u.xh.push(a),wc(u))}function wc(u){for(;u.xh.length>0&&u.$h.size<u.Dh;){var o=u.xh.shift(),a=u.Bh.next();u.kh.set(a,new Nl(o)),u.$h=u.$h.ot(o,a),ks(u.ph,new jt(Jr(ar(o.path)),a,2,en.ai))}}function ki(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h,g,y;return k.__generator(this,function(v){switch(v.label){case 0:return l=de(u),h=[],g=[],y=[],l.Nh.m()?[3,3]:(l.Nh.forEach(function(C,A){y.push(l.Qh(A,o,a).then(function(P){if(P){l.Uh&&l.Sh.Qi(A.targetId,P.fromCache?"not-current":"current"),h.push(P);var U=sp.zr(A.targetId,P);g.push(U)}}))}),[4,Promise.all(y)]);case 1:return v.sent(),l.Ch.yu(h),[4,function(C,A){return k.__awaiter(this,void 0,void 0,function(){var P,U,j,Q,te,ae,ve,Qe;return k.__generator(this,function(ut){switch(ut.label){case 0:P=de(C),ut.label=1;case 1:return ut.trys.push([1,3,,4]),[4,P.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(It){return we.forEach(A,function(Yt){return we.forEach(Yt.Kr,function(pn){return P.persistence.No.Da(It,Yt.targetId,pn)}).next(function(){return we.forEach(Yt.Gr,function(pn){return P.persistence.No.Na(It,Yt.targetId,pn)})})})})];case 2:return ut.sent(),[3,4];case 3:if(!Do(U=ut.sent()))throw U;return Z("LocalStore","Failed to update sequence numbers: "+U),[3,4];case 4:for(j=0,Q=A;j<Q.length;j++)ae=(te=Q[j]).targetId,te.fromCache||(ve=P.bc.get(ae),Qe=ve.rt(ve.nt),P.bc=P.bc.ot(ae,Qe));return[2]}})})}(l.ju,g)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function Vw(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l;return k.__generator(this,function(h){switch(h.label){case 0:return(a=de(u)).currentUser.isEqual(o)?[3,3]:(Z("SyncEngine","User change. New user:",o.ti()),[4,function(g,y){return k.__awaiter(this,void 0,void 0,function(){var v,C,A,P;return k.__generator(this,function(U){switch(U.label){case 0:return v=de(g),C=v.Sr,A=v.Cc,[4,v.persistence.runTransaction("Handle user change","readonly",function(j){var Q;return v.Sr.Uo(j).next(function(te){return Q=te,C=v.persistence.mc(y),A=new Ft(v.Dc,C,v.persistence.Ic()),C.Uo(j)}).next(function(te){for(var ae=[],ve=[],Me=xe(),Qe=0,ut=Q;Qe<ut.length;Qe++){var It=ut[Qe];ae.push(It.batchId);for(var Yt=0,pn=It.mutations;Yt<pn.length;Yt++)Me=Me.add(pn[Yt].key)}for(var cs=0,Au=te;cs<Au.length;cs++){var jh=Au[cs];ve.push(jh.batchId);for(var Hl=0,Po=jh.mutations;Hl<Po.length;Hl++)Me=Me.add(Po[Hl].key)}return A.kr(j,Me).next(function(Ac){return{jh:Ac,Kh:ae,Gh:ve}})})})];case 1:return P=U.sent(),[2,(v.Sr=C,v.Cc=A,v.Vc.Nc(v.Cc),P)]}})})}(a.ju,o)]);case 1:return l=h.sent(),a.currentUser=o,(g=a).Lh.forEach(function(v){v.forEach(function(C){C.reject(new H($.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.Lh.clear(),a.Sh.ji(o,l.Kh,l.Gh),[4,ki(a,l.jh)];case 2:h.sent(),h.label=3;case 3:return[2]}var g})})}function wp(u,o){var a=de(u),l=a.kh.get(o);if(l&&l.Vh)return xe().add(l.key);var h=xe(),g=a.Fh.get(o);if(!g)return h;for(var y=0,v=g;y<v.length;y++){var A=a.Nh.get(v[y]);h=h.kt(A.view.dh)}return h}function cy(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l,h;return k.__generator(this,function(g){switch(g.label){case 0:return[4,Sl((a=de(u)).ju,o.query,!0)];case 1:return l=g.sent(),h=o.view.Ph(l),[2,(a.Uh&&Rl(a,o.targetId,h.Rh),h)]}})})}function ly(u,o,a,l){return k.__awaiter(this,void 0,void 0,function(){var h,g;return k.__generator(this,function(y){switch(y.label){case 0:return[4,(v=(h=de(u)).ju,C=o,A=de(v),P=de(A.Sr),A.persistence.runTransaction("Lookup mutation documents","readonly",function(U){return P.Lo(U,C).next(function(j){return j?A.Cc.kr(U,j):we.resolve(null)})}))];case 1:return null===(g=y.sent())?[3,6]:"pending"!==a?[3,3]:[4,Eu(h.ph)];case 2:return y.sent(),[3,4];case 3:"acknowledged"===a||"rejected"===a?(Ch(h,o,l||null),Eh(h,o),function(v,C){de(de(v).Sr).Ko(C)}(h.ju,o)):me(),y.label=4;case 4:return[4,ki(h,g)];case 5:return y.sent(),[3,7];case 6:Z("SyncEngine","Cannot apply mutation batch with id: "+o),y.label=7;case 7:return[2]}var v,C,A,P})})}function fy(u,o){return k.__awaiter(this,void 0,void 0,function(){var a,l,h,g,y,C,A;return k.__generator(this,function(P){switch(P.label){case 0:return Cp(a=de(u)),xa(a),!0!==o||!0===a.qh?[3,3]:(l=a.Sh.Ci(),[4,bp(a,l.A())]);case 1:return h=P.sent(),a.qh=!0,[4,_p(a.ph,!0)];case 2:for(P.sent(),g=0,y=h;g<y.length;g++)ks(a.ph,y[g]);return[3,7];case 3:return!1!==o||!1===a.qh?[3,7]:(C=[],A=Promise.resolve(),a.Fh.forEach(function(U,j){a.Sh.qi(j)?C.push(j):A=A.then(function(){return vc(a,j),vu(a.ju,j,!0)}),No(a.ph,j)}),[4,A]);case 4:return P.sent(),[4,bp(a,C)];case 5:return P.sent(),(j=de(a)).kh.forEach(function(Q,te){No(j.ph,te)}),j.Mh.Qc(),j.kh=new Map,j.$h=new We(S.i),a.qh=!1,[4,_p(a.ph,!1)];case 6:P.sent(),P.label=7;case 7:return[2]}var j})})}function bp(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h,g,y,v,C,A,P,U,j,te,ae,ve;return k.__generator(this,function(Me){switch(Me.label){case 0:l=de(u),h=[],g=[],y=0,v=o,Me.label=1;case 1:return y<v.length?(A=void 0,(P=l.Fh.get(C=v[y]))&&0!==P.length?[4,pc(l.ju,Jr(P[0]))]:[3,7]):[3,13];case 2:A=Me.sent(),U=0,j=P,Me.label=3;case 3:return U<j.length?(te=l.Nh.get(j[U]),[4,cy(l,te)]):[3,6];case 4:(ae=Me.sent()).snapshot&&g.push(ae.snapshot),Me.label=5;case 5:return U++,[3,3];case 6:return[3,11];case 7:return[4,wu(l.ju,C)];case 8:return ve=Me.sent(),[4,pc(l.ju,ve)];case 9:return A=Me.sent(),[4,bh(l,Ep(ve),C,!1)];case 10:Me.sent(),Me.label=11;case 11:h.push(A),Me.label=12;case 12:return y++,[3,1];case 13:return[2,(l.Ch.yu(g),h)]}})})}function Ep(u){return yi(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function bc(u){var o=de(u);return de(de(o.ju).persistence).pi()}function Dh(u,o,a,l){return k.__awaiter(this,void 0,void 0,function(){var h,g,y;return k.__generator(this,function(v){switch(v.label){case 0:return(h=de(u)).qh?(Z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!h.Fh.has(o))return[3,8];switch(a){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yh(h.ju)];case 3:return g=v.sent(),y=pr.Xt(o,"current"===a),[4,ki(h,g,y)];case 4:return v.sent(),[3,8];case 5:return[4,vu(h.ju,o,!0)];case 6:return v.sent(),vc(h,o,l),[3,8];case 7:me(),v.label=8;case 8:return[2]}})})}function Pl(u,o,a){return k.__awaiter(this,void 0,void 0,function(){var l,h,g,y,v,C,A,P,U;return k.__generator(this,function(Q){switch(Q.label){case 0:if(!(l=Cp(u)).qh)return[3,10];h=0,g=o,Q.label=1;case 1:return h<g.length?l.Fh.has(y=g[h])?(Z("SyncEngine","Adding an already active target "+y),[3,5]):[4,wu(l.ju,y)]:[3,6];case 2:return v=Q.sent(),[4,pc(l.ju,v)];case 3:return C=Q.sent(),[4,bh(l,Ep(v),C.targetId,!1)];case 4:Q.sent(),ks(l.ph,C),Q.label=5;case 5:return h++,[3,1];case 6:A=function(te){return k.__generator(this,function(ae){switch(ae.label){case 0:return l.Fh.has(te)?[4,vu(l.ju,te,!1).then(function(){No(l.ph,te),vc(l,te)}).catch(xo)]:[3,2];case 1:ae.sent(),ae.label=2;case 2:return[2]}})},P=0,U=a,Q.label=7;case 7:return P<U.length?[5,A(U[P])]:[3,10];case 8:Q.sent(),Q.label=9;case 9:return P++,[3,7];case 10:return[2]}})})}function Cp(u){var o=de(u);return o.ph.Gu.sh=Zi.bind(null,o),o.ph.Gu.qe=wp.bind(null,o),o.ph.Gu.nh=Aa.bind(null,o),o.Ch.yu=Nr.bind(null,o.bh),o.Ch.Wh=hn.bind(null,o.bh),o}function xa(u){var o=de(u);return o.ph.Gu.ih=Ls.bind(null,o),o.ph.Gu.rh=vp.bind(null,o),o}var Ih=function(){function u(){}return u.prototype.Nc=function(o){this.zh=o},u.prototype.Lr=function(o,a,l,h){var y,g=this;return 0===(y=a).filters.length&&null===y.limit&&null==y.startAt&&null==y.endAt&&(0===y.on.length||1===y.on.length&&y.on[0].field.p())||l.isEqual(et.min())?this.Hh(o,a):this.zh.kr(o,h).next(function(y){var v=g.Yh(a,y);return(es(a)||wo(a))&&g.Eh(a.an,v,h,l)?g.Hh(o,a):(Ee()<=$e.LogLevel.DEBUG&&Z("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),su(a)),g.zh.Lr(o,a,l).next(function(C){return v.forEach(function(A){C=C.ot(A.key,A)}),C}))})},u.prototype.Yh=function(o,a){var l=new yn(th(o));return a.forEach(function(h,g){g instanceof Ot&&ts(o,g)&&(l=l.add(g))}),l},u.prototype.Eh=function(o,a,l,h){if(l.size!==a.size)return!0;var g="F"===o?a.last():a.first();return!!g&&(g.hasPendingWrites||g.version.L(h)>0)},u.prototype.Hh=function(o,a){return Ee()<=$e.LogLevel.DEBUG&&Z("IndexFreeQueryEngine","Using full collection scan to execute query:",su(a)),this.zh.Lr(o,a,et.min())},u}(),Du=function(){function u(o,a){this.Dr=o,this.No=a,this.Sr=[],this.Jh=1,this.Xh=new yn(ur.kc)}return u.prototype.$o=function(o){return we.resolve(0===this.Sr.length)},u.prototype.ko=function(o,a,l,h){var g=this.Jh;this.Jh++;var y=new uh(g,a,l,h);this.Sr.push(y);for(var v=0,C=h;v<C.length;v++){var A=C[v];this.Xh=this.Xh.add(new ur(A.key,g)),this.Dr.Mo(o,A.key.path.h())}return we.resolve(y)},u.prototype.Oo=function(o,a){return we.resolve(this.Zh(a))},u.prototype.Bo=function(o,a){var h=this.tl(a+1),g=h<0?0:h;return we.resolve(this.Sr.length>g?this.Sr[g]:null)},u.prototype.qo=function(){return we.resolve(0===this.Sr.length?-1:this.Jh-1)},u.prototype.Uo=function(o){return we.resolve(this.Sr.slice())},u.prototype.Nr=function(o,a){var l=this,h=new ur(a,0),g=new ur(a,Number.POSITIVE_INFINITY),y=[];return this.Xh.Ft([h,g],function(v){var C=l.Zh(v.jc);y.push(C)}),we.resolve(y)},u.prototype.Or=function(o,a){var l=this,h=new yn(Ve);return a.forEach(function(g){var y=new ur(g,0),v=new ur(g,Number.POSITIVE_INFINITY);l.Xh.Ft([y,v],function(C){h=h.add(C.jc)})}),we.resolve(this.el(h))},u.prototype.Wr=function(o,a){var l=a.path,h=l.length+1,g=l;S.F(g)||(g=g.child(""));var y=new ur(new S(g),0),v=new yn(Ve);return this.Xh.xt(function(C){var A=C.key.path;return!!l.T(A)&&(A.length===h&&(v=v.add(C.jc)),!0)},y),we.resolve(this.el(v))},u.prototype.el=function(o){var a=this,l=[];return o.forEach(function(h){var g=a.Zh(h);null!==g&&l.push(g)}),l},u.prototype.Wo=function(o,a){var l=this;Ce(0===this.nl(a.batchId,"removed")),this.Sr.shift();var h=this.Xh;return we.forEach(a.mutations,function(g){var y=new ur(g.key,a.batchId);return h=h.delete(y),l.No.Go(o,g.key)}).next(function(){l.Xh=h})},u.prototype.Ko=function(o){},u.prototype.Ho=function(o,a){var l=new ur(a,0),h=this.Xh.$t(l);return we.resolve(a.isEqual(h&&h.key))},u.prototype.zo=function(o){return we.resolve()},u.prototype.nl=function(o,a){return this.tl(o)},u.prototype.tl=function(o){return 0===this.Sr.length?0:o-this.Sr[0].batchId},u.prototype.Zh=function(o){var a=this.tl(o);return a<0||a>=this.Sr.length?null:this.Sr[a]},u}(),hy=function(){function u(o,a){this.Dr=o,this.sl=a,this.docs=new We(S.i),this.size=0}return u.prototype.Er=function(o,a,l){var h=a.key,g=this.docs.get(h),y=g?g.size:0,v=this.sl(a);return this.docs=this.docs.ot(h,{ta:a,size:v,readTime:l}),this.size+=v-y,this.Dr.Mo(o,h.path.h())},u.prototype.Ar=function(o){var a=this.docs.get(o);a&&(this.docs=this.docs.remove(o),this.size-=a.size)},u.prototype.Rr=function(o,a){var l=this.docs.get(a);return we.resolve(l?l.ta:null)},u.prototype.getEntries=function(o,a){var l=this,h=Zo();return a.forEach(function(g){var y=l.docs.get(g);h=h.ot(g,y?y.ta:null)}),we.resolve(h)},u.prototype.Lr=function(o,a,l){for(var h=Tr(),g=new S(a.path.child("")),y=this.docs.ft(g);y.At();){var v=y.It(),A=v.value,P=A.ta,U=A.readTime;if(!a.path.T(v.key.path))break;U.L(l)<=0||P instanceof Ot&&ts(a,P)&&(h=h.ot(P.key,P))}return we.resolve(h)},u.prototype.il=function(o,a){return we.forEach(this.docs,function(l){return a(l)})},u.prototype.ra=function(o){return new dy(this)},u.prototype.aa=function(o){return we.resolve(this.size)},u}(),dy=function(u){function o(a){var l=this;return(l=u.call(this)||this).ca=a,l}return k.__extends(o,u),o.prototype.yr=function(a){var l=this,h=[];return this.wr.forEach(function(g,y){y?h.push(l.ca.Er(a,y,l.readTime)):l.ca.Ar(g)}),we.$n(h)},o.prototype.gr=function(a,l){return this.ca.Rr(a,l)},o.prototype.Pr=function(a,l){return this.ca.getEntries(a,l)},o}(ip),py=function(){function u(o){this.persistence=o,this.rl=new uo(function(a){return Y(a)},Le),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.ol=0,this.al=new bu,this.targetCount=0,this.cl=gu.fa()}return u.prototype.Ce=function(o,a){return this.rl.forEach(function(l,h){return a(h)}),we.resolve()},u.prototype.Ea=function(o){return we.resolve(this.lastRemoteSnapshotVersion)},u.prototype.Ia=function(o){return we.resolve(this.ol)},u.prototype.wa=function(o){return this.highestTargetId=this.cl.next(),we.resolve(this.highestTargetId)},u.prototype.Aa=function(o,a,l){return l&&(this.lastRemoteSnapshotVersion=l),a>this.ol&&(this.ol=a),we.resolve()},u.prototype.ga=function(o){this.rl.set(o.target,o);var a=o.targetId;a>this.highestTargetId&&(this.cl=new gu(a),this.highestTargetId=a),o.sequenceNumber>this.ol&&(this.ol=o.sequenceNumber)},u.prototype.Ra=function(o,a){return this.ga(a),this.targetCount+=1,we.resolve()},u.prototype.ya=function(o,a){return this.ga(a),we.resolve()},u.prototype.Va=function(o,a){return this.rl.delete(a.target),this.al.Uc(a.targetId),this.targetCount-=1,we.resolve()},u.prototype.po=function(o,a,l){var h=this,g=0,y=[];return this.rl.forEach(function(v,C){C.sequenceNumber<=a&&null===l.get(C.targetId)&&(h.rl.delete(v),y.push(h.pa(o,C.targetId)),g++)}),we.$n(y).next(function(){return g})},u.prototype.ba=function(o){return we.resolve(this.targetCount)},u.prototype.va=function(o,a){var l=this.rl.get(a)||null;return we.resolve(l)},u.prototype.Sa=function(o,a,l){return this.al.Lc(a,l),we.resolve()},u.prototype.Ca=function(o,a,l){this.al.qc(a,l);var h=this.persistence.No,g=[];return h&&a.forEach(function(y){g.push(h.Go(o,y))}),we.$n(g)},u.prototype.pa=function(o,a){return this.al.Uc(a),we.resolve()},u.prototype.Fa=function(o,a){var l=this.al.Wc(a);return we.resolve(l)},u.prototype.Ho=function(o,a){return we.resolve(this.al.Ho(a))},u}(),Th=function(){function u(o){var a=this;this.ul={},this.Ma=new en(0),this.Oa=!1,this.Oa=!0,this.No=o(this),this.Ka=new py(this),this.Dr=new Qm,this.vr=new hy(this.Dr,function(g){return a.No.hl(g)})}return u.prototype.start=function(){return Promise.resolve()},u.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(u.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),u.prototype.Za=function(){},u.prototype.tc=function(){},u.prototype.Ic=function(){return this.Dr},u.prototype.mc=function(o){var a=this.ul[o.ti()];return a||(a=new Du(this.Dr,this.No),this.ul[o.ti()]=a),a},u.prototype.Tc=function(){return this.Ka},u.prototype.Ec=function(){return this.vr},u.prototype.runTransaction=function(o,a,l){var h=this;Z("MemoryPersistence","Starting transaction:",o);var g=new Lw(this.Ma.next());return this.No.ll(),l(g).next(function(y){return h.No._l(g).next(function(){return y})}).Fn().then(function(y){return g.br(),y})},u.prototype.fl=function(o,a){return we.kn(Object.values(this.ul).map(function(l){return function(){return l.Ho(o,a)}}))},u}(),Lw=function(u){function o(a){var l=this;return(l=u.call(this)||this).xa=a,l}return k.__extends(o,u),o}(he),Sh=function(){function u(o){this.persistence=o,this.dl=new bu,this.wl=null}return u.ml=function(o){return new u(o)},Object.defineProperty(u.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw me()},enumerable:!1,configurable:!0}),u.prototype.Da=function(o,a,l){return this.dl.Da(l,a),this.Tl.delete(l.toString()),we.resolve()},u.prototype.Na=function(o,a,l){return this.dl.Na(l,a),this.Tl.add(l.toString()),we.resolve()},u.prototype.Go=function(o,a){return this.Tl.add(a.toString()),we.resolve()},u.prototype.removeTarget=function(o,a){var l=this;this.dl.Uc(a.targetId).forEach(function(g){return l.Tl.add(g.toString())});var h=this.persistence.Tc();return h.Fa(o,a.targetId).next(function(g){g.forEach(function(y){return l.Tl.add(y.toString())})}).next(function(){return h.Va(o,a)})},u.prototype.ll=function(){this.wl=new Set},u.prototype._l=function(o){var a=this,l=this.persistence.Ec().ra();return we.forEach(this.Tl,function(h){var g=S.D(h);return a.El(o,g).next(function(y){y||l.Ar(g)})}).next(function(){return a.wl=null,l.apply(o)})},u.prototype.yc=function(o,a){var l=this;return this.El(o,a).next(function(h){h?l.Tl.delete(a.toString()):l.Tl.add(a.toString())})},u.prototype.hl=function(o){return 0},u.prototype.El=function(o,a){var l=this;return we.kn([function(){return we.resolve(l.dl.Ho(a))},function(){return l.persistence.Tc().Ho(o,a)},function(){return l.persistence.fl(o,a)}])},u}(),Ec=function(){function u(o){this.Il=o.Il,this.Al=o.Al}return u.prototype.gu=function(o){this.Rl=o},u.prototype.Tu=function(o){this.gl=o},u.prototype.onMessage=function(o){this.Pl=o},u.prototype.close=function(){this.Al()},u.prototype.send=function(o){this.Il(o)},u.prototype.yl=function(){this.Rl()},u.prototype.Vl=function(o){this.gl(o)},u.prototype.pl=function(o){this.Pl(o)},u}(),Iu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gy=function(u){function o(a){var l=this;return(l=u.call(this,a)||this).forceLongPolling=a.forceLongPolling,l.W=a.W,l}return k.__extends(o,u),o.prototype.Nl=function(a,l,h,g){return new Promise(function(y,v){var C=new fe.XhrIo;C.listenOnce(fe.EventType.COMPLETE,function(){try{switch(C.getLastErrorCode()){case fe.ErrorCode.NO_ERROR:var P=C.getResponseJson();Z("Connection","XHR received:",JSON.stringify(P)),y(P);break;case fe.ErrorCode.TIMEOUT:Z("Connection",'RPC "'+a+'" timed out'),v(new H($.DEADLINE_EXCEEDED,"Request time out"));break;case fe.ErrorCode.HTTP_ERROR:var U=C.getStatus();if(Z("Connection",'RPC "'+a+'" failed with status:',U,"response text:",C.getResponseText()),U>0){var j=C.getResponseJson().error;if(j&&j.status&&j.message){var Q=(ae=j.status.toLowerCase().replace("_","-"),Object.values($).indexOf(ae)>=0?ae:$.UNKNOWN);v(new H(Q,j.message))}else v(new H($.UNKNOWN,"Server responded with status "+C.getStatus()))}else v(new H($.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{Z("Connection",'RPC "'+a+'" completed.')}var ae});var A=JSON.stringify(g);C.send(l,"POST",A,h,15)})},o.prototype.Pu=function(a,l){var h=[this.vl,"/","google.firestore.v1.Firestore","/",a,"/channel"],g=fe.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(y.initMessageHeaders,l),Re.isMobileCordova()||Re.isReactNative()||Re.isElectron()||Re.isIE()||Re.isUWP()||Re.isBrowserExtension()||(y.httpHeadersOverwriteParam="$httpHeaders");var v=h.join("");Z("Connection","Creating WebChannel: "+v,y);var C=g.createWebChannel(v,y),A=!1,P=!1,U=new Ec({Il:function(Q){P?Z("Connection","Not sending because WebChannel is closed:",Q):(A||(Z("Connection","Opening WebChannel transport."),C.open(),A=!0),Z("Connection","WebChannel sending:",Q),C.send(Q))},Al:function(){return C.close()}}),j=function(Q,te){C.listen(Q,function(ae){try{te(ae)}catch(ve){setTimeout(function(){throw ve},0)}})};return j(fe.WebChannel.EventType.OPEN,function(){P||Z("Connection","WebChannel transport opened.")}),j(fe.WebChannel.EventType.CLOSE,function(){P||(P=!0,Z("Connection","WebChannel transport closed"),U.Vl())}),j(fe.WebChannel.EventType.ERROR,function(Q){P||(P=!0,St("Connection","WebChannel transport errored:",Q),U.Vl(new H($.UNAVAILABLE,"The operation could not be completed")))}),j(fe.WebChannel.EventType.MESSAGE,function(Q){var te;if(!P){var ae=Q.data[0];Ce(!!ae);var Me=ae.error||(null===(te=ae[0])||void 0===te?void 0:te.error);if(Me){Z("Connection","WebChannel received error:",Me);var Qe=Me.status,ut=function(Yt){var pn=rt[Yt];if(void 0!==pn)return An(pn)}(Qe),It=Me.message;void 0===ut&&(ut=$.INTERNAL,It="Unknown error status: "+Qe+" with message "+Me.message),P=!0,U.Vl(new H(ut,It)),C.close()}else Z("Connection","WebChannel received:",ae),U.pl(ae)}}),setTimeout(function(){U.yl()},0),U},o}(function(){function u(o){this.bl=o,this.U=o.U,this.vl=(o.ssl?"https":"http")+"://"+o.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return u.prototype.$u=function(o,a,l,h){var g=this.Dl(o,a);Z("RestConnection","Sending: ",g,l);var y={};return this.Cl(y,h),this.Nl(o,g,y,l).then(function(v){return Z("RestConnection","Received: ",v),v},function(v){throw St("RestConnection",o+" failed with error: ",v,"url: ",g,"request:",l),v})},u.prototype.ku=function(o,a,l,h){return this.$u(o,a,l,h)},u.prototype.Cl=function(o,a){if(o["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",o["Content-Type"]="text/plain",a)for(var l in a.Kc)a.Kc.hasOwnProperty(l)&&(o[l]=a.Kc[l])},u.prototype.Dl=function(o,a){return this.vl+"/v1/"+a+":"+Iu[o]},u}()),_e=function(){function u(){var o=this;this.Fl=function(){return o.xl()},this.$l=function(){return o.kl()},this.Ml=[],this.Ol()}return u.prototype.Zu=function(o){this.Ml.push(o)},u.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},u.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},u.prototype.xl=function(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var o=0,a=this.Ml;o<a.length;o++)(0,a[o])(0)},u.prototype.kl=function(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var o=0,a=this.Ml;o<a.length;o++)(0,a[o])(1)},u.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},u}(),Dp=function(){function u(){}return u.prototype.Zu=function(o){},u.prototype.Di=function(){},u}();function Ip(u){return new Ja(u,!0)}var js="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Us=function(){function u(){}return u.prototype.initialize=function(o){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(a){switch(a.label){case 0:return this.Sh=this.Ll(o),this.persistence=this.Bl(o),[4,this.persistence.start()];case 1:return a.sent(),this.ql=this.Ul(o),this.ju=this.Ql(o),[2]}})})},u.prototype.Ul=function(o){return null},u.prototype.Ql=function(o){return a=this.persistence,l=new Ih,new _u(a,l,o.Wl);var a,l},u.prototype.Bl=function(o){if(o.persistenceSettings.jl)throw new H($.FAILED_PRECONDITION,js);return new Th(Sh.ml)},u.prototype.Ll=function(o){return new ah},u.prototype.terminate=function(){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(o){switch(o.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return o.sent(),[4,this.persistence.Di()];case 2:return o.sent(),[2]}})})},u.prototype.clearPersistence=function(o,a){throw new H($.FAILED_PRECONDITION,js)},u}(),my=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.initialize=function(a){return k.__awaiter(this,void 0,void 0,function(){var l,h=this;return k.__generator(this,function(g){switch(g.label){case 0:return[4,u.prototype.initialize.call(this,a)];case 1:return g.sent(),l=this.Kl.fi,this.Sh instanceof sh?(this.Sh.fi={er:ly.bind(null,l),nr:Dh.bind(null,l),sr:Pl.bind(null,l),pi:bc.bind(null,l)},[4,this.Sh.start()]):[3,3];case 2:g.sent(),g.label=3;case 3:return[4,this.persistence.Xa(function(y){return k.__awaiter(h,void 0,void 0,function(){return k.__generator(this,function(v){switch(v.label){case 0:return[4,fy(this.Kl.fi,y)];case 1:return v.sent(),this.ql&&(y&&!this.ql.Ei?this.ql.start(this.ju):y||this.ql.stop()),[2]}})})})];case 4:return g.sent(),[2]}})})},o.prototype.Ll=function(a){if(a.persistenceSettings.jl&&a.persistenceSettings.synchronizeTabs){var l=w();if(!sh.Ln(l))throw new H($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var h=gh(a.bl.U,a.bl.persistenceKey);return new sh(l,a.cs,h,a.clientId,a.Wl)}return new ah},o}(function(u){function o(a){var l=this;return(l=u.call(this)||this).Kl=a,l}return k.__extends(o,u),o.prototype.initialize=function(a){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(l){switch(l.label){case 0:return[4,u.prototype.initialize.call(this,a)];case 1:return l.sent(),[4,_h(this.ju)];case 2:return l.sent(),[4,this.Kl.initialize(this,a)];case 3:return l.sent(),[4,xa(this.Kl.fi)];case 4:return l.sent(),[4,Eu(this.Kl.ph)];case 5:return l.sent(),[2]}})})},o.prototype.Ul=function(a){return new ch(this.persistence.No.wo,a.cs)},o.prototype.Bl=function(a){var l=gh(a.bl.U,a.bl.persistenceKey),h=Ip(a.bl.U);return new ni(a.persistenceSettings.synchronizeTabs,l,a.clientId,Kt.ao(a.persistenceSettings.cacheSizeBytes),a.cs,w(),D(),h,this.Sh,a.persistenceSettings.ka)},o.prototype.Ll=function(a){return new ah},o.prototype.clearPersistence=function(a,l){return function(h){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(y){switch(y.label){case 0:return ei.Ln()?[4,ei.delete(h+"main")]:[2,Promise.resolve()];case 1:return y.sent(),[2]}})})}(gh(a,l))},o}(Us)),Cc=function(){function u(){}return u.prototype.initialize=function(o,a){return k.__awaiter(this,void 0,void 0,function(){var l=this;return k.__generator(this,function(h){switch(h.label){case 0:return this.ju?[3,2]:(this.ju=o.ju,this.Sh=o.Sh,this.Ku=this.Gl(a),this.ph=this.zl(a),this.bh=this.Hl(a),this.fi=this.Yl(a),this.Sh.di=function(g){return _c(l.fi,g,1)},this.ph.Gu.Jl=Vw.bind(null,this.fi),[4,_p(this.ph,this.fi.Uh)]);case 1:h.sent(),h.label=2;case 2:return[2]}})})},u.prototype.Hl=function(o){return new Ge},u.prototype.Gl=function(o){var l=Ip(o.bl.U),h=new gy(o.bl);return new ny(o.credentials,h,l)},u.prototype.zl=function(o){var a,l,h,g,y,v=this;return a=this.ju,l=this.Ku,h=o.cs,g=function(C){return _c(v.fi,C,0)},y=_e.Ln()?new _e:new Dp,new yp(a,l,h,g,y)},u.prototype.Yl=function(o){return C=!o.persistenceSettings.jl||!o.persistenceSettings.synchronizeTabs,A=new Ol(this.ju,this.ph,this.bh,this.Sh,o.Wl,o.Dh),C&&(A.qh=!0),A;var C,A},u.prototype.terminate=function(){return xl(this.ph)},u}(),Dc=function(){function u(o){this.observer=o,this.muted=!1}return u.prototype.next=function(o){this.observer.next&&this.Xl(this.observer.next,o)},u.prototype.error=function(o){this.observer.error?this.Xl(this.observer.error,o):console.error("Uncaught Error in snapshot listener:",o)},u.prototype.Zl=function(){this.muted=!0},u.prototype.Xl=function(o,a){var l=this;this.muted||setTimeout(function(){l.muted||o(a)},0)},u}(),Tp=function(u){!function(a,l,h,g){if(!(l instanceof Array)||l.length<1)throw new H($.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+hr(1,"element")+".")}(0,u);for(var o=0;o<u.length;++o)if(se("FieldPath","string",o,u[o]),0===u[o].length)throw new H($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new R(u)},Vi=function(u){function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return u.call(this,a)||this}return k.__extends(o,u),o.documentId=function(){return new o(R.v().R())},o.prototype.isEqual=function(a){if(!(a instanceof o))throw Pn("isEqual","FieldPath",1,a);return this.t_.isEqual(a.t_)},o}(Tp),Gr=new RegExp("[~\\*/\\[\\]]"),Oo=function(u){this.e_=u},Li=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.n_=function(a){if(2!==a.s_)throw a.i_(1===a.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return a.We.push(a.path),null},o.prototype.isEqual=function(a){return a instanceof o},o}(Oo);function Sp(u,o,a){return new Mp({s_:3,r_:o.settings.r_,methodName:u.e_,o_:a},o.U,o.serializer,o.ignoreUndefinedProperties)}var Ap=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.n_=function(a){return new cn(a.path,new un)},o.prototype.isEqual=function(a){return a instanceof o},o}(Oo),Ah=function(u){function o(a,l){var h=this;return(h=u.call(this,a)||this).a_=l,h}return k.__extends(o,u),o.prototype.n_=function(a){var l=Sp(this,a,!0),h=this.a_.map(function(y){return as(y,l)}),g=new $n(h);return new cn(a.path,g)},o.prototype.isEqual=function(a){return this===a},o}(Oo),Fl=function(u){function o(a,l){var h=this;return(h=u.call(this,a)||this).a_=l,h}return k.__extends(o,u),o.prototype.n_=function(a){var l=Sp(this,a,!0),h=this.a_.map(function(y){return as(y,l)}),g=new Fn(h);return new cn(a.path,g)},o.prototype.isEqual=function(a){return this===a},o}(Oo),xp=function(u){function o(a,l){var h=this;return(h=u.call(this,a)||this).c_=l,h}return k.__extends(o,u),o.prototype.n_=function(a){var l=new Qn(a.serializer,ua(a.serializer,this.c_));return new cn(a.path,l)},o.prototype.isEqual=function(a){return this===a},o}(Oo),kl=function(){function u(o,a){if(L("GeoPoint",arguments,2),se("GeoPoint","number",1,o),se("GeoPoint","number",2,a),!isFinite(o)||o<-90||o>90)throw new H($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+o);if(!isFinite(a)||a<-180||a>180)throw new H($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this.u_=o,this.h_=a}return Object.defineProperty(u.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(o){return this.u_===o.u_&&this.h_===o.h_},u.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},u.prototype.Y=function(o){return Ve(this.u_,o.u_)||Ve(this.h_,o.h_)},u}(),Vl=function(u){this.l_=u},Tu=/^__.*__$/,ss=function(u,o,a){this.__=u,this.f_=o,this.d_=a},yy=function(){function u(o,a,l){this.data=o,this.We=a,this.fieldTransforms=l}return u.prototype.w_=function(o,a){var l=[];return l.push(null!==this.We?new _r(o,this.data,this.We,a):new yo(o,this.data,a)),this.fieldTransforms.length>0&&l.push(new Xr(o,this.fieldTransforms)),l},u}(),_y=function(){function u(o,a,l){this.data=o,this.We=a,this.fieldTransforms=l}return u.prototype.w_=function(o,a){var l=[new _r(o,this.data,this.We,a)];return this.fieldTransforms.length>0&&l.push(new Xr(o,this.fieldTransforms)),l},u}();function xh(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}var Mp=function(){function u(o,a,l,h,g,y){this.settings=o,this.U=a,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===g&&this.m_(),this.fieldTransforms=g||[],this.We=y||[]}return Object.defineProperty(u.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),u.prototype.T_=function(o){return new u(Object.assign(Object.assign({},this.settings),o),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},u.prototype.E_=function(o){var a,l=null===(a=this.path)||void 0===a?void 0:a.child(o),h=this.T_({path:l,o_:!1});return h.I_(o),h},u.prototype.A_=function(o){var a,l=null===(a=this.path)||void 0===a?void 0:a.child(o),h=this.T_({path:l,o_:!1});return h.m_(),h},u.prototype.R_=function(o){return this.T_({path:void 0,o_:!0})},u.prototype.i_=function(o){return Tc(o,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},u.prototype.contains=function(o){return void 0!==this.We.find(function(a){return o.T(a)})||void 0!==this.fieldTransforms.find(function(a){return o.T(a.field)})},u.prototype.m_=function(){if(this.path)for(var o=0;o<this.path.length;o++)this.I_(this.path.get(o))},u.prototype.I_=function(o){if(0===o.length)throw this.i_("Document fields must not be empty");if(xh(this.s_)&&Tu.test(o))throw this.i_('Document fields cannot begin and end with "__"')},u}(),jw=function(){function u(o,a,l){this.U=o,this.ignoreUndefinedProperties=a,this.serializer=l||Ip(o)}return u.prototype.P_=function(o,a,l,h){return void 0===h&&(h=!1),new Mp({s_:o,methodName:a,r_:l,path:R.P(),o_:!1,g_:h},this.U,this.serializer,this.ignoreUndefinedProperties)},u}();function Mh(u,o,a,l,h,g){void 0===g&&(g={});var y=u.P_(g.merge||g.mergeFields?2:0,o,a,h);Rh("Data must be an object, but it was:",y,l);var v,C,A=Ma(l,y);if(g.merge)v=new Pt(y.We),C=y.fieldTransforms;else if(g.mergeFields){for(var P=[],U=0,j=g.mergeFields;U<j.length;U++){var Q=j[U],te=void 0;if(Q instanceof Tp)te=Q.t_;else{if("string"!=typeof Q)throw me();te=Su(o,Q,a)}if(!y.contains(te))throw new H($.INVALID_ARGUMENT,"Field '"+te+"' is specified in your field mask but missing from your input data.");Ph(P,te)||P.push(te)}v=new Pt(P),C=y.fieldTransforms.filter(function(ae){return v.Ye(ae.field)})}else v=null,C=y.fieldTransforms;return new yy(new vo(A),v,C)}function Nh(u,o,a,l){var h=u.P_(1,o,a);Rh("Data must be an object, but it was:",h,l);var g=[],y=new mi;lt(l,function(C,A){var P=Su(o,C,a),U=h.A_(P);if(A instanceof Li||A instanceof Vl&&A.l_ instanceof Li)g.push(P);else{var j=as(A,U);null!=j&&(g.push(P),y.set(P,j))}});var v=new Pt(g);return new _y(y.Xe(),v,h.fieldTransforms)}function Oh(u,o,a,l,h,g){var y=u.P_(1,o,a),v=[Ll(o,l,a)],C=[h];if(g.length%2!=0)throw new H($.INVALID_ARGUMENT,"Function "+o+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var A=0;A<g.length;A+=2)v.push(Ll(o,g[A])),C.push(g[A+1]);for(var P=[],U=new mi,j=v.length-1;j>=0;--j)if(!Ph(P,v[j])){var Q=v[j],te=C[j],ae=y.A_(Q);if(te instanceof Li||te instanceof Vl&&te.l_ instanceof Li)P.push(Q);else{var ve=as(te,ae);null!=ve&&(P.push(Q),U.set(Q,ve))}}var Me=new Pt(P);return new _y(U.Xe(),Me,y.fieldTransforms)}function Ic(u,o,a,l){return void 0===l&&(l=!1),as(a,u.P_(l?4:3,o))}function as(u,o){if(u instanceof Vl&&(u=u.l_),Np(u))return Rh("Unsupported field value:",o,u),Ma(u,o);if(u instanceof Oo)return function(a,l){if(!xh(l.s_))throw l.i_(a.e_+"() can only be used with update() and set()");if(!l.path)throw l.i_(a.e_+"() is not currently supported inside arrays");var h=a.n_(l);h&&l.fieldTransforms.push(h)}(u,o),null;if(o.path&&o.We.push(o.path),u instanceof Array){if(o.settings.o_&&4!==o.s_)throw o.i_("Nested arrays are not supported");return function(a,l){for(var h=[],g=0,y=0,v=a;y<v.length;y++){var C=as(v[y],l.R_(g));null==C&&(C={nullValue:"NULL_VALUE"}),h.push(C),g++}return{arrayValue:{values:h}}}(u,o)}return function(a,l){if(null===a)return{nullValue:"NULL_VALUE"};if("number"==typeof a)return ua(l.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){var h=Lt.fromDate(a);return{timestampValue:eu(l.serializer,h)}}if(a instanceof Lt){var g=new Lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eu(l.serializer,g)}}if(a instanceof kl)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:Mi(l.serializer,a.q)};if(a instanceof ss){var y=l.U,v=a.__;if(!v.isEqual(y))throw l.i_("Document reference is for database "+v.projectId+"/"+v.database+" but should be for database "+y.projectId+"/"+y.database);return{referenceValue:rc(a.__||l.U,a.f_.path)}}if(void 0===a&&l.ignoreUndefinedProperties)return null;throw l.i_("Unsupported field value: "+Xt(a))}(u,o)}function Ma(u,o){var a={};return Ke(u)?o.path&&o.path.length>0&&o.We.push(o.path):lt(u,function(l,h){var g=as(h,o.E_(l));null!=g&&(a[l]=g)}),{mapValue:{fields:a}}}function Np(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Lt||u instanceof kl||u instanceof zn||u instanceof ss||u instanceof Oo)}function Rh(u,o,a){if(!Np(a)||!Dt(a)){var l=Xt(a);throw o.i_("an object"===l?u+" a custom object":u+" "+l)}}function Ll(u,o,a){if(o instanceof Tp)return o.t_;if("string"==typeof o)return Su(u,o);throw Tc("Field path arguments must be of type string or FieldPath.",u,!1,void 0,a)}function Su(u,o,a){try{return function(h){if(h.search(Gr)>=0)throw new H($.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Vi.bind.apply(Vi,k.__spreadArrays([void 0],h.split("."))))}catch(g){throw new H($.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(o).t_}catch(h){throw Tc((l=h)instanceof Error?l.message:l.toString(),u,!1,void 0,a)}var l}function Tc(u,o,a,l,h){var g=l&&!l.m(),y=void 0!==h,v="Function "+o+"() called with invalid data";a&&(v+=" (via `toFirestore()`)");var C="";return(g||y)&&(C+=" (found",g&&(C+=" in field "+l),y&&(C+=" in document "+h),C+=")"),new H($.INVALID_ARGUMENT,(v+=". ")+u+C)}function Ph(u,o){return u.some(function(a){return a.isEqual(o)})}var Op=function(){function u(o){this.Ku=o,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return u.prototype.v_=function(o){return k.__awaiter(this,void 0,void 0,function(){var a,l=this;return k.__generator(this,function(h){switch(h.label){case 0:if(this.S_(),this.mutations.length>0)throw new H($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(g,y){return k.__awaiter(this,void 0,void 0,function(){var v,C,A,P,U,j;return k.__generator(this,function(Q){switch(Q.label){case 0:return v=de(g),C=wt(v.serializer)+"/documents",A={documents:y.map(function(te){return lo(v.serializer,te)})},[4,v.ku("BatchGetDocuments",C,A)];case 1:return P=Q.sent(),U=new Map,P.forEach(function(te){var ve,Me,ae=(ve=v.serializer,"found"in(Me=te)?function(Qe,ut){Ce(!!ut.found);var It=gi(Qe,ut.found.name),Yt=Ni(ut.found.updateTime),pn=new vo({mapValue:{fields:ut.found.fields}});return new Ot(It,Yt,pn,{})}(ve,Me):"missing"in Me?function(Qe,ut){Ce(!!ut.missing),Ce(!!ut.readTime);var It=gi(Qe,ut.missing),Yt=Ni(ut.readTime);return new ln(It,Yt)}(ve,Me):me());U.set(ae.key.toString(),ae)}),j=[],[2,(y.forEach(function(te){var ae=U.get(te.toString());Ce(!!ae),j.push(ae)}),j)]}})})}(this.Ku,o)];case 1:return[2,((a=h.sent()).forEach(function(g){g instanceof ln||g instanceof Ot?l.D_(g):me()}),a)]}})})},u.prototype.set=function(o,a){this.write(a.w_(o,this.Ge(o))),this.b_.add(o.toString())},u.prototype.update=function(o,a){try{this.write(a.w_(o,this.C_(o)))}catch(l){this.p_=l}this.b_.add(o.toString())},u.prototype.delete=function(o){this.write([new Ht(o,this.Ge(o))]),this.b_.add(o.toString())},u.prototype.commit=function(){return k.__awaiter(this,void 0,void 0,function(){var o,a=this;return k.__generator(this,function(l){switch(l.label){case 0:if(this.S_(),this.p_)throw this.p_;return o=this.y_,this.mutations.forEach(function(h){o.delete(h.key.toString())}),o.forEach(function(h,g){var y=S.D(g);a.mutations.push(new ic(y,a.Ge(y)))}),[4,function(h,g){return k.__awaiter(this,void 0,void 0,function(){var y,v,C;return k.__generator(this,function(A){switch(A.label){case 0:return y=de(h),v=wt(y.serializer)+"/documents",C={writes:g.map(function(P){return Zr(y.serializer,P)})},[4,y.$u("Commit",v,C)];case 1:return A.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return l.sent(),this.V_=!0,[2]}})})},u.prototype.D_=function(o){var a;if(o instanceof Ot)a=o.version;else{if(!(o instanceof ln))throw me();a=et.min()}var l=this.y_.get(o.key.toString());if(l){if(!a.isEqual(l))throw new H($.ABORTED,"Document version changed between two reads.")}else this.y_.set(o.key.toString(),a)},u.prototype.Ge=function(o){var a=this.y_.get(o.toString());return!this.b_.has(o.toString())&&a?Nt.updateTime(a):Nt.ze()},u.prototype.C_=function(o){var a=this.y_.get(o.toString());if(!this.b_.has(o.toString())&&a){if(a.isEqual(et.min()))throw new H($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(a)}return Nt.exists(!0)},u.prototype.write=function(o){this.S_(),this.mutations=this.mutations.concat(o)},u.prototype.S_=function(){},u}(),Rp=function(){function u(o,a,l,h){this.cs=o,this.Ku=a,this.updateFunction=l,this.ls=h,this.N_=5,this.ys=new cu(this.cs,"transaction_retry")}return u.prototype.run=function(){this.F_()},u.prototype.F_=function(){var o=this;this.ys.gn(function(){return k.__awaiter(o,void 0,void 0,function(){var a,l,h=this;return k.__generator(this,function(g){return a=new Op(this.Ku),(l=this.x_(a))&&l.then(function(y){h.cs.ws(function(){return a.commit().then(function(){h.ls.resolve(y)}).catch(function(v){h.k_(v)})})}).catch(function(y){h.k_(y)}),[2]})})})},u.prototype.x_=function(o){try{var a=this.updateFunction(o);return!hi(a)&&a.catch&&a.then?a:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(l){return this.ls.reject(l),null}},u.prototype.k_=function(o){var a=this;this.N_>0&&this.M_(o)?(this.N_-=1,this.cs.ws(function(){return a.F_(),Promise.resolve()})):this.ls.reject(o)},u.prototype.M_=function(o){if("FirebaseError"===o.name){var a=o.code;return"aborted"===a||"failed-precondition"===a||!Wn(a)}return!1},u}(),Na=function(){function u(o,a){this.credentials=o,this.cs=a,this.clientId=Et.k(),this.O_=new fn}return u.prototype.start=function(o,a,l,h){var g=this;this.L_(),this.bl=o;var y=new fn,v=!1;return this.credentials.Hc(function(C){if(!v)return v=!0,Z("FirestoreClient","Initializing. user=",C.uid),g.B_(a,l,h,C,y).then(g.O_.resolve,g.O_.reject);g.cs.Cs(function(){return function(A,P){return k.__awaiter(this,void 0,void 0,function(){var U,j;return k.__generator(this,function(Q){switch(Q.label){case 0:return(U=de(A)).cs.xs(),Z("RemoteStore","RemoteStore received new credentials"),j=ri(U),U.Yu.add(3),[4,br(U)];case 1:return Q.sent(),j&&U.th.set("Unknown"),[4,U.Gu.Jl(P)];case 2:return Q.sent(),U.Yu.delete(3),[4,Mo(U)];case 3:return Q.sent(),[2]}})})}(g.ph,C)})}),this.cs.ws(function(){return g.O_.promise}),y.promise},u.prototype.enableNetwork=function(){var o=this;return this.L_(),this.cs.enqueue(function(){return o.persistence.tc(!0),(l=de(o.ph)).Yu.delete(0),Mo(l);var l})},u.prototype.B_=function(o,a,l,h,g){return k.__awaiter(this,void 0,void 0,function(){var y,v,C=this;return k.__generator(this,function(A){switch(A.label){case 0:return A.trys.push([0,3,,4]),[4,o.initialize(y={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:h,Dh:100,persistenceSettings:l})];case 1:return A.sent(),[4,a.initialize(o,y)];case 2:return A.sent(),this.persistence=o.persistence,this.Sh=o.Sh,this.ju=o.ju,this.ql=o.ql,this.Ku=a.Ku,this.ph=a.ph,this.fi=a.fi,this.q_=a.bh,this.q_.Us=kw.bind(null,this.fi),this.q_.js=Fi.bind(null,this.fi),this.persistence.Za(function(){return k.__awaiter(C,void 0,void 0,function(){return k.__generator(this,function(P){switch(P.label){case 0:return[4,this.terminate()];case 1:return P.sent(),[2]}})})}),g.resolve(),[3,4];case 3:if(v=A.sent(),g.reject(v),!this.U_(v))throw v;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+v),this.B_(new Us,new Cc,{jl:!1},h,g))];case 4:return[2]}})})},u.prototype.U_=function(o){return"FirebaseError"===o.name?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code},u.prototype.L_=function(){if(this.cs.ps)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.")},u.prototype.disableNetwork=function(){var o=this;return this.L_(),this.cs.enqueue(function(){return o.persistence.tc(!1),function(a){return k.__awaiter(this,void 0,void 0,function(){var l;return k.__generator(this,function(h){switch(h.label){case 0:return(l=de(a)).Yu.add(0),[4,br(l)];case 1:return h.sent(),l.th.set("Offline"),[2]}})})}(o.ph)})},u.prototype.terminate=function(){var o=this;this.cs.Ds();var a=new fn;return this.cs.bs(function(){return k.__awaiter(o,void 0,void 0,function(){var l,h;return k.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,xl(this.ph)];case 1:return g.sent(),[4,this.Sh.Di()];case 2:return g.sent(),[4,this.persistence.Di()];case 3:return g.sent(),this.credentials.Yc(),a.resolve(),[3,5];case 4:return l=g.sent(),h=ee(l,"Failed to shutdown persistence"),a.reject(h),[3,5];case 5:return[2]}})})}),a.promise},u.prototype.waitForPendingWrites=function(){var o=this;this.L_();var a=new fn;return this.cs.ws(function(){return function(l,h){return k.__awaiter(this,void 0,void 0,function(){var g,y,v,C,A;return k.__generator(this,function(P){switch(P.label){case 0:ri((g=de(l)).ph)||Z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),P.label=1;case 1:return P.trys.push([1,3,,4]),[4,(U=g.ju,j=de(U),j.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Q){return j.Sr.qo(Q)}))];case 2:return-1===(y=P.sent())?[2,void h.resolve()]:((v=g.Lh.get(y)||[]).push(h),g.Lh.set(y,v),[3,4]);case 3:return C=P.sent(),A=ee(C,"Initialization of waitForPendingWrites() operation failed"),h.reject(A),[3,4];case 4:return[2]}var U,j})})}(o.fi,a)}),a.promise},u.prototype.listen=function(o,a,l){var h=this;this.L_();var g=new Dc(l),y=new To(o,g,a);return this.cs.ws(function(){return bt(h.q_,y)}),function(){g.Zl(),h.cs.ws(function(){return Zn(h.q_,y)})}},u.prototype.Q_=function(o){return k.__awaiter(this,void 0,void 0,function(){var a,l=this;return k.__generator(this,function(h){switch(h.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return h.sent(),a=new fn,[2,(this.cs.ws(function(){return function(g,y,v){return k.__awaiter(this,void 0,void 0,function(){var C,A,P;return k.__generator(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,(j=g,Q=y,te=de(j),te.persistence.runTransaction("read document","readonly",function(ae){return te.Cc.Cr(ae,Q)}))];case 1:return(C=U.sent())instanceof Ot?v.resolve(C):C instanceof ln?v.resolve(null):v.reject(new H($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=U.sent(),P=ee(A,"Failed to get document '"+y+" from cache"),v.reject(P),[3,3];case 3:return[2]}var j,Q,te})})}(l.ju,o,a)}),a.promise)]}})})},u.prototype.W_=function(o,a){return void 0===a&&(a={}),k.__awaiter(this,void 0,void 0,function(){var l,h=this;return k.__generator(this,function(g){switch(g.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return g.sent(),l=new fn,[2,(this.cs.ws(function(){return y=h.q_,v=h.cs,C=o,A=a,P=l,U=new Dc({next:function(Q){v.ws(function(){return Zn(y,j)});var te=Q.docs.has(C);!te&&Q.fromCache?P.reject(new H($.UNAVAILABLE,"Failed to get document because the client is offline.")):te&&Q.fromCache&&A&&"server"===A.source?P.reject(new H($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):P.resolve(Q)},error:function(Q){return P.reject(Q)}}),j=new To(ar(C.path),U,{includeMetadataChanges:!0,Xs:!0}),bt(y,j);var y,v,C,A,P,U,j}),l.promise)]}})})},u.prototype.j_=function(o){return k.__awaiter(this,void 0,void 0,function(){var a,l=this;return k.__generator(this,function(h){switch(h.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return h.sent(),a=new fn,[2,(this.cs.ws(function(){return function(g,y,v){return k.__awaiter(this,void 0,void 0,function(){var C,A,P,U,j,Q;return k.__generator(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,Sl(g,y,!0)];case 1:return C=te.sent(),A=new ay(y,C.Fc),P=A.wh(C.documents),U=A.yr(P,!1),v.resolve(U.snapshot),[3,3];case 2:return j=te.sent(),Q=ee(j,"Failed to execute query '"+y+" against cache"),v.reject(Q),[3,3];case 3:return[2]}})})}(l.ju,o,a)}),a.promise)]}})})},u.prototype.K_=function(o,a){return void 0===a&&(a={}),k.__awaiter(this,void 0,void 0,function(){var l,h=this;return k.__generator(this,function(g){switch(g.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return g.sent(),l=new fn,[2,(this.cs.ws(function(){return y=h.q_,v=h.cs,C=o,A=a,P=l,U=new Dc({next:function(Q){v.ws(function(){return Zn(y,j)}),Q.fromCache&&"server"===A.source?P.reject(new H($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):P.resolve(Q)},error:function(Q){return P.reject(Q)}}),j=new To(C,U,{includeMetadataChanges:!0,Xs:!0}),bt(y,j);var y,v,C,A,P,U,j}),l.promise)]}})})},u.prototype.write=function(o){var a=this;this.L_();var l=new fn;return this.cs.ws(function(){return function(h,g,y){return k.__awaiter(this,void 0,void 0,function(){var v,C,A,P;return k.__generator(this,function(U){switch(U.label){case 0:v=xa(h),U.label=1;case 1:return U.trys.push([1,5,,6]),[4,(j=v.ju,Q=g,ae=de(j),ve=Lt.now(),Me=Q.reduce(function(Qe,ut){return Qe.add(ut.key)},xe()),ae.persistence.runTransaction("Locally write mutations","readwrite",function(Qe){return ae.Cc.kr(Qe,Me).next(function(ut){te=ut;for(var It=[],Yt=0,pn=Q;Yt<pn.length;Yt++){var Ro=pn[Yt],cs=ht(Ro,te.get(Ro.key));null!=cs&&It.push(new _r(Ro.key,cs,ou(cs.proto.mapValue),Nt.exists(!0)))}return ae.Sr.ko(Qe,ve,It,Q)})}).then(function(Qe){var ut=Qe.lr(te);return{batchId:Qe.batchId,wr:ut}}))];case 2:return C=U.sent(),v.Sh.xi(C.batchId),function(j,Q,te){var ae=j.Oh[j.currentUser.ti()];ae||(ae=new We(Ve)),ae=ae.ot(Q,te),j.Oh[j.currentUser.ti()]=ae}(v,C.batchId,y),[4,ki(v,C.wr)];case 3:return U.sent(),[4,Eu(v.ph)];case 4:return U.sent(),[3,6];case 5:return A=U.sent(),P=ee(A,"Failed to persist write"),y.reject(P),[3,6];case 6:return[2]}var j,Q,te,ae,ve,Me})})}(a.fi,o,l)}),l.promise},u.prototype.U=function(){return this.bl.U},u.prototype.G_=function(o){var a=this;this.L_();var l=new Dc(o);return this.cs.ws(function(){return k.__awaiter(a,void 0,void 0,function(){return k.__generator(this,function(h){return[2,(g=this.q_,y=l,de(g).qs.add(y),void y.next())];var g,y})})}),function(){l.Zl(),a.cs.ws(function(){return k.__awaiter(a,void 0,void 0,function(){return k.__generator(this,function(h){return[2,(g=this.q_,y=l,void de(g).qs.delete(y))];var g,y})})})}},Object.defineProperty(u.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),u.prototype.transaction=function(o){var a=this;this.L_();var l=new fn;return this.cs.ws(function(){return new Rp(a.cs,a.Ku,o,l).run(),Promise.resolve()}),l.promise},u}();function Sc(u){return function(o,a){if("object"!=typeof o||null===o)return!1;for(var l=o,h=0,g=["next","error","complete"];h<g.length;h++){var y=g[h];if(y in l&&"function"==typeof l[y])return!0}return!1}(u)}var Pp=function(){function u(o,a,l,h,g){this.U=o,this.timestampsInSnapshots=a,this.H_=l,this.Y_=h,this.J_=g}return u.prototype.X_=function(o){switch(_n(o)){case 0:return null;case 1:return o.booleanValue;case 2:return zt(o.integerValue||o.doubleValue);case 3:return this.Z_(o.timestampValue);case 4:return this.tf(o);case 5:return o.stringValue;case 6:return this.J_(di(o.bytesValue));case 7:return this.ef(o.referenceValue);case 8:return this.nf(o.geoPointValue);case 9:return this.sf(o.arrayValue);case 10:return this.if(o.mapValue);default:throw me()}},u.prototype.if=function(o){var a=this,l={};return lt(o.fields||{},function(h,g){l[h]=a.X_(g)}),l},u.prototype.nf=function(o){return new kl(zt(o.latitude),zt(o.longitude))},u.prototype.sf=function(o){var a=this;return(o.values||[]).map(function(l){return a.X_(l)})},u.prototype.tf=function(o){switch(this.H_){case"previous":var a=cl(o);return null==a?null:this.X_(a);case"estimate":return this.Z_(Ss(o));default:return null}},u.prototype.Z_=function(o){var a=an(o),l=new Lt(a.seconds,a.nanos);return this.timestampsInSnapshots?l:l.toDate()},u.prototype.ef=function(o){var a=st.g(o);Ce(mr(a));var l=new Yo(a.get(1),a.get(3)),h=new S(a.u(5));return l.isEqual(this.U)||pe("Document "+h+" contains a document reference within a different database ("+l.projectId+"/"+l.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(h)},u}(),Fp=Kt.ho,kp=function(){function u(o){var a,l,h,g,y;if(void 0===o.host){if(void 0!==o.ssl)throw new H($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else X("settings","non-empty string","host",o.host),this.host=o.host,Te("settings","boolean","ssl",o.ssl),this.ssl=null===(a=o.ssl)||void 0===a||a;if(En("settings",o,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Te("settings","object","credentials",o.credentials),this.credentials=o.credentials,Te("settings","boolean","timestampsInSnapshots",o.timestampsInSnapshots),Te("settings","boolean","ignoreUndefinedProperties",o.ignoreUndefinedProperties),!0===o.timestampsInSnapshots?pe("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===o.timestampsInSnapshots&&pe("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(l=o.timestampsInSnapshots)||void 0===l||l,this.ignoreUndefinedProperties=null!==(h=o.ignoreUndefinedProperties)&&void 0!==h&&h,Te("settings","number","cacheSizeBytes",o.cacheSizeBytes),void 0===o.cacheSizeBytes)this.cacheSizeBytes=Kt._o;else{if(o.cacheSizeBytes!==Fp&&o.cacheSizeBytes<Kt.lo)throw new H($.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Kt.lo);this.cacheSizeBytes=o.cacheSizeBytes}Te("settings","boolean","experimentalForceLongPolling",o.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(g=o.experimentalForceLongPolling)&&void 0!==g&&g,Te("settings","boolean","experimentalAutoDetectLongPolling",o.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(y=o.experimentalAutoDetectLongPolling)&&void 0!==y&&y,function(v,C,A,P){if(!0===C&&!0===P)throw new H($.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,o.experimentalForceLongPolling,0,o.experimentalAutoDetectLongPolling)}return u.prototype.isEqual=function(o){return this.host===o.host&&this.ssl===o.ssl&&this.timestampsInSnapshots===o.timestampsInSnapshots&&this.credentials===o.credentials&&this.cacheSizeBytes===o.cacheSizeBytes&&this.experimentalForceLongPolling===o.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===o.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===o.ignoreUndefinedProperties},u}(),Fh=function(){function u(o,a,l,h){var g=this;if(void 0===l&&(l=new Us),void 0===h&&(h=new Cc),this.rf=l,this.af=h,this.cf=null,this.uf=new B,this.INTERNAL={delete:function(){return k.__awaiter(g,void 0,void 0,function(){return k.__generator(this,function(C){switch(C.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return C.sent(),[2]}})})}},"object"==typeof o.options){var y=o;this.cf=y,this.__=u._f(y),this.ff=y.name,this.df=new dp(a)}else{var v=o;if(!v.projectId)throw new H($.INVALID_ARGUMENT,"Must provide projectId");this.__=new Yo(v.projectId,v.database),this.ff="[DEFAULT]",this.df=new vh}this.wf=new kp({})}return Object.defineProperty(u.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new jw(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),u.prototype.settings=function(o){L("Firestore.settings",arguments,1),se("Firestore.settings","object",1,o),o.merge&&delete(o=Object.assign(Object.assign({},this.wf),o)).merge;var a=new kp(o);if(this.lf&&!this.wf.isEqual(a))throw new H($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=a,void 0!==a.credentials&&(this.df=function(l){if(!l)return new vh;switch(l.type){case"gapi":var h=l.client;return Ce(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new ty(h,l.sessionIndex||"0");case"provider":return l.client;default:throw new H($.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(a.credentials))},u.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},u.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},u.prototype.enablePersistence=function(o){var a,l;if(this.lf)throw new H($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var h=!1,g=!1;if(o&&(void 0!==o.experimentalTabSynchronization&&pe("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),h=null!==(l=null!==(a=o.synchronizeTabs)&&void 0!==a?a:o.experimentalTabSynchronization)&&void 0!==l&&l,g=!!o.experimentalForceOwningTab&&o.experimentalForceOwningTab,h&&g))throw new H($.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:h,ka:g})},u.prototype.clearPersistence=function(){return k.__awaiter(this,void 0,void 0,function(){var o,a=this;return k.__generator(this,function(l){if(void 0!==this.lf&&!this.lf.z_)throw new H($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return o=new fn,[2,(this.uf.bs(function(){return k.__awaiter(a,void 0,void 0,function(){var h;return k.__generator(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return g.sent(),o.resolve(),[3,3];case 2:return h=g.sent(),o.reject(h),[3,3];case 3:return[2]}})})}),o.promise)]})})},u.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(u.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),u.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},u.prototype.onSnapshotsInSync=function(o){return this.hf(),Sc(o)?this.lf.G_(o):(se("Firestore.onSnapshotsInSync","function",1,o),this.lf.G_({next:o}))},u.prototype.hf=function(){return this.lf||this.Ef(new Us,new Cc,{jl:!1}),this.lf},u.prototype.Af=function(){return new Jt(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},u.prototype.Ef=function(o,a,l){var h=this.Af();return this.lf=new Na(this.df,this.uf),this.lf.start(h,o,a,l)},u._f=function(o){if(!Object.prototype.hasOwnProperty.call(o.options,"projectId"))throw new H($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var l=o.options.projectId;if(!l||"string"!=typeof l)throw new H($.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Yo(l)},Object.defineProperty(u.prototype,"app",{get:function(){if(!this.cf)throw new H($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),u.prototype.collection=function(o){return L("Firestore.collection",arguments,1),se("Firestore.collection","non-empty string",1,o),this.hf(),new Ul(st.g(o),this,null)},u.prototype.doc=function(o){return L("Firestore.doc",arguments,1),se("Firestore.doc","non-empty string",1,o),this.hf(),us.Rf(st.g(o),this,null)},u.prototype.collectionGroup=function(o){if(L("Firestore.collectionGroup",arguments,1),se("Firestore.collectionGroup","non-empty string",1,o),o.indexOf("/")>=0)throw new H($.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new jl((a=o,new Wi(st.P(),a)),this,null);var a},u.prototype.runTransaction=function(o){var a=this;return L("Firestore.runTransaction",arguments,1),se("Firestore.runTransaction","function",1,o),this.hf().transaction(function(l){return o(new ii(a,l))})},u.prototype.batch=function(){return this.hf(),new Xi(this)},Object.defineProperty(u,"logLevel",{get:function(){switch(Ee()){case $e.LogLevel.DEBUG:return"debug";case $e.LogLevel.ERROR:return"error";case $e.LogLevel.SILENT:return"silent";case $e.LogLevel.WARN:return"warn";case $e.LogLevel.INFO:return"info";case $e.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),u.setLogLevel=function(o){L("Firestore.setLogLevel",arguments,1),ue("setLogLevel",["debug","error","silent","warn","info","verbose"],1,o),ke.setLogLevel(o)},u.prototype.gf=function(){return this.wf.timestampsInSnapshots},u.prototype.Pf=function(){return this.wf},u}(),ii=function(){function u(o,a){this.yf=o,this.Vf=a}return u.prototype.get=function(o){var a=this;L("Transaction.get",arguments,1);var l=bi("Transaction.get",o,this.yf);return this.Vf.v_([l.f_]).then(function(h){if(!h||1!==h.length)return me();var g=h[0];if(g instanceof ln)return new Oa(a.yf,l.f_,null,!1,!1,l.d_);if(g instanceof Ot)return new Oa(a.yf,l.f_,g,!1,!1,l.d_);throw me()})},u.prototype.set=function(o,a,l){G("Transaction.set",arguments,2,3);var h=bi("Transaction.set",o,this.yf);l=Ra("Transaction.set",l);var g=Bl(h.d_,a,l),y=Mh(this.yf.mf,"Transaction.set",h.f_,g,null!==h.d_,l);return this.Vf.set(h.f_,y),this},u.prototype.update=function(o,a,l){for(var h,g,y=[],v=3;v<arguments.length;v++)y[v-3]=arguments[v];return"string"==typeof a||a instanceof Vi?(O("Transaction.update",arguments,3),h=bi("Transaction.update",o,this.yf),g=Oh(this.yf.mf,"Transaction.update",h.f_,a,l,y)):(L("Transaction.update",arguments,2),h=bi("Transaction.update",o,this.yf),g=Nh(this.yf.mf,"Transaction.update",h.f_,a)),this.Vf.update(h.f_,g),this},u.prototype.delete=function(o){L("Transaction.delete",arguments,1);var a=bi("Transaction.delete",o,this.yf);return this.Vf.delete(a.f_),this},u}(),Xi=function(){function u(o){this.yf=o,this.pf=[],this.bf=!1}return u.prototype.set=function(o,a,l){G("WriteBatch.set",arguments,2,3),this.vf();var h=bi("WriteBatch.set",o,this.yf);l=Ra("WriteBatch.set",l);var g=Bl(h.d_,a,l),y=Mh(this.yf.mf,"WriteBatch.set",h.f_,g,null!==h.d_,l);return this.pf=this.pf.concat(y.w_(h.f_,Nt.ze())),this},u.prototype.update=function(o,a,l){for(var h,g,y=[],v=3;v<arguments.length;v++)y[v-3]=arguments[v];return this.vf(),"string"==typeof a||a instanceof Vi?(O("WriteBatch.update",arguments,3),h=bi("WriteBatch.update",o,this.yf),g=Oh(this.yf.mf,"WriteBatch.update",h.f_,a,l,y)):(L("WriteBatch.update",arguments,2),h=bi("WriteBatch.update",o,this.yf),g=Nh(this.yf.mf,"WriteBatch.update",h.f_,a)),this.pf=this.pf.concat(g.w_(h.f_,Nt.exists(!0))),this},u.prototype.delete=function(o){L("WriteBatch.delete",arguments,1),this.vf();var a=bi("WriteBatch.delete",o,this.yf);return this.pf=this.pf.concat(new Ht(a.f_,Nt.ze())),this},u.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},u.prototype.vf=function(){if(this.bf)throw new H($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},u}(),us=function(u){function o(a,l,h){var g=this;return(g=u.call(this,l.__,a,h)||this).f_=a,g.firestore=l,g.d_=h,g.lf=g.firestore.hf(),g}return k.__extends(o,u),o.Rf=function(a,l,h){if(a.length%2!=0)throw new H($.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a.R()+" has "+a.length);return new o(new S(a),l,h)},Object.defineProperty(o.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return new Ul(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),o.prototype.collection=function(a){if(L("DocumentReference.collection",arguments,1),se("DocumentReference.collection","non-empty string",1,a),!a)throw new H($.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var l=st.g(a);return new Ul(this.f_.path.child(l),this.firestore,null)},o.prototype.isEqual=function(a){if(!(a instanceof o))throw Pn("isEqual","DocumentReference",1,a);return this.firestore===a.firestore&&this.f_.isEqual(a.f_)&&this.d_===a.d_},o.prototype.set=function(a,l){G("DocumentReference.set",arguments,1,2),l=Ra("DocumentReference.set",l);var h=Bl(this.d_,a,l),g=Mh(this.firestore.mf,"DocumentReference.set",this.f_,h,null!==this.d_,l);return this.lf.write(g.w_(this.f_,Nt.ze()))},o.prototype.update=function(a,l){for(var h,g=[],y=2;y<arguments.length;y++)g[y-2]=arguments[y];return"string"==typeof a||a instanceof Vi?(O("DocumentReference.update",arguments,2),h=Oh(this.firestore.mf,"DocumentReference.update",this.f_,a,l,g)):(L("DocumentReference.update",arguments,1),h=Nh(this.firestore.mf,"DocumentReference.update",this.f_,a)),this.lf.write(h.w_(this.f_,Nt.exists(!0)))},o.prototype.delete=function(){return L("DocumentReference.delete",arguments,0),this.lf.write([new Ht(this.f_,Nt.ze())])},o.prototype.onSnapshot=function(){for(var a,l,h,g=this,y=[],v=0;v<arguments.length;v++)y[v]=arguments[v];G("DocumentReference.onSnapshot",arguments,1,4);var C={includeMetadataChanges:!1},A=0;"object"!=typeof y[A]||Sc(y[A])||(En("DocumentReference.onSnapshot",C=y[A],["includeMetadataChanges"]),Te("DocumentReference.onSnapshot","boolean","includeMetadataChanges",C.includeMetadataChanges),A++);var P={includeMetadataChanges:C.includeMetadataChanges};if(Sc(y[A])){var U=y[A];y[A]=null===(a=U.next)||void 0===a?void 0:a.bind(U),y[A+1]=null===(l=U.error)||void 0===l?void 0:l.bind(U),y[A+2]=null===(h=U.complete)||void 0===h?void 0:h.bind(U)}else se("DocumentReference.onSnapshot","function",A,y[A]),ze("DocumentReference.onSnapshot","function",A+1,y[A+1]),ze("DocumentReference.onSnapshot","function",A+2,y[A+2]);var j={next:function(Q){y[A]&&y[A](g.Sf(Q))},error:y[A+1],complete:y[A+2]};return this.lf.listen(ar(this.f_.path),P,j)},o.prototype.get=function(a){var l=this;G("DocumentReference.get",arguments,0,1),Ji("DocumentReference.get",a);var h=this.firestore.hf();return a&&"cache"===a.source?h.Q_(this.f_).then(function(g){return new Oa(l.firestore,l.f_,g,!0,g instanceof Ot&&g.Je,l.d_)}):h.W_(this.f_,a).then(function(g){return l.Sf(g)})},o.prototype.withConverter=function(a){return new o(this.f_,this.firestore,a)},o.prototype.Sf=function(a){var l=a.docs.get(this.f_);return new Oa(this.firestore,this.f_,l,a.fromCache,a.hasPendingWrites,this.d_)},o}(ss),Vp=function(){function u(o,a){this.hasPendingWrites=o,this.fromCache=a}return u.prototype.isEqual=function(o){return this.hasPendingWrites===o.hasPendingWrites&&this.fromCache===o.fromCache},u}(),Oa=function(){function u(o,a,l,h,g,y){this.yf=o,this.f_=a,this.Df=l,this.Cf=h,this.Nf=g,this.d_=y}return u.prototype.data=function(o){var a=this;if(G("DocumentSnapshot.data",arguments,0,1),o=Lh("DocumentSnapshot.data",o),this.Df){if(this.d_){var l=new kh(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(l,o)}return new Pp(this.yf.__,this.yf.gf(),o.serverTimestamps||"none",function(h){return new us(h,a.yf,null)},function(h){return new Hn(h)}).X_(this.Df.rn())}},u.prototype.get=function(o,a){var l=this;if(G("DocumentSnapshot.get",arguments,1,2),a=Lh("DocumentSnapshot.get",a),this.Df){var h=this.Df.data().field(Ll("DocumentSnapshot.get",o,this.f_));if(null!==h)return new Pp(this.yf.__,this.yf.gf(),a.serverTimestamps||"none",function(g){return new us(g,l.yf,l.d_)},function(g){return new Hn(g)}).X_(h)}},Object.defineProperty(u.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ref",{get:function(){return new us(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"metadata",{get:function(){return new Vp(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),u.prototype.isEqual=function(o){if(!(o instanceof u))throw Pn("isEqual","DocumentSnapshot",1,o);return this.yf===o.yf&&this.Cf===o.Cf&&this.f_.isEqual(o.f_)&&(null===this.Df?null===o.Df:this.Df.isEqual(o.Df))&&this.d_===o.d_},u}(),kh=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.prototype.data=function(a){return u.prototype.data.call(this,a)},o}(Oa);function vy(u,o,a,l,h,g,y){var v;if(h.p()){if("array-contains"===g||"array-contains-any"===g)throw new H($.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if("in"===g||"not-in"===g){Lp(y,g);for(var C=[],A=0,P=y;A<P.length;A++)C.push(Vh(l,u,P[A]));v={arrayValue:{values:C}}}else v=Vh(l,u,y)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||Lp(y,g),v=Ic(a,o,y,"in"===g||"not-in"===g);var j=Br.create(h,g,v);return function(Q,te){if(te.hn()){var ae=xr(Q);if(null!==ae&&!ae.isEqual(te.field))throw new H($.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ae.toString()+"' and '"+te.field.toString()+"'");var ve=Qi(Q);null!==ve&&jp(0,te.field,ve)}var Me=function(Qe,ut){for(var It=0,Yt=Qe.filters;It<Yt.length;It++){var pn=Yt[It];if(ut.indexOf(pn.op)>=0)return pn.op}return null}(Q,function(Qe){switch(Qe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Me)throw new H($.INVALID_ARGUMENT,Me===te.op?"Invalid query. You cannot use more than one '"+te.op.toString()+"' filter.":"Invalid query. You cannot use '"+te.op.toString()+"' filters with '"+Me.toString()+"' filters.")}(u,j),j}function wy(u,o,a){if(null!==u.startAt)throw new H($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new H($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Eo(o,a);return function(h,g){if(null===Qi(h)){var y=xr(h);null!==y&&jp(0,y,g.field)}}(u,l),l}function Vh(u,o,a){if("string"==typeof a){if(""===a)throw new H($.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oi(o)&&-1!==a.indexOf("/"))throw new H($.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+a+"' contains a '/' character.");var l=o.path.child(st.g(a));if(!S.F(l))throw new H($.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+l+"' is not because it has an odd number of segments ("+l.length+").");return oa(u,new S(l))}if(a instanceof ss)return oa(u,a.f_);throw new H($.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xt(a)+".")}function Lp(u,o){if(!Array.isArray(u)||0===u.length)throw new H($.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+o.toString()+"' filters.");if(u.length>10)throw new H($.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===o||"array-contains-any"===o){if(u.indexOf(null)>=0)throw new H($.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters cannot contain 'null' in the value array.");if(u.filter(function(a){return Number.isNaN(a)}).length>0)throw new H($.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters cannot contain 'NaN' in the value array.")}}function jp(u,o,a){if(!a.isEqual(o))throw new H($.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+o.toString()+"' and so you must also use '"+o.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+a.toString()+"' instead.")}function Up(u){if(wo(u)&&0===u.on.length)throw new H($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jl=function(){function u(o,a,l){this.Ff=o,this.firestore=a,this.d_=l}return u.prototype.where=function(o,a,l){L("Query.where",arguments,3),Qr("Query.where",3,l);var v,A,h=ue("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,a),g=Ll("Query.where",o),y=vy(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,g,h,l);return new u((A=(v=this.Ff).filters.concat([y]),new Wi(v.path,v.collectionGroup,v.on.slice(),A,v.limit,v.an,v.startAt,v.endAt)),this.firestore,this.d_)},u.prototype.orderBy=function(o,a){var l;if(G("Query.orderBy",arguments,1,2),ze("Query.orderBy","non-empty string",2,a),void 0===a||"asc"===a)l="asc";else{if("desc"!==a)throw new H($.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+a+"', expected 'asc' or 'desc'.");l="desc"}var y,C,h=Ll("Query.orderBy",o),g=wy(this.Ff,h,l);return new u((C=(y=this.Ff).on.concat([g]),new Wi(y.path,y.collectionGroup,C,y.filters.slice(),y.limit,y.an,y.startAt,y.endAt)),this.firestore,this.d_)},u.prototype.limit=function(o){return L("Query.limit",arguments,1),se("Query.limit","number",1,o),fr("Query.limit",1,o),new u(Ms(this.Ff,o,"F"),this.firestore,this.d_)},u.prototype.limitToLast=function(o){return L("Query.limitToLast",arguments,1),se("Query.limitToLast","number",1,o),fr("Query.limitToLast",1,o),new u(Ms(this.Ff,o,"L"),this.firestore,this.d_)},u.prototype.startAt=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];O("Query.startAt",arguments,1);var h=this.xf("Query.startAt",o,a,!0);return new u(pl(this.Ff,h),this.firestore,this.d_)},u.prototype.startAfter=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];O("Query.startAfter",arguments,1);var h=this.xf("Query.startAfter",o,a,!1);return new u(pl(this.Ff,h),this.firestore,this.d_)},u.prototype.endBefore=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];O("Query.endBefore",arguments,1);var h=this.xf("Query.endBefore",o,a,!0);return new u(oc(this.Ff,h),this.firestore,this.d_)},u.prototype.endAt=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];O("Query.endAt",arguments,1);var h=this.xf("Query.endAt",o,a,!1);return new u(oc(this.Ff,h),this.firestore,this.d_)},u.prototype.isEqual=function(o){if(!(o instanceof u))throw Pn("isEqual","Query",1,o);return this.firestore===o.firestore&&bo(this.Ff,o.Ff)&&this.d_===o.d_},u.prototype.withConverter=function(o){return new u(this.Ff,this.firestore,o)},u.prototype.xf=function(o,a,l,h){if(Qr(o,1,a),a instanceof Oa)return L(o,k.__spreadArrays([a],l),1),function(y,v,C,A,P){if(!A)throw new H($.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var U=[],j=0,Q=ma(y);j<Q.length;j++){var te=Q[j];if(te.field.p())U.push(oa(v,A.key));else{var ae=A.field(te.field);if(Xo(ae))throw new H($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ae){var ve=te.field.R();throw new H($.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+ve+"' (used as the orderBy) does not exist.")}U.push(ae)}}return new _a(U,P)}(this.Ff,this.firestore.__,o,a.Df,h);var g=[a].concat(l);return function(y,v,C,A,P,U){var j=y.on;if(P.length>j.length)throw new H($.INVALID_ARGUMENT,"Too many arguments provided to "+A+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Q=[],te=0;te<P.length;te++){var ae=P[te];if(j[te].field.p()){if("string"!=typeof ae)throw new H($.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+A+"(), but got a "+typeof ae);if(!Oi(y)&&-1!==ae.indexOf("/"))throw new H($.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+A+"() must be a plain document ID, but '"+ae+"' contains a slash.");var ve=y.path.child(st.g(ae));if(!S.F(ve))throw new H($.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+A+"() must result in a valid document path, but '"+ve+"' is not because it contains an odd number of segments.");var Me=new S(ve);Q.push(oa(v,Me))}else{var Qe=Ic(C,A,ae);Q.push(Qe)}}return new _a(Q,U)}(this.Ff,this.firestore.__,this.firestore.mf,o,g,h)},u.prototype.onSnapshot=function(){for(var o,a,l,h=this,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];G("Query.onSnapshot",arguments,1,4);var v={},C=0;if("object"!=typeof g[C]||Sc(g[C])||(En("Query.onSnapshot",v=g[C],["includeMetadataChanges"]),Te("Query.onSnapshot","boolean","includeMetadataChanges",v.includeMetadataChanges),C++),Sc(g[C])){var A=g[C];g[C]=null===(o=A.next)||void 0===o?void 0:o.bind(A),g[C+1]=null===(a=A.error)||void 0===a?void 0:a.bind(A),g[C+2]=null===(l=A.complete)||void 0===l?void 0:l.bind(A)}else se("Query.onSnapshot","function",C,g[C]),ze("Query.onSnapshot","function",C+1,g[C+1]),ze("Query.onSnapshot","function",C+2,g[C+2]);var P={next:function(U){g[C]&&g[C](new Bp(h.firestore,h.Ff,U,h.d_))},error:g[C+1],complete:g[C+2]};return Up(this.Ff),this.firestore.hf().listen(this.Ff,v,P)},u.prototype.get=function(o){var a=this;G("Query.get",arguments,0,1),Ji("Query.get",o),Up(this.Ff);var l=this.firestore.hf();return(o&&"cache"===o.source?l.j_(this.Ff):l.K_(this.Ff,o)).then(function(h){return new Bp(a.firestore,a.Ff,h,a.d_)})},u}(),Bp=function(){function u(o,a,l,h){this.yf=o,this.$f=a,this.kf=l,this.d_=h,this.Mf=null,this.Of=null,this.metadata=new Vp(l.hasPendingWrites,l.fromCache)}return Object.defineProperty(u.prototype,"docs",{get:function(){var o=[];return this.forEach(function(a){return o.push(a)}),o},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),u.prototype.forEach=function(o,a){var l=this;G("QuerySnapshot.forEach",arguments,1,2),se("QuerySnapshot.forEach","function",1,o),this.kf.docs.forEach(function(h){o.call(a,l.Lf(h,l.metadata.fromCache,l.kf.Wt.has(h.key)))})},Object.defineProperty(u.prototype,"query",{get:function(){return new jl(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),u.prototype.docChanges=function(o){o&&(En("QuerySnapshot.docChanges",o,["includeMetadataChanges"]),Te("QuerySnapshot.docChanges","boolean","includeMetadataChanges",o.includeMetadataChanges));var a=!(!o||!o.includeMetadataChanges);if(a&&this.kf.Kt)throw new H($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===a||(this.Mf=function(l,h,g){if(l.Qt.m()){var y=0;return l.docChanges.map(function(C){return{type:"added",doc:g(C.doc,l.fromCache,l.Wt.has(C.doc.key)),oldIndex:-1,newIndex:y++}})}var v=l.Qt;return l.docChanges.filter(function(C){return h||3!==C.type}).map(function(C){var A=g(C.doc,l.fromCache,l.Wt.has(C.doc.key)),P=-1,U=-1;return 0!==C.type&&(P=v.indexOf(C.doc.key),v=v.delete(C.doc.key)),1!==C.type&&(U=(v=v.add(C.doc)).indexOf(C.doc.key)),{type:Hp(C.type),doc:A,oldIndex:P,newIndex:U}})}(this.kf,a,this.Lf.bind(this)),this.Of=a),this.Mf},u.prototype.isEqual=function(o){if(!(o instanceof u))throw Pn("isEqual","QuerySnapshot",1,o);return this.yf===o.yf&&bo(this.$f,o.$f)&&this.kf.isEqual(o.kf)&&this.d_===o.d_},u.prototype.Lf=function(o,a,l){return new kh(this.yf,o.key,o,a,l,this.d_)},u}(),Ul=function(u){function o(a,l,h){var g=this;if((g=u.call(this,ar(a),l,h)||this).Bf=a,a.length%2!=1)throw new H($.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+a.R()+" has "+a.length);return g}return k.__extends(o,u),Object.defineProperty(o.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){var a=this.Ff.path.h();return a.m()?null:new us(new S(a),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),o.prototype.doc=function(a){G("CollectionReference.doc",arguments,0,1),0===arguments.length&&(a=Et.k()),se("CollectionReference.doc","non-empty string",1,a);var l=st.g(a);return us.Rf(this.Ff.path.child(l),this.firestore,this.d_)},o.prototype.add=function(a){L("CollectionReference.add",arguments,1);var l=this.d_?this.d_.toFirestore(a):a;se("CollectionReference.add","object",1,l);var h=this.doc();return new us(h.f_,this.firestore,null).set(l).then(function(){return h})},o.prototype.withConverter=function(a){return new o(this.Bf,this.firestore,a)},o}(jl);function Ra(u,o){if(void 0===o)return{merge:!1};if(En(u,o,["merge","mergeFields"]),Te(u,"boolean","merge",o.merge),void 0!==(g=o.mergeFields)&&function(v,C,A,P,U){if(!(P instanceof Array))throw new H($.INVALID_ARGUMENT,"Function "+v+"() requires its "+C+" option to be an array, but it was: "+Xt(P));for(var j=0;j<P.length;++j)if(!U(P[j]))throw new H($.INVALID_ARGUMENT,"Function "+v+"() requires all "+C+" elements to be a string or a FieldPath, but the value at index "+j+" was: "+Xt(P[j]))}(u,"mergeFields",0,g,function(a){return"string"==typeof a||a instanceof Vi}),void 0!==o.mergeFields&&void 0!==o.merge)throw new H($.INVALID_ARGUMENT,"Invalid options passed to function "+u+'(): You cannot specify both "merge" and "mergeFields".');var g;return o}function Lh(u,o){return void 0===o?{}:(En(u,o,["serverTimestamps"]),Pe(u,0,"serverTimestamps",o.serverTimestamps,["estimate","previous","none"]),o)}function Ji(u,o){ze(u,"object",1,o),o&&(En(u,o,["source"]),Pe(u,0,"source",o.source,["default","server","cache"]))}function bi(u,o,a){if(o instanceof ss){if(o.firestore!==a)throw new H($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}throw Pn(u,"DocumentReference",1,o)}function Hp(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}function Bl(u,o,a){return u?a&&(a.merge||a.mergeFields)?u.toFirestore(o,a):u.toFirestore(o):o}var $p=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return k.__extends(o,u),o.serverTimestamp=function(){V("FieldValue.serverTimestamp",arguments);var a=new Ap("serverTimestamp");return a.e_="FieldValue.serverTimestamp",new o(a)},o.delete=function(){V("FieldValue.delete",arguments);var a=new Li("deleteField");return a.e_="FieldValue.delete",new o(a)},o.arrayUnion=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];O("FieldValue.arrayUnion",arguments,1);var h=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return O("arrayUnion()",arguments,1),new Ah("arrayUnion",g)}.apply(void 0,a);return h.e_="FieldValue.arrayUnion",new o(h)},o.arrayRemove=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];O("FieldValue.arrayRemove",arguments,1);var h=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return O("arrayRemove()",arguments,1),new Fl("arrayRemove",g)}.apply(void 0,a);return h.e_="FieldValue.arrayRemove",new o(h)},o.increment=function(a){se("FieldValue.increment","number",1,a),L("FieldValue.increment",arguments,1);var l=new xp("increment",a);return l.e_="FieldValue.increment",new o(l)},o.prototype.isEqual=function(a){return this.l_.isEqual(a.l_)},o}(Vl),Uw={Firestore:Fh,GeoPoint:kl,Timestamp:Lt,Blob:Hn,Transaction:ii,WriteBatch:Xi,DocumentReference:us,DocumentSnapshot:Oa,Query:jl,QueryDocumentSnapshot:kh,QuerySnapshot:Bp,CollectionReference:Ul,FieldPath:Vi,FieldValue:$p,setLogLevel:Fh.setLogLevel,CACHE_SIZE_UNLIMITED:Fp};function by(u){u.INTERNAL.registerComponent(new qt.Component("firestore",function(l){return h=l.getProvider("app").getImmediate(),g=l.getProvider("auth-internal"),y=new Cc,v=new my(y),new Fh(h,g,v,y);var h,g,y,v},"PUBLIC").setServiceProps(Object.assign({},Uw))),u.registerVersion("@firebase/firestore","1.18.0")}by(Sn.default),be.__PRIVATE_registerFirestore=by},300:(Lr,be,nt)=>{"use strict";function k(){for(var Ee=0,Z=0,pe=arguments.length;Z<pe;Z++)Ee+=arguments[Z].length;var St=Array(Ee),ct=0;for(Z=0;Z<pe;Z++)for(var me=arguments[Z],Ce=0,de=me.length;Ce<de;Ce++,ct++)St[ct]=me[Ce];return St}nt.r(be),nt.d(be,{LogLevel:()=>Re,Logger:()=>$,setLogLevel:()=>H,setUserLogHandler:()=>ke});var yt,$e=[],Re=(()=>{return(Ee=Re||(Re={}))[Ee.DEBUG=0]="DEBUG",Ee[Ee.VERBOSE=1]="VERBOSE",Ee[Ee.INFO=2]="INFO",Ee[Ee.WARN=3]="WARN",Ee[Ee.ERROR=4]="ERROR",Ee[Ee.SILENT=5]="SILENT",Re;var Ee})(),fe={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},qt=Re.INFO,Ne=((yt={})[Re.DEBUG]="log",yt[Re.VERBOSE]="log",yt[Re.INFO]="info",yt[Re.WARN]="warn",yt[Re.ERROR]="error",yt),Sn=function(Ee,Z){for(var pe=[],St=2;St<arguments.length;St++)pe[St-2]=arguments[St];if(!(Z<Ee.logLevel)){var ct=(new Date).toISOString(),me=Ne[Z];if(!me)throw new Error("Attempted to log a message with an invalid logType (value: "+Z+")");console[me].apply(console,k(["["+ct+"]  "+Ee.name+":"],pe))}},$=function(){function Ee(Z){this.name=Z,this._logLevel=qt,this._logHandler=Sn,this._userLogHandler=null,$e.push(this)}return Object.defineProperty(Ee.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Z){if(!(Z in Re))throw new TypeError('Invalid value "'+Z+'" assigned to `logLevel`');this._logLevel=Z},enumerable:!1,configurable:!0}),Ee.prototype.setLogLevel=function(Z){this._logLevel="string"==typeof Z?fe[Z]:Z},Object.defineProperty(Ee.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z},enumerable:!1,configurable:!0}),Object.defineProperty(Ee.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Z){this._userLogHandler=Z},enumerable:!1,configurable:!0}),Ee.prototype.debug=function(){for(var Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Re.DEBUG],Z)),this._logHandler.apply(this,k([this,Re.DEBUG],Z))},Ee.prototype.log=function(){for(var Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Re.VERBOSE],Z)),this._logHandler.apply(this,k([this,Re.VERBOSE],Z))},Ee.prototype.info=function(){for(var Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Re.INFO],Z)),this._logHandler.apply(this,k([this,Re.INFO],Z))},Ee.prototype.warn=function(){for(var Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Re.WARN],Z)),this._logHandler.apply(this,k([this,Re.WARN],Z))},Ee.prototype.error=function(){for(var Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];this._userLogHandler&&this._userLogHandler.apply(this,k([this,Re.ERROR],Z)),this._logHandler.apply(this,k([this,Re.ERROR],Z))},Ee}();function H(Ee){$e.forEach(function(Z){Z.setLogLevel(Ee)})}function ke(Ee,Z){for(var pe=function(Ce){var de=null;Z&&Z.level&&(de=fe[Z.level]),Ce.userLogHandler=null===Ee?null:function(At,lt){for(var Ke=[],bn=2;bn<arguments.length;bn++)Ke[bn-2]=arguments[bn];var st=Ke.map(function(T){if(null==T)return null;if("string"==typeof T)return T;if("number"==typeof T||"boolean"==typeof T)return T.toString();if(T instanceof Error)return T.message;try{return JSON.stringify(T)}catch(R){return null}}).filter(function(T){return T}).join(" ");lt>=(null!=de?de:At.logLevel)&&Ee({level:Re[lt].toLowerCase(),message:st,args:Ke,type:At.name})}},St=0,ct=$e;St<ct.length;St++)pe(ct[St])}},704:(Lr,be,nt)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var k=nt(57),yt={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$e=function(K,W){if(!K)throw Re(W)},Re=function(K){return new Error("Firebase Database ("+yt.SDK_VERSION+") INTERNAL ASSERT FAILED: "+K)},fe=function(K){for(var W=[],J=0,ne=0;ne<K.length;ne++){var Y=K.charCodeAt(ne);Y<128?W[J++]=Y:Y<2048?(W[J++]=Y>>6|192,W[J++]=63&Y|128):55296==(64512&Y)&&ne+1<K.length&&56320==(64512&K.charCodeAt(ne+1))?(Y=65536+((1023&Y)<<10)+(1023&K.charCodeAt(++ne)),W[J++]=Y>>18|240,W[J++]=Y>>12&63|128,W[J++]=Y>>6&63|128,W[J++]=63&Y|128):(W[J++]=Y>>12|224,W[J++]=Y>>6&63|128,W[J++]=63&Y|128)}return W},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(K,W){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var J=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],Y=0;Y<K.length;Y+=3){var Le=K[Y],ft=Y+1<K.length,rt=ft?K[Y+1]:0,He=Y+2<K.length,jt=He?K[Y+2]:0,An=(15&rt)<<2|jt>>6,We=63&jt;He||(We=64,ft||(An=64)),ne.push(J[Le>>2],J[(3&Le)<<4|rt>>4],J[An],J[We])}return ne.join("")},encodeString:function(K,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(K):this.encodeByteArray(fe(K),W)},decodeString:function(K,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(K):function(K){for(var W=[],J=0,ne=0;J<K.length;){var Y=K[J++];if(Y<128)W[ne++]=String.fromCharCode(Y);else if(Y>191&&Y<224){var Le=K[J++];W[ne++]=String.fromCharCode((31&Y)<<6|63&Le)}else if(Y>239&&Y<365){var He=((7&Y)<<18|(63&(Le=K[J++]))<<12|(63&(ft=K[J++]))<<6|63&K[J++])-65536;W[ne++]=String.fromCharCode(55296+(He>>10)),W[ne++]=String.fromCharCode(56320+(1023&He))}else{Le=K[J++];var ft=K[J++];W[ne++]=String.fromCharCode((15&Y)<<12|(63&Le)<<6|63&ft)}}return W.join("")}(this.decodeStringToByteArray(K,W))},decodeStringToByteArray:function(K,W){this.init_();for(var J=W?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],Y=0;Y<K.length;){var Le=J[K.charAt(Y++)],rt=Y<K.length?J[K.charAt(Y)]:0,jt=++Y<K.length?J[K.charAt(Y)]:64,Wn=++Y<K.length?J[K.charAt(Y)]:64;if(++Y,null==Le||null==rt||null==jt||null==Wn)throw Error();ne.push(Le<<2|rt>>4),64!==jt&&(ne.push(rt<<4&240|jt>>2),64!==Wn&&ne.push(jt<<6&192|Wn))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},$=function(K){try{return Ne.decodeString(K,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function ke(K,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return W}for(var ne in W)!W.hasOwnProperty(ne)||(K[ne]=ke(K[ne],W[ne]));return K}var Ee=function(){function K(){var W=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(J,ne){W.resolve=J,W.reject=ne})}return K.prototype.wrapCallback=function(W){var J=this;return function(ne,Y){ne?J.reject(ne):J.resolve(Y),"function"==typeof W&&(J.promise.catch(function(){}),1===W.length?W(ne):W(ne,Y))}},K}();function Z(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}var V=function(K){function W(J,ne){var Y=K.call(this,ne)||this;return Y.code=J,Y.name="FirebaseError",Object.setPrototypeOf(Y,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(Y,L.prototype.create),Y}return k.__extends(W,K),W}(Error),L=function(){function K(W,J,ne){this.service=W,this.serviceName=J,this.errors=ne}return K.prototype.create=function(W){for(var J=[],ne=1;ne<arguments.length;ne++)J[ne-1]=arguments[ne];for(var Y=J[0]||{},Le=this.service+"/"+W,ft=this.errors[W],rt=ft?O(ft,Y):"Error",He=this.serviceName+": "+rt+" ("+Le+").",jt=new V(Le,He),ir=0,Wn=Object.keys(Y);ir<Wn.length;ir++){var An=Wn[ir];"_"!==An.slice(-1)&&(An in jt&&console.warn('Overwriting FirebaseError base field "'+An+'" can cause unexpected behavior.'),jt[An]=Y[An])}return jt},K}();function O(K,W){return K.replace(G,function(J,ne){var Y=W[ne];return null!=Y?String(Y):"<"+ne+"?>"})}var G=/\{\$([^}]+)}/g;function se(K){return JSON.parse(K)}var X=function(K){var W={},J={},ne={},Y="";try{var Le=K.split(".");W=se($(Le[0])||""),J=se($(Le[1])||""),Y=Le[2],ne=J.d||{},delete J.d}catch(ft){}return{header:W,claims:J,data:ne,signature:Y}},Kr=function(){function K(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}return K.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},K.prototype.compress_=function(W,J){J||(J=0);var ne=this.W_;if("string"==typeof W)for(var Y=0;Y<16;Y++)ne[Y]=W.charCodeAt(J)<<24|W.charCodeAt(J+1)<<16|W.charCodeAt(J+2)<<8|W.charCodeAt(J+3),J+=4;else for(Y=0;Y<16;Y++)ne[Y]=W[J]<<24|W[J+1]<<16|W[J+2]<<8|W[J+3],J+=4;for(Y=16;Y<80;Y++)ne[Y]=4294967295&((Le=ne[Y-3]^ne[Y-8]^ne[Y-14]^ne[Y-16])<<1|Le>>>31);var Wn,An,ft=this.chain_[0],rt=this.chain_[1],He=this.chain_[2],jt=this.chain_[3],ir=this.chain_[4];for(Y=0;Y<80;Y++){Y<40?Y<20?(Wn=jt^rt&(He^jt),An=1518500249):(Wn=rt^He^jt,An=1859775393):Y<60?(Wn=rt&He|jt&(rt|He),An=2400959708):(Wn=rt^He^jt,An=3395469782);var Le=(ft<<5|ft>>>27)+Wn+ir+An+ne[Y]&4294967295;ir=jt,jt=He,He=4294967295&(rt<<30|rt>>>2),rt=ft,ft=Le}this.chain_[0]=this.chain_[0]+ft&4294967295,this.chain_[1]=this.chain_[1]+rt&4294967295,this.chain_[2]=this.chain_[2]+He&4294967295,this.chain_[3]=this.chain_[3]+jt&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295},K.prototype.update=function(W,J){if(null!=W){void 0===J&&(J=W.length);for(var ne=J-this.blockSize,Y=0,Le=this.buf_,ft=this.inbuf_;Y<J;){if(0===ft)for(;Y<=ne;)this.compress_(W,Y),Y+=this.blockSize;if("string"==typeof W){for(;Y<J;)if(Le[ft]=W.charCodeAt(Y),++Y,++ft===this.blockSize){this.compress_(Le),ft=0;break}}else for(;Y<J;)if(Le[ft]=W[Y],++Y,++ft===this.blockSize){this.compress_(Le),ft=0;break}}this.inbuf_=ft,this.total_+=J}},K.prototype.digest=function(){var W=[],J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&J,J/=256;this.compress_(this.buf_);var Y=0;for(ne=0;ne<5;ne++)for(var Le=24;Le>=0;Le-=8)W[Y]=this.chain_[ne]>>Le&255,++Y;return W},K}(),Is=function(){function K(W,J){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(function(){W(ne)}).catch(function(Y){ne.error(Y)})}return K.prototype.next=function(W){this.forEachObserver(function(J){J.next(W)})},K.prototype.error=function(W){this.forEachObserver(function(J){J.error(W)}),this.close(W)},K.prototype.complete=function(){this.forEachObserver(function(W){W.complete()}),this.close()},K.prototype.subscribe=function(W,J,ne){var Le,Y=this;if(void 0===W&&void 0===J&&void 0===ne)throw new Error("Missing Observer.");void 0===(Le=function(K,W){if("object"!=typeof K||null===K)return!1;for(var J=0,ne=["next","error","complete"];J<ne.length;J++){var Y=ne[J];if(Y in K&&"function"==typeof K[Y])return!0}return!1}(W)?W:{next:W,error:J,complete:ne}).next&&(Le.next=mn),void 0===Le.error&&(Le.error=mn),void 0===Le.complete&&(Le.complete=mn);var ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Y.finalError?Le.error(Y.finalError):Le.complete()}catch(rt){}}),this.observers.push(Le),ft},K.prototype.unsubscribeOne=function(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},K.prototype.forEachObserver=function(W){if(!this.finalized)for(var J=0;J<this.observers.length;J++)this.sendOne(J,W)},K.prototype.sendOne=function(W,J){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[W])try{J(ne.observers[W])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})},K.prototype.close=function(W){var J=this;this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(function(){J.observers=void 0,J.onNoObservers=void 0}))},K}();function mn(){}function _t(K,W,J){var ne="";switch(W){case 1:ne=J?"first":"First";break;case 2:ne=J?"second":"Second";break;case 3:ne=J?"third":"Third";break;case 4:ne=J?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return K+" failed: "+(ne+" argument ")}be.CONSTANTS=yt,be.Deferred=Ee,be.ErrorFactory=L,be.FirebaseError=V,be.MAX_VALUE_MILLIS=144e5,be.RANDOM_FACTOR=.5,be.Sha1=Kr,be.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},be.assert=$e,be.assertionError=Re,be.async=function(K,W){return function(){for(var J=[],ne=0;ne<arguments.length;ne++)J[ne]=arguments[ne];Promise.resolve(!0).then(function(){K.apply(void 0,J)}).catch(function(Y){W&&W(Y)})}},be.base64=Ne,be.base64Decode=$,be.base64Encode=function(K){var W=fe(K);return Ne.encodeByteArray(W,!0)},be.calculateBackoffMillis=function(K,W,J){void 0===W&&(W=1e3),void 0===J&&(J=2);var ne=W*Math.pow(J,K),Y=Math.round(.5*ne*(Math.random()-.5)*2);return Math.min(144e5,ne+Y)},be.contains=function(K,W){return Object.prototype.hasOwnProperty.call(K,W)},be.createSubscribe=function(K,W){var J=new Is(K,W);return J.subscribe.bind(J)},be.decode=X,be.deepCopy=function(K){return ke(void 0,K)},be.deepExtend=ke,be.errorPrefix=_t,be.getUA=Z,be.isAdmin=function(K){var W=X(K).claims;return"object"==typeof W&&!0===W.admin},be.isBrowser=function(){return"object"==typeof self&&self.self===self},be.isBrowserExtension=function(){var K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id},be.isElectron=function(){return Z().indexOf("Electron/")>=0},be.isEmpty=function(K){for(var W in K)if(Object.prototype.hasOwnProperty.call(K,W))return!1;return!0},be.isIE=function(){var K=Z();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0},be.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},be.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())},be.isNode=St,be.isNodeSdk=function(){return!0===yt.NODE_CLIENT||!0===yt.NODE_ADMIN},be.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},be.isSafari=function(){return!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},be.isUWP=function(){return Z().indexOf("MSAppHost/")>=0},be.isValidFormat=function(K){var J=X(K).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},be.isValidTimestamp=function(K){var W=X(K).claims,J=Math.floor((new Date).getTime()/1e3),ne=0,Y=0;return"object"==typeof W&&(W.hasOwnProperty("nbf")?ne=W.nbf:W.hasOwnProperty("iat")&&(ne=W.iat),Y=W.hasOwnProperty("exp")?W.exp:ne+86400),!!J&&!!ne&&!!Y&&J>=ne&&J<=Y},be.issuedAtTime=function(K){var W=X(K).claims;return"object"==typeof W&&W.hasOwnProperty("iat")?W.iat:null},be.jsonEval=se,be.map=function(K,W,J){var ne={};for(var Y in K)Object.prototype.hasOwnProperty.call(K,Y)&&(ne[Y]=W.call(J,K[Y],Y,K));return ne},be.querystring=function(K){for(var W=[],J=function(He,jt){Array.isArray(jt)?jt.forEach(function(ir){W.push(encodeURIComponent(He)+"="+encodeURIComponent(ir))}):W.push(encodeURIComponent(He)+"="+encodeURIComponent(jt))},ne=0,Y=Object.entries(K);ne<Y.length;ne++){var Le=Y[ne];J(Le[0],Le[1])}return W.length?"&"+W.join("&"):""},be.querystringDecode=function(K){var W={};return K.replace(/^\?/,"").split("&").forEach(function(ne){if(ne){var Y=ne.split("=");W[Y[0]]=Y[1]}}),W},be.safeGet=function(K,W){if(Object.prototype.hasOwnProperty.call(K,W))return K[W]},be.stringLength=function(K){for(var W=0,J=0;J<K.length;J++){var ne=K.charCodeAt(J);ne<128?W++:ne<2048?W+=2:ne>=55296&&ne<=56319?(W+=4,J++):W+=3}return W},be.stringToByteArray=function(K){for(var W=[],J=0,ne=0;ne<K.length;ne++){var Y=K.charCodeAt(ne);if(Y>=55296&&Y<=56319){var Le=Y-55296;ne++,$e(ne<K.length,"Surrogate pair missing trail surrogate."),Y=65536+(Le<<10)+(K.charCodeAt(ne)-56320)}Y<128?W[J++]=Y:Y<2048?(W[J++]=Y>>6|192,W[J++]=63&Y|128):Y<65536?(W[J++]=Y>>12|224,W[J++]=Y>>6&63|128,W[J++]=63&Y|128):(W[J++]=Y>>18|240,W[J++]=Y>>12&63|128,W[J++]=Y>>6&63|128,W[J++]=63&Y|128)}return W},be.stringify=function(K){return JSON.stringify(K)},be.validateArgCount=function(K,W,J,ne){var Y;if(ne<W?Y="at least "+W:ne>J&&(Y=0===J?"none":"no more than "+J),Y)throw new Error(K+" failed: Was called with "+ne+(1===ne?" argument.":" arguments.")+" Expects "+Y+".")},be.validateCallback=function(K,W,J,ne){if((!ne||J)&&"function"!=typeof J)throw new Error(_t(K,W,ne)+"must be a valid function.")},be.validateContextObject=function(K,W,J,ne){if((!ne||J)&&("object"!=typeof J||null===J))throw new Error(_t(K,W,ne)+"must be a valid context object.")},be.validateIndexedDBOpenable=function(){return new Promise(function(K,W){try{var J=!0,ne="validate-browser-context-for-indexeddb-analytics-module",Y=window.indexedDB.open(ne);Y.onsuccess=function(){Y.result.close(),J||window.indexedDB.deleteDatabase(ne),K(!0)},Y.onupgradeneeded=function(){J=!1},Y.onerror=function(){var Le;W((null===(Le=Y.error)||void 0===Le?void 0:Le.message)||"")}}catch(Le){W(Le)}})},be.validateNamespace=function(K,W,J,ne){if((!ne||J)&&"string"!=typeof J)throw new Error(_t(K,W,ne)+"must be a valid firebase namespace.")}},870:(Lr,be,nt)=>{"use strict";nt.r(be),nt.d(be,{default:()=>lu,ErrorCode:()=>Co,EventType:()=>Do,WebChannel:()=>Mr,XhrIo:()=>ac,createWebChannelTransport:()=>_l});var k=function(p,w){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var B in x)Object.prototype.hasOwnProperty.call(x,B)&&(D[B]=x[B])})(p,w)};function $e(p){var w="function"==typeof Symbol&&Symbol.iterator,D=w&&p[w],x=0;if(D)return D.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&x>=p.length&&(p=void 0),{value:p&&p[x++],done:!p}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")}var fe,Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qt=qt||{},Ne=Re||self;function Sn(){}function $(p){var w=typeof p;return"object"!=w?w:p?Array.isArray(p)?"array":w:"null"}function H(p){var w=$(p);return"array"==w||"object"==w&&"number"==typeof p.length}function ke(p){var w=typeof p;return"object"==w&&null!=p||"function"==w}var Z="closure_uid_"+(1e9*Math.random()>>>0),pe=0;function St(p,w,D){return p.call.apply(p.bind,arguments)}function ct(p,w,D){if(!p)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),p.apply(w,B)}}return function(){return p.apply(w,arguments)}}function me(p,w,D){return(me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?St:ct).apply(null,arguments)}function Ce(p,w){var D=Array.prototype.slice.call(arguments,1);return function(){var x=D.slice();return x.push.apply(x,arguments),p.apply(this,x)}}var de=Date.now;function At(p,w){function D(){}D.prototype=w.prototype,p.S=w.prototype,p.prototype=new D,p.prototype.constructor=p}function lt(){this.j=this.j,this.i=this.i}lt.prototype.j=!1,lt.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(p){Object.prototype.hasOwnProperty.call(p,Z)&&p[Z]||(p[Z]=++pe)}(this)},lt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var bn=Array.prototype.indexOf?function(p,w){return Array.prototype.indexOf.call(p,w,void 0)}:function(p,w){if("string"==typeof p)return"string"!=typeof w||1!=w.length?-1:p.indexOf(w,0);for(var D=0;D<p.length;D++)if(D in p&&p[D]===w)return D;return-1},st=Array.prototype.forEach?function(p,w,D){Array.prototype.forEach.call(p,w,D)}:function(p,w,D){for(var x=p.length,B="string"==typeof p?p.split(""):p,ee=0;ee<x;ee++)ee in B&&w.call(D,B[ee],ee,p)};function R(p){return Array.prototype.concat.apply([],arguments)}function S(p){var w=p.length;if(0<w){for(var D=Array(w),x=0;x<w;x++)D[x]=p[x];return D}return[]}function V(p){return/^[\s\xa0]*$/.test(p)}var se,L=String.prototype.trim?function(p){return p.trim()}:function(p){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(p)[1]};function O(p,w){return-1!=p.indexOf(w)}function G(p,w){return p<w?-1:p>w?1:0}e:{var ze=Ne.navigator;if(ze){var X=ze.userAgent;if(X){se=X;break e}}se=""}function Te(p,w,D){for(var x in p)w.call(D,p[x],x,p)}function Pe(p){var w={};for(var D in p)w[D]=p[D];return w}var ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(p,w){for(var D,x,B=1;B<arguments.length;B++){for(D in x=arguments[B])p[D]=x[D];for(var ee=0;ee<ue.length;ee++)D=ue[ee],Object.prototype.hasOwnProperty.call(x,D)&&(p[D]=x[D])}}function Dt(p){return Dt[" "](p),p}Dt[" "]=Sn;var Et,p,Qr=O(se,"Opera"),En=O(se,"Trident")||O(se,"MSIE"),Pn=O(se,"Edge"),fr=Pn||En,Kr=O(se,"Gecko")&&!(O(se.toLowerCase(),"webkit")&&!O(se,"Edge"))&&!(O(se,"Trident")||O(se,"MSIE"))&&!O(se,"Edge"),hr=O(se.toLowerCase(),"webkit")&&!O(se,"Edge");function Is(){var p=Ne.document;return p?p.documentMode:void 0}e:{var Ve="",mn=(p=se,Kr?/rv:([^\);]+)(\)|;)/.exec(p):Pn?/Edge\/([\d\.]+)/.exec(p):En?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(p):hr?/WebKit\/(\S+)/.exec(p):Qr?/(?:Version)[ \/]?(\S+)/.exec(p):void 0);if(mn&&(Ve=mn?mn[1]:""),En){var Ze=Is();if(null!=Ze&&Ze>parseFloat(Ve)){Et=String(Ze);break e}}Et=Ve}var _t={};function zn(p){return function(p,w){var D=_t;return Object.prototype.hasOwnProperty.call(D,p)?D[p]:D[p]=w()}(p,function(){for(var w=0,D=L(String(Et)).split("."),x=L(String(p)).split("."),B=Math.max(D.length,x.length),ee=0;0==w&&ee<B;ee++){var Ae=D[ee]||"",Ge=x[ee]||"";do{if(Ae=/(\d*)(\D*)(.*)/.exec(Ae)||["","","",""],Ge=/(\d*)(\D*)(.*)/.exec(Ge)||["","","",""],0==Ae[0].length&&0==Ge[0].length)break;w=G(0==Ae[1].length?0:parseInt(Ae[1],10),0==Ge[1].length?0:parseInt(Ge[1],10))||G(0==Ae[2].length,0==Ge[2].length)||G(Ae[2],Ge[2]),Ae=Ae[3],Ge=Ge[3]}while(0==w)}return 0<=w})}var Hn=Ne.document&&En&&(Is()||parseInt(Et,10))||void 0,Jt=!En||9<=Number(Hn),Yo=En&&!zn("9"),uo=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{Ne.addEventListener("test",Sn,w),Ne.removeEventListener("test",Sn,w)}catch(D){}return p}();function Lt(p,w){this.type=p,this.a=this.target=w,this.defaultPrevented=!1}function et(p,w){if(Lt.call(this,p?p.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,p){var D=this.type=p.type,x=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.a=w,w=p.relatedTarget){if(Kr){e:{try{Dt(w.nodeName);var B=!0;break e}catch(ee){}B=!1}B||(w=null)}}else"mouseover"==D?w=p.fromElement:"mouseout"==D&&(w=p.toElement);this.relatedTarget=w,x?(this.clientX=void 0!==x.clientX?x.clientX:x.pageX,this.clientY=void 0!==x.clientY?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:hi[p.pointerType]||"",this.c=p,p.defaultPrevented&&this.b()}}Lt.prototype.b=function(){this.defaultPrevented=!0},At(et,Lt);var hi={2:"touch",3:"pen",4:"mouse"};et.prototype.b=function(){et.S.b.call(this);var p=this.c;if(p.preventDefault)p.preventDefault();else if(p.returnValue=!1,Yo)try{(p.ctrlKey||112<=p.keyCode&&123>=p.keyCode)&&(p.keyCode=-1)}catch(w){}};var K="closure_listenable_"+(1e6*Math.random()|0),W=0;function J(p,w,D,x,B){this.listener=p,this.proxy=null,this.src=w,this.type=D,this.capture=!!x,this.ca=B,this.key=++W,this.Y=this.Z=!1}function ne(p){p.Y=!0,p.listener=null,p.proxy=null,p.src=null,p.ca=null}function Y(p){this.src=p,this.a={},this.b=0}function Le(p,w){var D=w.type;if(D in p.a){var ee,x=p.a[D],B=bn(x,w);(ee=0<=B)&&Array.prototype.splice.call(x,B,1),ee&&(ne(w),0==p.a[D].length&&(delete p.a[D],p.b--))}}function ft(p,w,D,x){for(var B=0;B<p.length;++B){var ee=p[B];if(!ee.Y&&ee.listener==w&&ee.capture==!!D&&ee.ca==x)return B}return-1}Y.prototype.add=function(p,w,D,x,B){var ee=p.toString();(p=this.a[ee])||(p=this.a[ee]=[],this.b++);var Ae=ft(p,w,x,B);return-1<Ae?(w=p[Ae],D||(w.Z=!1)):((w=new J(w,this.src,ee,!!x,B)).Z=D,p.push(w)),w};var rt="closure_lm_"+(1e6*Math.random()|0),He={};function jt(p,w,D,x,B){if(x&&x.once)return An(p,w,D,x,B);if(Array.isArray(w)){for(var ee=0;ee<w.length;ee++)jt(p,w[ee],D,x,B);return null}return D=Zo(D),p&&p[K]?p.va(w,D,ke(x)?!!x.capture:!!x,B):ir(p,w,D,!1,x,B)}function ir(p,w,D,x,B,ee){if(!w)throw Error("Invalid event type");var Ae=ke(B)?!!B.capture:!!B;if(Ae&&!Jt)return null;var Ge=Wt(p);if(Ge||(p[rt]=Ge=new Y(p)),(D=Ge.add(w,D,x,Ae,ee)).proxy)return D;if(x=function(){var p=il,w=Jt?function(D){return p.call(w.src,w.listener,D)}:function(D){if(!(D=p.call(w.src,w.listener,D)))return D};return w}(),D.proxy=x,x.src=p,x.listener=D,p.addEventListener)uo||(B=Ae),void 0===B&&(B=!1),p.addEventListener(w.toString(),x,B);else if(p.attachEvent)p.attachEvent(Xe(w.toString()),x);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(x)}return D}function An(p,w,D,x,B){if(Array.isArray(w)){for(var ee=0;ee<w.length;ee++)An(p,w[ee],D,x,B);return null}return D=Zo(D),p&&p[K]?p.wa(w,D,ke(x)?!!x.capture:!!x,B):ir(p,w,D,!0,x,B)}function We(p,w,D,x,B){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)We(p,w[ee],D,x,B);else x=ke(x)?!!x.capture:!!x,D=Zo(D),p&&p[K]?(p=p.c,(w=String(w).toString())in p.a&&-1<(D=ft(ee=p.a[w],D,x,B))&&(ne(ee[D]),Array.prototype.splice.call(ee,D,1),0==ee.length&&(delete p.a[w],p.b--))):p&&(p=Wt(p))&&(w=p.a[w.toString()],p=-1,w&&(p=ft(w,D,x,B)),(D=-1<p?w[p]:null)&&Si(D))}function Si(p){if("number"!=typeof p&&p&&!p.Y){var w=p.src;if(w&&w[K])Le(w.c,p);else{var D=p.type,x=p.proxy;w.removeEventListener?w.removeEventListener(D,x,p.capture):w.detachEvent?w.detachEvent(Xe(D),x):w.addListener&&w.removeListener&&w.removeListener(x),(D=Wt(w))?(Le(D,p),0==D.b&&(D.src=null,w[rt]=null)):ne(p)}}}function Xe(p){return p in He?He[p]:He[p]="on"+p}function yn(p,w){var D=p.listener,x=p.ca||p.src;return p.Z&&Si(p),D.call(x,w)}function il(p,w){if(p.Y)return!0;if(!Jt){if(!w)e:{w=["window","event"];for(var D=Ne,x=0;x<w.length;x++)if(null==(D=D[w[x]])){w=null;break e}w=D}return yn(p,w=new et(w,this))}return yn(p,new et(w,this))}function Wt(p){return(p=p[rt])instanceof Y?p:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zo(p){return"function"==$(p)?p:(p[Be]||(p[Be]=function(w){return p.handleEvent(w)}),p[Be])}function Yr(){lt.call(this),this.c=new Y(this),this.J=this,this.C=null}function Tr(p,w,D,x){if(!(w=p.c.a[String(w)]))return!0;w=w.concat();for(var B=!0,ee=0;ee<w.length;++ee){var Ae=w[ee];if(Ae&&!Ae.Y&&Ae.capture==D){var Ge=Ae.listener,bt=Ae.ca||Ae.src;Ae.Z&&Le(p.c,Ae),B=!1!==Ge.call(bt,x)&&B}}return B&&!x.defaultPrevented}At(Yr,lt),Yr.prototype[K]=!0,(fe=Yr.prototype).addEventListener=function(p,w,D,x){jt(this,p,w,D,x)},fe.removeEventListener=function(p,w,D,x){We(this,p,w,D,x)},fe.dispatchEvent=function(p){var w,D=this.C;if(D)for(w=[];D;D=D.C)w.push(D);D=this.J;var x=p.type||p;if("string"==typeof p)p=new Lt(p,D);else if(p instanceof Lt)p.target=p.target||D;else{var B=p;Ue(p=new Lt(x,D),B)}if(B=!0,w)for(var ee=w.length-1;0<=ee;ee--){var Ae=p.a=w[ee];B=Tr(Ae,x,!0,p)&&B}if(B=Tr(Ae=p.a=D,x,!0,p)&&B,B=Tr(Ae,x,!1,p)&&B,w)for(ee=0;ee<w.length;ee++)B=Tr(Ae=p.a=w[ee],x,!1,p)&&B;return B},fe.G=function(){if(Yr.S.G.call(this),this.c){var w,p=this.c;for(w in p.a){for(var D=p.a[w],x=0;x<D.length;x++)ne(D[x]);delete p.a[w],p.b--}}this.C=null},fe.va=function(p,w,D,x){return this.c.add(String(p),w,!1,D,x)},fe.wa=function(p,w,D,x){return this.c.add(String(p),w,!0,D,x)};var ol=Ne.JSON.stringify;function Ya(){this.b=this.a=null}var zi,xe=new(function(){function p(w,D,x){this.f=x,this.c=w,this.g=D,this.b=0,this.a=null}return p.prototype.get=function(){var w;return 0<this.b?(this.b--,this.a=(w=this.a).next,w.next=null):w=this.c(),w},p}())(function(){return new Ts},function(p){p.reset()},100);function dr(){var p=ia,w=null;return p.a&&(w=p.a,p.a=p.a.next,p.a||(p.b=null),w.next=null),w}function Ts(){this.next=this.b=this.a=null}function Kf(p){Ne.setTimeout(function(){throw p},0)}function sl(p,w){zi||function(){var p=Ne.Promise.resolve(void 0);zi=function(){p.then(Yf)}}(),Za||(zi(),Za=!0),ia.add(p,w)}Ya.prototype.add=function(p,w){var D=xe.get();D.set(p,w),this.b?this.b.next=D:this.a=D,this.b=D},Ts.prototype.set=function(p,w){this.a=p,this.b=w,this.next=null},Ts.prototype.reset=function(){this.next=this.b=this.a=null};var Za=!1,ia=new Ya;function Yf(){for(var p;p=dr();){try{p.a.call(p.b)}catch(D){Kf(D)}var w=xe;w.g(p),w.b<w.f&&(w.b++,p.next=w.a,w.a=p)}Za=!1}function jr(p,w){Yr.call(this),this.b=p||1,this.a=w||Ne,this.f=me(this.Ya,this),this.g=de()}function tc(p){p.aa=!1,p.M&&(p.a.clearTimeout(p.M),p.M=null)}function al(p,w,D){if("function"==$(p))D&&(p=me(p,D));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=me(p.handleEvent,p)}return 2147483647<Number(w)?-1:Ne.setTimeout(p,w||0)}function ul(p){p.a=al(function(){p.a=null,p.c&&(p.c=!1,ul(p))},p.h);var w=p.b;p.b=null,p.g.apply(null,w)}At(jr,Yr),(fe=jr.prototype).aa=!1,fe.M=null,fe.Ya=function(){if(this.aa){var p=de()-this.g;0<p&&p<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-p):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(tc(this),this.start()))}},fe.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=de())},fe.G=function(){jr.S.G.call(this),tc(this),delete this.a};var Zf=function(p){function w(D,x,B){var ee=p.call(this)||this;return ee.g=null!=B?D.bind(B):D,ee.h=x,ee.b=null,ee.c=!1,ee.a=null,ee}return function(p,w){function D(){this.constructor=p}k(p,w),p.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}(w,p),w.prototype.f=function(D){this.b=arguments,this.a?this.c=!0:ul(this)},w.prototype.G=function(){p.prototype.G.call(this),this.a&&(Ne.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},w}(lt);function Xo(p){lt.call(this),this.b=p,this.a={}}At(Xo,lt);var cl=[];function Ss(p,w,D,x){Array.isArray(D)||(D&&(cl[0]=D.toString()),D=cl);for(var B=0;B<D.length;B++){var ee=jt(w,D[B],x||p.handleEvent,!1,p.b||p);if(!ee)break;p.a[ee.key]=ee}}function Xf(p){Te(p.a,function(w,D){this.a.hasOwnProperty(D)&&Si(w)},p),p.a={}}function _n(){this.a=!0}function Ai(p,w,D,x){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+function(p,w){if(!p.a)return w;if(!w)return null;try{var D=JSON.parse(w);if(D)for(p=0;p<D.length;p++)if(Array.isArray(D[p])){var x=D[p];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var ee=B[0];if("noop"!=ee&&"stop"!=ee&&"close"!=ee)for(var Ae=1;Ae<B.length;Ae++)B[Ae]=""}}}return ol(D)}catch(Ge){return w}}(p,D)+(x?" "+x:"")})}Xo.prototype.G=function(){Xo.S.G.call(this),Xf(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_n.prototype.info=function(){};var nc=null;function an(){return nc=nc||new Yr}function zt(p){Lt.call(this,"serverreachability",p)}function di(p){var w=an();w.dispatchEvent(new zt(w,p))}function oa(p){Lt.call(this,"statevent",p)}function gr(p){var w=an();w.dispatchEvent(new oa(w,p))}function sa(p){Lt.call(this,"timingevent",p)}function xi(p,w){if("function"!=$(p))throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){p()},w)}At(zt,Lt),At(oa,Lt),At(sa,Lt);var co={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},aa={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ll(){}function Ja(){}ll.prototype.a=null;var eu,As={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function pi(){Lt.call(this,"d")}function ua(){Lt.call(this,"c")}function Mi(){}function or(p,w,D,x){this.g=p,this.c=w,this.f=D,this.T=x||1,this.J=new Xo(this),this.P=Ni,this.R=new jr(p=fr?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}At(pi,Lt),At(ua,Lt),At(Mi,ll),eu=new Mi;var Ni=45e3,rc={},vn={};function lo(p,w,D){p.H=1,p.i=da(Sr(w)),p.j=D,p.I=!0,gi(p,null)}function gi(p,w){p.u=de(),wt(p),p.l=Sr(p.i);var D=p.l,x=p.T;Array.isArray(x)||(x=[String(x)]),Ur(D.b,"t",x),p.D=0,p.a=Eo(p.g,p.g.C?w:null),0<p.O&&(p.F=new Zf(me(p.Ca,p,p.a),p.O)),Ss(p.J,p.a,"readystatechange",p.Wa),w=p.B?Pe(p.B):{},p.j?(p.m||(p.m="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.a.ba(p.l,p.m,p.j,w)):(p.m="GET",p.a.ba(p.l,p.m,null,w)),di(1),function(p,w,D,x,B,ee){p.info(function(){if(p.a)if(ee)for(var Ae="",Ge=ee.split("&"),bt=0;bt<Ge.length;bt++){var Zn=Ge[bt].split("=");if(1<Zn.length){var Nr=Zn[0];Zn=Zn[1];var hn=Nr.split("_");Ae=2<=hn.length&&"type"==hn[1]?Ae+(Nr+"=")+Zn+"&":Ae+(Nr+"=redacted&")}}else Ae=null;else Ae=ee;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+w+"\n"+D+"\n"+Ae})}(p.c,p.m,p.l,p.f,p.T,p.j)}function tu(p,w,D){for(var x=!0;!p.A&&p.D<D.length;){var B=fl(p,D);if(B==vn){4==w&&(p.h=4,gr(14),x=!1),Ai(p.c,p.f,null,"[Incomplete Response]");break}if(B==rc){p.h=4,gr(15),Ai(p.c,p.f,D,"[Invalid Chunk]"),x=!1;break}Ai(p.c,p.f,B,null),Jo(p,B)}4==w&&0==D.length&&(p.h=1,gr(16),x=!1),p.b=p.b&&x,x?0<D.length&&!p.W&&(p.W=!0,(w=p.g).a==p&&w.V&&!w.F&&(w.c.info("Great, no buffering proxy detected. Bytes received: "+D.length),ml(w),w.F=!0)):(Ai(p.c,p.f,D,"[Invalid Chunked Response]"),Mt(p),Zr(p))}function fl(p,w){var D=p.D,x=w.indexOf("\n",D);return-1==x?vn:(D=Number(w.substring(D,x)),isNaN(D)?rc:(x+=1)+D>w.length?vn:(w=w.substr(x,D),p.D=x+D,w))}function wt(p){p.U=de()+p.P,hl(p,p.P)}function hl(p,w){if(null!=p.o)throw Error("WatchDog timer not null");p.o=xi(me(p.Ua,p),w)}function nu(p){p.o&&(Ne.clearTimeout(p.o),p.o=null)}function Zr(p){0==p.g.v||p.A||uu(p.g,p)}function Mt(p){nu(p);var w=p.F;w&&"function"==typeof w.ja&&w.ja(),p.F=null,tc(p.R),Xf(p.J),p.a&&(w=p.a,p.a=null,w.abort(),w.ja())}function Jo(p,w){try{var D=p.g;if(0!=D.v&&(D.a==p||_r(D.b,p)))if(D.I=p.N,!p.C&&_r(D.b,p)&&3==D.v){try{var x=D.ka.a.parse(w)}catch(fu){x=null}if(Array.isArray(x)&&3==x.length){var B=x;if(0==B[0])e:if(D.j)D.oa=B[1],0<D.oa-D.P&&37500>B[2]&&D.H&&0==D.o&&!D.m&&(D.m=xi(me(D.Ra,D),6e3));else{if(D.a){if(!(D.a.u+3e3<p.u))break e;ya(D),bo(D)}sc(D),gr(18)}if(1>=yo(D.b)&&D.ea){try{D.ea()}catch(fu){}D.ea=void 0}}else Ki(D,11)}else if((p.C||D.a==p)&&ya(D),!V(w))for(w=x=D.ka.a.parse(w),x=0;x<w.length;x++)if(D.P=(B=w[x])[0],B=B[1],2==D.v)if("c"==B[0]){D.J=B[1],D.ga=B[2];var ee=B[3];null!=ee&&(D.ha=ee,D.c.info("VER="+D.ha));var Ae=B[4];null!=Ae&&(D.pa=Ae,D.c.info("SVER="+D.pa));var Ge=B[5];if(null!=Ge&&"number"==typeof Ge&&0<Ge){var bt=1.5*Ge;D.D=bt,D.c.info("backChannelRequestTimeoutMs_="+bt)}bt=D;var Zn=p.a;if(Zn){var Nr=Zn.a?Zn.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var hn=bt.b;!hn.a&&(O(Nr,"spdy")||O(Nr,"quic")||O(Nr,"h2"))&&(hn.f=hn.g,hn.a=new Set,hn.b&&(Kn(hn,hn.b),hn.b=null))}if(bt.A){var wa=Zn.a?Zn.a.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(bt.na=wa,Qt(bt.B,bt.A,wa))}}D.v=3,D.f&&D.f.ta(),D.V&&(D.N=de()-p.u,D.c.info("Handshake RTT: "+D.N+"ms"));var To=p;if((bt=D).la=Yi(bt,bt.C?bt.ga:null,bt.fa),To.C){Xr(bt.b,To);var xn=To,en=bt.D;en&&xn.setTimeout(en),xn.o&&(nu(xn),wt(xn)),bt.a=To}else rh(bt);0<D.g.length&&ts(D)}else"stop"!=B[0]&&"close"!=B[0]||Ki(D,7);else 3==D.v&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?Ki(D,7):oc(D):"noop"!=B[0]&&D.f&&D.f.sa(B),D.o=0);di(4)}catch(fu){}}function ca(p,w){if(p.forEach&&"function"==typeof p.forEach)p.forEach(w,void 0);else if(H(p)||"string"==typeof p)st(p,w,void 0);else{if(p.L&&"function"==typeof p.L)var D=p.L();else if(p.K&&"function"==typeof p.K)D=void 0;else if(H(p)||"string"==typeof p){D=[];for(var x=p.length,B=0;B<x;B++)D.push(B)}else for(B in D=[],x=0,p)D[x++]=B;B=(x=function(p){if(p.K&&"function"==typeof p.K)return p.K();if("string"==typeof p)return p.split("");if(H(p)){for(var w=[],D=p.length,x=0;x<D;x++)w.push(p[x]);return w}for(x in w=[],D=0,p)w[D++]=p[x];return w}(p)).length;for(var ee=0;ee<B;ee++)w.call(void 0,x[ee],D&&D[ee],p)}}function fo(p,w){this.b={},this.a=[],this.c=0;var D=arguments.length;if(1<D){if(D%2)throw Error("Uneven number of arguments");for(var x=0;x<D;x+=2)this.set(arguments[x],arguments[x+1])}else if(p)if(p instanceof fo)for(D=p.L(),x=0;x<D.length;x++)this.set(D[x],p.get(D[x]));else for(x in p)this.set(x,p[x])}function iu(p){if(p.c!=p.a.length){for(var w=0,D=0;w<p.a.length;){var x=p.a[w];sr(p.b,x)&&(p.a[D++]=x),w++}p.a.length=D}if(p.c!=p.a.length){var B={};for(D=w=0;w<p.a.length;)sr(B,x=p.a[w])||(p.a[D++]=x,B[x]=1),w++;p.a.length=D}}function sr(p,w){return Object.prototype.hasOwnProperty.call(p,w)}(fe=or.prototype).setTimeout=function(p){this.P=p},fe.Wa=function(p){p=p.target;var w=this.F;w&&3==Oi(p)?w.f():this.Ca(p)},fe.Ca=function(p){try{if(p==this.a)e:{var w=Oi(this.a),D=this.a.ua(),x=this.a.X();if(!(3>w||3==w&&!fr&&!this.a.$())){this.A||4!=w||7==D||di(8==D||0>=x?3:2),nu(this);var B=this.a.X();this.N=B;var ee=this.a.$();if(this.b=200==B,function(p,w,D,x,B,ee,Ae){p.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+w+"\n"+D+"\n"+ee+" "+Ae})}(this.c,this.m,this.l,this.f,this.T,w,B),this.b){if(this.V&&!this.C){t:{if(this.a){var Ae,Ge=this.a;if((Ae=Ge.a?Ge.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ae)){var bt=Ae;break t}}bt=null}if(!bt){this.b=!1,this.h=3,gr(12),Mt(this),Zr(this);break e}Ai(this.c,this.f,bt,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Jo(this,bt)}this.I?(tu(this,w,ee),fr&&this.b&&3==w&&(Ss(this.J,this.R,"tick",this.Va),this.R.start())):(Ai(this.c,this.f,ee,null),Jo(this,ee)),4==w&&Mt(this),this.b&&!this.A&&(4==w?uu(this.g,this):(this.b=!1,wt(this)))}else 400==B&&0<ee.indexOf("Unknown SID")?(this.h=3,gr(12)):(this.h=0,gr(13)),Mt(this),Zr(this)}}}catch(Zn){}},fe.Va=function(){if(this.a){var p=Oi(this.a),w=this.a.$();this.D<w.length&&(nu(this),tu(this,p,w),this.b&&4!=p&&wt(this))}},fe.cancel=function(){this.A=!0,Mt(this)},fe.Ua=function(){this.o=null;var p=de();0<=p-this.U?(function(p,w){p.info(function(){return"TIMEOUT: "+w})}(this.c,this.l),2!=this.H&&(di(3),gr(17)),Mt(this),this.h=2,Zr(this)):hl(this,this.U-p)},(fe=fo.prototype).K=function(){iu(this);for(var p=[],w=0;w<this.a.length;w++)p.push(this.b[this.a[w]]);return p},fe.L=function(){return iu(this),this.a.concat()},fe.get=function(p,w){return sr(this.b,p)?this.b[p]:w},fe.set=function(p,w){sr(this.b,p)||(this.c++,this.a.push(p)),this.b[p]=w},fe.forEach=function(p,w){for(var D=this.L(),x=0;x<D.length;x++){var B=D[x],ee=this.get(B);p.call(w,ee,B,this)}};var xs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(p,w){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,p instanceof Cn){this.a=void 0!==w?w:p.a,la(this,p.f),this.j=p.j,fa(this,p.c),ha(this,p.h),this.g=p.g,w=p.b;var D=new Pt;D.c=w.c,w.a&&(D.a=new fo(w.a),D.b=w.b),mr(this,D),this.i=p.i}else p&&(D=String(p).match(xs))?(this.a=!!w,la(this,D[1]||"",!0),this.j=un(D[2]||""),fa(this,D[3]||"",!0),ha(this,D[4]),this.g=un(D[5]||"",!0),mr(this,D[6]||"",!0),this.i=un(D[7]||"")):(this.a=!!w,this.b=new Pt(null,this.a))}function Sr(p){return new Cn(p)}function la(p,w,D){p.f=D?un(w,!0):w,p.f&&(p.f=p.f.replace(/:$/,""))}function fa(p,w,D){p.c=D?un(w,!0):w}function ha(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.h=w}else p.h=null}function mr(p,w,D){w instanceof Pt?(p.b=w,function(p,w){w&&!p.f&&(cn(p),p.c=null,p.a.forEach(function(D,x){var B=x.toLowerCase();x!=B&&(po(this,x),Ur(this,B,D))},p)),p.f=w}(p.b,p.a)):(D||(w=$n(w,Se)),p.b=new Pt(w,p.a))}function Qt(p,w,D){p.b.set(w,D)}function da(p){return Qt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^de()).toString(36)),p}function un(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function $n(p,w,D){return"string"==typeof p?(p=encodeURI(p).replace(w,ho),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ho(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}Cn.prototype.toString=function(){var p=[],w=this.f;w&&p.push($n(w,Fn,!0),":");var D=this.c;return(D||"file"==w)&&(p.push("//"),(w=this.j)&&p.push($n(w,Fn,!0),"@"),p.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(D=this.h)&&p.push(":",String(D))),(D=this.g)&&(this.c&&"/"!=D.charAt(0)&&p.push("/"),p.push($n(D,"/"==D.charAt(0)?Qn:dl,!0))),(D=this.b.toString())&&p.push("?",D),(D=this.i)&&p.push("#",$n(D,vt)),p.join("")};var Fn=/[#\/\?@]/g,dl=/[#\?:]/g,Qn=/[#\?]/g,Se=/[#\?@]/g,vt=/#/g;function Pt(p,w){this.b=this.a=null,this.c=p||null,this.f=!!w}function cn(p){p.a||(p.a=new fo,p.b=0,p.c&&function(p,w){if(p){p=p.split("&");for(var D=0;D<p.length;D++){var x=p[D].indexOf("="),B=null;if(0<=x){var ee=p[D].substring(0,x);B=p[D].substring(x+1)}else ee=p[D];w(ee,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}(p.c,function(w,D){p.add(decodeURIComponent(w.replace(/\+/g," ")),D)}))}function po(p,w){cn(p),w=Bt(p,w),sr(p.a.b,w)&&(p.c=null,p.b-=p.a.get(w).length,sr((p=p.a).b,w)&&(delete p.b[w],p.c--,p.a.length>2*p.c&&iu(p)))}function Nt(p,w){return cn(p),w=Bt(p,w),sr(p.a.b,w)}function Ur(p,w,D){po(p,w),0<D.length&&(p.c=null,p.a.set(Bt(p,w),S(D)),p.b+=D.length)}function Bt(p,w){return w=String(w),p.f&&(w=w.toLowerCase()),w}function go(p,w){this.b=p,this.a=w}function ht(p){this.g=p||ga,p=Ne.PerformanceNavigationTiming?0<(p=Ne.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(Ne.ia&&Ne.ia.ya&&Ne.ia.ya()&&Ne.ia.ya().qb),this.f=p?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(fe=Pt.prototype).add=function(p,w){cn(this),this.c=null,p=Bt(this,p);var D=this.a.get(p);return D||this.a.set(p,D=[]),D.push(w),this.b+=1,this},fe.forEach=function(p,w){cn(this),this.a.forEach(function(D,x){st(D,function(B){p.call(w,B,x,this)},this)},this)},fe.L=function(){cn(this);for(var p=this.a.K(),w=this.a.L(),D=[],x=0;x<w.length;x++)for(var B=p[x],ee=0;ee<B.length;ee++)D.push(w[x]);return D},fe.K=function(p){cn(this);var w=[];if("string"==typeof p)Nt(this,p)&&(w=R(w,this.a.get(Bt(this,p))));else{p=this.a.K();for(var D=0;D<p.length;D++)w=R(w,p[D])}return w},fe.set=function(p,w){return cn(this),this.c=null,Nt(this,p=Bt(this,p))&&(this.b-=this.a.get(p).length),this.a.set(p,[w]),this.b+=1,this},fe.get=function(p,w){return p&&0<(p=this.K(p)).length?String(p[0]):w},fe.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var p=[],w=this.a.L(),D=0;D<w.length;D++){var x=w[D],B=encodeURIComponent(String(x));x=this.K(x);for(var ee=0;ee<x.length;ee++){var Ae=B;""!==x[ee]&&(Ae+="="+encodeURIComponent(String(x[ee]))),p.push(Ae)}}return this.c=p.join("&")};var ga=10;function mo(p){return!!p.b||!!p.a&&p.a.size>=p.f}function yo(p){return p.b?1:p.a?p.a.size:0}function _r(p,w){return p.b?p.b==w:!!p.a&&p.a.has(w)}function Kn(p,w){p.a?p.a.add(w):p.b=w}function Xr(p,w){p.b&&p.b==w?p.b=null:p.a&&p.a.has(w)&&p.a.delete(w)}function _o(p){var w,D;if(null!=p.b)return p.c.concat(p.b.s);if(null!=p.a&&0!==p.a.size){var x=p.c;try{for(var B=$e(p.a.values()),ee=B.next();!ee.done;ee=B.next())x=x.concat(ee.value.s)}catch(Ge){w={error:Ge}}finally{try{ee&&!ee.done&&(D=B.return)&&D.call(B)}finally{if(w)throw w.error}}return x}return S(p.c)}function Ar(){}function Ht(){this.a=new Ar}function ic(p,w,D){var x=D||"";try{ca(p,function(B,ee){var Ae=B;ke(B)&&(Ae=ol(B)),w.push(x+ee+"="+encodeURIComponent(Ae))})}catch(B){throw w.push(x+"type="+encodeURIComponent("_badmap")),B}}function mi(p,w,D,x,B){try{w.onload=null,w.onerror=null,w.onabort=null,w.ontimeout=null,B(x)}catch(ee){}}ht.prototype.cancel=function(){var p,w;if(this.c=_o(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var D=$e(this.a.values()),x=D.next();!x.done;x=D.next())x.value.cancel()}catch(ee){p={error:ee}}finally{try{x&&!x.done&&(w=D.return)&&w.call(D)}finally{if(p)throw p.error}}this.a.clear()}},Ar.prototype.stringify=function(p){return Ne.JSON.stringify(p,void 0)},Ar.prototype.parse=function(p){return Ne.JSON.parse(p,void 0)};var ou=Ne.JSON.parse;function nn(p){Yr.call(this),this.headers=new fo,this.H=p||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ot,this.D=this.F=!1}At(nn,Yr);var Ot="",ln=/^https?$/i,kn=["POST","PUT"];function yi(p){return"content-type"==p.toLowerCase()}function ar(p,w){p.b=!1,p.a&&(p.g=!0,p.a.abort(),p.g=!1),p.f=w,p.h=5,es(p),Qi(p)}function es(p){p.u||(p.u=!0,p.dispatchEvent("complete"),p.dispatchEvent("error"))}function wo(p){if(p.b&&void 0!==qt&&(!p.s[1]||4!=Oi(p)||2!=p.X()))if(p.l&&4==Oi(p))al(p.za,0,p);else if(p.dispatchEvent("readystatechange"),4==Oi(p)){p.b=!1;try{var x,w=p.X();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}if(!(x=D)){var B;if(B=0===w){var ee=String(p.B).match(xs)[1]||null;if(!ee&&Ne.self&&Ne.self.location){var Ae=Ne.self.location.protocol;ee=Ae.substr(0,Ae.length-1)}B=!ln.test(ee?ee.toLowerCase():"")}x=B}if(x)p.dispatchEvent("complete"),p.dispatchEvent("success");else{p.h=6;try{var Ge=2<Oi(p)?p.a.statusText:""}catch(bt){Ge=""}p.f=Ge+" ["+p.X()+"]",es(p)}}finally{Qi(p)}}}function Qi(p,w){if(p.a){xr(p);var D=p.a,x=p.s[0]?Sn:null;p.a=null,p.s=null,w||p.dispatchEvent("ready");try{D.onreadystatechange=x}catch(B){}}}function xr(p){p.a&&p.D&&(p.a.ontimeout=null),p.m&&(Ne.clearTimeout(p.m),p.m=null)}function Oi(p){return p.a?p.a.readyState:0}function Jr(p,w,D){e:{for(x in D){var x=!1;break e}x=!0}x||(D=function(p){var w="";return Te(p,function(D,x){w+=x,w+=":",w+=D,w+="\r\n"}),w}(D),"string"==typeof p?null!=D&&encodeURIComponent(String(D)):Qt(p,w,D))}function Ms(p,w,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||w}function pl(p){this.pa=0,this.g=[],this.c=new _n,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Ms("failFast",!1,p),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Ms("baseRetryDelayMs",5e3,p),this.Ma=Ms("retryDelaySeedMs",1e4,p),this.Ja=Ms("forwardChannelMaxRetries",2,p),this.ma=Ms("forwardChannelRequestTimeoutMs",2e4,p),this.Ka=p&&p.g||void 0,this.D=void 0,this.C=p&&p.supportsCrossDomainXhr||!1,this.J="",this.b=new ht(p&&p.concurrentRequestLimit),this.ka=new Ht,this.da=p&&p.fastHandshake||!1,this.Ga=p&&p.b||!1,p&&p.f&&(this.c.a=!1),p&&p.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&p&&p.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function oc(p){if(gl(p),3==p.v){var w=p.R++,D=Sr(p.B);Qt(D,"SID",p.J),Qt(D,"RID",w),Qt(D,"TYPE","terminate"),au(p,D),(w=new or(p,p.c,w,void 0)).H=2,w.i=da(Sr(D)),D=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(D=Ne.navigator.sendBeacon(w.i.toString(),"")),!D&&Ne.Image&&((new Image).src=w.i,D=!0),D||(w.a=Eo(w.g,null),w.a.ba(w.i)),w.u=de(),wt(w)}yl(p)}function bo(p){p.a&&(ml(p),p.a.cancel(),p.a=null)}function gl(p){bo(p),p.j&&(Ne.clearTimeout(p.j),p.j=null),ya(p),p.b.cancel(),p.h&&("number"==typeof p.h&&Ne.clearTimeout(p.h),p.h=null)}function su(p,w){p.g.push(new go(p.La++,w)),3==p.v&&ts(p)}function ts(p){mo(p.b)||p.h||(p.h=!0,sl(p.Ba,p),p.u=0)}function Br(p,w){var D;D=w?w.f:p.R++;var x=Sr(p.B);Qt(x,"SID",p.J),Qt(x,"RID",D),Qt(x,"AID",p.P),au(p,x),p.i&&p.l&&Jr(x,p.i,p.l),D=new or(p,p.c,D,p.u+1),null===p.i&&(D.B=p.l),w&&(p.g=w.s.concat(p.g)),w=nh(p,D,1e3),D.setTimeout(Math.round(.5*p.ma)+Math.round(.5*p.ma*Math.random())),Kn(p.b,D),lo(D,x,w)}function au(p,w){p.f&&ca({},function(D,x){Qt(w,x,D)})}function nh(p,w,D){D=Math.min(p.g.length,D);var x=p.f?me(p.f.Ha,p.f,p):null;e:for(var B=p.g,ee=-1;;){var Ae=["count="+D];-1==ee?0<D?Ae.push("ofs="+(ee=B[0].b)):ee=0:Ae.push("ofs="+ee);for(var Ge=!0,bt=0;bt<D;bt++){var Zn=B[bt].b,Nr=B[bt].a;if(0>(Zn-=ee))ee=Math.max(0,B[bt].b-100),Ge=!1;else try{ic(Nr,Ae,"req"+Zn+"_")}catch(hn){x&&x(Nr)}}if(Ge){x=Ae.join("&");break e}}return p=p.g.splice(0,D),w.s=p,x}function rh(p){p.a||p.j||(p.U=1,sl(p.Aa,p),p.o=0)}function sc(p){return!(p.a||p.j||3<=p.o||(p.U++,p.j=xi(me(p.Aa,p),_a(p,p.o)),p.o++,0))}function ml(p){null!=p.s&&(Ne.clearTimeout(p.s),p.s=null)}function ih(p){p.a=new or(p,p.c,"rpc",p.U),null===p.i&&(p.a.B=p.l),p.a.O=0;var w=Sr(p.la);Qt(w,"RID","rpc"),Qt(w,"SID",p.J),Qt(w,"CI",p.H?"0":"1"),Qt(w,"AID",p.P),au(p,w),Qt(w,"TYPE","xmlhttp"),p.i&&p.l&&Jr(w,p.i,p.l),p.D&&p.a.setTimeout(p.D);var D=p.a;p=p.ga,D.H=1,D.i=da(Sr(w)),D.j=null,D.I=!0,gi(D,p)}function ya(p){null!=p.m&&(Ne.clearTimeout(p.m),p.m=null)}function uu(p,w){var D=null;if(p.a==w){ya(p),ml(p),p.a=null;var x=2}else{if(!_r(p.b,w))return;D=w.s,Xr(p.b,w),x=1}if(p.I=w.N,0!=p.v)if(w.b)if(1==x){D=w.j?w.j.length:0,w=de()-w.u;var B=p.u;(x=an()).dispatchEvent(new sa(x,D,w,B)),ts(p)}else rh(p);else if(3==(B=w.h)||0==B&&0<p.I||!(1==x&&function(p,w){return!(yo(p.b)>=p.b.f-(p.h?1:0)||(p.h?(p.g=w.s.concat(p.g),0):1==p.v||2==p.v||p.u>=(p.Ia?0:p.Ja)||(p.h=xi(me(p.Ba,p,w),_a(p,p.u)),p.u++,0)))}(p,w)||2==x&&sc(p)))switch(D&&0<D.length&&(w=p.b,w.c=w.c.concat(D)),B){case 1:Ki(p,5);break;case 4:Ki(p,10);break;case 3:Ki(p,6);break;default:Ki(p,2)}}function _a(p,w){var D=p.Fa+Math.floor(Math.random()*p.Ma);return p.f||(D*=2),D*w}function Ki(p,w){if(p.c.info("Error code "+w),2==w){var D=null;p.f&&(D=null);var x=me(p.Xa,p);D||(D=new Cn("//www.google.com/images/cleardot.gif"),Ne.location&&"http"==Ne.location.protocol||la(D,"https"),da(D)),function(p,w){var D=new _n;if(Ne.Image){var x=new Image;x.onload=Ce(mi,D,x,"TestLoadImage: loaded",!0,w),x.onerror=Ce(mi,D,x,"TestLoadImage: error",!1,w),x.onabort=Ce(mi,D,x,"TestLoadImage: abort",!1,w),x.ontimeout=Ce(mi,D,x,"TestLoadImage: timeout",!1,w),Ne.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=p}else w(!1)}(D.toString(),x)}else gr(2);p.v=0,p.f&&p.f.ra(w),yl(p),gl(p)}function yl(p){p.v=0,p.I=-1,p.f&&((0!=_o(p.b).length||0!=p.g.length)&&(p.b.c.length=0,S(p.g),p.g.length=0),p.f.qa())}function Yi(p,w,D){var x=function(p){return p instanceof Cn?Sr(p):new Cn(p,void 0)}(D);if(""!=x.c)w&&fa(x,w+"."+x.c),ha(x,x.h);else{var B=Ne.location;x=function(p,w,D,x){var B=new Cn(null,void 0);return p&&la(B,p),w&&fa(B,w),D&&ha(B,D),x&&(B.g=x),B}(B.protocol,w?w+"."+B.hostname:B.hostname,+B.port,D)}return p.W&&Te(p.W,function(ee,Ae){Qt(x,Ae,ee)}),D=p.na,(w=p.A)&&D&&Qt(x,w,D),Qt(x,"VER",p.ha),au(p,x),x}function Eo(p,w){if(w&&!p.C)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new nn(p.Ka)).F=p.C,w}function Yn(){}function va(){if(En&&!(10<=Number(Hn)))throw Error("Environmental error: no available transport.")}function fn(p,w){Yr.call(this),this.a=new pl(w),this.l=p,this.b=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.a.l=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.a&&(p?p["X-WebChannel-Client-Profile"]=w.a:p={"X-WebChannel-Client-Profile":w.a}),this.a.O=p,(p=w&&w.httpHeadersOverwriteParam)&&!V(p)&&(this.a.i=p),this.h=w&&w.supportsCrossDomainXhr||!1,this.g=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.a.A=w,null!==(p=this.b)&&w in p&&w in(p=this.b)&&delete p[w]),this.f=new ei(this)}function cu(p){pi.call(this);var w=p.__sm__;if(w){e:{for(var D in w){p=D;break e}p=void 0}(this.c=p)?(p=this.c,this.data=null!==w&&p in w?w[p]:void 0):this.data=w}else this.data=p}function we(){ua.call(this),this.status=1}function ei(p){this.a=p}(fe=nn.prototype).ba=function(p,w,D,x){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+p);w=w?w.toUpperCase():"GET",this.B=p,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(p){var w;return(w=p.a)||(w=p.a={}),w}(this.H?this.H:eu),this.a.onreadystatechange=me(this.za,this);try{this.A=!0,this.a.open(w,String(p),!0),this.A=!1}catch(ee){return void ar(this,ee)}p=D||"";var B=new fo(this.headers);x&&ca(x,function(ee,Ae){B.set(Ae,ee)}),x=function(p){e:{for(var w=yi,D=p.length,x="string"==typeof p?p.split(""):p,B=0;B<D;B++)if(B in x&&w.call(void 0,x[B],B,p)){w=B;break e}w=-1}return 0>w?null:"string"==typeof p?p.charAt(w):p[w]}(B.L()),D=Ne.FormData&&p instanceof Ne.FormData,!(0<=bn(kn,w))||x||D||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),B.forEach(function(ee,Ae){this.a.setRequestHeader(Ae,ee)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{xr(this),0<this.o&&((this.D=function(p){return En&&zn(9)&&"number"==typeof p.timeout&&void 0!==p.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=me(this.xa,this)):this.m=al(this.xa,this.o,this)),this.l=!0,this.a.send(p),this.l=!1}catch(ee){ar(this,ee)}},fe.xa=function(){void 0!==qt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},fe.abort=function(p){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=p||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qi(this))},fe.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qi(this,!0)),nn.S.G.call(this)},fe.za=function(){this.j||(this.A||this.l||this.g?wo(this):this.Ta())},fe.Ta=function(){wo(this)},fe.X=function(){try{return 2<Oi(this)?this.a.status:-1}catch(p){return-1}},fe.$=function(){try{return this.a?this.a.responseText:""}catch(p){return""}},fe.Na=function(p){if(this.a){var w=this.a.responseText;return p&&0==w.indexOf(p)&&(w=w.substring(p.length)),ou(w)}},fe.ua=function(){return this.h},fe.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(fe=pl.prototype).ha=8,fe.v=1,fe.Ba=function(p){if(this.h)if(this.h=null,1==this.v){if(!p){this.R=Math.floor(1e5*Math.random()),p=this.R++;var x,w=new or(this,this.c,p,void 0),D=this.l;if(this.O&&(D?Ue(D=Pe(D),this.O):D=this.O),null===this.i&&(w.B=D),this.da)e:{for(var B=x=0;B<this.g.length;B++){var ee=this.g[B];if(void 0===(ee="__data__"in ee.a&&"string"==typeof(ee=ee.a.__data__)?ee.length:void 0))break;if(4096<(x+=ee)){x=B;break e}if(4096===x||B===this.g.length-1){x=B+1;break e}}x=1e3}else x=1e3;x=nh(this,w,x),Qt(B=Sr(this.B),"RID",p),Qt(B,"CVER",22),this.A&&Qt(B,"X-HTTP-Session-Id",this.A),au(this,B),this.i&&D&&Jr(B,this.i,D),Kn(this.b,w),this.Ga&&Qt(B,"TYPE","init"),this.da?(Qt(B,"$req",x),Qt(B,"SID","null"),w.V=!0,lo(w,B,null)):lo(w,B,x),this.v=2}}else 3==this.v&&(p?Br(this,p):0==this.g.length||mo(this.b)||Br(this))},fe.Aa=function(){if(this.j=null,ih(this),this.V&&!(this.F||null==this.a||0>=this.N)){var p=2*this.N;this.c.info("BP detection timer enabled: "+p),this.s=xi(me(this.Sa,this),p)}},fe.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,bo(this),ih(this))},fe.Ra=function(){null!=this.m&&(this.m=null,bo(this),sc(this),gr(19))},fe.Xa=function(p){p?(this.c.info("Successfully pinged google.com"),gr(2)):(this.c.info("Failed to ping google.com"),gr(1))},(fe=Yn.prototype).ta=function(){},fe.sa=function(){},fe.ra=function(){},fe.qa=function(){},fe.Ha=function(){},va.prototype.a=function(p,w){return new fn(p,w)},At(fn,Yr),(fe=fn.prototype).addEventListener=function(p,w,D,x){fn.S.addEventListener.call(this,p,w,D,x)},fe.removeEventListener=function(p,w,D,x){fn.S.removeEventListener.call(this,p,w,D,x)},fe.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var p=this.a,w=this.l,D=this.b||void 0;gr(0),p.fa=w,p.W=D||{},p.H=p.T,p.B=Yi(p,null,p.fa),ts(p)},fe.close=function(){oc(this.a)},fe.Pa=function(p){if("string"==typeof p){var w={};w.__data__=p,su(this.a,w)}else this.g?((w={}).__data__=ol(p),su(this.a,w)):su(this.a,p)},fe.G=function(){this.a.f=null,delete this.f,oc(this.a),delete this.a,fn.S.G.call(this)},At(cu,pi),At(we,ua),At(ei,Yn),ei.prototype.ta=function(){this.a.dispatchEvent("a")},ei.prototype.sa=function(p){this.a.dispatchEvent(new cu(p))},ei.prototype.ra=function(p){this.a.dispatchEvent(new we(p))},ei.prototype.qa=function(){this.a.dispatchEvent("b")},va.prototype.createWebChannel=va.prototype.a,fn.prototype.send=fn.prototype.Pa,fn.prototype.open=fn.prototype.Oa,fn.prototype.close=fn.prototype.close,co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,aa.COMPLETE="complete",Ja.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",Yr.prototype.listen=Yr.prototype.va,nn.prototype.listenOnce=nn.prototype.wa,nn.prototype.getLastError=nn.prototype.Qa,nn.prototype.getLastErrorCode=nn.prototype.ua,nn.prototype.getStatus=nn.prototype.X,nn.prototype.getResponseJson=nn.prototype.Na,nn.prototype.getResponseText=nn.prototype.$,nn.prototype.send=nn.prototype.ba;var _l=function(){return new va},Co=co,Do=aa,Mr=Ja,ac=nn;const lu={createWebChannelTransport:_l,ErrorCode:co,EventType:aa,WebChannel:Ja,XhrIo:nn}},395:(Lr,be,nt)=>{"use strict";function yt(qt){return qt&&"object"==typeof qt&&"default"in qt?qt:{default:qt}}var $e=yt(nt(279));$e.default.registerVersion("firebase","7.24.0","app"),Lr.exports=$e.default},98:(Lr,be,nt)=>{"use strict";function k(n){return"function"==typeof n}let yt=!1;const $e={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else yt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");yt=n},get useDeprecatedSynchronousErrorHandling(){return yt}};function Re(n){setTimeout(()=>{throw n},0)}const fe={closed:!0,next(n){},error(n){if($e.useDeprecatedSynchronousErrorHandling)throw n;Re(n)},complete(){}},qt=Array.isArray||(n=>n&&"number"==typeof n.length);function Ne(n){return null!==n&&"object"==typeof n}const $=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class H{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof H)t.remove(this);else if(null!==t)for(let c=0;c<t.length;++c)t[c].remove(this);if(k(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(c){e=c instanceof $?ke(c.errors):[c]}}if(qt(s)){let c=-1,f=s.length;for(;++c<f;){const d=s[c];if(Ne(d))try{d.unsubscribe()}catch(m){e=e||[],m instanceof $?e=e.concat(ke(m.errors)):e.push(m)}}}if(e)throw new $(e)}add(e){let t=e;if(!e)return H.EMPTY;switch(typeof e){case"function":t=new H(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof H)){const s=t;t=new H,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof H){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function ke(n){return n.reduce((e,t)=>e.concat(t instanceof $?t.errors:t),[])}H.EMPTY=((n=new H).closed=!0,n);const Ee="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class pe extends H{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=fe;break;case 1:if(!e){this.destination=fe;break}if("object"==typeof e){e instanceof pe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new St(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new St(this,e,t,r)}}[Ee](){return this}static create(e,t,r){const i=new pe(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class St extends pe{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,c=this;k(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==fe&&(c=Object.create(t),k(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;$e.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=$e;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Re(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Re(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);$e.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),$e.useDeprecatedSynchronousErrorHandling)throw r;Re(r)}}__tryOrSetError(e,t,r){if(!$e.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return $e.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Re(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function de(n){return n}let Ke=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,c=function(n,e,t){if(n){if(n instanceof pe)return n;if(n[Ee])return n[Ee]()}return n||e||t?new pe(n,e,t):new pe(fe)}(t,r,i);if(c.add(s?s.call(c,this.source):this.source||$e.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),$e.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c}_trySubscribe(t){try{return this._subscribe(t)}catch(r){$e.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof pe?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=bn(r))((i,s)=>{let c;c=this.subscribe(f=>{try{t(f)}catch(d){s(d),c&&c.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[Ce](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?de:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=bn(t))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return n.create=e=>new n(e),n})();function bn(n){if(n||(n=$e.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const T=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class R extends H{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class S extends pe{constructor(e){super(e),this.destination=e}}let V=(()=>{class n extends Ke{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ee](){return new S(this)}lift(t){const r=new L(this,this);return r.operator=t,r}next(t){if(this.closed)throw new T;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let c=0;c<i;c++)s[c].next(t)}}error(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let c=0;c<i;c++)s[c].error(t);this.observers.length=0}complete(){if(this.closed)throw new T;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new T;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),H.EMPTY):this.isStopped?(t.complete(),H.EMPTY):(this.observers.push(t),new R(this,t))}asObservable(){const t=new Ke;return t.source=this,t}}return n.create=(e,t)=>new L(e,t),n})();class L extends V{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):H.EMPTY}}function O(n){return n&&"function"==typeof n.schedule}function G(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new se(n,e))}}class se{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new ze(e,this.project,this.thisArg))}}class ze extends pe{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const X=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},ue="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Qr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function En(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Pn=n=>{if(n&&"function"==typeof n[Ce])return(n=>e=>{const t=n[Ce]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(Qr(n))return X(n);if(En(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Re),e))(n);if(n&&"function"==typeof n[ue])return(n=>e=>{const t=n[ue]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${Ne(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function hr(n,e){return new Ke(t=>{const r=new H;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function Ze(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[Ce]}(n))return function(n,e){return new Ke(t=>{const r=new H;return r.add(e.schedule(()=>{const i=n[Ce]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(En(n))return function(n,e){return new Ke(t=>{const r=new H;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(Qr(n))return hr(n,e);if(function(n){return n&&"function"==typeof n[ue]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ke(t=>{const r=new H;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[ue](),r.add(e.schedule(function(){if(t.closed)return;let s,c;try{const f=i.next();s=f.value,c=f.done}catch(f){return void t.error(f)}c?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof Ke?n:new Ke(Pn(n))}class _t extends pe{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Bn extends pe{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Hn(n,e){if(e.closed)return;if(n instanceof Ke)return n.subscribe(e);let t;try{t=Pn(n)(e)}catch(r){e.error(r)}return t}function Jt(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Jt((i,s)=>Ze(n(i,s)).pipe(G((c,f)=>e(i,c,s,f))),t)):("number"==typeof e&&(t=e),r=>r.lift(new Yo(n,t)))}class Yo{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new uo(e,this.project,this.concurrent))}}class uo extends Bn{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new _t(this),r=this.destination;r.add(t);const i=Hn(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function et(n=Number.POSITIVE_INFINITY){return Jt(de,n)}function hi(n,e){return e?hr(n,e):new Ke(X(n))}function W(){return function(e){return e.lift(new J(e))}}class J{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new ne(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class ne extends pe{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Y extends Ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new H,e.add(this.source.subscribe(new ft(this.getSubject(),this))),e.closed&&(this._connection=null,e=H.EMPTY)),e}refCount(){return W()(this)}}const Le=(()=>{const n=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class ft extends S{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Wn(){return new V}function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function Si(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function yn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const il=We({__forward_ref__:We});function Wt(n){return n.__forward_ref__=Wt,n.toString=function(){return Xe(this())},n}function Be(n){return Zo(n)?n():n}function Zo(n){return"function"==typeof n&&n.hasOwnProperty(il)&&n.__forward_ref__===Wt}class Tr extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function xe(n){return"string"==typeof n?n:null==n?"":String(n)}function dr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():xe(n)}function zi(n,e){const t=e?` in ${e}`:"";throw new Tr("201",`No provider for ${dr(n)} found${t}`)}function _n(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function tt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function an(n){return{providers:n.providers||[],imports:n.imports||[]}}function zt(n){return di(n,xi)||di(n,aa)}function di(n,e){return n.hasOwnProperty(e)?n[e]:null}function sa(n){return n&&(n.hasOwnProperty(co)||n.hasOwnProperty(ll))?n[co]:null}const xi=We({\u0275prov:We}),co=We({\u0275inj:We}),aa=We({ngInjectableDef:We}),ll=We({ngInjectorDef:We});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let Ja;function pi(n){const e=Ja;return Ja=n,e}function ua(n,e,t){const r=zt(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&qe.Optional?null:void 0!==e?e:void zi(Xe(n),"Injector")}function Mi(n){return{toString:n}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),vn=(()=>((vn=vn||{})[vn.Emulated=0]="Emulated",vn[vn.None=2]="None",vn[vn.ShadowDom=3]="ShadowDom",vn))();const lo="undefined"!=typeof globalThis&&globalThis,gi="undefined"!=typeof window&&window,tu="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fl="undefined"!=typeof global&&global,wt=lo||fl||gi||tu,Zr={},Mt=[],Jo=We({\u0275cmp:We}),ru=We({\u0275dir:We}),ca=We({\u0275pipe:We}),fo=We({\u0275mod:We}),iu=We({\u0275loc:We}),sr=We({\u0275fac:We}),xs=We({__NG_ELEMENT_ID__:We});let eh=0;function Cn(n){return Mi(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||vn.Emulated,id:"c",styles:n.styles||Mt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,c=n.pipes;return r.id+=eh++,r.inputs=da(n.inputs,t),r.outputs=da(n.outputs),s&&s.forEach(f=>f(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(la):null,r.pipeDefs=c?()=>("function"==typeof c?c():c).map(fa):null,r})}function la(n){return un(n)||function(n){return n[ru]||null}(n)}function fa(n){return function(n){return n[ca]||null}(n)}const ha={};function mr(n){return Mi(()=>{const e={type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ha[n.id]=n.type),e})}function da(n,e){if(null==n)return Zr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Ye=Cn;function un(n){return n[Jo]||null}function Fn(n,e){const t=n[fo]||null;if(!t&&!0===e)throw new Error(`Type ${Xe(n)} does not have '\u0275mod' property.`);return t}function yi(n){return Array.isArray(n)&&"object"==typeof n[1]}function ar(n){return Array.isArray(n)&&!0===n[1]}function es(n){return 0!=(8&n.flags)}function wo(n){return 2==(2&n.flags)}function Qi(n){return 1==(1&n.flags)}function xr(n){return null!==n.template}function Oi(n){return 0!=(512&n[2])}function Yi(n,e){return n.hasOwnProperty(sr)?n[sr]:null}class Eo{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yn(){return va}function va(n){return n.type.prototype.ngOnChanges&&(n.setInput=cu),fn}function fn(){const n=ei(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Zr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function cu(n,e,t,r){const i=ei(n)||function(n,e){return n[we]=e}(n,{previous:Zr,current:null}),s=i.current||(i.current={}),c=i.previous,f=this.declaredInputs[t],d=c[f];s[f]=new Eo(d&&d.currentValue,e,c===Zr),n[r]=e}Yn.ngInherit=!0;const we="__ngSimpleChanges__";function ei(n){return n[we]||null}const ac="http://www.w3.org/2000/svg";let lu;function x(n){return!!n.listen}const ee={createRenderer:(n,e)=>void 0!==lu?lu:"undefined"!=typeof document?document:void 0};function Ge(n){for(;Array.isArray(n);)n=n[0];return n}function Nr(n,e){return Ge(e[n])}function hn(n,e){return Ge(e[n.index])}function To(n,e){return n.data[e]}function en(n,e){const t=e[n];return yi(t)?t:t[0]}function vl(n){return 128==(128&n[2])}function ns(n,e){return null==e?null:n[e]}function wl(n){n[18]=0}function bl(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const at={lFrame:cp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function rp(){return at.bindingsEnabled}function he(){return at.lFrame.lView}function Ft(){return at.lFrame.tView}function Gn(){let n=ap();for(;null!==n&&64===n.type;)n=n.parent;return n}function ap(){return at.lFrame.currentTNode}function Kt(n,e){const t=at.lFrame;t.currentTNode=n,t.isParent=e}function ch(){return at.lFrame.isParent}function uc(){return at.isInCheckNoChangesMode}function Ri(n){at.isInCheckNoChangesMode=n}function Ns(){return at.lFrame.bindingIndex++}function du(n,e){const t=at.lFrame;t.bindingIndex=t.bindingRootIndex=n,Cl(e)}function Cl(n){at.lFrame.currentDirectiveIndex=n}function Dl(n){at.lFrame.currentQueryIndex=n}function Os(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ba(n,e,t){if(t&qe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&qe.Host||(i=Os(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=at.lFrame=up();return r.currentTNode=e,r.lView=n,!0}function fc(n){const e=up(),t=n[1];at.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function up(){const n=at.lFrame,e=null===n?null:n.child;return null===e?cp(n):e}function cp(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ph(){const n=at.lFrame;return at.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rs=ph;function Ea(){const n=ph();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vr(){return at.lFrame.selectedIndex}function Rs(n){at.lFrame.selectedIndex=n}function Mn(){const n=at.lFrame;return To(n.tView,n.selectedIndex)}function $r(){at.lFrame.currentNamespace=ac}function rn(){at.lFrame.currentNamespace=null}function dn(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:d,ngAfterViewChecked:m,ngOnDestroy:_}=s;c&&(n.contentHooks||(n.contentHooks=[])).push(-t,c),f&&((n.contentHooks||(n.contentHooks=[])).push(t,f),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,f)),d&&(n.viewHooks||(n.viewHooks=[])).push(-t,d),m&&((n.viewHooks||(n.viewHooks=[])).push(t,m),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,m)),null!=_&&(n.destroyHooks||(n.destroyHooks=[])).push(t,_)}}function _i(n,e,t){ti(n,e,3,t)}function wr(n,e,t,r){(3&n[2])===t&&ti(n,e,t,r)}function Xn(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function ti(n,e,t,r){const s=null!=r?r:-1,c=e.length-1;let f=0;for(let d=void 0!==r?65535&n[18]:0;d<c;d++)if("number"==typeof e[d+1]){if(f=e[d],null!=r&&f>=r)break}else e[d]<0&&(n[18]+=65536),(f<s||-1==s)&&(Ca(n,t,e,d),n[18]=(4294901760&n[18])+d+2),d++}function Ca(n,e,t,r){const i=t[r]<0,s=t[r+1],f=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(f)}finally{}}}else try{s.call(f)}finally{}}class vi{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function yu(n,e,t){const r=x(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const c=t[i++],f=t[i++],d=t[i++];r?n.setAttribute(e,f,d,c):e.setAttributeNS(c,f,d)}else{const c=s,f=t[++i];ni(c)?r&&n.setProperty(e,c,f):r?n.setAttribute(e,c,f):e.setAttribute(c,f),i++}}return i}function Tl(n){return 3===n||4===n||6===n}function ni(n){return 64===n.charCodeAt(0)}function Fs(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||hc(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function hc(n,e,t,r,i){let s=0,c=n.length;if(-1===e)c=-1;else for(;s<n.length;){const f=n[s++];if("number"==typeof f){if(f===e){c=-1;break}if(f>e){c=s-1;break}}}for(;s<n.length;){const f=n[s];if("number"==typeof f)break;if(f===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(n.splice(c,0,e),s=c+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function lp(n){return-1!==n}function os(n){return 32767&n}function _u(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let mh=!0;function dc(n){const e=mh;return mh=n,e}let vu=0;function wu(n,e){const t=_h(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,yh(r.data,n),yh(e,null),yh(r.blueprint,null));const i=xo(n,e),s=n.injectorIndex;if(lp(i)){const c=os(i),f=_u(i,e),d=f[1].data;for(let m=0;m<8;m++)e[s+m]=f[c+m]|d[c+m]}return e[s+8]=i,s}function yh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _h(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function xo(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],c=s.type;if(r=2===c?s.declTNode:1===c?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function bu(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xs)&&(r=t[xs]),null==r&&(r=t[xs]=vu++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function hp(n,e,t){if(t&qe.Optional)return n;zi(e,"NodeInjector")}function vh(n,e,t,r){if(t&qe.Optional&&void 0===r&&(r=null),0==(t&(qe.Self|qe.Host))){const i=n[9],s=pi(void 0);try{return i?i.get(e,r,t&qe.Optional):ua(e,r,t&qe.Optional)}finally{pi(s)}}return hp(r,e,t)}function dp(n,e,t,r=qe.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xs)?n[xs]:void 0;return"number"==typeof e?e>=0?255&e:ty:e}(t);if("function"==typeof s){if(!ba(e,n,r))return r&qe.Host?hp(i,t,r):vh(e,t,r,i);try{const c=s(r);if(null!=c||r&qe.Optional)return c;zi(t)}finally{rs()}}else if("number"==typeof s){let c=null,f=_h(n,e),d=-1,m=r&qe.Host?e[16][6]:null;for((-1===f||r&qe.SkipSelf)&&(d=-1===f?xo(n,e):e[f+8],-1!==d&&yp(r,!1)?(c=e[1],f=os(d),e=_u(d,e)):f=-1);-1!==f;){const _=e[1];if(mp(s,f,_.data)){const b=gp(f,e,t,c,r,m);if(b!==pp)return b}d=e[f+8],-1!==d&&yp(r,e[1].data[f+8]===m)&&mp(s,f,e)?(c=_,f=os(d),e=_u(d,e)):f=-1}}}return vh(e,t,r,i)}const pp={};function ty(){return new Mo(Gn(),he())}function gp(n,e,t,r,i,s){const c=e[1],f=c.data[n+8],_=function(n,e,t,r,i){const s=n.providerIndexes,c=e.data,f=1048575&s,d=n.directiveStart,_=s>>20,E=i?f+_:n.directiveEnd;for(let I=r?f:f+_;I<E;I++){const M=c[I];if(I<d&&t===M||I>=d&&M.type===t)return I}if(i){const I=c[d];if(I&&xr(I)&&I.type===t)return d}return null}(f,c,t,null==r?wo(f)&&mh:r!=c&&0!=(3&f.type),i&qe.Host&&s===f);return null!==_?gc(e,c,_,f):pp}function gc(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof vi}(i)){const c=i;c.resolving&&function(n,e){throw new Tr("200",`Circular dependency in DI detected for ${n}`)}(dr(s[t]));const f=dc(c.canSeeViewProviders);c.resolving=!0;const d=c.injectImpl?pi(c.injectImpl):null;ba(n,r,qe.Default);try{i=n[t]=c.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const c=va(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,c),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,c)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==d&&pi(d),dc(f),c.resolving=!1,rs()}}return i}function mp(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function yp(n,e){return!(n&qe.Self||n&qe.Host&&e)}class Mo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return dp(this._tNode,this._lView,e,void 0,t)}}function br(n){return Mi(()=>{const e=n.prototype.constructor,t=e[sr]||xl(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[sr]||xl(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xl(n){return Zo(n)?()=>{const e=xl(Be(n));return e&&e()}:Yi(n)}const Vs="__parameters__";function ri(n,e,t){return Mi(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return f.annotation=c,f;function f(d,m,_){const b=d.hasOwnProperty(Vs)?d[Vs]:Object.defineProperty(d,Vs,{value:[]})[Vs];for(;b.length<=_;)b.push(null);return(b[_]=b[_]||[]).push(c),d}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class pt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=tt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Eu=new pt("AnalyzeForEntryComponents"),Nl=Function;function Zi(n,e){n.forEach(t=>Array.isArray(t)?Zi(t,e):e(t))}function _c(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Aa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wi(n,e,t){let r=ki(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function wc(n,e){const t=ki(n,e);if(t>=0)return n[1|t]}function ki(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),c=n[s<<t];if(e===c)return s<<t;c>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const xa={},Ih="__NG_DI_FLAG__",Du="ngTempTokenPath",dy=/\n/gm,Th="__source",Sh=We({provide:String,useValue:We});let Ec;function Iu(n){const e=Ec;return Ec=n,e}function gy(n,e=qe.Default){if(void 0===Ec)throw new Error("inject() must be called from an injection context");return null===Ec?ua(n,void 0,e):Ec.get(n,e&qe.Optional?null:void 0,e)}function _e(n,e=qe.Default){return(Ja||gy)(Be(n),e)}function js(n){const e=[];for(let t=0;t<n.length;t++){const r=Be(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=qe.Default;for(let c=0;c<r.length;c++){const f=r[c],d=my(f);"number"==typeof d?-1===d?i=f.token:s|=d:i=f}e.push(_e(i,s))}else e.push(_e(r))}return e}function Us(n,e){return n[Ih]=e,n.prototype[Ih]=e,n}function my(n){return n[Ih]}function Cc(n,e,t,r){const i=n[Du];throw e[Th]&&i.unshift(e[Th]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Xe(e);if(Array.isArray(e))i=e.map(Xe).join(" -> ");else if("object"==typeof e){let s=[];for(let c in e)if(e.hasOwnProperty(c)){let f=e[c];s.push(c+":"+("string"==typeof f?JSON.stringify(f):Xe(f)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(dy,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Du]=null,n}const Vi=Us(ri("Inject",n=>({token:n})),-1),Gr=Us(ri("Optional"),8),Li=Us(ri("SkipSelf"),4);class Na{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ii(n){return n instanceof Na?n.changingThisBreaksApplicationSecurity:n}function Xi(n,e){const t=function(n){return n instanceof Na&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}const jl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ul=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ve=(()=>((ve=ve||{})[ve.NONE=0]="NONE",ve[ve.HTML=1]="HTML",ve[ve.STYLE=2]="STYLE",ve[ve.SCRIPT=3]="SCRIPT",ve[ve.URL=4]="URL",ve[ve.RESOURCE_URL=5]="RESOURCE_URL",ve))();function ut(n){const e=function(){const n=he();return n&&n[12]}();return e?e.sanitize(ve.URL,n)||"":Xi(n,"URL")?ii(n):function(n){return(n=String(n)).match(jl)||n.match(Ul)?n:"unsafe:"+n}(xe(n))}const ji="__ngContext__";function Dn(n,e){n[ji]=e}function Ey(n){const e=function(n){return n[ji]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function qp(n){return n.ngOriginalError}function Rx(n,...e){n.error(...e)}class xc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=this._findContext(e),i=function(n){return n&&n.ngErrorLogger||Rx}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(qp(e)):null}_findOriginalError(e){let t=e&&qp(e);for(;t&&qp(t);)t=qp(t);return t||null}}const Kw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wt))();function Bs(n){return n instanceof Function?n():n}var eo=(()=>((eo=eo||{})[eo.Important=1]="Important",eo[eo.DashCase=2]="DashCase",eo))();function Iy(n,e){return undefined(n,e)}function Bh(n){const e=n[3];return ar(e)?e[3]:e}function Ty(n){return eb(n[13])}function Sy(n){return eb(n[4])}function eb(n){for(;null!==n&&!ar(n);)n=n[4];return n}function Gl(n,e,t,r,i){if(null!=r){let s,c=!1;ar(r)?s=r:yi(r)&&(c=!0,r=r[0]);const f=Ge(r);0===n&&null!==t?null==i?sb(e,t,f):Mc(e,t,f,i||null,!0):1===n&&null!==t?Mc(e,t,f,i||null,!0):2===n?function(n,e,t){const r=Wp(n,e);r&&function(n,e,t,r){x(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,f,c):3===n&&e.destroyNode(f),null!=s&&function(n,e,t,r,i){const s=t[7];s!==Ge(t)&&Gl(e,n,r,s,i);for(let f=10;f<t.length;f++){const d=t[f];Hh(d[1],d,n,e,r,s)}}(e,n,s,t,i)}}function xy(n,e,t){return x(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function nb(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,bl(i,-1)),t.splice(r,1)}function My(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&nb(i,r),e>0&&(n[t-1][4]=r[4]);const s=Aa(n,10+e);!function(n,e){Hh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const c=s[19];null!==c&&c.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function rb(n,e){if(!(256&e[2])){const t=e[11];x(t)&&t.destroyNode&&Hh(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Ny(n[1],n);for(;e;){let t=null;if(yi(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)yi(e)&&Ny(e[1],e),e=e[3];null===e&&(e=n),yi(e)&&Ny(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ny(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof vi)){const s=t[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const f=i[s[c]],d=s[c+1];try{d.call(f)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const c=t[s+1],f="function"==typeof c?c(e):Ge(e[c]),d=r[i=t[s+2]],m=t[s+3];"boolean"==typeof m?f.removeEventListener(t[s],d,m):m>=0?r[i=m]():r[i=-m].unsubscribe(),s+=2}else{const c=r[i=t[s+1]];t[s].call(c)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&x(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&ar(e[3])){t!==e[3]&&nb(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function ib(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===vn.None||i===vn.Emulated)return null}return hn(r,t)}(n,e.parent,t)}function Mc(n,e,t,r,i){x(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function sb(n,e,t){x(n)?n.appendChild(e,t):e.appendChild(t)}function ab(n,e,t,r,i){null!==r?Mc(n,e,t,r,i):sb(n,e,t)}function Wp(n,e){return x(n)?n.parentNode(e):e.parentNode}let lb=function(n,e,t){return 40&n.type?hn(n,t):null};function Qp(n,e,t,r){const i=ib(n,r,e),s=e[11],f=function(n,e,t){return lb(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let d=0;d<t.length;d++)ab(s,i,t[d],f,!1);else ab(s,i,t,f,!1)}function Kp(n,e){if(null!==e){const t=e.type;if(3&t)return hn(e,n);if(4&t)return Ry(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Kp(n,r);{const i=n[e.index];return ar(i)?Ry(-1,i):Ge(i)}}if(32&t)return Iy(e,n)()||Ge(n[e.index]);{const r=hb(n,e);return null!==r?Array.isArray(r)?r[0]:Kp(Bh(n[16]),r):Kp(n,e.next)}}return null}function hb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ry(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Kp(r,i)}return e[7]}function Py(n,e,t,r,i,s,c){for(;null!=t;){const f=r[t.index],d=t.type;if(c&&0===e&&(f&&Dn(Ge(f),r),t.flags|=4),64!=(64&t.flags))if(8&d)Py(n,e,t.child,r,i,s,!1),Gl(e,n,i,f,s);else if(32&d){const m=Iy(t,r);let _;for(;_=m();)Gl(e,n,i,_,s);Gl(e,n,i,f,s)}else 16&d?pb(n,e,r,t,i,s):Gl(e,n,i,f,s);t=c?t.projectionNext:t.next}}function Hh(n,e,t,r,i,s){Py(t,r,n.firstChild,e,i,s,!1)}function pb(n,e,t,r,i,s){const c=t[16],d=c[6].projection[r.projection];if(Array.isArray(d))for(let m=0;m<d.length;m++)Gl(e,n,i,d[m],s);else Py(n,e,d,c[3],i,s,!0)}function gb(n,e,t){x(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Fy(n,e,t){x(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function mb(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const yb="ng-template";function oM(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==mb(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _b(n){return 4===n.type&&n.value!==yb}function sM(n,e,t){return e===(4!==n.type||t?n.value:yb)}function aM(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(Tl(n[e]))return e;return n.length}(i);let c=!1;for(let f=0;f<e.length;f++){const d=e[f];if("number"!=typeof d){if(!c)if(4&r){if(r=2|1&r,""!==d&&!sM(n,d,t)||""===d&&1===e.length){if(ls(r))return!1;c=!0}}else{const m=8&r?d:e[++f];if(8&r&&null!==n.attrs){if(!oM(n.attrs,m,t)){if(ls(r))return!1;c=!0}continue}const b=uM(8&r?"class":d,i,_b(n),t);if(-1===b){if(ls(r))return!1;c=!0;continue}if(""!==m){let E;E=b>s?"":i[b+1].toLowerCase();const I=8&r?E:null;if(I&&-1!==mb(I,m,0)||2&r&&m!==E){if(ls(r))return!1;c=!0}}}}else{if(!c&&!ls(r)&&!ls(d))return!1;if(c&&ls(d))continue;c=!1,r=d|1&r}}return ls(r)||c}function ls(n){return 0==(1&n)}function uM(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const c=e[i];if(c===n)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let f=e[++i];for(;"string"==typeof f;)f=e[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function vb(n,e,t=!1){for(let r=0;r<e.length;r++)if(aM(n,e[r],t))return!0;return!1}function wb(n,e){return n?":not("+e.trim()+")":e}function dM(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let c=n[t];if("string"==typeof c)if(2&r){const f=n[++t];i+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!ls(c)&&(e+=wb(s,i),i=""),r=c,s=s||!ls(r);t++}return""!==i&&(e+=wb(s,i)),e}const gt={};function to(n){bb(Ft(),he(),vr()+n,uc())}function bb(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&_i(e,s,t)}else{const s=n.preOrderHooks;null!==s&&wr(e,s,0,t)}Rs(t)}function Yp(n,e){return n<<17|e<<2}function fs(n){return n>>17&32767}function ky(n){return 2|n}function Pa(n){return(131068&n)>>2}function Vy(n,e){return-131069&n|e<<2}function Ly(n){return 1|n}function Nb(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const c=n.data[s];Dl(i),c.contentQueries(2,e[s],s)}}}function $h(n,e,t,r,i,s,c,f,d,m){const _=e.blueprint.slice();return _[0]=i,_[2]=140|r,wl(_),_[3]=_[15]=n,_[8]=t,_[10]=c||n&&n[10],_[11]=f||n&&n[11],_[12]=d||n&&n[12]||null,_[9]=m||n&&n[9]||null,_[6]=s,_[16]=2==e.type?n[16]:_,_}function ql(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=ap(),c=ch(),d=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=d),null!==s&&(c?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d)),d}(n,e,t,r,i),at.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const c=function(){const n=at.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return Kt(s,!0),s}function zl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Gh(n,e,t){fc(e);try{const r=n.viewQuery;null!==r&&e_(1,r,t);const i=n.template;null!==i&&Ob(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Nb(n,e),n.staticViewQueries&&e_(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)zM(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Ea()}}function Wl(n,e,t,r){const i=e[2];if(256==(256&i))return;fc(e);const s=uc();try{wl(e),function(n){at.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Ob(n,e,t,2,r);const c=3==(3&i);if(!s)if(c){const m=n.preOrderCheckHooks;null!==m&&_i(e,m,null)}else{const m=n.preOrderHooks;null!==m&&wr(e,m,0,null),Xn(e,0)}if(function(n){for(let e=Ty(n);null!==e;e=Sy(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&bl(s,1),i[2]|=1024}}}(e),function(n){for(let e=Ty(n);null!==e;e=Sy(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];vl(r)&&Wl(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&Nb(n,e),!s)if(c){const m=n.contentCheckHooks;null!==m&&_i(e,m)}else{const m=n.contentHooks;null!==m&&wr(e,m,1),Xn(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Rs(~i);else{const s=i,c=t[++r],f=t[++r];du(c,s),f(2,e[s])}}}finally{Rs(-1)}}(n,e);const f=n.components;null!==f&&function(n,e){for(let t=0;t<e.length;t++)qM(n,e[t])}(e,f);const d=n.viewQuery;if(null!==d&&e_(2,d,r),!s)if(c){const m=n.viewCheckHooks;null!==m&&_i(e,m)}else{const m=n.viewHooks;null!==m&&wr(e,m,2),Xn(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,bl(e[3],-1))}finally{Ea()}}function TM(n,e,t,r){const i=e[10],s=!uc(),c=function(n){return 4==(4&n[2])}(e);try{s&&!c&&i.begin&&i.begin(),c&&Gh(n,e,r),Wl(n,e,t,r)}finally{s&&!c&&i.end&&i.end()}}function Ob(n,e,t,r,i){const s=vr(),c=2&r;try{Rs(-1),c&&e.length>20&&bb(n,e,20,uc()),t(r,i)}finally{Rs(s)}}function zy(n,e,t){!rp()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||wu(t,e),Dn(r,e);const c=t.initialInputs;for(let f=i;f<s;f++){const d=n.data[f],m=xr(d);m&&UM(e,t,d);const _=gc(e,n,f,t);Dn(_,e),null!==c&&BM(0,f-i,_,d,0,c),m&&(en(t.index,e)[8]=_)}}(n,e,t,hn(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,c=t.index,f=at.lFrame.currentDirectiveIndex;try{Rs(c);for(let d=r;d<i;d++){const m=n.data[d],_=e[d];Cl(d),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&Bb(m,_)}}finally{Rs(-1),Cl(f)}}(n,e,t))}function Wy(n,e,t=hn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],f=-1===c?t(e,n):n[c];n[i++]=f}}}function Pb(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Jp(n,e,t,r,i,s,c,f,d,m){const _=20+r,b=_+i,E=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:gt);return t}(_,b),I="function"==typeof m?m():m;return E[1]={type:n,blueprint:E,template:t,queries:null,viewQuery:f,declTNode:e,data:E.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:d,consts:I,incompleteFirstPass:!1}}function Lb(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function no(n,e,t,r,i,s,c,f){const d=hn(e,t);let _,m=e.inputs;!f&&null!=m&&(_=m[r])?(Zb(n,t,_,r,i),wo(e)&&function(n,e){const t=en(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=c?c(i,e.value||"",r):i,x(s)?s.setProperty(d,r,i):ni(r)||(d.setProperty?d.setProperty(r,i):d[r]=i))}function Qy(n,e,t,r){let i=!1;if(rp()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const c=r[s];vb(t,c.selectors,!1)&&(i||(i=[]),bu(wu(t,e),n,c.type),xr(c)?(Hb(n,t),i.unshift(c)):i.push(c))}return i}(n,e,t),c=null===r?null:{"":-1};if(null!==s){i=!0,$b(t,n.data.length,s.length);for(let _=0;_<s.length;_++){const b=s[_];b.providersResolver&&b.providersResolver(b)}let f=!1,d=!1,m=zl(n,e,s.length,null);for(let _=0;_<s.length;_++){const b=s[_];t.mergedAttrs=Fs(t.mergedAttrs,b.hostAttrs),Gb(n,t,e,m,b),jM(m,b,c),null!==b.contentQueries&&(t.flags|=8),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(t.flags|=128);const E=b.type.prototype;!f&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),f=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),d=!0),m++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,c=[];let f=null,d=null;for(let m=e.directiveStart;m<r;m++){const _=i[m],b=_.inputs,E=null===s||_b(e)?null:HM(b,s);c.push(E),f=Lb(b,m,f),d=Lb(_.outputs,m,d)}null!==f&&(f.hasOwnProperty("class")&&(e.flags|=16),f.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=c,e.inputs=f,e.outputs=d}(n,t)}c&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Tr("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,c)}return t.mergedAttrs=Fs(t.mergedAttrs,t.attrs),i}function Ub(n,e,t,r,i,s){const c=s.hostBindings;if(c){let f=n.hostBindingOpCodes;null===f&&(f=n.hostBindingOpCodes=[]);const d=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(f)!=d&&f.push(d),f.push(r,i,c)}}function Bb(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Hb(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function jM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xr(e)&&(t[""]=n)}}function $b(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Gb(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Yi(i.type)),c=new vi(s,xr(i),null);n.blueprint[r]=c,t[r]=c,Ub(n,e,0,r,zl(n,t,i.hostVars,gt),i)}function UM(n,e,t){const r=hn(e,n),i=Pb(t),s=n[10],c=eg(n,$h(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=c}function Hs(n,e,t,r,i,s){const c=hn(n,e);!function(n,e,t,r,i,s,c){if(null==s)x(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const f=null==c?xe(s):c(s,r||"",i);x(n)?n.setAttribute(e,i,f,t):t?e.setAttributeNS(t,i,f):e.setAttribute(i,f)}}(e[11],c,s,n.value,t,r,i)}function BM(n,e,t,r,i,s){const c=s[e];if(null!==c){const f=r.setInput;for(let d=0;d<c.length;){const m=c[d++],_=c[d++],b=c[d++];null!==f?r.setInput(t,b,m,_):t[_]=b}}}function HM(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function qb(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function qM(n,e){const t=en(e,n);if(vl(t)){const r=t[1];80&t[2]?Wl(r,t,r.template,t[8]):t[5]>0&&Yy(t)}}function Yy(n){for(let r=Ty(n);null!==r;r=Sy(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const c=s[1];Wl(c,s,c.template,s[8])}else s[5]>0&&Yy(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=en(t[r],n);vl(i)&&i[5]>0&&Yy(i)}}function zM(n,e){const t=en(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Gh(r,t,t[8])}function eg(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Zy(n){for(;n;){n[2]|=64;const e=Bh(n);if(Oi(n)&&!e)return n;n=e}return null}function Jy(n,e,t){const r=e[10];r.begin&&r.begin();try{Wl(n,e,n.template,t)}catch(i){throw Yb(e,i),i}finally{r.end&&r.end()}}function zb(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Ey(t),i=r[1];TM(i,r,i.template,t)}}(n[8])}function e_(n,e,t){Dl(0),e(n,t)}const ZM=(()=>Promise.resolve(null))();function Wb(n){return n[7]||(n[7]=[])}function Qb(n){return n.cleanup||(n.cleanup=[])}function Yb(n,e){const t=n[9],r=t?t.get(xc,null):null;r&&r.handleError(e)}function Zb(n,e,t,r,i){for(let s=0;s<t.length;){const c=t[s++],f=t[s++],d=e[c],m=n.data[c];null!==m.setInput?m.setInput(d,i,r,f):d[f]=i}}function ka(n,e,t){const r=Nr(e,n);!function(n,e,t){x(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function tg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let c=0;c<e.length;c++){const f=e[c];"number"==typeof f?s=f:1==s?i=yn(i,f):2==s&&(r=yn(r,f+": "+e[++c]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Ql=new pt("INJECTOR",-1);class Xb{get(e,t=xa){if(t===xa){const r=new Error(`NullInjectorError: No provider for ${Xe(e)}!`);throw r.name="NullInjectorError",r}return t}}const qh=new pt("Set Injector scope."),zh={},eN={};let t_;function Jb(){return void 0===t_&&(t_=new Xb),t_}function eE(n,e=null,t=null,r){return new nN(n,t,e||Jb(),r)}class nN{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Zi(t,f=>this.processProvider(f,e,t)),Zi([e],f=>this.processInjectorType(f,[],s)),this.records.set(Ql,Kl(void 0,this));const c=this.records.get(qh);this.scope=null!=c?c.value:null,this.source=i||("object"==typeof e?null:Xe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=xa,r=qe.Default){this.assertNotDestroyed();const i=Iu(this),s=pi(void 0);try{if(!(r&qe.SkipSelf)){let f=this.records.get(e);if(void 0===f){const d=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof pt}(e)&&zt(e);f=d&&this.injectableDefInScope(d)?Kl(n_(e),zh):null,this.records.set(e,f)}if(null!=f)return this.hydrate(e,f)}return(r&qe.Self?Jb():this.parent).get(e,t=r&qe.Optional&&t===xa?null:t)}catch(c){if("NullInjectorError"===c.name){if((c[Du]=c[Du]||[]).unshift(Xe(e)),i)throw c;return Cc(c,e,"R3InjectorError",this.source)}throw c}finally{pi(s),Iu(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Xe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=Be(e)))return!1;let i=sa(e);const s=null==i&&e.ngModule||void 0,c=void 0===s?e:s,f=-1!==r.indexOf(c);if(void 0!==s&&(i=sa(s)),null==i)return!1;if(null!=i.imports&&!f){let _;r.push(c);try{Zi(i.imports,b=>{this.processInjectorType(b,t,r)&&(void 0===_&&(_=[]),_.push(b))})}finally{}if(void 0!==_)for(let b=0;b<_.length;b++){const{ngModule:E,providers:I}=_[b];Zi(I,M=>this.processProvider(M,E,I||Mt))}}this.injectorDefTypes.add(c);const d=Yi(c)||(()=>new c);this.records.set(c,Kl(d,zh));const m=i.providers;if(null!=m&&!f){const _=e;Zi(m,b=>this.processProvider(b,_,m))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Yl(e=Be(e))?e:Be(e&&e.provide);const s=function(n,e,t){return nE(n)?Kl(void 0,n.useValue):Kl(tE(n),zh)}(e);if(Yl(e)||!0!==e.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Kl(void 0,zh,!0),c.factory=()=>js(c.multi),this.records.set(i,c)),i=e,c.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===zh&&(t.value=eN,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Be(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function n_(n){const e=zt(n),t=null!==e?e.factory:Yi(n);if(null!==t)return t;if(n instanceof pt)throw new Error(`Token ${Xe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=function(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?");throw new Error(`Can't resolve all parameters for ${Xe(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[xi]||n[aa]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function tE(n,e,t){let r;if(Yl(n)){const i=Be(n);return Yi(i)||n_(i)}if(nE(n))r=()=>Be(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...js(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>_e(Be(n.useExisting));else{const i=Be(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Yi(i)||n_(i);r=()=>new i(...js(n.deps))}return r}function Kl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nE(n){return null!==n&&"object"==typeof n&&Sh in n}function Yl(n){return"function"==typeof n}const rE=function(n,e,t){return function(n,e=null,t=null,r){const i=eE(n,e,t,r);return i._resolveInjectorDefTypes(),i}({name:t},e,n,t)};class $t{static create(e,t){return Array.isArray(e)?rE(e,t,""):rE(e.providers,e.parent,e.name||"")}}function CN(n,e){dn(Ey(n)[1],Gn())}function In(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const c=n;c.inputs=u_(n.inputs),c.declaredInputs=u_(n.declaredInputs),c.outputs=u_(n.outputs);const f=i.hostBindings;f&&SN(n,f);const d=i.viewQuery,m=i.contentQueries;if(d&&IN(n,d),m&&TN(n,m),Si(n.inputs,i.inputs),Si(n.declaredInputs,i.declaredInputs),Si(n.outputs,i.outputs),xr(i)&&i.data.animation){const _=n.data;_.animation=(_.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const f=s[c];f&&f.ngInherit&&f(n),f===In&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fs(i.hostAttrs,t=Fs(t,i.hostAttrs))}}(r)}function u_(n){return n===Zr?{}:n===Mt?[]:n}function IN(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function TN(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function SN(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}$t.THROW_IF_NOT_FOUND=xa,$t.NULL=new Xb,$t.\u0275prov=tt({token:$t,providedIn:"any",factory:()=>_e(Ql)}),$t.__NG_ELEMENT_ID__=-1;let ng=null;function Zl(){if(!ng){const n=wt.Symbol;if(n&&n.iterator)ng=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ng=r)}}}return ng}function Qh(n){return!!c_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Zl()in n)}function c_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Gs(n,e,t,r){const i=he();return oi(i,Ns(),e)&&(Ft(),Hs(Mn(),i,n,e,t,r)),Gs}function ig(n,e,t,r,i,s,c,f){const d=he(),m=Ft(),_=n+20,b=m.firstCreatePass?function(n,e,t,r,i,s,c,f,d){const m=e.consts,_=ql(e,n,4,c||null,ns(m,f));Qy(e,t,_,ns(m,d)),dn(e,_);const b=_.tViews=Jp(2,_,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,m);return null!==e.queries&&(e.queries.template(e,_),b.queries=e.queries.embeddedTView(_)),_}(_,m,d,e,t,r,i,s,c):m.data[_];Kt(b,!1);const E=d[11].createComment("");Qp(m,d,E,b),Dn(E,d),eg(d,d[_]=qb(E,d,E,b)),Qi(b)&&zy(m,d,b),null!=c&&Wy(d,b,f)}function ge(n,e=qe.Default){const t=he();return null===t?_e(n,e):dp(Gn(),t,Be(n),e)}function qs(n,e,t){const r=he();return oi(r,Ns(),e)&&no(Ft(),Mn(),r,n,e,r[11],t,!1),qs}function p_(n,e,t,r,i){const c=i?"class":"style";Zb(n,t,e.inputs[c],c,r)}function ie(n,e,t,r){const i=he(),s=Ft(),c=20+n,f=i[11],d=i[c]=xy(f,e,at.lFrame.currentNamespace),m=s.firstCreatePass?function(n,e,t,r,i,s,c){const f=e.consts,m=ql(e,n,2,i,ns(f,s));return Qy(e,t,m,ns(f,c)),null!==m.attrs&&tg(m,m.attrs,!1),null!==m.mergedAttrs&&tg(m,m.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,m),m}(c,s,i,0,e,t,r):s.data[c];Kt(m,!0);const _=m.mergedAttrs;null!==_&&yu(f,d,_);const b=m.classes;null!==b&&Fy(f,d,b);const E=m.styles;null!==E&&gb(f,d,E),64!=(64&m.flags)&&Qp(s,i,d,m),0===at.lFrame.elementDepthCount&&Dn(d,i),at.lFrame.elementDepthCount++,Qi(m)&&(zy(s,i,m),function(n,e,t){if(es(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const c=n.data[s];c.contentQueries&&c.contentQueries(1,t[s],s)}}}(s,m,i)),null!==r&&Wy(i,m)}function oe(){let n=Gn();ch()?at.lFrame.isParent=!1:(n=n.parent,Kt(n,!1));const e=n;at.lFrame.elementDepthCount--;const t=Ft();t.firstCreatePass&&(dn(t,n),es(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&p_(t,e,he(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&p_(t,e,he(),e.stylesWithoutHost,!1)}function on(n,e,t,r){ie(n,e,t,r),oe()}function Yh(n){return!!n&&"function"==typeof n.then}const sg=function(n){return!!n&&"function"==typeof n.subscribe};function Nn(n,e,t,r){const i=he(),s=Ft(),c=Gn();return function(n,e,t,r,i,s,c,f){const d=Qi(r),_=n.firstCreatePass&&Qb(n),b=e[8],E=Wb(e);let I=!0;if(3&r.type||f){const F=hn(r,e),z=f?f(F):F,q=E.length,re=f?ce=>f(Ge(ce[r.index])):r.index;if(x(t)){let ce=null;if(!f&&d&&(ce=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===t&&i[s+1]===r){const f=e[7],d=i[s+2];return f.length>d?f[d]:null}"string"==typeof c&&(s+=2)}return null}(n,e,i,r.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=s,ce.__ngLastListenerFn__=s,I=!1;else{s=g_(r,e,b,s,!1);const le=t.listen(z,i,s);E.push(s,le),_&&_.push(i,re,q,q+1)}}else s=g_(r,e,b,s,!0),z.addEventListener(i,s,c),E.push(s),_&&_.push(i,re,q,c)}else s=g_(r,e,b,s,!1);const M=r.outputs;let N;if(I&&null!==M&&(N=M[i])){const F=N.length;if(F)for(let z=0;z<F;z+=2){const ye=e[N[z]][N[z+1]].subscribe(s),De=E.length;E.push(s,ye),_&&_.push(i,r.index,De,-(De+1))}}}(s,i,i[11],c,n,e,!!t,r),Nn}function WE(n,e,t,r){try{return!1!==t(r)}catch(i){return Yb(n,i),!1}}function g_(n,e,t,r,i){return function s(c){if(c===Function)return r;const f=2&n.flags?en(n.index,e):e;0==(32&e[2])&&Zy(f);let d=WE(e,0,r,c),m=s.__ngNextListenerFn__;for(;m;)d=WE(e,0,m,c)&&d,m=m.__ngNextListenerFn__;return i&&!1===d&&(c.preventDefault(),c.returnValue=!1),d}}function m_(n=1){return function(n){return(at.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,at.lFrame.contextLView))[8]}(n)}function rC(n,e,t,r,i){const s=n[t+1],c=null===e;let f=r?fs(s):Pa(s),d=!1;for(;0!==f&&(!1===d||c);){const _=n[f+1];pO(n[f],e)&&(d=!0,n[f+1]=r?Ly(_):ky(_)),f=r?fs(_):Pa(_)}d&&(n[t+1]=r?ky(s):Ly(s))}function pO(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ki(n,e)>=0}function ag(n,e){return function(n,e,t,r){const i=he(),s=Ft(),c=function(n){const e=at.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[vr()],c=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!c&&(e=!1),e=function(n,e,t,r){const i=function(n){const e=at.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Zh(t=__(null,n,e,t,r),e.attrs,r),s=null);else{const c=e.directiveStylingLast;if(-1===c||n[c]!==i)if(t=__(i,n,e,t,r),null===s){let d=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Pa(r))return n[fs(r)]}(n,e,r);void 0!==d&&Array.isArray(d)&&(d=__(null,n,e,d[1],r),d=Zh(d,e.attrs,r),function(n,e,t,r){n[fs(t?e.classBindings:e.styleBindings)]=r}(n,e,r,d))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Zh(r,n[s].hostAttrs,t);return Zh(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let c=s?e.classBindings:e.styleBindings,f=fs(c),d=Pa(c);n[r]=t;let _,m=!1;if(Array.isArray(t)){const b=t;_=b[1],(null===_||ki(b,_)>0)&&(m=!0)}else _=t;if(i)if(0!==d){const E=fs(n[f+1]);n[r+1]=Yp(E,f),0!==E&&(n[E+1]=Vy(n[E+1],r)),n[f+1]=function(n,e){return 131071&n|e<<17}(n[f+1],r)}else n[r+1]=Yp(f,0),0!==f&&(n[f+1]=Vy(n[f+1],r)),f=r;else n[r+1]=Yp(d,0),0===f?f=r:n[d+1]=Vy(n[d+1],r),d=r;m&&(n[r+1]=ky(n[r+1])),rC(n,_,r,!0),rC(n,_,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ki(s,e)>=0&&(t[r+1]=Ly(t[r+1]))}(e,_,n,r,s),c=Yp(f,d),s?e.classBindings=c:e.styleBindings=c}(i,s,e,t,c,r)}}(s,n,c,r),e!==gt&&oi(i,c,e)&&function(n,e,t,r,i,s,c,f){if(!(3&e.type))return;const d=n.data,m=d[f+1];ug(function(n){return 1==(1&n)}(m)?gC(d,e,t,i,Pa(m),c):void 0)||(ug(s)||function(n){return 2==(2&n)}(m)&&(s=gC(d,null,t,i,f,c)),function(n,e,t,r,i){const s=x(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let c=-1===r.indexOf("-")?void 0:eo.DashCase;if(null==i)s?n.removeStyle(t,r,c):t.style.removeProperty(r);else{const f="string"==typeof i&&i.endsWith("!important");f&&(i=i.slice(0,-10),c|=eo.Important),s?n.setStyle(t,r,i,c):t.style.setProperty(r,i,f?"important":"")}}}(r,c,Nr(vr(),t),i,s))}(s,s.data[vr()],i,i[11],n,i[c+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Xe(ii(n)))),n}(e,t),r,c)}(n,e,null,!0),ag}function __(n,e,t,r,i){let s=null;const c=t.directiveEnd;let f=t.directiveStylingLast;for(-1===f?f=t.directiveStart:f++;f<c&&(s=e[f],r=Zh(r,s.hostAttrs,i),s!==n);)f++;return null!==n&&(t.directiveStylingLast=f),r}function Zh(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const c=e[s];"number"==typeof c?i=c:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),wi(n,c,!!t||e[++s]))}return void 0===n?null:n}function gC(n,e,t,r,i,s){const c=null===e;let f;for(;i>0;){const d=n[i],m=Array.isArray(d),_=m?d[1]:d,b=null===_;let E=t[i+1];E===gt&&(E=b?Mt:void 0);let I=b?wc(E,r):_===r?E:void 0;if(m&&!ug(I)&&(I=wc(d,r)),ug(I)&&(f=I,c))return f;const M=n[i+1];i=c?fs(M):Pa(M)}if(null!==e){let d=s?e.residualClasses:e.residualStyles;null!=d&&(f=wc(d,r))}return f}function ug(n){return void 0!==n}function Fe(n,e=""){const t=he(),r=Ft(),i=n+20,s=r.firstCreatePass?ql(r,i,1,e,null):r.data[i],c=t[i]=function(n,e){return x(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Qp(r,t,c,s),Kt(s,!1)}function v_(n){return lf("",n,""),v_}function lf(n,e,t){const r=he(),i=function(n,e,t,r){return oi(n,Ns(),t)?e+xe(t)+r:gt}(r,n,e,t);return i!==gt&&ka(r,vr(),i),lf}function w_(n,e,t){const r=he();return oi(r,Ns(),e)&&no(Ft(),Mn(),r,n,e,r[11],t,!0),w_}const Oc=void 0;var KO=["en",[["a","p"],["AM","PM"],Oc],[["AM","PM"],Oc,Oc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oc,"{1} 'at' {0}",Oc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let ff={};function kC(n){return n in ff||(ff[n]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[n]),ff[n]}var Oe=(()=>((Oe=Oe||{})[Oe.LocaleId=0]="LocaleId",Oe[Oe.DayPeriodsFormat=1]="DayPeriodsFormat",Oe[Oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Oe[Oe.DaysFormat=3]="DaysFormat",Oe[Oe.DaysStandalone=4]="DaysStandalone",Oe[Oe.MonthsFormat=5]="MonthsFormat",Oe[Oe.MonthsStandalone=6]="MonthsStandalone",Oe[Oe.Eras=7]="Eras",Oe[Oe.FirstDayOfWeek=8]="FirstDayOfWeek",Oe[Oe.WeekendRange=9]="WeekendRange",Oe[Oe.DateFormat=10]="DateFormat",Oe[Oe.TimeFormat=11]="TimeFormat",Oe[Oe.DateTimeFormat=12]="DateTimeFormat",Oe[Oe.NumberSymbols=13]="NumberSymbols",Oe[Oe.NumberFormats=14]="NumberFormats",Oe[Oe.CurrencyCode=15]="CurrencyCode",Oe[Oe.CurrencySymbol=16]="CurrencySymbol",Oe[Oe.CurrencyName=17]="CurrencyName",Oe[Oe.Currencies=18]="Currencies",Oe[Oe.Directionality=19]="Directionality",Oe[Oe.PluralCase=20]="PluralCase",Oe[Oe.ExtraData=21]="ExtraData",Oe))();const cg="en-US";let VC=cg;function b_(n){_n(n,"Expected localeId to be defined"),"string"==typeof n&&(VC=n.toLowerCase().replace(/_/g,"-"))}function D_(n,e,t,r,i){if(n=Be(n),Array.isArray(n))for(let s=0;s<n.length;s++)D_(n[s],e,t,r,i);else{const s=Ft(),c=he();let f=Yl(n)?n:Be(n.provide),d=tE(n);const m=Gn(),_=1048575&m.providerIndexes,b=m.directiveStart,E=m.providerIndexes>>20;if(Yl(n)||!n.multi){const I=new vi(d,i,ge),M=T_(f,e,i?_:_+E,b);-1===M?(bu(wu(m,c),s,f),I_(s,n,e.length),e.push(f),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(I),c.push(I)):(t[M]=I,c[M]=I)}else{const I=T_(f,e,_+E,b),M=T_(f,e,_,_+E),N=I>=0&&t[I],F=M>=0&&t[M];if(i&&!F||!i&&!N){bu(wu(m,c),s,f);const z=function(n,e,t,r,i){const s=new vi(n,t,ge);return s.multi=[],s.index=e,s.componentProviders=0,aD(s,i,r&&!t),s}(i?zR:qR,t.length,i,r,d);!i&&F&&(t[M].providerFactory=z),I_(s,n,e.length,0),e.push(f),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(z),c.push(z)}else I_(s,n,I>-1?I:M,aD(t[i?M:I],d,!i&&r));!i&&r&&F&&t[M].componentProviders++}}}function I_(n,e,t,r){const i=Yl(e);if(i||function(n){return!!n.useClass}(e)){const c=(e.useClass||e).prototype.ngOnDestroy;if(c){const f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=f.indexOf(t);-1===d?f.push(t,[r,c]):f[d+1].push(r,c)}else f.push(t,c)}}}function aD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function T_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qR(n,e,t,r){return S_(this.multi,[])}function zR(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,f=gc(t,t[1],this.providerFactory.index,r);s=f.slice(0,c),S_(i,s);for(let d=c;d<f.length;d++)s.push(f[d])}else s=[],S_(i,s);return s}function S_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function On(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=Ft();if(r.firstCreatePass){const i=xr(n);D_(t,r.data,r.blueprint,i,!0),D_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class uD{}const lD="ngComponent";class KR{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Xe(n)}. Did you add it to @NgModule.entryComponents?`);return e[lD]=n,e}(e)}}class Nu{}function pg(...n){}function df(n,e){return new Rr(hn(n,e))}Nu.NULL=new KR;const XR=function(){return df(Gn(),he())};let Rr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=XR,n})();class gg{}let La=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>eP(),n})();const eP=function(){const n=he(),t=en(Gn().index,n);return function(n){return n[11]}(yi(t)?t:n)};let x_=(()=>{class n{}return n.\u0275prov=tt({token:n,providedIn:"root",factory:()=>null}),n})();class pf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const M_=new pf("12.2.3");class hD{constructor(){}supports(e){return Qh(e)}create(e){return new iP(e)}}const rP=(n,e)=>e;class iP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rP}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const c=!r||t&&t.currentIndex<pD(r,i,s)?t:r,f=pD(c,i,s),d=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(t=t._next,null==c.previousIndex)i++;else{s||(s=[]);const m=f-i,_=d-i;if(m!=_){for(let E=0;E<m;E++){const I=E<s.length?s[E]:s[E]=0,M=I+E;_<=M&&M<m&&(s[E]=I+1)}s[c.previousIndex]=_-m}}f!==d&&e(c,f,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Qh(e))throw new Error(`Error trying to diff '${Xe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,c,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let f=0;f<this.length;f++)s=e[f],c=this._trackByFn(f,s),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,s,c,f)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,c,f),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Zl()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,f=>{c=this._trackByFn(i,f),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,f,c,i)),Object.is(t.item,f)||this._addIdentityChange(t,f)):(t=this._mismatch(t,f,c,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new oP(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new dD),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dD),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oP{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class dD{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new sP,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pD(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class gD{constructor(){}supports(e){return e instanceof Map||c_(e)}create(){return new aP}}class aP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||c_(e)))throw new Error(`Error trying to diff '${Xe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new uP(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class uP{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mD(){return new nd([new hD])}let nd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||mD()),deps:[[n,new Li,new Gr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=tt({token:n,providedIn:"root",factory:mD}),n})();function yD(){return new gf([new gD])}let gf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||yD()),deps:[[n,new Li,new Gr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=tt({token:n,providedIn:"root",factory:yD}),n})();function mg(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ge(s)),ar(s))for(let f=10;f<s.length;f++){const d=s[f],m=d[1].firstChild;null!==m&&mg(d[1],d,m,r)}const c=t.type;if(8&c)mg(n,e,t.child,r);else if(32&c){const f=Iy(t,e);let d;for(;d=f();)r.push(d)}else if(16&c){const f=hb(e,t);if(Array.isArray(f))r.push(...f);else{const d=Bh(e[16]);mg(d[1],d,f,r,!0)}}t=i?t.projectionNext:t.next}return r}class rd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return mg(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ar(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(My(e,r),Aa(t,r))}this._attachedToViewContainer=!1}rb(this._lView[1],this._lView)}onDestroy(e){!function(n,e,t,r){const i=Wb(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Qb(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Ri(!0);try{Jy(n,e,t)}finally{Ri(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Hh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class lP extends rd{constructor(e){super(e),this._view=e}detectChanges(){zb(this._view)}checkNoChanges(){!function(n){Ri(!0);try{zb(n)}finally{Ri(!1)}}(this._view)}get context(){return null}}const hP=function(n){return function(n,e,t){if(wo(n)&&!t){const r=en(n.index,e);return new rd(r,r)}return 47&n.type?new rd(e[16],e):null}(Gn(),he(),16==(16&n))};let N_=(()=>{class n{}return n.__NG_ELEMENT_ID__=hP,n})();const gP=[new gD],yP=new nd([new hD]),_P=new gf(gP),wP=function(){return function(n,e){return 4&n.type?new EP(e,n,df(n,e)):null}(Gn(),he())};let ja=(()=>{class n{}return n.__NG_ELEMENT_ID__=wP,n})();const bP=ja,EP=class extends bP{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=$h(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Gh(t,r,e),new rd(r)}};class Qs{}class _D{}const IP=function(){return function(n,e){let t;const r=e[n.index];if(ar(r))t=r;else{let i;if(8&n.type)i=Ge(r);else{const s=e[11];i=s.createComment("");const c=hn(n,e);Mc(s,Wp(s,c),i,function(n,e){return x(n)?n.nextSibling(e):e.nextSibling}(s,c),!1)}e[n.index]=t=qb(r,e,i,n),eg(e,t)}return new vD(t,n,e)}(Gn(),he())};let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=IP,n})();const SP=ms,vD=class extends SP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return df(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const e=xo(this._hostTNode,this._hostLView);if(lp(e)){const t=_u(e,this._hostLView),r=os(e);return new Mo(t[1].data[r+8],t)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wD(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const c=r||this.parentInjector;if(!s&&null==e.ngModule&&c){const d=c.get(Qs,null);d&&(s=d)}const f=e.create(c,i,void 0,s);return this.insert(f.hostView,t),f}insert(e,t){const r=e._lView,i=r[1];if(function(n){return ar(n[3])}(r)){const _=this.indexOf(e);if(-1!==_)this.detach(_);else{const b=r[3],E=new vD(b,b[6],b[3]);E.detach(E.indexOf(e))}}const s=this._adjustIndex(t),c=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],_c(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const c=e[17];null!==c&&t!==c&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(c,e);const f=e[19];null!==f&&f.insertView(n),e[2]|=128}(i,r,c,s);const f=Ry(s,c),d=r[11],m=Wp(d,c[7]);return null!==m&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Hh(n,r,t,1,i,s)}(i,c[6],d,r,m,f),e.attachToViewContainerRef(),_c(O_(c),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wD(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=My(this._lContainer,t);r&&(Aa(O_(this._lContainer),t),rb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=My(this._lContainer,t);return r&&null!=Aa(O_(this._lContainer),t)?new rd(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function wD(n){return n[8]}function O_(n){return n[8]||(n[8]=[])}const vf={};class BD extends Nu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=un(e);return new $D(t,this.ngModule)}}function HD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const CF=new pt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kw});class $D extends uD{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(dM).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return HD(this.componentDef.inputs)}get outputs(){return HD(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,vf,i);return s!==vf||r===vf?s:e.get(t,r,i)}}}(e,i.injector):e,c=s.get(gg,ee),f=s.get(x_,null),d=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function(n,e,t){if(x(n))return n.selectRootElement(e,t===vn.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(d,r,this.componentDef.encapsulation):xy(c.createRenderer(null,this.componentDef),m,function(n){const e=n.toLowerCase();return"svg"===e?ac:"math"===e?"http://www.w3.org/1998/MathML/":null}(m)),b=this.componentDef.onPush?576:528,E=function(n,e){return{components:[],scheduler:n||Kw,clean:ZM,playerHandler:e||null,flags:0}}(),I=Jp(0,null,null,1,0,null,null,null,null,null),M=$h(null,I,E,b,null,null,c,d,f,s);let N,F;fc(M);try{const z=function(n,e,t,r,i,s){const c=t[1];t[20]=n;const d=ql(c,20,2,"#host",null),m=d.mergedAttrs=e.hostAttrs;null!==m&&(tg(d,m,!0),null!==n&&(yu(i,n,m),null!==d.classes&&Fy(i,n,d.classes),null!==d.styles&&gb(i,n,d.styles)));const _=r.createRenderer(n,e),b=$h(t,Pb(e),null,e.onPush?64:16,t[20],d,r,_,s||null,null);return c.firstCreatePass&&(bu(wu(d,t),c,e.type),Hb(c,d),$b(d,t.length,1)),eg(t,b),t[20]=b}(_,this.componentDef,M,c,d);if(_)if(r)yu(d,_,["ng-version",M_.full]);else{const{attrs:q,classes:re}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ls(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);q&&yu(d,_,q),re&&re.length>0&&Fy(d,_,re.join(" "))}if(F=To(I,20),void 0!==t){const q=F.projection=[];for(let re=0;re<this.ngContentSelectors.length;re++){const ce=t[re];q.push(null!=ce?Array.from(ce):null)}}N=function(n,e,t,r,i){const s=t[1],c=function(n,e,t){const r=Gn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Gb(n,r,e,zl(n,e,1,null),t));const i=gc(e,n,r.directiveStart,r);Dn(i,e);const s=hn(r,e);return s&&Dn(s,e),i}(s,t,e);if(r.components.push(c),n[8]=c,i&&i.forEach(d=>d(c,e)),e.contentQueries){const d=Gn();e.contentQueries(1,c,d.directiveStart)}const f=Gn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Rs(f.index),Ub(t[1],f,0,f.directiveStart,f.directiveEnd,e),Bb(e,c)),c}(z,this.componentDef,M,E,[CN]),Gh(I,M,null)}finally{Ea()}return new TF(this.componentType,N,df(F,M),M,F)}}class TF extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new lP(i),this.componentType=e}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const wf=new Map;class xF extends Qs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new BD(this);const r=Fn(e),i=function(n){return n[iu]||null}(e);i&&b_(i),this._bootstrapComponents=Bs(r.bootstrap),this._r3Injector=eE(e,t,[{provide:Qs,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],Xe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=$t.THROW_IF_NOT_FOUND,r=qe.Default){return e===$t||e===Qs||e===Ql?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class q_ extends _D{constructor(e){super(),this.moduleType=e,null!==Fn(e)&&function(n){const e=new Set;!function t(r){const i=Fn(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Xe(e)} vs ${Xe(e.name)}`)}(s,wf.get(s),r),wf.set(s,r));const c=Bs(i.imports);for(const f of c)e.has(f)||(e.add(f),t(f))}(n)}(e)}create(e){return new xF(this.moduleType,e)}}function z_(n){return e=>{setTimeout(n,void 0,e)}}const Dr=class extends V{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,c;let f=e,d=t||(()=>null),m=r;if(e&&"object"==typeof e){const b=e;f=null===(i=b.next)||void 0===i?void 0:i.bind(b),d=null===(s=b.error)||void 0===s?void 0:s.bind(b),m=null===(c=b.complete)||void 0===c?void 0:c.bind(b)}this.__isAsync&&(d=z_(d),f&&(f=z_(f)),m&&(m=z_(m)));const _=super.subscribe({next:f,error:d,complete:m});return e instanceof H&&e.add(_),_}};Symbol;const gd=new pt("Application Initializer");let Ef=(()=>{class n{constructor(t){this.appInits=t,this.resolve=pg,this.reject=pg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Yh(s))t.push(s);else if(sg(s)){const c=new Promise((f,d)=>{s.subscribe({complete:f,error:d})});t.push(c)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(_e(gd,8))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const md=new pt("AppId"),Nk={provide:md,useFactory:function(){return`${sv()}${sv()}${sv()}`},deps:[]};function sv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const v1=new pt("Platform Initializer"),Ru=new pt("Platform ID"),w1=new pt("appBootstrapListener");let Ig=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const Pu=new pt("LocaleId"),b1=new pt("DefaultCurrencyCode");class Rk{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const av=function(n){return new q_(n)},Pk=av,Fk=function(n){return Promise.resolve(av(n))},E1=function(n){const e=av(n),r=Bs(Fn(n).declarations).reduce((i,s)=>{const c=un(s);return c&&i.push(new $D(c)),i},[]);return new Rk(e,r)},kk=E1,Vk=function(n){return Promise.resolve(E1(n))};let Fc=(()=>{class n{constructor(){this.compileModuleSync=Pk,this.compileModuleAsync=Fk,this.compileModuleAndAllComponentsSync=kk,this.compileModuleAndAllComponentsAsync=Vk}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const Uk=(()=>Promise.resolve(0))();function uv(n){"undefined"==typeof Zone?Uk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Tn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dr(!1),this.onMicrotaskEmpty=new Dr(!1),this.onStable=new Dr(!1),this.onError=new Dr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=wt.requestAnimationFrame,e=wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,lv(n),n.isCheckStableRunning=!0,cv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),lv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,c,f)=>{try{return C1(n),t.invokeTask(i,s,c,f)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),D1(n)}},onInvoke:(t,r,i,s,c,f,d)=>{try{return C1(n),t.invoke(i,s,c,f,d)}finally{n.shouldCoalesceRunChangeDetection&&e(),D1(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,lv(n),cv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,e,Hk,pg,pg);try{return s.runTask(c,t,r)}finally{s.cancelTask(c)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Hk={};function cv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function lv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function C1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function D1(n){n._nesting--,cv(n)}class qk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dr,this.onMicrotaskEmpty=new Dr,this.onStable=new Dr,this.onError=new Dr}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let fv=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tn.assertNotInAngularZone(),uv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(_e(Tn))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),I1=(()=>{class n{constructor(){this._applications=new Map,hv.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return hv.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();class zk{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let hv=new zk,T1=!0,S1=!1;let vs;const x1=new pt("AllowMultipleToken");class dv{constructor(e,t){this.name=e,this.token=t}}function M1(n,e,t=[]){const r=`Platform: ${e}`,i=new pt(r);return(s=[])=>{let c=N1();if(!c||c.injector.get(x1,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const f=t.concat(s).concat({provide:i,useValue:!0},{provide:qh,useValue:"platform"});!function(n){if(vs&&!vs.destroyed&&!vs.injector.get(x1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vs=n.get(O1);const e=n.get(v1,null);e&&e.forEach(t=>t())}($t.create({providers:f,name:r}))}return function(n){const e=N1();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function N1(){return vs&&!vs.destroyed?vs:null}let O1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const f=function(n,e){let t;return t="noop"===n?new qk:("zone.js"===n?void 0:n)||new Tn({enableLongStackTrace:(S1=!0,T1),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),d=[{provide:Tn,useValue:f}];return f.run(()=>{const m=$t.create({providers:d,parent:this.injector,name:t.moduleType.name}),_=t.create(m),b=_.injector.get(xc,null);if(!b)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:I=>{b.handleError(I)}});_.onDestroy(()=>{pv(this._modules,_),E.unsubscribe()})}),function(n,e,t){try{const r=t();return Yh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(b,f,()=>{const E=_.injector.get(Ef);return E.runInitializers(),E.donePromise.then(()=>(b_(_.injector.get(Pu,cg)||cg),this._moduleDoBootstrap(_),_))})})}bootstrapModule(t,r=[]){const i=R1({},r);return function(n,e,t){const r=new q_(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Cf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Xe(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(_e($t))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();function R1(n,e){return Array.isArray(e)?e.reduce(R1,n):Object.assign(Object.assign({},n),e)}let Cf=(()=>{class n{constructor(t,r,i,s,c){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new Ke(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),d=new Ke(m=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{Tn.assertNotInAngularZone(),uv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Tn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{_.unsubscribe(),b.unsubscribe()}});this.isStable=function(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return O(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof Ke?n[0]:et(e)(hi(n,t))}(f,d.pipe(n=>W()(function(n,e){return function(r){let i;i="function"==typeof n?n:function(){return n};const s=Object.create(r,Le);return s.source=r,s.subjectFactory=i,s}}(Wn)(n))))}bootstrap(t,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof uD?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Qs),f=i.create($t.NULL,[],r||i.selector,s),d=f.location.nativeElement,m=f.injector.get(fv,null),_=m&&f.injector.get(I1);return m&&_&&_.registerApplication(d,m),f.onDestroy(()=>{this.detachView(f.hostView),pv(this.components,f),_&&_.unregisterApplication(d)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(w1,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(_e(Tn),_e($t),_e(xc),_e(Nu),_e(Ef))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();function pv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Sg{}class aV{}const uV={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cV=(()=>{class n{constructor(t,r){this._compiler=t,this._config=r||uV}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[r,i]=t.split("#");return void 0===i&&(i="default"),nt(255)(r).then(s=>s[i]).then(s=>V1(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[r,i]=t.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),nt(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(c=>c[i+s]).then(c=>V1(c,r,i))}}return n.\u0275fac=function(t){return new(t||n)(_e(Fc),_e(aV,8))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();function V1(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const vV=M1(null,"core",[{provide:Ru,useValue:"unknown"},{provide:O1,deps:[$t]},{provide:I1,deps:[]},{provide:Ig,deps:[]}]),DV=[{provide:Cf,useClass:Cf,deps:[Tn,$t,xc,Nu,Ef]},{provide:CF,deps:[Tn],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ef,useClass:Ef,deps:[[new Gr,gd]]},{provide:Fc,useClass:Fc,deps:[]},Nk,{provide:nd,useFactory:function(){return yP},deps:[]},{provide:gf,useFactory:function(){return _P},deps:[]},{provide:Pu,useFactory:function(n){return b_(n=n||"undefined"!=typeof $localize&&$localize.locale||cg),n},deps:[[new Vi(Pu),new Gr,new Li]]},{provide:b1,useValue:"USD"}];let TV=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(_e(Cf))},n.\u0275mod=mr({type:n}),n.\u0275inj=an({providers:DV}),n})(),Vg=null;function Ks(){return Vg}const qr=new pt("DocumentToken");let Lc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({factory:IL,token:n,providedIn:"platform"}),n})();function IL(){return _e(aI)}const TL=new pt("Location Initialized");let aI=(()=>{class n extends Lc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ks().getBaseHref(this._doc)}onPopState(t){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ks().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){uI()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){uI()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(_e(qr))},n.\u0275prov=tt({factory:SL,token:n,providedIn:"platform"}),n})();function uI(){return!!window.history.pushState}function SL(){return new aI(_e(qr))}function xv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cI(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ba(n){return n&&"?"!==n[0]?"?"+n:n}let Tf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({factory:AL,token:n,providedIn:"root"}),n})();function AL(n){const e=_e(qr).location;return new lI(_e(Lc),e&&e.origin||"")}const Mv=new pt("appBaseHref");let lI=(()=>{class n extends Tf{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xv(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ba(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Ba(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Ba(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(_e(Lc),_e(Mv,8))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),xL=(()=>{class n extends Tf{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Ba(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Ba(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(_e(Lc),_e(Mv,8))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),Lg=(()=>{class n{constructor(t,r){this._subject=new Dr,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=cI(fI(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ba(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,fI(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ba(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ba(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.\u0275fac=function(t){return new(t||n)(_e(Tf),_e(Lc))},n.normalizeQueryParams=Ba,n.joinWithSlash=xv,n.stripTrailingSlash=cI,n.\u0275prov=tt({factory:ML,token:n,providedIn:"root"}),n})();function ML(){return new Lg(_e(Tf),_e(Lc))}function fI(n){return n.replace(/\/index.html$/,"")}var cr=(()=>((cr=cr||{})[cr.Zero=0]="Zero",cr[cr.One=1]="One",cr[cr.Two=2]="Two",cr[cr.Few=3]="Few",cr[cr.Many=4]="Many",cr[cr.Other=5]="Other",cr))();const LL=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=kC(e);if(t)return t;const r=e.split("-")[0];if(t=kC(r),t)return t;if("en"===r)return KO;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Oe.PluralCase]};class Qg{}let d2=(()=>{class n extends Qg{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(LL(r||this.locale)(t)){case cr.Zero:return"zero";case cr.One:return"one";case cr.Two:return"two";case cr.Few:return"few";case cr.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(_e(Pu))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),bI=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new w2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){EI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){EI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(ge(ms),ge(ja))},n.\u0275dir=Ye({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class w2{constructor(){this.$implicit=null,this.ngIf=null}}function EI(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xe(e)}'.`)}let z2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n}),n.\u0275inj=an({providers:[{provide:Qg,useClass:d2}]}),n})();function TI(n){return"server"===n}let SI=(()=>{class n{}return n.\u0275prov=tt({token:n,providedIn:"root",factory:()=>new Y2(_e(qr),window)}),n})();class Y2{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=AI(this.window.history)||AI(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function AI(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $v extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Vg||(Vg=n)}(new $v)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Cd=Cd||document.querySelector("base"),Cd?Cd.getAttribute("href"):null);return null==t?null:function(n){Kg=Kg||document.createElement("a"),Kg.setAttribute("href",n);const e=Kg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Kg,Cd=null;const xI=new pt("TRANSITION_ID"),rj=[{provide:gd,useFactory:function(n,e,t){return()=>{t.get(Ef).donePromise.then(()=>{const r=Ks(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[xI,qr,$t],multi:!0}];class Gv{static init(){!function(n){hv=n}(new Gv)}addToWindow(e){wt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),wt.getAllAngularRootElements=()=>e.getAllRootElements(),wt.frameworkStabilizers||(wt.frameworkStabilizers=[]),wt.frameworkStabilizers.push(r=>{const i=wt.getAllAngularTestabilities();let s=i.length,c=!1;const f=function(d){c=c||d,s--,0==s&&r(c)};i.forEach(function(d){d.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ks().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ij=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const Dd=new pt("EventManagerPlugins");let Zg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const c=i[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(_e(Dd),_e(Tn))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();class qv{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ks().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let NI=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),Id=(()=>{class n extends NI{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(OI),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(OI))}}return n.\u0275fac=function(t){return new(t||n)(_e(qr))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();function OI(n){Ks().remove(n)}const zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wv=/%COMP%/g;function Xg(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xg(n,i,t):(i=i.replace(Wv,n),t.push(i))}return t}function FI(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qv=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Kv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case vn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new vj(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case vn.ShadowDom:return new wj(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xg(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(_e(Zg),_e(Id),_e(md))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();class Kv{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(zv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=zv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=zv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(eo.DashCase|eo.Important)?e.style.setProperty(t,r,i&eo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&eo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,FI(r)):this.eventManager.addEventListener(e,t,FI(r))}}class vj extends Kv{constructor(e,t,r,i){super(e),this.component=r;const s=Xg(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Wv,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Wv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wj extends Kv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Xg(i.id,i.styles,[]);for(let c=0;c<s.length;c++){const f=document.createElement("style");f.textContent=s[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bj=(()=>{class n extends qv{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_e(qr))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const LI=["alt","control","meta","shift"],Aj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Mj=(()=>{class n extends qv{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ks().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="";if(LI.forEach(d=>{const m=r.indexOf(d);m>-1&&(r.splice(m,1),c+=d+".")}),c+=s,0!=r.length||0===s.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&jI.hasOwnProperty(e)&&(e=jI[e]))}return Aj[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),LI.forEach(s=>{s!=i&&xj[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(_e(qr))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const Lj=M1(vV,"browser",[{provide:Ru,useValue:"browser"},{provide:v1,useValue:function(){$v.makeCurrent(),Gv.init()},multi:!0},{provide:qr,useFactory:function(){return function(n){lu=n}(document),document},deps:[]}]),jj=[[],{provide:qh,useValue:"root"},{provide:xc,useFactory:function(){return new xc},deps:[]},{provide:Dd,useClass:bj,multi:!0,deps:[qr,Tn,Ru]},{provide:Dd,useClass:Mj,multi:!0,deps:[qr]},[],{provide:Qv,useClass:Qv,deps:[Zg,Id,md]},{provide:gg,useExisting:Qv},{provide:NI,useExisting:Id},{provide:Id,useClass:Id,deps:[qr]},{provide:fv,useClass:fv,deps:[Tn]},{provide:Zg,useClass:Zg,deps:[Dd,Tn]},{provide:class{},useClass:ij,deps:[]},[]];let Uj=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:md,useValue:t.appId},{provide:xI,useExisting:md},rj]}}}return n.\u0275fac=function(t){return new(t||n)(_e(n,12))},n.\u0275mod=mr({type:n}),n.\u0275inj=an({providers:jj,imports:[z2,TV]}),n})();function Jg(n,e){return new Ke(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,c=0;for(let f=0;f<r;f++){const d=Ze(n[f]);let m=!1;t.add(d.subscribe({next:_=>{m||(m=!0,c++),i[f]=_},error:_=>t.error(_),complete:()=>{s++,(s===r||!m)&&(c===r&&t.next(e?e.reduce((_,b,E)=>(_[b]=i[E],_),{}):i),t.complete())}}))}})}"undefined"!=typeof window&&window;let BI=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(ge(La),ge(Rr))},n.\u0275dir=Ye({type:n}),n})(),jc=(()=>{class n extends BI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=br(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,features:[In]}),n})();const Ys=new pt("NgValueAccessor"),Yj={provide:Ys,useExisting:Wt(()=>Td),multi:!0},Xj=new pt("CompositionEventMode");let Td=(()=>{class n extends BI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Ks()?Ks().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(ge(La),ge(Rr),ge(Xj,8))},n.\u0275dir=Ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Nn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[On([Yj]),In]}),n})();const ui=new pt("NgValidators"),Lu=new pt("NgAsyncValidators");function XI(n){return null!=n}function JI(n){const e=Yh(n)?Ze(n):n;return sg(e),e}function eT(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tT(n,e){return e.map(t=>t(n))}function nT(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function e0(n){return null!=n?function(n){if(!n)return null;const e=n.filter(XI);return 0==e.length?null:function(t){return eT(tT(t,e))}}(nT(n)):null}function t0(n){return null!=n?function(n){if(!n)return null;const e=n.filter(XI);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if(qt(e))return Jg(e,null);if(Ne(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Jg(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Jg(n=1===n.length&&qt(n[0])?n[0]:n,null).pipe(G(t=>e(...t)))}return Jg(n,null)}(tT(t,e).map(JI)).pipe(G(eT))}}(nT(n)):null}function oT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function n0(n){return n?Array.isArray(n)?n:[n]:[]}function em(n,e){return Array.isArray(n)?n.includes(e):n===e}function uT(n,e){const t=n0(e);return n0(n).forEach(i=>{em(t,i)||t.push(i)}),t}function cT(n,e){return n0(e).filter(t=>!em(n,t))}let lT=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=e0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=t0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ye({type:n}),n})(),Ii=(()=>{class n extends lT{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=br(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,features:[In]}),n})();class Uu extends lT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fT{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let r0=(()=>{class n extends fT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ge(Uu,2))},n.\u0275dir=Ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&ag("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[In]}),n})(),hT=(()=>{class n extends fT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(ge(Ii,10))},n.\u0275dir=Ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&ag("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[In]}),n})();function Sd(n,e){i0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dT(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dT(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function rm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function i0(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(oT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(oT(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rm(e._rawValidators,i),rm(e._rawAsyncValidators,i)}function dT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function om(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ad="VALID",sm="INVALID",Sf="PENDING",xd="DISABLED";function a0(n){return(c0(n)?n.validators:n)||null}function mT(n){return Array.isArray(n)?e0(n):n||null}function u0(n,e){return(c0(e)?e.asyncValidators:n)||null}function yT(n){return Array.isArray(n)?t0(n):n||null}function c0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class l0{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=mT(this._rawValidators),this._composedAsyncValidatorFn=yT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ad}get invalid(){return this.status===sm}get pending(){return this.status==Sf}get disabled(){return this.status===xd}get enabled(){return this.status!==xd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=mT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=yT(e)}addValidators(e){this.setValidators(uT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cT(e,this._rawAsyncValidators))}hasValidator(e){return em(this._rawValidators,e)}hasAsyncValidator(e){return em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ad,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ad||this.status===Sf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xd:Ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sf,this._hasOwnPendingAsyncValidator=!0;const t=JI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof f0?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof lU&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Dr,this.statusChanges=new Dr}_calculateStatus(){return this._allControlsDisabled()?xd:this.errors?sm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sf)?Sf:this._anyControlsHaveStatus(sm)?sm:Ad}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){c0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class am extends l0{constructor(e=null,t,r){super(a0(t),u0(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){om(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){om(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class f0 extends l0{constructor(e,t,r){super(a0(t),u0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof am?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class lU extends l0{constructor(e,t,r){super(a0(t),u0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof am?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fU={provide:Ii,useExisting:Wt(()=>um)},Md=(()=>Promise.resolve(null))();let um=(()=>{class n extends Ii{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Dr,this.form=new f0({},e0(t),t0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Md.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Sd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Md.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),om(this._directives,t)})}addFormGroup(t){Md.then(()=>{const r=this._findContainer(t.path),i=new f0({});(function(n,e){i0(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Md.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Md.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(ge(ui,10),ge(Lu,10))},n.\u0275dir=Ye({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Nn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([fU]),In]}),n})();const dU={provide:Uu,useExisting:Wt(()=>cm)},wT=(()=>Promise.resolve(null))();let cm=(()=>{class n extends Uu{constructor(t,r,i,s){super(),this.control=new am,this._registered=!1,this.update=new Dr,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Td?t=s:function(n){return Object.getPrototypeOf(n.constructor)===jc}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;wT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(ge(Ii,9),ge(ui,10),ge(Lu,10),ge(Ys,10))},n.\u0275dir=Ye({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[On([dU]),In,Yn]}),n})(),bT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const pU={provide:Ys,useExisting:Wt(()=>h0),multi:!0};let h0=(()=>{class n extends jc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=br(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Nn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[On([pU]),In]}),n})(),ET=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n}),n.\u0275inj=an({}),n})();const NU={provide:ui,useExisting:Wt(()=>lm),multi:!0};let lm=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ye({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Gs("required",r.required?"":null)},inputs:{required:"required"},features:[On([NU])]}),n})(),jT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n}),n.\u0275inj=an({imports:[[ET]]}),n})(),VU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n}),n.\u0275inj=an({imports:[jT]}),n})();class LU extends H{constructor(e,t){super()}schedule(e,t=0){return this}}class v0 extends LU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let UT=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class Zs extends UT{constructor(e,t=UT.now){super(e,()=>Zs.delegate&&Zs.delegate!==this?Zs.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Zs.delegate&&Zs.delegate!==this?Zs.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const BT=new class extends Zs{}(class extends v0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),BU=BT,HT=new Zs(v0);function Bu(){}function Bi(n,e,t){return function(i){return i.lift(new HU(n,e,t))}}class HU{constructor(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}call(e,t){return t.subscribe(new $U(e,this.nextOrObserver,this.error,this.complete))}}class $U extends pe{constructor(e,t,r,i){super(e),this._tapNext=Bu,this._tapError=Bu,this._tapComplete=Bu,this._tapError=r||Bu,this._tapComplete=i||Bu,k(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Bu,this._tapError=t.error||Bu,this._tapComplete=t.complete||Bu)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}let GU=1;const qU=Promise.resolve(),fm={};function $T(n){return n in fm&&(delete fm[n],!0)}const GT={setImmediate(n){const e=GU++;return fm[e]=!0,qU.then(()=>$T(e)&&n()),e},clearImmediate(n){$T(n)}},w0=new class extends Zs{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,i=-1,s=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends v0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=GT.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(GT.clearImmediate(t),e.scheduled=void 0)}});class hm extends Ke{constructor(e,t=0,r=w0){super(),this.source=e,this.delayTime=t,this.scheduler=r,(!function(n){return!qt(n)&&n-parseFloat(n)+1>=0}(t)||t<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=w0)}static create(e,t=0,r=w0){return new hm(e,t,r)}static dispatch(e){const{source:t,subscriber:r}=e;return this.add(t.subscribe(r))}_subscribe(e){return this.scheduler.schedule(hm.dispatch,this.delayTime,{source:this.source,subscriber:e})}}class YU{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new hm(t,this.delay,this.scheduler).subscribe(e)}}const Af=new Ke(n=>n.complete());function dm(n){return n?function(n){return new Ke(e=>n.schedule(()=>e.complete()))}(n):Af}function ot(...n){let e=n[n.length-1];return O(e)?(n.pop(),hr(n,e)):hi(n)}class Ho{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return ot(this.value);case"E":return function(n,e){return new Ke(t=>t.error(n))}(this.error);case"C":return dm()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Ho("N",e):Ho.undefinedValueNotification}static createError(e){return new Ho("E",void 0,e)}static createComplete(){return Ho.completeNotification}}function Nd(n,e=0){return function(r){return r.lift(new eB(n,e))}}Ho.completeNotification=new Ho("C"),Ho.undefinedValueNotification=new Ho("N",void 0);class eB{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new pm(e,this.scheduler,this.delay))}}class pm extends pe{constructor(e,t,r=0){super(e),this.scheduler=t,this.delay=r}static dispatch(e){const{notification:t,destination:r}=e;t.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(pm.dispatch,this.delay,new tB(e,this.destination)))}_next(e){this.scheduleMessage(Ho.createNext(e))}_error(e){this.scheduleMessage(Ho.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Ho.createComplete()),this.unsubscribe()}}class tB{constructor(e,t){this.notification=e,this.destination=t}}var nB=nt(395),Od=nt.n(nB);function b0(){}class qT{constructor(e,t=BT){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class rB{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",b0,{},b0,b0)),t.pipe(Bi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class zT{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new qT(Zone.current)),this.insideAngular=e.run(()=>new qT(Zone.current,HT))}}function WT(n){return function(t){return(t=t.lift(new rB(n.ngZone))).pipe(function(n,e=0){return function(r){return r.lift(new YU(n,e))}}(n.outsideAngular),Nd(n.insideAngular))}}const iB=["ngOnDestroy"],xf=new pt("angularfire2.app.options"),Mf=new pt("angularfire2.app.nameOrConfig"),aB=new pf("6.0.4-canary.9a26fbe");function E0(n,e,t){const i="object"==typeof t&&t||{};return i.name=i.name||"string"==typeof t&&t||"[DEFAULT]",Od().apps.filter(c=>c&&c.name===i.name)[0]||e.runOutsideAngular(()=>Od().initializeApp(n,i))}const uB={provide:class{},useFactory:E0,deps:[xf,Tn,[new Gr,Mf]]};let cB=(()=>{class n{constructor(t){Od().registerVersion("angularfire",aB.full,t.toString()),Od().registerVersion("angular",M_.full)}static initializeApp(t,r){return{ngModule:n,providers:[{provide:xf,useValue:t},{provide:Mf,useValue:r}]}}}return n.\u0275fac=function(t){return new(t||n)(_e(Ru))},n.\u0275mod=mr({type:n}),n.\u0275inj=an({providers:[uB]}),n})();function Rd(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new lB(n,e,t))}}class lB{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new fB(e,this.accumulator,this.seed,this.hasSeed))}}class fB extends pe{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Hu(n,e){return function(r){return r.lift(new hB(n,e))}}class hB{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new dB(e,this.predicate,this.thisArg))}}class dB extends pe{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function QT(n,e){return function(n,e=HT){return new Ke(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot(t)}):r=n.onSnapshot(t),()=>{null!=r&&r()}})}(n,e)}function gm(n,e){return QT(n,e).pipe(G(t=>({payload:t,type:"query"})))}function mm(n,e){return gm(n,e).pipe(G(t=>t.payload.docChanges().map(r=>({type:r.type,payload:r}))))}function KT(n,e,t){return gm(n,t).pipe(G(r=>r.payload.docChanges()),Rd((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)||n.splice(e.newIndex,0,e);break;case"modified":(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e)):n.splice(e.newIndex,1,e));break;case"removed":n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&n.splice(e.oldIndex,1)}return n}(n,r))}),n}(r,i,e),[]),G(r=>r.map(i=>({type:i.type,payload:i}))))}function YT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}nt(910);class ZT{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){return e&&0!==e.length?mm(this.query,this.afs.schedulers.outsideAngular).pipe(G(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hu(t=>t.length>0),this.afs.keepUnstableUntilFirst):mm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Rd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=YT(e);return KT(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return gm(this.query,this.afs.schedulers.outsideAngular).pipe(G(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),this.afs.keepUnstableUntilFirst)}get(e){return Ze(this.query.get(e)).pipe(Nd(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new XT(this.ref.doc(e),this.afs)}}class XT{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=tS(r,t);return new ZT(i,s,this.afs)}snapshotChanges(){return function(n,e){return QT(n,e).pipe(G(t=>({payload:t,type:"value"})))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(G(e=>e.payload.data()))}get(e){return Ze(this.ref.get(e)).pipe(Nd(this.afs.schedulers.insideAngular))}}class _B{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mm(this.query,this.afs.schedulers.outsideAngular).pipe(G(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hu(t=>t.length>0),this.afs.keepUnstableUntilFirst):mm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Rd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=YT(e);return KT(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return gm(this.query,this.afs.schedulers.outsideAngular).pipe(G(t=>t.payload.docs.map(r=>r.data())),this.afs.keepUnstableUntilFirst)}get(e){return Ze(this.query.get(e)).pipe(Nd(this.afs.schedulers.insideAngular))}}const JT=nt(910),C0=new pt("angularfire2.enableFirestorePersistence"),D0=new pt("angularfire2.firestore.persistenceSettings"),eS=new pt("angularfire2.firestore.settings");function tS(n,e=(t=>t)){return{query:e(n),ref:n}}let vB=(()=>{class n{constructor(t,r,i,s,c,f,d){this.schedulers=new zT(f),this.keepUnstableUntilFirst=WT(this.schedulers),this.firestore=f.runOutsideAngular(()=>{const m=E0(t,f,r);"registerFirestore"in JT&&JT.registerFirestore(Od());const _=m.firestore();return s&&_.settings(s),_}),this.persistenceEnabled$=i&&!TI(c)?f.runOutsideAngular(()=>{try{return Ze(this.firestore.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(_){return ot(!1)}}):ot(!1)}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=tS(i,r),f=this.schedulers.ngZone.run(()=>s);return new ZT(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),s=this.firestore.collectionGroup(t);return new _B(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new XT(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(_e(xf),_e(Mf,8),_e(C0,8),_e(eS,8),_e(Ru),_e(Tn),_e(D0,8))},n.\u0275prov=tt({factory:function(){return new n(_e(xf),_e(Mf,8),_e(C0,8),_e(eS,8),_e(Ru),_e(Tn),_e(D0,8))},token:n,providedIn:"any"}),n})(),wB=(()=>{class n{static enablePersistence(t){return{ngModule:n,providers:[{provide:C0,useValue:!0},{provide:D0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n}),n.\u0275inj=an({providers:[vB]}),n})();class Ds extends V{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}next(e){super.next(this._value=e)}}class bB extends pe{notifyNext(e,t,r,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class EB extends pe{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function CB(n,e,t,r,i=new EB(n,t,r)){if(!i.closed)return e instanceof Ke?e.subscribe(i):Pn(e)(i)}const nS={};class IB{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new TB(e,this.resultSelector))}}class TB extends bB{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(nS),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(CB(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,c=this.toRespond?i[r]===nS?--this.toRespond:this.toRespond:0;i[r]=t,0===c&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const ym=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function I0(...n){return et(1)(ot(...n))}function rS(n){return new Ke(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?Ze(t):dm()).subscribe(e)})}function Ti(n,e){return"function"==typeof e?t=>t.pipe(Ti((r,i)=>Ze(n(r,i)).pipe(G((s,c)=>e(r,s,i,c))))):t=>t.lift(new AB(n))}class AB{constructor(e){this.project=e}call(e,t){return t.subscribe(new xB(e,this.project))}}class xB extends Bn{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new _t(this),i=this.destination;i.add(r),this.innerSubscription=Hn(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const iS=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function T0(n){return e=>0===n?dm():e.lift(new MB(n))}class MB{constructor(e){if(this.total=e,this.total<0)throw new iS}call(e,t){return t.subscribe(new NB(e,this.total))}}class NB extends pe{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Uc(n){return function(t){const r=new RB(n),i=t.lift(r);return r.caught=i}}class RB{constructor(e){this.selector=e}call(e,t){return t.subscribe(new PB(e,this.selector,this.caught))}}class PB extends Bn{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new _t(this);this.add(r);const i=Hn(t,r);i!==r&&this.add(i)}}}function Pd(n,e){return Jt(n,e,1)}function S0(n){return function(t){return 0===n?dm():t.lift(new FB(n))}}class FB{constructor(e){if(this.total=e,this.total<0)throw new iS}call(e,t){return t.subscribe(new kB(e,this.total))}}class kB extends pe{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const c=t++%r;e.next(i[c])}}e.complete()}}function oS(n=jB){return e=>e.lift(new VB(n))}class VB{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new LB(e,this.errorFactory))}}class LB extends pe{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function jB(){return new ym}function sS(n=null){return e=>e.lift(new UB(n))}class UB{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new BB(e,this.defaultValue))}}class BB extends pe{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Bc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hu((i,s)=>n(i,s,r)):de,T0(1),t?sS(e):oS(()=>new ym))}class GB{constructor(e){this.callback=e}call(e,t){return t.subscribe(new qB(e,this.callback))}}class qB extends pe{constructor(e,t){super(e),this.add(new H(t))}}class $a{constructor(e,t){this.id=e,this.url=t}}class A0 extends $a{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fd extends $a{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class aS extends $a{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zB extends $a{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WB extends $a{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QB extends $a{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KB extends $a{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YB extends $a{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZB extends $a{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uS{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cS{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XB{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JB{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e3{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t3{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lS{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class n3{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Nf(n){return new n3(n)}const fS="ngNavigationCancelingError";function x0(n){const e=Error("NavigationCancelingError: "+n);return e[fS]=!0,e}function i3(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],f=n[s];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!hS(n[i],e[i]))return!1;return!0}function hS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function dS(n){return Array.prototype.concat.apply([],n)}function pS(n){return n.length>0?n[n.length-1]:null}function zr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Js(n){return sg(n)?n:Yh(n)?Ze(Promise.resolve(n)):ot(n)}const a3={exact:function yS(n,e,t){if(!$c(n.segments,e.segments)||!_m(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!yS(n.children[r],e.children[r],t))return!1;return!0},subset:_S},gS={exact:function(n,e){return Xs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hS(n[t],e[t]))},ignored:()=>!0};function mS(n,e,t){return a3[t.paths](n.root,e.root,t.matrixParams)&&gS[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _S(n,e,t){return vS(n,e,e.segments,t)}function vS(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!$c(i,t)||e.hasChildren()||!_m(i,t,r))}if(n.segments.length===t.length){if(!$c(n.segments,t)||!_m(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!_S(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!($c(n.segments,i)&&_m(n.segments,i,r)&&n.children[Rt])&&vS(n.children[Rt],e,s,r)}}function _m(n,e,t){return e.every((r,i)=>gS[t](n[i].parameters,r.parameters))}class Hc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nf(this.queryParams)),this._queryParamMap}toString(){return h3.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,zr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vm(this)}}class kd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Nf(this.parameters)),this._parameterMap}toString(){return CS(this)}}function $c(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class M0{}class wS{parse(e){const t=new b3(e);return new Hc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Vd(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wm(t)}=${wm(i)}`).join("&"):`${wm(t)}=${wm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const h3=new wS;function vm(n){return n.segments.map(e=>CS(e)).join("/")}function Vd(n,e){if(!n.hasChildren())return vm(n);if(e){const t=n.children[Rt]?Vd(n.children[Rt],!1):"",r=[];return zr(n.children,(i,s)=>{s!==Rt&&r.push(`${s}:${Vd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return zr(n.children,(r,i)=>{i===Rt&&(t=t.concat(e(r,i)))}),zr(n.children,(r,i)=>{i!==Rt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Rt?[Vd(n.children[Rt],!1)]:[`${i}:${Vd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${vm(n)}/${t[0]}`:`${vm(n)}/(${t.join("//")})`}}function bS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wm(n){return bS(n).replace(/%3B/gi,";")}function N0(n){return bS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bm(n){return decodeURIComponent(n)}function ES(n){return bm(n.replace(/\+/g,"%20"))}function CS(n){return`${N0(n.path)}${function(n){return Object.keys(n).map(e=>`;${N0(e)}=${N0(n[e])}`).join("")}(n.parameters)}`}const m3=/^[^\/()?;=#]+/;function Em(n){const e=n.match(m3);return e?e[0]:""}const y3=/^[^=?&#]+/,v3=/^[^?&#]+/;class b3{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Rt]=new Vt(e,t)),r}parseSegment(){const e=Em(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new kd(bm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Em(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Em(this.remaining);i&&(r=i,this.capture(r))}e[bm(t)]=bm(r)}parseQueryParam(e){const t=function(n){const e=n.match(y3);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function(n){const e=n.match(v3);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ES(t),s=ES(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Em(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Rt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Rt]:new Vt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class DS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=O0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=O0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=R0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return R0(e,this._root).map(t=>t.value)}}function O0(n,e){if(n===e.value)return e;for(const t of e.children){const r=O0(n,t);if(r)return r}return null}function R0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=R0(n,t);if(r.length)return r.unshift(e),r}return[]}class Ga{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ld(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IS extends DS{constructor(e,t){super(e),this.snapshot=t,P0(this,e)}toString(){return this.snapshot.toString()}}function TS(n,e){const t=function(n,e){const c=new Cm([],{},{},"",{},Rt,e,null,n.root,-1,{});return new AS("",new Ga(c,[]))}(n,e),r=new Ds([new kd("",{})]),i=new Ds({}),s=new Ds({}),c=new Ds({}),f=new Ds(""),d=new Of(r,i,c,f,s,Rt,e,t.root);return d.snapshot=t.root,new IS(new Ga(d,[]),t)}class Of{constructor(e,t,r,i,s,c,f,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=f,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(G(e=>Nf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(e=>Nf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SS(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cm{constructor(e,t,r,i,s,c,f,d,m,_,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=f,this.routeConfig=d,this._urlSegment=m,this._lastPathIndex=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AS extends DS{constructor(e,t){super(t),this.url=e,P0(this,t)}toString(){return xS(this._root)}}function P0(n,e){e.value._routerState=n,e.children.forEach(t=>P0(n,t))}function xS(n){const e=n.children.length>0?` { ${n.children.map(xS).join(", ")} } `:"";return`${n.value}${e}`}function F0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function k0(n,e){return Xs(n.params,e.params)&&function(n,e){return $c(n,e)&&n.every((t,r)=>Xs(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||k0(n.parent,e.parent))}function Dm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Dm(n,r,i);return Dm(n,r)})}(n,e,t);return new Ga(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return MS(e,c),c}}const r=function(n){return new Of(new Ds(n.url),new Ds(n.params),new Ds(n.queryParams),new Ds(n.fragment),new Ds(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Dm(n,s));return new Ga(r,i)}}function MS(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)MS(n.children[t],e.children[t])}function Im(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jd(n){return"object"==typeof n&&null!=n&&n.outlets}function V0(n,e,t,r,i){let s={};return r&&zr(r,(c,f)=>{s[f]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),new Hc(t.root===n?e:NS(t.root,n,e),s,i)}function NS(n,e,t){const r={};return zr(n.children,(i,s)=>{r[s]=i===e?t:NS(i,e,t)}),new Vt(n.segments,r)}class OS{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Im(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(jd);if(i&&i!==pS(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class L0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function RS(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Tm(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const c=n.segments[i],f=t[r];if(jd(f))break;const d=`${f}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===d)break;if(d&&m&&"object"==typeof m&&void 0===m.outlets){if(!FS(d,m,c))return s;r+=2}else{if(!FS(d,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Vt(n.segments.slice(0,r.pathIndex),{});return s.children[Rt]=new Vt(n.segments.slice(r.pathIndex),n.children),Tm(s,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?j0(n,e,t):r.match?Tm(n,0,i):j0(n,e,t)}function Tm(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function(n){return jd(n[0])?n[0].outlets:{[Rt]:n}}(t),i={};return zr(r,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[c]=RS(n.children[c],e,s))}),zr(n.children,(s,c)=>{void 0===r[c]&&(i[c]=s)}),new Vt(n.segments,i)}}function j0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(jd(s)){const d=R3(s.outlets);return new Vt(r,d)}if(0===i&&Im(t[0])){r.push(new kd(n.segments[e].path,PS(t[0]))),i++;continue}const c=jd(s)?s.outlets[Rt]:`${s}`,f=i<t.length-1?t[i+1]:null;c&&f&&Im(f)?(r.push(new kd(c,PS(f))),i+=2):(r.push(new kd(c,{})),i++)}return new Vt(r,{})}function R3(n){const e={};return zr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=j0(new Vt([],{}),0,t))}),e}function PS(n){const e={};return zr(n,(t,r)=>e[r]=`${t}`),e}function FS(n,e,t){return n==t.path&&Xs(e,t.parameters)}class F3{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),F0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ld(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),zr(i,(s,c)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ld(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ld(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new t3(s.value.snapshot))}),e.children.length&&this.forwardEvent(new JB(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(F0(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),kS(f.route)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),d=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=d,c.outlet&&c.outlet.activateWith(i,d),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}function kS(n){F0(n.value),n.children.forEach(kS)}class U0{constructor(e,t){this.routes=e,this.module=t}}function $u(n){return"function"==typeof n}function Gc(n){return n instanceof Hc}const Ud=Symbol("INITIAL_VALUE");function Bd(){return Ti(n=>function(...n){let e,t;return O(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&qt(n[0])&&(n=n[0]),hi(n,t).lift(new IB(e))}(n.map(e=>e.pipe(T0(1),function(...n){const e=n[n.length-1];return O(e)?(n.pop(),t=>I0(n,t,e)):t=>I0(n,t)}(Ud)))).pipe(Rd((e,t)=>{let r=!1;return t.reduce((i,s,c)=>i!==Ud?i:(s===Ud&&(r=!0),r||!1!==s&&c!==t.length-1&&!Gc(s)?i:s),e)},Ud),Hu(e=>e!==Ud),G(e=>Gc(e)?e:!0===e),T0(1)))}let VS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Cn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&on(0,"router-outlet")},directives:function(){return[z0]},encapsulation:2}),n})();function LS(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];H3(r,$3(e,r))}}function H3(n,e){n.children&&LS(n.children,e)}function $3(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function B0(n){const e=n.children&&n.children.map(B0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=VS),t}function $o(n){return n.outlet||Rt}function jS(n,e){const t=n.filter(r=>$o(r)===e);return t.push(...n.filter(r=>$o(r)!==e)),t}const US={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Sm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},US):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||i3)(t,n,e);if(!s)return Object.assign({},US);const c={};zr(s.posParams,(d,m)=>{c[m]=d.path});const f=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:f,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Am(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>xm(n,e,r)&&$o(r)!==Rt)}(n,t,r)){const c=new Vt(e,function(n,e,t,r){const i={};i[Rt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&$o(s)!==Rt){const c=new Vt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[$o(s)]=c}return i}(n,e,r,new Vt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>xm(n,e,r))}(n,t,r)){const c=new Vt(n.segments,function(n,e,t,r,i,s){const c={};for(const f of r)if(xm(n,t,f)&&!i[$o(f)]){const d=new Vt([],{});d._sourceSegment=n,d._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[$o(f)]=d}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Vt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function xm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function BS(n,e,t,r){return!!($o(n)===r||r!==Rt&&xm(e,t,n))&&("**"===n.path||Sm(e,n,t).matched)}function HS(n,e,t){return 0===e.length&&!n.children[t]}class Hd{constructor(e){this.segmentGroup=e||null}}class $S{constructor(e){this.urlTree=e}}function Mm(n){return new Ke(e=>e.error(new Hd(n)))}function GS(n){return new Ke(e=>e.error(new $S(n)))}function Q3(n){return new Ke(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Z3{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Qs)}apply(){const e=Am(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Rt).pipe(G(s=>this.createUrlTree(H0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Uc(s=>{if(s instanceof $S)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Hd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Rt).pipe(G(i=>this.createUrlTree(H0(i),e.queryParams,e.fragment))).pipe(Uc(i=>{throw i instanceof Hd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Vt([],{[Rt]:e}):e;return new Hc(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(G(s=>new Vt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ze(i).pipe(Pd(s=>{const c=r.children[s],f=jS(t,s);return this.expandSegmentGroup(e,f,c,s).pipe(G(d=>({segment:d,outlet:s})))}),Rd((s,c)=>(s[c.outlet]=c.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hu((i,s)=>n(i,s,r)):de,S0(1),t?sS(e):oS(()=>new ym))}())}expandSegment(e,t,r,i,s,c){return Ze(r).pipe(Pd(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,s,c).pipe(Uc(m=>{if(m instanceof Hd)return ot(null);throw m}))),Bc(f=>!!f),Uc((f,d)=>{if(f instanceof ym||"EmptyError"===f.name){if(HS(t,i,s))return ot(new Vt([],{}));throw new Hd(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,s,c,f){return BS(i,t,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c):Mm(t):Mm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GS(s):this.lineralizeSegments(r,s).pipe(Jt(c=>{const f=new Vt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,c){const{matched:f,consumedSegments:d,lastChild:m,positionalParamSegments:_}=Sm(t,i,s);if(!f)return Mm(t);const b=this.applyRedirectCommands(d,i.redirectTo,_);return i.redirectTo.startsWith("/")?GS(b):this.lineralizeSegments(i,b).pipe(Jt(E=>this.expandSegment(e,t,r,E.concat(s.slice(m)),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ot(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(G(E=>(r._loadedConfig=E,new Vt(i,{})))):ot(new Vt(i,{}));const{matched:c,consumedSegments:f,lastChild:d}=Sm(t,r,i);if(!c)return Mm(t);const m=i.slice(d);return this.getChildConfig(e,r,i).pipe(Jt(b=>{const E=b.module,I=b.routes,{segmentGroup:M,slicedSegments:N}=Am(t,f,m,I),F=new Vt(M.segments,M.children);if(0===N.length&&F.hasChildren())return this.expandChildren(E,I,F).pipe(G(ce=>new Vt(f,ce)));if(0===I.length&&0===N.length)return ot(new Vt(f,{}));const z=$o(r)===s;return this.expandSegment(E,F,I,N,z?Rt:s,!0).pipe(G(re=>new Vt(f.concat(re.segments),re.children)))}))}getChildConfig(e,t,r){return t.children?ot(new U0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ot(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Jt(i=>i?this.configLoader.load(e.injector,t).pipe(G(s=>(t._loadedConfig=s,s))):function(n){return new Ke(e=>e.error(x0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ot(new U0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ot(i.map(c=>{const f=e.get(c);let d;if(function(n){return n&&$u(n.canLoad)}(f))d=f.canLoad(t,r);else{if(!$u(f))throw new Error("Invalid CanLoad guard");d=f(t,r)}return Js(d)})).pipe(Bd(),Bi(c=>{if(!Gc(c))return;const f=x0(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),G(c=>!0===c)):ot(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ot(r);if(i.numberOfChildren>1||!i.children[Rt])return Q3(e.redirectTo);i=i.children[Rt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Hc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return zr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[s]=t[f]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let c={};return zr(t.children,(f,d)=>{c[d]=this.createSegmentGroup(e,f,r,i)}),new Vt(s,c)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function H0(n){const e={};for(const r of Object.keys(n.children)){const s=H0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}class qS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nm{constructor(e,t){this.component=e,this.route=t}}function eH(n,e,t){const r=n._root;return $d(r,e?e._root:null,t,[r.value])}function Om(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function $d(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ld(e);return n.children.forEach(c=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const d=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$c(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$c(n.url,e.url)||!Xs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!k0(n,e)||!Xs(n.queryParams,e.queryParams);case"paramsChange":default:return!k0(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new qS(r)):(s.data=c.data,s._resolvedData=c._resolvedData),$d(n,e,s.component?f?f.children:null:t,r,i),d&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Nm(f.outlet.component,c))}else c&&Gd(e,f,i),i.canActivateChecks.push(new qS(r)),$d(n,null,s.component?f?f.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),zr(s,(c,f)=>Gd(c,t.getContext(f),i)),i}function Gd(n,e,t){const r=Ld(n),i=n.value;zr(r,(s,c)=>{Gd(s,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Nm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class dH{}function zS(n){return new Ke(e=>e.error(n))}class gH{constructor(e,t,r,i,s,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=Am(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Rt);if(null===t)return null;const r=new Cm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ga(r,t),s=new AS(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=SS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const c=t.children[s],f=jS(e,s),d=this.processSegmentGroup(f,c,s);if(null===d)return null;r.push(...d)}const i=WS(r);return function(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,r,i);if(null!==c)return c}return HS(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!BS(e,t,r,i))return null;let s,c=[],f=[];if("**"===e.path){const I=r.length>0?pS(r).parameters:{};s=new Cm(r,I,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,YS(e),$o(e),e.component,e,QS(t),KS(t)+r.length,ZS(e))}else{const I=Sm(t,e,r);if(!I.matched)return null;c=I.consumedSegments,f=r.slice(I.lastChild),s=new Cm(c,I.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,YS(e),$o(e),e.component,e,QS(t),KS(t)+c.length,ZS(e))}const d=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:m,slicedSegments:_}=Am(t,c,f,d.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===_.length&&m.hasChildren()){const I=this.processChildren(d,m);return null===I?null:[new Ga(s,I)]}if(0===d.length&&0===_.length)return[new Ga(s,[])];const b=$o(e)===i,E=this.processSegment(d,m,_,b?Rt:i);return null===E?null:[new Ga(s,E)]}}function _H(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function WS(n){const e=[],t=new Set;for(const r of n){if(!_H(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=WS(r.children);e.push(new Ga(r.value,i))}return e.filter(r=>!t.has(r))}function QS(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function KS(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function YS(n){return n.data||{}}function ZS(n){return n.resolve||{}}function $0(n){return Ti(e=>{const t=n(e);return t?Ze(t).pipe(G(()=>e)):ot(e)})}class TH extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const G0=new pt("ROUTES");class XS{constructor(e,t,r,i){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(G(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new U0(dS(c.injector.get(G0,void 0,qe.Self|qe.Optional)).map(B0),c)}),Uc(s=>{throw t._loader$=void 0,s}));return t._loader$=new Y(i,()=>new V).pipe(W()),t._loader$}loadModuleFactory(e){return"string"==typeof e?Ze(this.loader.load(e)):Js(e()).pipe(Jt(t=>t instanceof _D?ot(t):Ze(this.compiler.compileModuleAsync(t))))}}class SH{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rf,this.attachRef=null}}class Rf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new SH,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class xH{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function MH(n){throw n}function NH(n,e,t){return e.parse("/")}function JS(n,e){return ot(null)}const OH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class n{constructor(t,r,i,s,c,f,d,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new V,this.errorHandler=MH,this.malformedUriErrorHandler=NH,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JS,afterPreactivation:JS},this.urlHandlingStrategy=new xH,this.routeReuseStrategy=new TH,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(Qs),this.console=c.get(Ig);const E=c.get(Tn);this.isNgZoneEnabled=E instanceof Tn&&Tn.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=new Hc(new Vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new XS(f,d,I=>this.triggerEvent(new uS(I)),I=>this.triggerEvent(new cS(I))),this.routerState=TS(this.currentUrlTree,this.rootComponentType),this.transitions=new Ds({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Hu(i=>0!==i.id),G(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ti(i=>{let s=!1,c=!1;return ot(i).pipe(Bi(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ti(f=>{const d=!this.navigated||f.extractedUrl.toString()!==this.browserUrlTree.toString(),m=("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl);if(Rm(f.source)&&(this.browserUrlTree=f.rawUrl),m)return ot(f).pipe(Ti(_=>{const b=this.transitions.getValue();return r.next(new A0(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),b!==this.transitions.getValue()?Af:Promise.resolve(_)}),function(n,e,t,r){return Ti(i=>function(n,e,t,r,i){return new Z3(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(G(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Bi(_=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_.urlAfterRedirects})}),function(n,e,t,r,i){return Jt(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const c=new gH(n,e,t,r,i,s).recognize();return null===c?zS(new dH):ot(c)}catch(c){return zS(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(G(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),Bi(_=>{"eager"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(_.urlAfterRedirects,_),this.browserUrlTree=_.urlAfterRedirects);const b=new WB(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);r.next(b)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:E,source:I,restoredState:M,extras:N}=f,F=new A0(b,this.serializeUrl(E),I,M);r.next(F);const z=TS(E,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},f),{targetSnapshot:z,urlAfterRedirects:E,extras:Object.assign(Object.assign({},N),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),Af}),$0(f=>{const{targetSnapshot:d,id:m,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:E,replaceUrl:I}}=f;return this.hooks.beforePreactivation(d,{navigationId:m,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!E,replaceUrl:!!I})}),Bi(f=>{const d=new QB(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(d)}),G(f=>Object.assign(Object.assign({},f),{guards:eH(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return Jt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?ot(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return Ze(n).pipe(Jt(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ot(s.map(f=>{const d=Om(f,e,i);let m;if(function(n){return n&&$u(n.canDeactivate)}(d))m=Js(d.canDeactivate(n,e,t,r));else{if(!$u(d))throw new Error("Invalid CanDeactivate guard");m=Js(d(n,e,t,r))}return m.pipe(Bc())})).pipe(Bd()):ot(!0)}(i.component,i.route,t,e,r)),Bc(i=>!0!==i,!0))}(c,r,i,n).pipe(Jt(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return Ze(e).pipe(Pd(i=>I0(function(n,e){return null!==n&&e&&e(new XB(n)),ot(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new e3(n)),ot(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>rS(()=>ot(c.guards.map(d=>{const m=Om(d,c.node,t);let _;if(function(n){return n&&$u(n.canActivateChild)}(m))_=Js(m.canActivateChild(r,n));else{if(!$u(m))throw new Error("Invalid CanActivateChild guard");_=Js(m(r,n))}return _.pipe(Bc())})).pipe(Bd())));return ot(s).pipe(Bd())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?ot(r.map(s=>rS(()=>{const c=Om(s,e,t);let f;if(function(n){return n&&$u(n.canActivate)}(c))f=Js(c.canActivate(e,n));else{if(!$u(c))throw new Error("Invalid CanActivate guard");f=Js(c(e,n))}return f.pipe(Bc())}))).pipe(Bd()):ot(!0)}(n,i.route,t))),Bc(i=>!0!==i,!0))}(r,s,n,e):ot(f)),G(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),Bi(f=>{if(Gc(f.guardsResult)){const m=x0(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw m.url=f.guardsResult,m}const d=new KB(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(d)}),Hu(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),$0(f=>{if(f.guards.canActivateChecks.length)return ot(f).pipe(Bi(d=>{const m=new YB(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(m)}),Ti(d=>{let m=!1;return ot(d).pipe(function(n,e){return Jt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ot(t);let s=0;return Ze(i).pipe(Pd(c=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return ot({});const s={};return Ze(i).pipe(Jt(c=>function(n,e,t,r){const i=Om(n,e,r);return Js(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe(Bi(f=>{s[c]=f}))),S0(1),Jt(()=>Object.keys(s).length===i.length?ot(s):Af))}(n._resolve,n,e,r).pipe(G(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),SS(n,t).resolve),null)))}(c.route,r,n,e)),Bi(()=>s++),S0(1),Jt(c=>s===i.length?ot(t):Af))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Bi({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),Bi(d=>{const m=new ZB(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(m)}))}),$0(f=>{const{targetSnapshot:d,id:m,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:E,replaceUrl:I}}=f;return this.hooks.afterPreactivation(d,{navigationId:m,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!E,replaceUrl:!!I})}),G(f=>{const d=function(n,e,t){const r=Dm(n,e._root,t?t._root:void 0);return new IS(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:d})}),Bi(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>G(r=>(new F3(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),Bi({next(){s=!0},complete(){s=!0}}),function(n){return e=>e.lift(new GB(n))}(()=>{if(!s&&!c){const f=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,f)):this.cancelNavigationTransition(i,f)}this.currentNavigation=null}),Uc(f=>{if(c=!0,function(n){return n&&n[fS]}(f)){const d=Gc(f.url);d||(this.navigated=!0,this.restoreHistory(i,!0));const m=new aS(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(m),d?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rm(i.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const d=new zB(i.id,this.serializeUrl(i.extractedUrl),f);r.next(d);try{i.resolve(this.errorHandler(f))}catch(m){i.reject(m)}}return Af}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:c}=r,f={replaceUrl:!0};if(s){const d=Object.assign({},s);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(f.state=d)}this.scheduleNavigation(c,i,s,f)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const i=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!i||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){LS(t),this.config=t.map(B0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:f,preserveFragment:d}=r,m=i||this.routerState.root,_=d?this.currentUrlTree.fragment:c;let b=null;switch(f){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),function(n,e,t,r,i){if(0===t.length)return V0(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OS(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return zr(s.outlets,(d,m)=>{f[m]="string"==typeof d?d.split("/"):d}),[...i,{outlets:f}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((f,d)=>{0==d&&"."===f||(0==d&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,s]},[]);return new OS(t,e,r)}(t);if(s.toRoot())return V0(e.root,new Vt([],{}),e,r,i);const c=function(n,e,t){if(n.isAbsolute)return new L0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new L0(s,s===e.root,0)}const r=Im(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new L0(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),f=c.processChildren?Tm(c.segmentGroup,c.index,s.commands):RS(c.segmentGroup,c.index,s.commands);return V0(c.segmentGroup,f,e,r,i)}(m,this.currentUrlTree,t,b,null!=_?_:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Gc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},OH):!1===r?Object.assign({},RH):r,Gc(t))return mS(this.currentUrlTree,t,i);const s=this.parseUrl(t);return mS(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Fd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,r,i,s,c){var f,d;if(this.disposed)return Promise.resolve(!1);const m=this.getTransition(),_=Rm(r)&&m&&!Rm(m.source),I=(this.lastSuccessfulId===m.id||this.currentNavigation?m.rawUrl:m.urlAfterRedirects).toString()===t.toString();if(_&&I)return Promise.resolve(!0);let M,N,F;c?(M=c.resolve,N=c.reject,F=c.promise):F=new Promise((re,ce)=>{M=re,N=ce});const z=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),q=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):q=0,this.setTransition({id:z,targetPageId:q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:M,reject:N,promise:F,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),F.catch(re=>Promise.reject(re))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new aS(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(_e(Nl),_e(M0),_e(Rf),_e(Lg),_e($t),_e(Sg),_e(Fc),_e(void 0))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();function Rm(n){return"imperative"!==n}let Pm=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new V,this.subscription=t.events.subscribe(s=>{s instanceof Fd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,c){if(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:Pf(this.skipLocationChange),replaceUrl:Pf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pf(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(ge(ci),ge(Of),ge(Tf))},n.\u0275dir=Ye({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Nn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&(w_("href",r.href,ut),Gs("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Yn]}),n})();function Pf(n){return""===n||!!n}let z0=(()=>{class n{constructor(t,r,i,s,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new Dr,this.deactivateEvents=new Dr,this.name=s||Rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,d=new VH(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(ge(Rf),ge(ms),ge(Nu),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Tl(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Gn(),n)}("name"),ge(N_))},n.\u0275dir=Ye({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class VH{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Of?this.route:e===Rf?this.childContexts:this.parent.get(e,t)}}class eA{}class tA{preload(e,t){return ot(null)}}let nA=(()=>{class n{constructor(t,r,i,s,c){this.router=t,this.injector=s,this.preloadingStrategy=c,this.loader=new XS(r,i,m=>t.triggerEvent(new uS(m)),m=>t.triggerEvent(new cS(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hu(t=>t instanceof Fd),Pd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Ze(i).pipe(et(),G(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ot(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Jt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(_e(ci),_e(Sg),_e(Fc),_e($t),_e(eA))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})(),W0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof A0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new lS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_e(ci),_e(SI),_e(void 0))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();const qc=new pt("ROUTER_CONFIGURATION"),rA=new pt("ROUTER_FORROOT_GUARD"),jH=[Lg,{provide:M0,useClass:wS},{provide:ci,useFactory:function(n,e,t,r,i,s,c,f={},d,m){const _=new ci(null,n,e,t,r,i,s,dS(c));return d&&(_.urlHandlingStrategy=d),m&&(_.routeReuseStrategy=m),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(f,_),f.enableTracing&&_.events.subscribe(b=>{var E,I;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(I=console.groupEnd)||void 0===I||I.call(console)}),_},deps:[M0,Rf,Lg,$t,Sg,Fc,G0,qc,[class{},new Gr],[class{},new Gr]]},Rf,{provide:Of,useFactory:function(n){return n.routerState.root},deps:[ci]},{provide:Sg,useClass:cV},nA,tA,class{preload(e,t){return t().pipe(Uc(()=>ot(null)))}},{provide:qc,useValue:{enableTracing:!1}}];function UH(){return new dv("Router",ci)}let iA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[jH,oA(t),{provide:rA,useFactory:$H,deps:[[ci,new Gr,new Li]]},{provide:qc,useValue:r||{}},{provide:Tf,useFactory:HH,deps:[Lc,[new Vi(Mv),new Gr],qc]},{provide:W0,useFactory:BH,deps:[ci,SI,qc]},{provide:eA,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:tA},{provide:dv,multi:!0,useFactory:UH},[Q0,{provide:gd,multi:!0,useFactory:WH,deps:[Q0]},{provide:sA,useFactory:QH,deps:[Q0]},{provide:w1,multi:!0,useExisting:sA}]]}}static forChild(t){return{ngModule:n,providers:[oA(t)]}}}return n.\u0275fac=function(t){return new(t||n)(_e(rA,8),_e(ci,8))},n.\u0275mod=mr({type:n}),n.\u0275inj=an({}),n})();function BH(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new W0(n,e,t)}function HH(n,e,t={}){return t.useHash?new xL(n,e):new lI(n,e)}function $H(n){return"guarded"}function oA(n){return[{provide:Eu,multi:!0,useValue:n},{provide:G0,multi:!0,useValue:n}]}let Q0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new V}appInitializer(){return this.injector.get(TL,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),s=this.injector.get(ci),c=this.injector.get(qc);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(qc),i=this.injector.get(nA),s=this.injector.get(W0),c=this.injector.get(ci),f=this.injector.get(Cf);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),s.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(_e($t))},n.\u0275prov=tt({token:n,factory:n.\u0275fac}),n})();function WH(n){return n.appInitializer.bind(n)}function QH(n){return n.bootstrapListener.bind(n)}const sA=new pt("Router Initializer");function qa(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function aA(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var K0,jn,ta,ew,tw,gA,_A,Bf,$m,Hi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ff={duration:.5,overwrite:!1,delay:0},ea=1e8,sn=1e-8,Y0=2*Math.PI,YH=Y0/4,ZH=0,uA=Math.sqrt,XH=Math.cos,JH=Math.sin,li=function(e){return"string"==typeof e},kr=function(e){return"function"==typeof e},za=function(e){return"number"==typeof e},Z0=function(e){return void 0===e},Wa=function(e){return"object"==typeof e},$i=function(e){return!1!==e},cA=function(){return"undefined"!=typeof window},lA=function(e){return kr(e)||li(e)},fA="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ro=Array.isArray,X0=/(?:-?\.?\d|\.)+/gi,hA=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,kf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,J0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,dA=/[+-]=-?[.\d]+/,pA=/[^,'"\[\]\s]+/gi,e4=/[\d.+\-=]+(?:e[-+]\d*)*/i,io={},Fm={},mA=function(e){return(Fm=Lf(e,io))&&ra},nw=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},km=function(e,t){return!t&&console.warn(e)},yA=function(e,t){return e&&(io[e]=t)&&Fm&&(Fm[e]=t)||io},Vf=function(){return 0},rw={},Gu=[],iw={},oo={},ow={},vA=30,Vm=[],sw="",aw=function(e){var r,i,t=e[0];if(Wa(t)||kr(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Vm.length;i--&&!Vm[i].targetTest(t););r=Vm[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new zA(e[i],r)))||e.splice(i,1);return e},zc=function(e){return e._gsap||aw(zo(e))[0]._gsap},wA=function(e,t,r){return(r=e[t])&&kr(r)?e[t]():Z0(r)&&e.getAttribute&&e.getAttribute(t)||r},so=function(e,t){return(e=e.split(",")).forEach(t)||e},Ut=function(e){return Math.round(1e5*e)/1e5||0},t4=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},Lm=function(){var r,i,e=Gu.length,t=Gu.slice(0);for(iw={},Gu.length=0,r=0;r<e;r++)(i=t[r])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},bA=function(e,t,r,i){Gu.length&&Lm(),e.render(t,r,i),Gu.length&&Lm()},EA=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(pA).length<2?t:li(e)?e.trim():e},CA=function(e){return e},Go=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},n4=function(e,t){for(var r in t)r in e||"duration"===r||"ease"===r||(e[r]=t[r])},Lf=function(e,t){for(var r in t)e[r]=t[r];return e},DA=function n(e,t){for(var r in t)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=Wa(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},uw=function(e,t){var i,r={};for(i in e)i in t||(r[i]=e[i]);return r},jm=function(e){var t=e.parent||jn,r=e.keyframes?n4:Go;if($i(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Um=function(e,t,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var s=t._prev,c=t._next;s?s._next=c:e[r]===t&&(e[r]=c),c?c._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},qu=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Wc=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},o4=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},s4=function n(e){return!e||e._ts&&n(e.parent)},IA=function(e){return e._repeat?jf(e._tTime,e=e.duration()+e._rDelay)*e:0},jf=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},Bm=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},cw=function(e){return e._end=Ut(e._start+(e._tDur/Math.abs(e._ts||e._rts||sn)||0))},TA=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ut(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),cw(e),r._dirty||Wc(r,e)),e},SA=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=Bm(e.rawTime(),t),(!t._dur||zd(0,t.totalDuration(),r)-t._tTime>sn)&&t.render(r,!0)),Wc(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-sn}},na=function(e,t,r,i){return t.parent&&qu(t),t._start=Ut((za(r)?r:r||e!==jn?qo(e,r,t):e._time)+t._delay),t._end=Ut(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,r,i,s){void 0===r&&(r="_first"),void 0===i&&(i="_last");var f,c=e[i];if(s)for(f=t[s];c&&c[s]>f;)c=c._prev;c?(t._next=c._next,c._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=c,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),lw(t)||(e._recent=t),i||SA(e,t),e},AA=function(e,t){return(io.ScrollTrigger||nw("scrollTrigger",t))&&io.ScrollTrigger.create(t,e)},xA=function(e,t,r,i){return x4(e,t),e._initted?!r&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&_A!==Qo.frame?(Gu.push(e),e._lazy=[t,i],1):void 0:1},a4=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},lw=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Uf=function(e,t,r,i){var s=e._repeat,c=Ut(t)||0,f=e._tTime/e._tDur;return f&&!i&&(e._time*=c/e._dur),e._dur=c,e._tDur=s?s<0?1e10:Ut(c*(s+1)+e._rDelay*s):c,f&&!i?TA(e,e._tTime=e._tDur*f):e.parent&&cw(e),r||Wc(e.parent,e),e},MA=function(e){return e instanceof Gi?Wc(e):Uf(e,e._dur)},l4={_start:0,endTime:Vf,totalDuration:Vf},qo=function n(e,t,r){var f,d,m,i=e.labels,s=e._recent||l4,c=e.duration()>=ea?s.endTime(!1):e._dur;return li(t)&&(isNaN(t)||t in i)?(d=t.charAt(0),m="%"===t.substr(-1),f=t.indexOf("="),"<"===d||">"===d?(f>=0&&(t=t.replace(/=/,"")),("<"===d?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(m?(f<0?s:r).totalDuration()/100:1)):f<0?(t in i||(i[t]=c),i[t]):(d=parseFloat(t.charAt(f-1)+t.substr(f+1)),m&&r&&(d=d/100*(ro(r)?r[0]:r).totalDuration()),f>1?n(e,t.substr(0,f-1),r)+d:c+d)):null==t?c:+t},qd=function(e,t,r){var f,d,i=za(t[1]),s=(i?2:1)+(e<2?0:1),c=t[s];if(i&&(c.duration=t[1]),c.parent=r,e){for(f=c,d=r;d&&!("immediateRender"in f);)f=d.vars.defaults||{},d=$i(d.vars.inherit)&&d.parent;c.immediateRender=$i(f.immediateRender),e<2?c.runBackwards=1:c.startAt=t[s-1]}return new Vr(t[0],c,t[s+1])},zu=function(e,t){return e||0===e?t(e):t},zd=function(e,t,r){return r<e?e:r>t?t:r},ao=function(e){if("string"!=typeof e)return"";var t=e4.exec(e);return t?e.substr(t.index+t[0].length):""},fw=[].slice,NA=function(e,t){return e&&Wa(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Wa(e[0]))&&!e.nodeType&&e!==ta},zo=function(e,t,r){return!li(e)||r||!ew&&Hf()?ro(e)?function(e,t,r){return void 0===r&&(r=[]),e.forEach(function(i){var s;return li(i)&&!t||NA(i,1)?(s=r).push.apply(s,zo(i)):r.push(i)})||r}(e,r):NA(e)?fw.call(e,0):e?[e]:[]:fw.call((t||tw).querySelectorAll(e),0)},OA=function(e){return e.sort(function(){return.5-Math.random()})},RA=function(e){if(kr(e))return e;var t=Wa(e)?e:{each:e},r=$f(t.ease),i=t.from||0,s=parseFloat(t.base)||0,c={},f=i>0&&i<1,d=isNaN(i)||f,m=t.axis,_=i,b=i;return li(i)?_=b={center:.5,edges:.5,end:1}[i]||0:!f&&d&&(_=i[0],b=i[1]),function(E,I,M){var z,q,re,ce,le,ye,De,je,Ie,N=(M||t).length,F=c[N];if(!F){if(!(Ie="auto"===t.grid?0:(t.grid||[1,ea])[1])){for(De=-ea;De<(De=M[Ie++].getBoundingClientRect().left)&&Ie<N;);Ie--}for(F=c[N]=[],z=d?Math.min(Ie,N)*_-.5:i%Ie,q=d?N*b/Ie-.5:i/Ie|0,De=0,je=ea,ye=0;ye<N;ye++)re=ye%Ie-z,ce=q-(ye/Ie|0),F[ye]=le=m?Math.abs("y"===m?ce:re):uA(re*re+ce*ce),le>De&&(De=le),le<je&&(je=le);"random"===i&&OA(F),F.max=De-je,F.min=je,F.v=N=(parseFloat(t.amount)||parseFloat(t.each)*(Ie>N?N-1:m?"y"===m?N/Ie:Ie:Math.max(Ie,N/Ie))||0)*("edges"===i?-1:1),F.b=N<0?s-N:s,F.u=ao(t.amount||t.each)||0,r=r&&N<0?$A(r):r}return N=(F[E]-F.min)/F.max||0,Ut(F.b+(r?r(N):N)*F.v)+F.u}},hw=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(r){var i=Math.round(parseFloat(r)/e)*e*t;return(i-i%1)/t+(za(r)?0:ao(r))}},PA=function(e,t){var i,s,r=ro(e);return!r&&Wa(e)&&(i=r=e.radius||ea,e.values?(e=zo(e.values),(s=!za(e[0]))&&(i*=i)):e=hw(e.increment)),zu(t,r?kr(e)?function(c){return s=e(c),Math.abs(s-c)<=i?s:c}:function(c){for(var E,I,f=parseFloat(s?c.x:c),d=parseFloat(s?c.y:0),m=ea,_=0,b=e.length;b--;)(E=s?(E=e[b].x-f)*E+(I=e[b].y-d)*I:Math.abs(e[b]-f))<m&&(m=E,_=b);return _=!i||m<=i?e[_]:c,s||_===c||za(c)?_:_+ao(c)}:hw(e))},FA=function(e,t,r,i){return zu(ro(e)?!t:!0===r?!!(r=0):!i,function(){return ro(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*i)/i})},kA=function(e,t,r){return zu(r,function(i){return e[~~t(i)]})},Hm=function(e){for(var i,s,c,f,t=0,r="";~(i=e.indexOf("random(",t));)c=e.indexOf(")",i),f="["===e.charAt(i+7),s=e.substr(i+7,c-i-7).match(f?pA:X0),r+=e.substr(t,i-t)+FA(f?s:+s[0],f?0:+s[1],+s[2]||1e-5),t=c+1;return r+e.substr(t,e.length-t)},VA=function(e,t,r,i,s){var c=t-e,f=i-r;return zu(s,function(d){return r+((d-e)/c*f||0)})},LA=function(e,t,r){var c,f,d,i=e.labels,s=ea;for(c in i)(f=i[c]-t)<0==!!r&&f&&s>(f=Math.abs(f))&&(d=c,s=f);return d},Wo=function(e,t,r){var c,f,i=e.vars,s=i[t];if(s)return c=i[t+"Params"],f=i.callbackScope||e,r&&Gu.length&&Lm(),c?s.apply(f,c):s.call(f)},Wd=function(e){return qu(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&Wo(e,"onInterrupt"),e},w4=function(e){var t=(e=!e.name&&e.default||e).name,r=kr(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Vf,render:vw,add:mw,kill:k4,modifier:F4,rawVars:0},c={targetTest:0,get:0,getSetter:_w,aliases:{},register:0};if(Hf(),e!==i){if(oo[t])return;Go(i,Go(uw(e,s),c)),Lf(i.prototype,Lf(s,uw(e,c))),oo[i.prop=t]=i,e.targetTest&&(Vm.push(i),rw[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}yA(t,i),e.register&&e.register(ra,i,qi)},gn=255,Qd={aqua:[0,gn,gn],lime:[0,gn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,gn],navy:[0,0,128],white:[gn,gn,gn],olive:[128,128,0],yellow:[gn,gn,0],orange:[gn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[gn,0,0],pink:[gn,192,203],cyan:[0,gn,gn],transparent:[gn,gn,gn,0]},dw=function(e,t,r){return(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*gn+.5|0},jA=function(e,t,r){var s,c,f,d,m,_,b,E,I,M,i=e?za(e)?[e>>16,e>>8&gn,e&gn]:0:Qd.black;if(!i){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Qd[e])i=Qd[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),c=e.charAt(2),f=e.charAt(3),e="#"+s+s+c+c+f+f+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(i=parseInt(e.substr(1,6),16))>>16,i>>8&gn,i&gn,parseInt(e.substr(7),16)/255];i=[(e=parseInt(e.substr(1),16))>>16,e>>8&gn,e&gn]}else if("hsl"===e.substr(0,3))if(i=M=e.match(X0),t){if(~e.indexOf("="))return i=e.match(hA),r&&i.length<4&&(i[3]=1),i}else d=+i[0]%360/360,m=+i[1]/100,s=2*(_=+i[2]/100)-(c=_<=.5?_*(m+1):_+m-_*m),i.length>3&&(i[3]*=1),i[0]=dw(d+1/3,s,c),i[1]=dw(d,s,c),i[2]=dw(d-1/3,s,c);else i=e.match(X0)||Qd.transparent;i=i.map(Number)}return t&&!M&&(s=i[0]/gn,c=i[1]/gn,f=i[2]/gn,_=((b=Math.max(s,c,f))+(E=Math.min(s,c,f)))/2,b===E?d=m=0:(I=b-E,m=_>.5?I/(2-b-E):I/(b+E),d=b===s?(c-f)/I+(c<f?6:0):b===c?(f-s)/I+2:(s-c)/I+4,d*=60),i[0]=~~(d+.5),i[1]=~~(100*m+.5),i[2]=~~(100*_+.5)),r&&i.length<4&&(i[3]=1),i},UA=function(e){var t=[],r=[],i=-1;return e.split(Wu).forEach(function(s){var c=s.match(kf)||[];t.push.apply(t,c),r.push(i+=c.length+1)}),t.c=r,t},BA=function(e,t,r){var d,m,_,b,i="",s=(e+i).match(Wu),c=t?"hsla(":"rgba(",f=0;if(!s)return e;if(s=s.map(function(E){return(E=jA(E,t,1))&&c+(t?E[0]+","+E[1]+"%,"+E[2]+"%,"+E[3]:E.join(","))+")"}),r&&(_=UA(e),(d=r.c).join(i)!==_.c.join(i)))for(b=(m=e.replace(Wu,"1").split(kf)).length-1;f<b;f++)i+=m[f]+(~d.indexOf(f)?s.shift()||c+"0,0,0,0)":(_.length?_:s.length?s:r).shift());if(!m)for(b=(m=e.split(Wu)).length-1;f<b;f++)i+=m[f]+s[f];return i+m[b]},Wu=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Qd)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),b4=/hsl[a]?\(/,HA=function(e){var r,t=e.join(" ");if(Wu.lastIndex=0,Wu.test(t))return r=b4.test(t),e[1]=BA(e[1],r),e[0]=BA(e[0],r,UA(e[1])),!0},Qo=function(){var d,m,_,b,E,I,n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,c=s,f=[],M=function N(F){var re,ce,le,ye,z=n()-i,q=!0===F;if(z>e&&(r+=z-t),((re=(le=(i+=z)-r)-c)>0||q)&&(ye=++b.frame,E=le-1e3*b.time,b.time=le/=1e3,c+=re+(re>=s?4:s-re),ce=1),q||(d=m(N)),ce)for(I=0;I<f.length;I++)f[I](le,E,ye,F)};return b={time:0,frame:0,tick:function(){M(!0)},deltaRatio:function(F){return E/(1e3/(F||60))},wake:function(){gA&&(!ew&&cA()&&(ta=ew=window,tw=ta.document||{},io.gsap=ra,(ta.gsapVersions||(ta.gsapVersions=[])).push(ra.version),mA(Fm||ta.GreenSockGlobals||!ta.gsap&&ta||{}),_=ta.requestAnimationFrame),d&&b.sleep(),m=_||function(F){return setTimeout(F,c-1e3*b.time+1|0)},$m=1,M(2))},sleep:function(){(_?ta.cancelAnimationFrame:clearTimeout)(d),$m=0,m=Vf},lagSmoothing:function(F,z){e=F||1/sn,t=Math.min(z,e,0)},fps:function(F){c=1e3*b.time+(s=1e3/(F||240))},add:function(F){f.indexOf(F)<0&&f.push(F),Hf()},remove:function(F){var z;~(z=f.indexOf(F))&&f.splice(z,1)&&I>=z&&I--},_listeners:f}}(),Hf=function(){return!$m&&Qo.wake()},Gt={},E4=/^[\d.\-M][\d.\-,\s]/,C4=/["']/g,D4=function(e){for(var f,d,m,t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,c=r.length;s<c;s++)d=r[s],f=s!==c-1?d.lastIndexOf(","):d.length,m=d.substr(0,f),t[i]=isNaN(m)?m.replace(C4,"").trim():+m,i=d.substr(f+1).trim();return t},$A=function(e){return function(t){return 1-e(1-t)}},GA=function n(e,t){for(var i,r=e._first;r;)r instanceof Gi?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},$f=function(e,t){return e&&(kr(e)?e:Gt[e]||function(e){var t=(e+"").split("("),r=Gt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[D4(t[1])]:function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)}(e).split(",").map(EA)):Gt._CE&&E4.test(e)?Gt._CE("",e):r}(e))||t},Qc=function(e,t,r,i){void 0===r&&(r=function(d){return 1-t(1-d)}),void 0===i&&(i=function(d){return d<.5?t(2*d)/2:1-t(2*(1-d))/2});var c,s={easeIn:t,easeOut:r,easeInOut:i};return so(e,function(f){for(var d in Gt[f]=io[f]=s,Gt[c=f.toLowerCase()]=r,s)Gt[c+("easeIn"===d?".in":"easeOut"===d?".out":".inOut")]=Gt[f+"."+d]=s[d]}),s},qA=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},pw=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),c=s/Y0*(Math.asin(1/i)||0),f=function(_){return 1===_?1:i*Math.pow(2,-10*_)*JH((_-c)*s)+1},d="out"===e?f:"in"===e?function(m){return 1-f(1-m)}:qA(f);return s=Y0/s,d.config=function(m,_){return n(e,m,_)},d},gw=function n(e,t){void 0===t&&(t=1.70158);var r=function(c){return c?--c*c*((t+1)*c+t)+1:0},i="out"===e?r:"in"===e?function(s){return 1-r(1-s)}:qA(r);return i.config=function(s){return n(e,s)},i};so("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Qc(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(2*r,t)/2:1-Math.pow(2*(1-r),t)/2})}),Gt.Linear.easeNone=Gt.none=Gt.Linear.easeIn,Qc("Elastic",pw("in"),pw("out"),pw()),function(n,e){var s=function(f){return f<.36363636363636365?n*f*f:f<.7272727272727273?n*Math.pow(f-1.5/e,2)+.75:f<.9090909090909092?n*(f-=2.25/e)*f+.9375:n*Math.pow(f-2.625/e,2)+.984375};Qc("Bounce",function(c){return 1-s(1-c)},s)}(7.5625,2.75),Qc("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Qc("Circ",function(n){return-(uA(1-n*n)-1)}),Qc("Sine",function(n){return 1===n?1:1-XH(n*YH)}),Qc("Back",gw("in"),gw("out"),gw()),Gt.SteppedEase=Gt.steps=io.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0;return function(f){return((i*zd(0,.99999999,f)|0)+s)*r}}},Ff.ease=Gt["quad.out"],so("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return sw+=n+","+n+"Params,"});var zA=function(e,t){this.id=ZH++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:wA,this.set=t?t.getSetter:_w},Kd=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Uf(this,+t.duration,1,1),this.data=t.data,$m||Qo.wake()}var e=n.prototype;return e.delay=function(r){return r||0===r?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Uf(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Hf(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(TA(this,r),!s._dp||s.parent||SA(s,this);s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&na(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===sn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),bA(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+IA(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?r:1-r)+IA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?jf(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-sn?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Bm(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-sn?0:this._rts,o4(this.totalTime(zd(-this._delay,this._tDur,i),!0))},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Hf(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==sn&&(this._tTime-=sn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&na(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+($i(r)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Bm(i.rawTime(r),this):this._tTime:this._tTime},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,MA(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,MA(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(qo(this,r),$i(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,$i(i))},e.play=function(r,i){return null!=r&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return null!=r&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return null!=r&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-sn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-sn,this},e.isActive=function(){var s,r=this.parent||this._dp,i=this._start;return!(r&&!(this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-sn))},e.eventCallback=function(r,i,s){var c=this.vars;return arguments.length>1?(i?(c[r]=i,s&&(c[r+"Params"]=s),"onUpdate"===r&&(this._onUpdate=i)):delete c[r],this):c[r]},e.then=function(r){var i=this;return new Promise(function(s){var c=kr(r)?r:CA,f=function(){var m=i.then;i.then=null,kr(c)&&(c=c(i))&&(c.then||c===i)&&(i.then=m),s(c),i.then=m};i._initted&&1===i.totalProgress()&&i._ts>=0||!i._tTime&&i._ts<0?f():i._prom=f})},e.kill=function(){Wd(this)},n}();Go(Kd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-sn,_prom:0,_ps:!1,_rts:1});var Gi=function(n){function e(r,i){var s;return void 0===r&&(r={}),(s=n.call(this,r)||this).labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=$i(r.sortChildren),jn&&na(r.parent||jn,qa(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&AA(qa(s),r.scrollTrigger),s}aA(e,n);var t=e.prototype;return t.to=function(i,s,c){return qd(0,arguments,this),this},t.from=function(i,s,c){return qd(1,arguments,this),this},t.fromTo=function(i,s,c,f){return qd(2,arguments,this),this},t.set=function(i,s,c){return s.duration=0,s.parent=this,jm(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Vr(i,s,qo(this,c),1),this},t.call=function(i,s,c){return na(this,Vr.delayedCall(0,i,s),c)},t.staggerTo=function(i,s,c,f,d,m,_){return c.duration=s,c.stagger=c.stagger||f,c.onComplete=m,c.onCompleteParams=_,c.parent=this,new Vr(i,c,qo(this,d)),this},t.staggerFrom=function(i,s,c,f,d,m,_){return c.runBackwards=1,jm(c).immediateRender=$i(c.immediateRender),this.staggerTo(i,s,c,f,d,m,_)},t.staggerFromTo=function(i,s,c,f,d,m,_,b){return f.startAt=c,jm(f).immediateRender=$i(f.immediateRender),this.staggerTo(i,s,f,d,m,_,b)},t.render=function(i,s,c){var E,I,M,N,F,z,q,re,ce,le,ye,De,f=this._time,d=this._dirty?this.totalDuration():this._tDur,m=this._dur,_=this!==jn&&i>d-sn&&i>=0?d:i<sn?0:i,b=this._zTime<0!=i<0&&(this._initted||!m);if(_!==this._tTime||c||b){if(f!==this._time&&m&&(_+=this._time-f,i+=this._time-f),E=_,ce=this._start,z=!(re=this._ts),b&&(m||(f=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(ye=this._yoyo,F=m+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*F+i,s,c);if(E=Ut(_%F),_===d?(N=this._repeat,E=m):((N=~~(_/F))&&N===_/F&&(E=m,N--),E>m&&(E=m)),le=jf(this._tTime,F),!f&&this._tTime&&le!==N&&(le=N),ye&&1&N&&(E=m-E,De=1),N!==le&&!this._lock){var je=ye&&1&le,Ie=je===(ye&&1&N);if(N<le&&(je=!je),f=je?0:m,this._lock=1,this.render(f||(De?0:Ut(N*F)),s,!m)._lock=0,this._tTime=_,!s&&this.parent&&Wo(this,"onRepeat"),this.vars.repeatRefresh&&!De&&(this.invalidate()._lock=1),f&&f!==this._time||z!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,d=this._tDur,Ie&&(this._lock=2,this.render(f=je?m:-1e-4,!0),this.vars.repeatRefresh&&!De&&this.invalidate()),this._lock=0,!this._ts&&!z)return this;GA(this,De)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(q=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,Ut(f),Ut(E)))&&(_-=E-(E=q._start)),this._tTime=_,this._time=E,this._act=!re,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,f=0),!f&&E&&!s&&(Wo(this,"onStart"),this._tTime!==_))return this;if(E>=f&&i>=0)for(I=this._first;I;){if(M=I._next,(I._act||E>=I._start)&&I._ts&&q!==I){if(I.parent!==this)return this.render(i,s,c);if(I.render(I._ts>0?(E-I._start)*I._ts:(I._dirty?I.totalDuration():I._tDur)+(E-I._start)*I._ts,s,c),E!==this._time||!this._ts&&!z){q=0,M&&(_+=this._zTime=-sn);break}}I=M}else{I=this._last;for(var Tt=i<0?i:E;I;){if(M=I._prev,(I._act||Tt<=I._end)&&I._ts&&q!==I){if(I.parent!==this)return this.render(i,s,c);if(I.render(I._ts>0?(Tt-I._start)*I._ts:(I._dirty?I.totalDuration():I._tDur)+(Tt-I._start)*I._ts,s,c),E!==this._time||!this._ts&&!z){q=0,M&&(_+=this._zTime=Tt?-sn:sn);break}}I=M}}if(q&&!s&&(this.pause(),q.render(E>=f?0:-sn)._zTime=E>=f?1:-1,this._ts))return this._start=ce,cw(this),this.render(i,s,c);this._onUpdate&&!s&&Wo(this,"onUpdate",!0),(_===d&&d>=this.totalDuration()||!_&&f)&&(ce===this._start||Math.abs(re)!==Math.abs(this._ts))&&(this._lock||((i||!m)&&(_===d&&this._ts>0||!_&&this._ts<0)&&qu(this,1),!s&&(!(i<0)||f)&&(_||f||!d)&&(Wo(this,_===d&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var c=this;if(za(s)||(s=qo(this,s,i)),!(i instanceof Kd)){if(ro(i))return i.forEach(function(f){return c.add(f,s)}),this;if(li(i))return this.addLabel(i,s);if(!kr(i))return this;i=Vr.delayedCall(0,i)}return this!==i?na(this,i,s):this},t.getChildren=function(i,s,c,f){void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===c&&(c=!0),void 0===f&&(f=-ea);for(var d=[],m=this._first;m;)m._start>=f&&(m instanceof Vr?s&&d.push(m):(c&&d.push(m),i&&d.push.apply(d,m.getChildren(!0,s,c)))),m=m._next;return d},t.getById=function(i){for(var s=this.getChildren(1,1,1),c=s.length;c--;)if(s[c].vars.id===i)return s[c]},t.remove=function(i){return li(i)?this.removeLabel(i):kr(i)?this.killTweensOf(i):(Um(this,i),i===this._recent&&(this._recent=this._last),Wc(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ut(Qo.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=qo(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,c){var f=Vr.delayedCall(0,s||Vf,c);return f.data="isPause",this._hasPause=1,na(this,f,qo(this,i))},t.removePause=function(i){var s=this._first;for(i=qo(this,i);s;)s._start===i&&"isPause"===s.data&&qu(s),s=s._next},t.killTweensOf=function(i,s,c){for(var f=this.getTweensOf(i,c),d=f.length;d--;)Qu!==f[d]&&f[d].kill(i,s);return this},t.getTweensOf=function(i,s){for(var _,c=[],f=zo(i),d=this._first,m=za(s);d;)d instanceof Vr?t4(d._targets,f)&&(m?(!Qu||d._initted&&d._ts)&&d.globalTime(0)<=s&&d.globalTime(d.totalDuration())>s:!s||d.isActive())&&c.push(d):(_=d.getTweensOf(f,s)).length&&c.push.apply(c,_),d=d._next;return c},t.tweenTo=function(i,s){s=s||{};var I,c=this,f=qo(c,i),m=s.startAt,_=s.onStart,b=s.onStartParams,E=s.immediateRender,M=Vr.to(c,Go({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:f,overwrite:"auto",duration:s.duration||Math.abs((f-(m&&"time"in m?m.time:c._time))/c.timeScale())||sn,onStart:function(){if(c.pause(),!I){var F=s.duration||Math.abs((f-(m&&"time"in m?m.time:c._time))/c.timeScale());M._dur!==F&&Uf(M,F,0,1).render(M._time,!0,!0),I=1}_&&_.apply(M,b||[])}},s));return E?M.render(0):M},t.tweenFromTo=function(i,s,c){return this.tweenTo(s,Go({startAt:{time:qo(this,i)}},c))},t.recent=function(){return this._recent},t.nextLabel=function(i){return void 0===i&&(i=this._time),LA(this,qo(this,i))},t.previousLabel=function(i){return void 0===i&&(i=this._time),LA(this,qo(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+sn)},t.shiftChildren=function(i,s,c){void 0===c&&(c=0);for(var m,f=this._first,d=this.labels;f;)f._start>=c&&(f._start+=i,f._end+=i),f=f._next;if(s)for(m in d)d[m]>=c&&(d[m]+=i);return Wc(this)},t.invalidate=function(){var i=this._first;for(this._lock=0;i;)i.invalidate(),i=i._next;return n.prototype.invalidate.call(this)},t.clear=function(i){void 0===i&&(i=!0);for(var c,s=this._first;s;)c=s._next,this.remove(s),s=c;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Wc(this)},t.totalDuration=function(i){var m,_,b,s=0,c=this,f=c._last,d=ea;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-i:i));if(c._dirty){for(b=c.parent;f;)m=f._prev,f._dirty&&f.totalDuration(),(_=f._start)>d&&c._sort&&f._ts&&!c._lock?(c._lock=1,na(c,f,_-f._delay,1)._lock=0):d=_,_<0&&f._ts&&(s-=_,(!b&&!c._dp||b&&b.smoothChildTiming)&&(c._start+=_/c._ts,c._time-=_,c._tTime-=_),c.shiftChildren(-_,!1,-1/0),d=0),f._end>s&&f._ts&&(s=f._end),f=m;Uf(c,c===jn&&c._time>s?c._time:s,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(i){if(jn._ts&&(bA(jn,Bm(i,jn)),_A=Qo.frame),Qo.frame>=vA){vA+=Hi.autoSleep||120;var s=jn._first;if((!s||!s._ts)&&Hi.autoSleep&&Qo._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Qo.sleep()}}},e}(Kd);Go(Gi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Qu,S4=function(e,t,r,i,s,c,f){var b,E,I,M,N,F,z,q,d=new qi(this._pt,e,t,0,1,ZA,null,s),m=0,_=0;for(d.b=r,d.e=i,r+="",(z=~(i+="").indexOf("random("))&&(i=Hm(i)),c&&(c(q=[r,i],e,t),r=q[0],i=q[1]),E=r.match(J0)||[];b=J0.exec(i);)M=b[0],N=i.substring(m,b.index),I?I=(I+1)%5:"rgba("===N.substr(-5)&&(I=1),M!==E[_++]&&(F=parseFloat(E[_-1])||0,d._pt={_next:d._pt,p:N||1===_?N:",",s:F,c:"="===M.charAt(1)?parseFloat(M.substr(2))*("-"===M.charAt(0)?-1:1):parseFloat(M)-F,m:I&&I<4?Math.round:0},m=J0.lastIndex);return d.c=m<i.length?i.substring(m,i.length):"",d.fp=f,(dA.test(i)||z)&&(d.e=0),this._pt=d,d},mw=function(e,t,r,i,s,c,f,d,m){kr(i)&&(i=i(s||0,e,c));var I,_=e[t],b="get"!==r?r:kr(_)?m?e[t.indexOf("set")||!kr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](m):e[t]():_,E=kr(_)?m?O4:KA:yw;if(li(i)&&(~i.indexOf("random(")&&(i=Hm(i)),"="===i.charAt(1)&&((I=parseFloat(b)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(ao(b)||0))||0===I)&&(i=I)),b!==i)return isNaN(b*i)||""===i?(!_&&!(t in e)&&nw(t,i),S4.call(this,e,t,b,i,E,d||Hi.stringFilter,m)):(I=new qi(this._pt,e,t,+b||0,i-(b||0),"boolean"==typeof _?P4:YA,0,E),m&&(I.fp=m),f&&I.modifier(f,this,e),this._pt=I)},WA=function(e,t,r,i,s,c){var f,d,m,_;if(oo[e]&&!1!==(f=new oo[e]).init(s,f.rawVars?t[e]:function(e,t,r,i,s){if(kr(e)&&(e=Yd(e,s,t,r,i)),!Wa(e)||e.style&&e.nodeType||ro(e)||fA(e))return li(e)?Yd(e,s,t,r,i):e;var f,c={};for(f in e)c[f]=Yd(e[f],s,t,r,i);return c}(t[e],i,s,c,r),r,i,c)&&(r._pt=d=new qi(r._pt,s,e,0,1,f.render,f,0,f.priority),r!==Bf))for(m=r._ptLookup[r._targets.indexOf(s)],_=f._props.length;_--;)m[f._props[_]]=d;return f},x4=function n(e,t){var ye,De,je,Ie,Tt,Zt,Un,tr,Rn,nr,rr,Ko,el,r=e.vars,i=r.ease,s=r.startAt,c=r.immediateRender,f=r.lazy,d=r.onUpdate,m=r.onUpdateParams,_=r.callbackScope,b=r.runBackwards,E=r.yoyoEase,M=r.autoRevert,N=e._dur,F=e._startAt,z=e._targets,q=e.parent,re=q&&"nested"===q.data?q.parent._targets:z,ce="auto"===e._overwrite&&!K0,le=e.timeline;if(le&&(!r.keyframes||!i)&&(i="none"),e._ease=$f(i,Ff.ease),e._yEase=E?$A($f(!0===E?i:E,Ff.ease)):0,E&&e._yoyo&&!e._repeat&&(E=e._yEase,e._yEase=e._ease,e._ease=E),e._from=!le&&!!r.runBackwards,!le){if(Ko=(tr=z[0]?zc(z[0]).harness:0)&&r[tr.prop],ye=uw(r,rw),F&&F.render(-1,!0).kill(),s)if(qu(e._startAt=Vr.set(z,Go({data:"isStart",overwrite:!1,parent:q,immediateRender:!0,lazy:$i(f),startAt:null,delay:0,onUpdate:d,onUpdateParams:m,callbackScope:_,stagger:0},s))),t<0&&!c&&!M&&e._startAt.render(-1,!0),c){if(t>0&&!M&&(e._startAt=0),N&&t<=0)return void(t&&(e._zTime=t))}else!1===M&&(e._startAt=0);else if(b&&N)if(F)!M&&(e._startAt=0);else if(t&&(c=!1),je=Go({overwrite:!1,data:"isFromStart",lazy:c&&$i(f),immediateRender:c,stagger:0,parent:q},ye),Ko&&(je[tr.prop]=Ko),qu(e._startAt=Vr.set(z,je)),t<0&&e._startAt.render(-1,!0),c){if(!t)return}else n(e._startAt,sn);for(e._pt=0,f=N&&$i(f)||f&&!N,De=0;De<z.length;De++){if(Un=(Tt=z[De])._gsap||aw(z)[De]._gsap,e._ptLookup[De]=nr={},iw[Un.id]&&Gu.length&&Lm(),rr=re===z?De:re.indexOf(Tt),tr&&!1!==(Rn=new tr).init(Tt,Ko||ye,e,rr,re)&&(e._pt=Ie=new qi(e._pt,Tt,Rn.name,0,1,Rn.render,Rn,0,Rn.priority),Rn._props.forEach(function(tl){nr[tl]=Ie}),Rn.priority&&(Zt=1)),!tr||Ko)for(je in ye)oo[je]&&(Rn=WA(je,ye,e,rr,Tt,re))?Rn.priority&&(Zt=1):nr[je]=Ie=mw.call(e,Tt,je,"get",ye[je],rr,re,0,r.stringFilter);e._op&&e._op[De]&&e.kill(Tt,e._op[De]),ce&&e._pt&&(Qu=e,jn.killTweensOf(Tt,nr,e.globalTime(0)),el=!e.parent,Qu=0),e._pt&&f&&(iw[Un.id]=1)}Zt&&XA(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!el},Yd=function(e,t,r,i,s){return kr(e)?e.call(t,r,i,s):li(e)&&~e.indexOf("random(")?Hm(e):e},QA=sw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",N4=(QA+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Vr=function(n){function e(r,i,s,c){var f;"number"==typeof i&&(s.duration=i,i=s,s=null);var ce,le,ye,De,je,Ie,Tt,Zt,d=(f=n.call(this,c?i:jm(i))||this).vars,m=d.duration,_=d.delay,b=d.immediateRender,E=d.stagger,I=d.overwrite,M=d.keyframes,N=d.defaults,F=d.scrollTrigger,z=d.yoyoEase,q=i.parent||jn,re=(ro(r)||fA(r)?za(r[0]):"length"in i)?[r]:zo(r);if(f._targets=re.length?aw(re):km("GSAP target "+r+" not found. https://greensock.com",!Hi.nullTargetWarn)||[],f._ptLookup=[],f._overwrite=I,M||E||lA(m)||lA(_)){if(i=f.vars,(ce=f.timeline=new Gi({data:"nested",defaults:N||{}})).kill(),ce.parent=ce._dp=qa(f),ce._start=0,M)Go(ce.vars.defaults,{ease:"none"}),E?re.forEach(function(Un,tr){return M.forEach(function(Rn,nr){return ce.to(Un,Rn,nr?">":tr*E)})}):M.forEach(function(Un){return ce.to(re,Un,">")});else{if(De=re.length,Tt=E?RA(E):Vf,Wa(E))for(je in E)~QA.indexOf(je)&&(Zt||(Zt={}),Zt[je]=E[je]);for(le=0;le<De;le++){for(je in ye={},i)N4.indexOf(je)<0&&(ye[je]=i[je]);ye.stagger=0,z&&(ye.yoyoEase=z),Zt&&Lf(ye,Zt),Ie=re[le],ye.duration=+Yd(m,qa(f),le,Ie,re),ye.delay=(+Yd(_,qa(f),le,Ie,re)||0)-f._delay,!E&&1===De&&ye.delay&&(f._delay=_=ye.delay,f._start+=_,ye.delay=0),ce.to(Ie,ye,Tt(le,Ie,re))}ce.duration()?m=_=0:f.timeline=0}m||f.duration(m=ce.duration())}else f.timeline=0;return!0===I&&!K0&&(Qu=qa(f),jn.killTweensOf(re),Qu=0),na(q,qa(f),s),i.reversed&&f.reverse(),i.paused&&f.paused(!0),(b||!m&&!M&&f._start===Ut(q._time)&&$i(b)&&s4(qa(f))&&"nested"!==q.data)&&(f._tTime=-sn,f.render(Math.max(0,-_))),F&&AA(qa(f),F),f}aA(e,n);var t=e.prototype;return t.render=function(i,s,c){var b,E,I,M,N,F,z,q,re,f=this._time,d=this._tDur,m=this._dur,_=i>d-sn&&i>=0?d:i<sn?0:i;if(m){if(_!==this._tTime||!i||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=i<0){if(b=_,q=this.timeline,this._repeat){if(M=m+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*M+i,s,c);if(b=Ut(_%M),_===d?(I=this._repeat,b=m):((I=~~(_/M))&&I===_/M&&(b=m,I--),b>m&&(b=m)),(F=this._yoyo&&1&I)&&(re=this._yEase,b=m-b),N=jf(this._tTime,M),b===f&&!c&&this._initted)return this;I!==N&&(q&&this._yEase&&GA(q,F),this.vars.repeatRefresh&&!F&&!this._lock&&(this._lock=c=1,this.render(Ut(M*I),!0).invalidate()._lock=0))}if(!this._initted){if(xA(this,i<0?i:b,c,s))return this._tTime=0,this;if(m!==this._dur)return this.render(i,s,c)}if(this._tTime=_,this._time=b,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=z=(re||this._ease)(b/m),this._from&&(this.ratio=z=1-z),b&&!f&&!s&&(Wo(this,"onStart"),this._tTime!==_))return this;for(E=this._pt;E;)E.r(z,E.d),E=E._next;q&&q.render(i<0?i:!b&&F?-sn:q._dur*z,s,c)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(i<0&&this._startAt&&this._startAt.render(i,!0,c),Wo(this,"onUpdate")),this._repeat&&I!==N&&this.vars.onRepeat&&!s&&this.parent&&Wo(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(i<0&&this._startAt&&!this._onUpdate&&this._startAt.render(i,!0,!0),(i||!m)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&qu(this,1),!s&&(!(i<0)||f)&&(_||f)&&(Wo(this,_===d?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,i){var m,_,b,s=e.ratio,c=t<0||!t&&(!e._start&&a4(e)&&(e._initted||!lw(e))||(e._ts<0||e._dp._ts<0)&&!lw(e))?0:1,f=e._rDelay,d=0;if(f&&e._repeat&&(d=zd(0,e._tDur,t),_=jf(d,f),b=jf(e._tTime,f),e._yoyo&&1&_&&(c=1-c),_!==b&&(s=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==s||i||e._zTime===sn||!t&&e._zTime){if(!e._initted&&xA(e,t,i,r))return;for(b=e._zTime,e._zTime=t||(r?sn:0),r||(r=t&&!b),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=d,m=e._pt;m;)m.r(c,m.d),m=m._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!r&&Wo(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&Wo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&qu(e,1),r||(Wo(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,i,s,c);return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},t.kill=function(i,s){if(void 0===s&&(s="all"),!(i||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?Wd(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Qu&&!0!==Qu.vars.overwrite)._first||Wd(this),this.parent&&c!==this.timeline.totalDuration()&&Uf(this,this._dur*this.timeline._tDur/c,0,1),this}var b,E,I,M,N,F,z,f=this._targets,d=i?zo(i):f,m=this._ptLookup,_=this._pt;if((!s||"all"===s)&&function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0}(f,d))return"all"===s&&(this._pt=0),Wd(this);for(b=this._op=this._op||[],"all"!==s&&(li(s)&&(N={},so(s,function(q){return N[q]=1}),s=N),s=function(e,t){var s,c,f,d,r=e[0]?zc(e[0]).harness:0,i=r&&r.aliases;if(!i)return t;for(c in s=Lf({},t),i)if(c in s)for(f=(d=i[c].split(",")).length;f--;)s[d[f]]=s[c];return s}(f,s)),z=f.length;z--;)if(~d.indexOf(f[z]))for(N in E=m[z],"all"===s?(b[z]=s,M=E,I={}):(I=b[z]=b[z]||{},M=s),M)(F=E&&E[N])&&((!("kill"in F.d)||!0===F.d.kill(N))&&Um(this,F,"_pt"),delete E[N]),"all"!==I&&(I[N]=1);return this._initted&&!this._pt&&_&&Wd(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return qd(1,arguments)},e.delayedCall=function(i,s,c,f){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:f})},e.fromTo=function(i,s,c){return qd(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,c){return jn.killTweensOf(i,s,c)},e}(Kd);Go(Vr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),so("staggerTo,staggerFrom,staggerFromTo",function(n){Vr[n]=function(){var e=new Gi,t=fw.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var yw=function(e,t,r){return e[t]=r},KA=function(e,t,r){return e[t](r)},O4=function(e,t,r,i){return e[t](i.fp,r)},R4=function(e,t,r){return e.setAttribute(t,r)},_w=function(e,t){return kr(e[t])?KA:Z0(e[t])&&e.setAttribute?R4:yw},YA=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},P4=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},ZA=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},vw=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},F4=function(e,t,r,i){for(var c,s=this._pt;s;)c=s._next,s.p===i&&s.modifier(e,t,r),s=c},k4=function(e){for(var r,i,t=this._pt;t;)i=t._next,t.p===e&&!t.op||t.op===e?Um(this,t,"_pt"):t.dep||(r=1),t=i;return!r},V4=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},XA=function(e){for(var r,i,s,c,t=e._pt;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:c)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:c=t,t=r}e._pt=s},qi=function(){function n(t,r,i,s,c,f,d,m,_){this.t=r,this.s=s,this.c=c,this.p=i,this.r=f||YA,this.d=d||this,this.set=m||yw,this.pr=_||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=V4,this.m=r,this.mt=s,this.tween=i},n}();so(sw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return rw[n]=1}),io.TweenMax=io.TweenLite=Vr,io.TimelineLite=io.TimelineMax=Gi,jn=new Gi({sortChildren:!1,defaults:Ff,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Hi.stringFilter=HA;var Gm={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return w4(i)})},timeline:function(e){return new Gi(e)},getTweensOf:function(e,t){return jn.getTweensOf(e,t)},getProperty:function(e,t,r,i){li(e)&&(e=zo(e)[0]);var s=zc(e||{}).get,c=r?CA:EA;return"native"===r&&(r=""),e&&(t?c((oo[t]&&oo[t].get||s)(e,t,r,i)):function(f,d,m){return c((oo[f]&&oo[f].get||s)(e,f,d,m))})},quickSetter:function(e,t,r){if((e=zo(e)).length>1){var i=e.map(function(_){return ra.quickSetter(_,t,r)}),s=i.length;return function(_){for(var b=s;b--;)i[b](_)}}var c=oo[t],f=zc(e=e[0]||{}),d=f.harness&&(f.harness.aliases||{})[t]||t,m=c?function(_){var b=new c;Bf._pt=0,b.init(e,r?_+r:_,Bf,0,[e]),b.render(1,b),Bf._pt&&vw(1,Bf)}:f.set(e,d);return c?m:function(_){return m(e,d,r?_+r:_,f,1)}},isTweening:function(e){return jn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=$f(e.ease,Ff.ease)),DA(Ff,e||{})},config:function(e){return DA(Hi,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.defaults,c=e.extendTimeline;(e.plugins||"").split(",").forEach(function(f){return f&&!oo[f]&&!io[f]&&km(t+" effect requires "+f+" plugin.")}),ow[t]=function(f,d,m){return r(zo(f),Go(d||{},s),m)},c&&(Gi.prototype[t]=function(f,d,m){return this.add(ow[t](f,Wa(d)?d:(m=d)&&{},this),m)})},registerEase:function(e,t){Gt[e]=$f(t)},parseEase:function(e,t){return arguments.length?$f(e,t):Gt},getById:function(e){return jn.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,s,r=new Gi(e);for(r.smoothChildTiming=$i(e.smoothChildTiming),jn.remove(r),r._dp=0,r._time=r._tTime=jn._time,i=jn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Vr&&i.vars.onComplete===i._targets[0]))&&na(r,i,i._start-i._delay),i=s;return na(jn,r,0),r},utils:{wrap:function n(e,t,r){var i=t-e;return ro(e)?kA(e,n(0,e.length),t):zu(r,function(s){return(i+(s-e)%i)%i+e})},wrapYoyo:function n(e,t,r){var i=t-e,s=2*i;return ro(e)?kA(e,n(0,e.length-1),t):zu(r,function(c){return e+((c=(s+(c-e)%s)%s||0)>i?s-c:c)})},distribute:RA,random:FA,snap:PA,normalize:function(e,t,r){return VA(e,t,0,1,r)},getUnit:ao,clamp:function(e,t,r){return zu(r,function(i){return zd(e,t,i)})},splitColor:jA,toArray:zo,selector:function(e){return e=zo(e)[0]||km("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return zo(t,r.querySelectorAll?r:r===e?km("Invalid scope")||tw.createElement("div"):e)}},mapRange:VA,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,c){return c(s)},i)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||ao(r))}},interpolate:function n(e,t,r,i){var s=isNaN(e+t)?0:function(I){return(1-I)*e+I*t};if(!s){var d,m,_,b,E,c=li(e),f={};if(!0===r&&(i=1)&&(r=null),c)e={p:e},t={p:t};else if(ro(e)&&!ro(t)){for(_=[],E=(b=e.length)-2,m=1;m<b;m++)_.push(n(e[m-1],e[m]));b--,s=function(M){M*=b;var N=Math.min(E,~~M);return _[N](M-N)},r=t}else i||(e=Lf(ro(e)?[]:{},e));if(!_){for(d in t)mw.call(f,e,d,"get",t[d]);s=function(M){return vw(M,f)||(c?e.p:e)}}}return zu(r,s)},shuffle:OA},install:mA,effects:ow,ticker:Qo,updateRoot:Gi.updateRoot,plugins:oo,globalTimeline:jn,core:{PropTween:qi,globals:yA,Tween:Vr,Timeline:Gi,Animation:Kd,getCache:zc,_removeLinkedListItem:Um,suppressOverwrites:function(e){return K0=e}}};so("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Gm[n]=Vr[n]}),Qo.add(Gi.updateRoot),Bf=Gm.to({},{duration:0});var L4=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},ww=function(e,t){return{name:e,rawVars:1,init:function(i,s,c){c._onInit=function(f){var d,m;if(li(s)&&(d={},so(s,function(_){return d[_]=1}),s=d),t){for(m in d={},s)d[m]=t(s[m]);s=d}!function(e,t){var i,s,c,r=e._targets;for(i in t)for(s=r.length;s--;)(c=e._ptLookup[s][i])&&(c=c.d)&&(c._pt&&(c=L4(c,i)),c&&c.modifier&&c.modifier(t[i],e,r[s],i))}(f,s)}}}},ra=Gm.registerPlugin({name:"attr",init:function(e,t,r,i,s){var c,f;for(c in t)(f=this.add(e,"setAttribute",(e.getAttribute(c)||0)+"",t[c],i,s,0,0,c))&&(f.op=c),this._props.push(c)}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r])}},ww("roundProps",hw),ww("modifiers"),ww("snap",PA))||Gm;Vr.version=Gi.version=ra.version="3.7.1",gA=1,cA()&&Hf();var JA,Ku,Gf,bw,Kc,ex,sx,Yu={},Yc=180/Math.PI,qf=Math.PI/180,zf=Math.atan2,tx=1e8,nx=/([A-Z])/g,H4=/(?:left|right|width|margin|padding|x)/i,$4=/[\s,\(]\S/,Zu={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rx=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},G4=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},q4=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},z4=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},ix=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},ox=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},W4=function(e,t,r){return e.style[t]=r},Q4=function(e,t,r){return e.style.setProperty(t,r)},K4=function(e,t,r){return e._gsap[t]=r},Y4=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Z4=function(e,t,r,i,s){var c=e._gsap;c.scaleX=c.scaleY=r,c.renderTransform(s,c)},X4=function(e,t,r,i,s){var c=e._gsap;c[t]=r,c.renderTransform(s,c)},Wr="transform",Xu=Wr+"Origin",Ew=function(e,t){var r=Ku.createElementNS?Ku.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ku.createElement(e);return r.style?r:Ku.createElement(e)},Qa=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(nx,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Wf(t)||t,1)||""},ax="O,Moz,ms,Ms,Webkit".split(","),Wf=function(e,t,r){var s=(t||Kc).style,c=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(ax[c]+e in s););return c<0?null:(3===c?"ms":c>=0?ax[c]:"")+e},Cw=function(){"undefined"!=typeof window&&window.document&&(JA=window,Gf=(Ku=JA.document).documentElement,Kc=Ew("div")||{style:{}},Ew("div"),Wr=Wf(Wr),Xu=Wr+"Origin",Kc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",sx=!!Wf("perspective"),bw=1)},Dw=function n(e){var c,t=Ew("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText;if(Gf.appendChild(t),t.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(f){}else this._gsapBBox&&(c=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Gf.removeChild(t),this.style.cssText=s,c},ux=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},cx=function(e){var t;try{t=e.getBBox()}catch(r){t=Dw.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Dw||(t=Dw.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+ux(e,["x","cx","x1"])||0,y:+ux(e,["y","cy","y1"])||0,width:0,height:0}},lx=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!cx(e))},Zd=function(e,t){if(t){var r=e.style;t in Yu&&t!==Xu&&(t=Wr),r.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),r.removeProperty(t.replace(nx,"-$1").toLowerCase())):r.removeAttribute(t)}},Ju=function(e,t,r,i,s,c){var f=new qi(e._pt,t,r,0,1,c?ox:ix);return e._pt=f,f.b=i,f.e=s,e._props.push(r),f},fx={deg:1,rad:1,turn:1},ec=function n(e,t,r,i){var M,N,F,z,s=parseFloat(r)||0,c=(r+"").trim().substr((s+"").length)||"px",f=Kc.style,d=H4.test(t),m="svg"===e.tagName.toLowerCase(),_=(m?"client":"offset")+(d?"Width":"Height"),b=100,E="px"===i,I="%"===i;return i===c||!s||fx[i]||fx[c]?s:("px"!==c&&!E&&(s=n(e,t,r,"px")),z=e.getCTM&&lx(e),!I&&"%"!==c||!Yu[t]&&!~t.indexOf("adius")?(f[d?"width":"height"]=b+(E?c:i),N=~t.indexOf("adius")||"em"===i&&e.appendChild&&!m?e:e.parentNode,z&&(N=(e.ownerSVGElement||{}).parentNode),(!N||N===Ku||!N.appendChild)&&(N=Ku.body),(F=N._gsap)&&I&&F.width&&d&&F.time===Qo.time?Ut(s/F.width*b):((I||"%"===c)&&(f.position=Qa(e,"position")),N===e&&(f.position="static"),N.appendChild(Kc),M=Kc[_],N.removeChild(Kc),f.position="absolute",d&&I&&((F=zc(N)).time=Qo.time,F.width=N[_]),Ut(E?M*s/b:M&&s?b/M*s:0))):(M=z?e.getBBox()[d?"width":"height"]:e[_],Ut(I?s/M*b:s/100*M)))},Qf=function(e,t,r,i){var s;return bw||Cw(),t in Zu&&"transform"!==t&&~(t=Zu[t]).indexOf(",")&&(t=t.split(",")[0]),Yu[t]&&"transform"!==t?(s=Jd(e,i),s="transformOrigin"!==t?s[t]:s.svg?s.origin:zm(Qa(e,Xu))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||i||~(s+"").indexOf("calc("))&&(s=qm[t]&&qm[t](e,t,r)||Qa(e,t)||wA(e,t)||("opacity"===t?1:0)),r&&!~(s+"").trim().indexOf(" ")?ec(e,t,s,r)+r:s},J4=function(e,t,r,i){if(!r||"none"===r){var s=Wf(t,e,1),c=s&&Qa(e,s,1);c&&c!==r?(t=s,r=c):"borderColor"===t&&(r=Qa(e,"borderTopColor"))}var _,b,E,I,M,N,F,z,q,re,ce,le,f=new qi(this._pt,e.style,t,0,1,ZA),d=0,m=0;if(f.b=r,f.e=i,r+="","auto"==(i+="")&&(e.style[t]=i,i=Qa(e,t)||i,e.style[t]=r),HA(_=[r,i]),i=_[1],E=(r=_[0]).match(kf)||[],(i.match(kf)||[]).length){for(;b=kf.exec(i);)F=b[0],q=i.substring(d,b.index),M?M=(M+1)%5:("rgba("===q.substr(-5)||"hsla("===q.substr(-5))&&(M=1),F!==(N=E[m++]||"")&&(I=parseFloat(N)||0,ce=N.substr((I+"").length),(le="="===F.charAt(1)?+(F.charAt(0)+"1"):0)&&(F=F.substr(2)),z=parseFloat(F),re=F.substr((z+"").length),d=kf.lastIndex-re.length,re||(re=re||Hi.units[t]||ce,d===i.length&&(i+=re,f.e+=re)),ce!==re&&(I=ec(e,t,N,re)||0),f._pt={_next:f._pt,p:q||1===m?q:",",s:I,c:le?le*z:z-I,m:M&&M<4||"zIndex"===t?Math.round:0});f.c=d<i.length?i.substring(d,i.length):""}else f.r="display"===t&&"none"===i?ox:ix;return dA.test(i)&&(f.e=0),this._pt=f,f},hx={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},e$=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(e=r,r=i,i=e),t[0]=hx[r]||r,t[1]=hx[i]||i,t.join(" ")},t$=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var f,d,m,r=t.t,s=t.u,c=r._gsap;if("all"===s||!0===s)r.style.cssText="",d=1;else for(m=(s=s.split(",")).length;--m>-1;)Yu[f=s[m]]&&(d=1,f="transformOrigin"===f?Xu:Wr),Zd(r,f);d&&(Zd(r,Wr),c&&(c.svg&&r.removeAttribute("transform"),Jd(r,1),c.uncache=1))}},qm={clearProps:function(e,t,r,i,s){if("isFromStart"!==s.data){var c=e._pt=new qi(e._pt,t,r,0,0,t$);return c.u=i,c.pr=-10,c.tween=s,e._props.push(r),1}}},Xd=[1,0,0,1,0,0],dx={},px=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},gx=function(e){var t=Qa(e,Wr);return px(t)?Xd:t.substr(7).match(hA).map(Ut)},Iw=function(e,t){var c,f,d,m,r=e._gsap||zc(e),i=e.style,s=gx(e);return r.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(d=e.transform.baseVal.consolidate().matrix).a,d.b,d.c,d.d,d.e,d.f]).join(",")?Xd:s:(s===Xd&&!e.offsetParent&&e!==Gf&&!r.svg&&(d=i.display,i.display="block",(!(c=e.parentNode)||!e.offsetParent)&&(m=1,f=e.nextSibling,Gf.appendChild(e)),s=gx(e),d?i.display=d:Zd(e,"display"),m&&(f?c.insertBefore(e,f):c?c.appendChild(e):Gf.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Tw=function(e,t,r,i,s,c){var ye,De,Ie,f=e._gsap,d=s||Iw(e,!0),m=f.xOrigin||0,_=f.yOrigin||0,b=f.xOffset||0,E=f.yOffset||0,I=d[0],M=d[1],N=d[2],F=d[3],z=d[4],q=d[5],re=t.split(" "),ce=parseFloat(re[0])||0,le=parseFloat(re[1])||0;r?d!==Xd&&(De=I*F-M*N)&&(Ie=ce*(-M/De)+le*(I/De)-(I*q-M*z)/De,ce=ce*(F/De)+le*(-N/De)+(N*q-F*z)/De,le=Ie):(ce=(ye=cx(e)).x+(~re[0].indexOf("%")?ce/100*ye.width:ce),le=ye.y+(~(re[1]||re[0]).indexOf("%")?le/100*ye.height:le)),i||!1!==i&&f.smooth?(f.xOffset=b+((z=ce-m)*I+(q=le-_)*N)-z,f.yOffset=E+(z*M+q*F)-q):f.xOffset=f.yOffset=0,f.xOrigin=ce,f.yOrigin=le,f.smooth=!!i,f.origin=t,f.originIsAbsolute=!!r,e.style[Xu]="0px 0px",c&&(Ju(c,f,"xOrigin",m,ce),Ju(c,f,"yOrigin",_,le),Ju(c,f,"xOffset",b,f.xOffset),Ju(c,f,"yOffset",E,f.yOffset)),e.setAttribute("data-svg-origin",ce+" "+le)},Jd=function(e,t){var r=e._gsap||new zA(e);if("x"in r&&!t&&!r.uncache)return r;var m,_,b,E,I,M,N,F,z,q,re,ce,le,ye,De,je,Ie,Tt,Zt,Un,tr,Rn,nr,rr,Ko,el,tl,tp,nl,Cx,Ka,rl,i=e.style,s=r.scaleX<0,c="px",f="deg",d=Qa(e,Xu)||"0";return m=_=b=M=N=F=z=q=re=0,E=I=1,r.svg=!(!e.getCTM||!lx(e)),ye=Iw(e,r.svg),r.svg&&(rr=(!r.uncache||"0px 0px"===d)&&!t&&e.getAttribute("data-svg-origin"),Tw(e,rr||d,!!rr||r.originIsAbsolute,!1!==r.smooth,ye)),ce=r.xOrigin||0,le=r.yOrigin||0,ye!==Xd&&(Tt=ye[0],Zt=ye[1],Un=ye[2],tr=ye[3],m=Rn=ye[4],_=nr=ye[5],6===ye.length?(E=Math.sqrt(Tt*Tt+Zt*Zt),I=Math.sqrt(tr*tr+Un*Un),M=Tt||Zt?zf(Zt,Tt)*Yc:0,(z=Un||tr?zf(Un,tr)*Yc+M:0)&&(I*=Math.abs(Math.cos(z*qf))),r.svg&&(m-=ce-(ce*Tt+le*Un),_-=le-(ce*Zt+le*tr))):(Cx=ye[7],tl=ye[8],tp=ye[9],Ka=ye[11],m=ye[12],_=ye[13],b=ye[14],N=(De=zf(rl=ye[6],nl=ye[10]))*Yc,De&&(rr=Rn*(je=Math.cos(-De))+tl*(Ie=Math.sin(-De)),Ko=nr*je+tp*Ie,el=rl*je+nl*Ie,tl=Rn*-Ie+tl*je,tp=nr*-Ie+tp*je,nl=rl*-Ie+nl*je,Ka=Cx*-Ie+Ka*je,Rn=rr,nr=Ko,rl=el),F=(De=zf(-Un,nl))*Yc,De&&(je=Math.cos(-De),Ka=tr*(Ie=Math.sin(-De))+Ka*je,Tt=rr=Tt*je-tl*Ie,Zt=Ko=Zt*je-tp*Ie,Un=el=Un*je-nl*Ie),M=(De=zf(Zt,Tt))*Yc,De&&(rr=Tt*(je=Math.cos(De))+Zt*(Ie=Math.sin(De)),Ko=Rn*je+nr*Ie,Zt=Zt*je-Tt*Ie,nr=nr*je-Rn*Ie,Tt=rr,Rn=Ko),N&&Math.abs(N)+Math.abs(M)>359.9&&(N=M=0,F=180-F),E=Ut(Math.sqrt(Tt*Tt+Zt*Zt+Un*Un)),I=Ut(Math.sqrt(nr*nr+rl*rl)),De=zf(Rn,nr),z=Math.abs(De)>2e-4?De*Yc:0,re=Ka?1/(Ka<0?-Ka:Ka):0),r.svg&&(rr=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!px(Qa(e,Wr)),rr&&e.setAttribute("transform",rr))),Math.abs(z)>90&&Math.abs(z)<270&&(s?(E*=-1,z+=M<=0?180:-180,M+=M<=0?180:-180):(I*=-1,z+=z<=0?180:-180)),r.x=m-((r.xPercent=m&&(r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+c,r.y=_-((r.yPercent=_&&(r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+c,r.z=b+c,r.scaleX=Ut(E),r.scaleY=Ut(I),r.rotation=Ut(M)+f,r.rotationX=Ut(N)+f,r.rotationY=Ut(F)+f,r.skewX=z+f,r.skewY=q+f,r.transformPerspective=re+c,(r.zOrigin=parseFloat(d.split(" ")[2])||0)&&(i[Xu]=zm(d)),r.xOffset=r.yOffset=0,r.force3D=Hi.force3D,r.renderTransform=r.svg?r$:sx?mx:n$,r.uncache=0,r},zm=function(e){return(e=e.split(" "))[0]+" "+e[1]},Sw=function(e,t,r){var i=ao(t);return Ut(parseFloat(t)+parseFloat(ec(e,"x",r+"px",i)))+i},n$=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,mx(e,t)},Zc="0deg",ep="0px",Xc=") ",mx=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,c=r.x,f=r.y,d=r.z,m=r.rotation,_=r.rotationY,b=r.rotationX,E=r.skewX,I=r.skewY,M=r.scaleX,N=r.scaleY,F=r.transformPerspective,z=r.force3D,q=r.target,re=r.zOrigin,ce="",le="auto"===z&&e&&1!==e||!0===z;if(re&&(b!==Zc||_!==Zc)){var Ie,ye=parseFloat(_)*qf,De=Math.sin(ye),je=Math.cos(ye);ye=parseFloat(b)*qf,Ie=Math.cos(ye),c=Sw(q,c,De*Ie*-re),f=Sw(q,f,-Math.sin(ye)*-re),d=Sw(q,d,je*Ie*-re+re)}F!==ep&&(ce+="perspective("+F+Xc),(i||s)&&(ce+="translate("+i+"%, "+s+"%) "),(le||c!==ep||f!==ep||d!==ep)&&(ce+=d!==ep||le?"translate3d("+c+", "+f+", "+d+") ":"translate("+c+", "+f+Xc),m!==Zc&&(ce+="rotate("+m+Xc),_!==Zc&&(ce+="rotateY("+_+Xc),b!==Zc&&(ce+="rotateX("+b+Xc),(E!==Zc||I!==Zc)&&(ce+="skew("+E+", "+I+Xc),(1!==M||1!==N)&&(ce+="scale("+M+", "+N+Xc),q.style[Wr]=ce||"translate(0, 0)"},r$=function(e,t){var le,ye,De,je,Ie,r=t||this,i=r.xPercent,s=r.yPercent,c=r.x,f=r.y,d=r.rotation,m=r.skewX,_=r.skewY,b=r.scaleX,E=r.scaleY,I=r.target,M=r.xOrigin,N=r.yOrigin,F=r.xOffset,z=r.yOffset,q=r.forceCSS,re=parseFloat(c),ce=parseFloat(f);d=parseFloat(d),m=parseFloat(m),(_=parseFloat(_))&&(m+=_=parseFloat(_),d+=_),d||m?(d*=qf,m*=qf,le=Math.cos(d)*b,ye=Math.sin(d)*b,De=Math.sin(d-m)*-E,je=Math.cos(d-m)*E,m&&(_*=qf,Ie=Math.tan(m-_),De*=Ie=Math.sqrt(1+Ie*Ie),je*=Ie,_&&(Ie=Math.tan(_),le*=Ie=Math.sqrt(1+Ie*Ie),ye*=Ie)),le=Ut(le),ye=Ut(ye),De=Ut(De),je=Ut(je)):(le=b,je=E,ye=De=0),(re&&!~(c+"").indexOf("px")||ce&&!~(f+"").indexOf("px"))&&(re=ec(I,"x",c,"px"),ce=ec(I,"y",f,"px")),(M||N||F||z)&&(re=Ut(re+M-(M*le+N*De)+F),ce=Ut(ce+N-(M*ye+N*je)+z)),(i||s)&&(Ie=I.getBBox(),re=Ut(re+i/100*Ie.width),ce=Ut(ce+s/100*Ie.height)),I.setAttribute("transform",Ie="matrix("+le+","+ye+","+De+","+je+","+re+","+ce+")"),q&&(I.style[Wr]=Ie)},i$=function(e,t,r,i,s,c){var E,I,f=360,d=li(s),m=parseFloat(s)*(d&&~s.indexOf("rad")?Yc:1),_=c?m*c:m-i,b=i+_+"deg";return d&&("short"===(E=s.split("_")[1])&&(_%=f)!=_%180&&(_+=_<0?f:-f),"cw"===E&&_<0?_=(_+f*tx)%f-~~(_/f)*f:"ccw"===E&&_>0&&(_=(_-f*tx)%f-~~(_/f)*f)),e._pt=I=new qi(e._pt,t,r,i,_,G4),I.e=b,I.u="deg",e._props.push(r),I},yx=function(e,t){for(var r in t)e[r]=t[r];return e},o$=function(e,t,r){var f,d,m,_,b,E,M,i=yx({},r._gsap),c=r.style;for(d in i.svg?(m=r.getAttribute("transform"),r.setAttribute("transform",""),c[Wr]=t,f=Jd(r,1),Zd(r,Wr),r.setAttribute("transform",m)):(m=getComputedStyle(r)[Wr],c[Wr]=t,f=Jd(r,1),c[Wr]=m),Yu)(m=i[d])!==(_=f[d])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(d)<0&&(b=ao(m)!==(M=ao(_))?ec(r,d,m,M):parseFloat(m),E=parseFloat(_),e._pt=new qi(e._pt,f,d,b,E-b,rx),e._pt.u=M||0,e._props.push(d));yx(f,i)};so("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",c=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(f){return e<2?n+f:"border"+f+n});qm[e>1?"border"+n:n]=function(f,d,m,_,b){var E,I;if(arguments.length<4)return E=c.map(function(M){return Qf(f,M,m)}),5===(I=E.join(" ")).split(E[0]).length?E[0]:I;E=(_+"").split(" "),I={},c.forEach(function(M,N){return I[M]=E[N]=E[N]||E[(N-1)/2|0]}),f.init(d,I,b)}});var _x={name:"css",register:Cw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var m,_,b,E,I,M,N,F,z,q,re,ce,le,ye,De,c=this._props,f=e.style,d=r.vars.startAt;for(N in bw||Cw(),t)if("autoRound"!==N&&(_=t[N],!oo[N]||!WA(N,t,r,i,e,s)))if(M=qm[N],"function"==(I=typeof _)&&(I=typeof(_=_.call(r,i,e,s))),"string"===I&&~_.indexOf("random(")&&(_=Hm(_)),M)M(this,e,N,_,r)&&(De=1);else if("--"===N.substr(0,2))m=(getComputedStyle(e).getPropertyValue(N)+"").trim(),_+="",Wu.lastIndex=0,Wu.test(m)||(F=ao(m),z=ao(_)),z?F!==z&&(m=ec(e,N,m,z)+z):F&&(_+=F),this.add(f,"setProperty",m,_,i,s,0,0,N),c.push(N);else if("undefined"!==I){if(d&&N in d?(m="function"==typeof d[N]?d[N].call(r,i,e,s):d[N],N in Hi.units&&!ao(m)&&(m+=Hi.units[N]),"="===(m+"").charAt(1)&&(m=Qf(e,N))):m=Qf(e,N),E=parseFloat(m),(q="string"===I&&"="===_.charAt(1)?+(_.charAt(0)+"1"):0)&&(_=_.substr(2)),b=parseFloat(_),N in Zu&&("autoAlpha"===N&&(1===E&&"hidden"===Qf(e,"visibility")&&b&&(E=0),Ju(this,f,"visibility",E?"inherit":"hidden",b?"inherit":"hidden",!b)),"scale"!==N&&"transform"!==N&&~(N=Zu[N]).indexOf(",")&&(N=N.split(",")[0])),re=N in Yu)if(ce||((le=e._gsap).renderTransform&&!t.parseTransform||Jd(e,t.parseTransform),ye=!1!==t.smoothOrigin&&le.smooth,(ce=this._pt=new qi(this._pt,f,Wr,0,1,le.renderTransform,le,0,-1)).dep=1),"scale"===N)this._pt=new qi(this._pt,le,"scaleY",le.scaleY,(q?q*b:b-le.scaleY)||0),c.push("scaleY",N),N+="X";else{if("transformOrigin"===N){_=e$(_),le.svg?Tw(e,_,0,ye,0,this):((z=parseFloat(_.split(" ")[2])||0)!==le.zOrigin&&Ju(this,le,"zOrigin",le.zOrigin,z),Ju(this,f,N,zm(m),zm(_)));continue}if("svgOrigin"===N){Tw(e,_,1,ye,0,this);continue}if(N in dx){i$(this,le,N,E,_,q);continue}if("smoothOrigin"===N){Ju(this,le,"smooth",le.smooth,_);continue}if("force3D"===N){le[N]=_;continue}if("transform"===N){o$(this,_,e);continue}}else N in f||(N=Wf(N)||N);if(re||(b||0===b)&&(E||0===E)&&!$4.test(_)&&N in f)b||(b=0),(F=(m+"").substr((E+"").length))!==(z=ao(_)||(N in Hi.units?Hi.units[N]:F))&&(E=ec(e,N,m,z)),this._pt=new qi(this._pt,re?le:f,N,E,q?q*b:b-E,re||"px"!==z&&"zIndex"!==N||!1===t.autoRound?rx:z4),this._pt.u=z||0,F!==z&&(this._pt.b=m,this._pt.r=q4);else if(N in f)J4.call(this,e,N,m,_);else{if(!(N in e)){nw(N,_);continue}this.add(e,N,m||e[N],_,i,s)}c.push(N)}De&&XA(this)},get:Qf,aliases:Zu,getSetter:function(e,t,r){var i=Zu[t];return i&&i.indexOf(",")<0&&(t=i),t in Yu&&t!==Xu&&(e._gsap.x||Qf(e,"x"))?r&&ex===r?"scale"===t?Y4:K4:(ex=r||{})&&("scale"===t?Z4:X4):e.style&&!Z0(e.style[t])?W4:~t.indexOf("-")?Q4:_w(e,t)},core:{_removeProperty:Zd,_getMatrix:Iw}};ra.utils.checkPrefix=Wf,function(n,e,t,r){var i=so(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){Yu[s]=1});so(e,function(s){Hi.units[s]="deg",dx[s]=1}),Zu[i[13]]=n+","+e,so("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var c=s.split(":");Zu[c[1]]=i[c[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),so("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Hi.units[n]="px"}),ra.registerPlugin(_x);var vx=ra.registerPlugin(_x)||ra;class s$ extends V{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new a$(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=r.length;let c;if(this.closed)throw new T;if(this.isStopped||this.hasError?c=H.EMPTY:(this.observers.push(e),c=new R(this,e)),i&&e.add(e=new pm(e,i)),t)for(let f=0;f<s&&!e.closed;f++)e.next(r[f]);else for(let f=0;f<s&&!e.closed;f++)e.next(r[f].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),c}_getNow(){return(this.scheduler||BU).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,s=i.length;let c=0;for(;c<s&&!(e-i[c].time<r);)c++;return s>t&&(c=Math.max(c,s-t)),c>0&&i.splice(0,c),i}}class a${constructor(e,t){this.time=e,this.value=t}}let l$=(()=>{class n{constructor(t,r,i,s){const c=new zT(s),f=WT(c),d=ot(void 0).pipe(Nd(c.outsideAngular),Ti(()=>s.runOutsideAngular(()=>nt.e(952).then(nt.bind(nt,952)))),G(()=>E0(t,s,r)),G(m=>s.runOutsideAngular(()=>m.auth())),function(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},i=>i.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,c,s=0,f=!1,d=!1;return function(_){let b;s++,!i||f?(f=!1,i=new s$(n,e,r),b=i.subscribe(this),c=_.subscribe({next(E){i.next(E)},error(E){f=!0,i.error(E)},complete(){d=!0,c=void 0,i.complete()}}),d&&(c=void 0)):b=i.subscribe(this),this.add(()=>{s--,b.unsubscribe(),b=void 0,c&&!d&&t&&0===s&&(c.unsubscribe(),c=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return TI(i)?this.authState=this.user=this.idToken=this.idTokenResult=ot(null):(d.pipe(Bc()).subscribe(),this.authState=d.pipe(Ti(_=>_.getRedirectResult().then(()=>_,()=>_)),Ti(_=>s.runOutsideAngular(()=>new Ke(_.onAuthStateChanged.bind(_)))),f),this.user=d.pipe(Ti(_=>_.getRedirectResult().then(()=>_,()=>_)),Ti(_=>s.runOutsideAngular(()=>new Ke(_.onIdTokenChanged.bind(_)))),f),this.idToken=this.user.pipe(Ti(_=>_?Ze(_.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(Ti(_=>_?Ze(_.getIdTokenResult()):ot(null)))),((n,e,t)=>new Proxy(n,{get:(r,i)=>t.runOutsideAngular(()=>{if(n[i])return n[i];if(iB.includes(i))return()=>{};const s=e.toPromise().then(c=>{const f=c&&c[i];return"function"==typeof f?f.bind(c):f&&f.then?f.then(d=>t.run(()=>d)):t.run(()=>f)});return new Proxy(()=>{},{get:(c,f)=>s[f],apply:(c,f,d)=>s.then(m=>m&&m(...d))})})}))(this,d,s)}}return n.\u0275fac=function(t){return new(t||n)(_e(xf),_e(Mf,8),_e(Ru),_e(Tn))},n.\u0275prov=tt({factory:function(){return new n(_e(xf),_e(Mf,8),_e(Ru),_e(Tn))},token:n,providedIn:"any"}),n})(),Jc=(()=>{class n{constructor(){this.email="",this.password=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aw=(()=>{class n{constructor(t,r,i){this.angularFireAuth=t,this.usuarioService=r,this.routes=i,this.email="",this.userData=t.authState,this.isLoggedIn=!1}SignUp(t,r){this.angularFireAuth.createUserWithEmailAndPassword(t,r).then(i=>{console.log("You are Successfully signed up!",i),this.usuarioService.email=t,this.usuarioService.password=r,sessionStorage.setItem("loggedUser",t),this.isLoggedIn=!0,this.email=t}).catch(i=>{console.log("Something is wrong:",i.message)})}SignIn(t,r){this.angularFireAuth.signInWithEmailAndPassword(t,r).then(i=>{console.log("You are in!"),this.usuarioService.email=t,this.usuarioService.password=r,sessionStorage.setItem("loggedUser",t),this.routes.navigate(["/home"]),this.isLoggedIn=!0,this.email=t}).catch(i=>{console.log("Something went wrong:",i.message)})}SignOut(){this.angularFireAuth.signOut(),this.usuarioService.email="",this.usuarioService.password="",sessionStorage.setItem("loggedUser",""),this.isLoggedIn=!1,this.email=""}}return n.\u0275fac=function(t){return new(t||n)(_e(l$),_e(Jc),_e(ci))},n.\u0275prov=tt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wx=(()=>{class n{constructor(t,r,i,s){this.routes=t,this.authService=r,this.usuarioService=i,this.usuarioActual=s,this.email="",this.pass="",this.tl=vx.timeline({paused:!0}),this.usuarioActual=i}ngOnInit(){}createTl(){this.tl.to("#inBtn",{duration:.5,yoyo:!0,repeat:1,y:-5,ease:"back.out(4)"})}playTlIntn(){this.createTl(),this.tl.play()}siguiente(){console.log("siguiente"),setTimeout(()=>{this.routes.navigate(["home"])},2e3)}signUp(){this.authService.SignUp(this.email,this.pass)}signIn(){this.authService.SignIn(this.email,this.pass)}signOut(){this.authService.SignOut()}TestSignIn(){this.authService.SignIn("kiki@mail.com","unotresdos")}}return n.\u0275fac=function(t){return new(t||n)(ge(ci),ge(Aw),ge(Jc),ge(Jc))},n.\u0275cmp=Cn({type:n,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"form-signin"],["src","../assets/brand/bootstrap-solid.svg","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","name","email","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","name","pass","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],["id","inBtn","type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"mouseenter","click"],["id","upBtn","type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(t,r){1&t&&(ie(0,"form",0),on(1,"img",1),ie(2,"h1",2),Fe(3,"Please sign in"),oe(),ie(4,"label",3),Fe(5,"Email address"),oe(),ie(6,"input",4),Nn("ngModelChange",function(s){return r.email=s}),oe(),ie(7,"label",5),Fe(8,"Password"),oe(),ie(9,"input",6),Nn("ngModelChange",function(s){return r.pass=s}),oe(),ie(10,"div",7),ie(11,"label"),on(12,"input",8),Fe(13," Remember me "),oe(),oe(),ie(14,"button",9),Nn("mouseenter",function(){return r.playTlIntn()})("click",function(){return r.signIn()}),Fe(15,"Ingresar"),oe(),ie(16,"button",10),Nn("click",function(){return r.signUp()}),Fe(17,"Registrate"),oe(),ie(18,"button",11),Nn("click",function(){return r.TestSignIn()}),Fe(19,"Test Login"),oe(),ie(20,"p",12),Fe(21,"\xa9 2017-2021"),oe(),oe()),2&t&&(to(6),qs("ngModel",r.email),to(3),qs("ngModel",r.pass))},directives:[bT,hT,um,Td,lm,r0,cm],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),n})(),f$=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Cn({type:n,selectors:[["app-quien-soy"]],decls:9,vars:0,consts:[["role","main"],[1,"container","marketing"],[1,"customWrapper"],[1,"col-lg-4","custom"],["src","../../../assets/img/profile.png","alt",""]],template:function(t,r){1&t&&(ie(0,"main",0),ie(1,"div",1),ie(2,"div",2),ie(3,"div",3),on(4,"img",4),ie(5,"h2"),Fe(6,"Yanina Perez"),oe(),ie(7,"p"),Fe(8,"Juego puzzle: hay que armar la imagen correcta en la menor cantidad de movimientos posibles."),oe(),oe(),oe(),oe(),oe())},styles:["body[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem;color:#5a5a5a}.carousel[_ngcontent-%COMP%]{margin-bottom:4rem}.carousel-caption[_ngcontent-%COMP%]{bottom:3rem;z-index:10}.carousel-item[_ngcontent-%COMP%]{height:32rem}.carousel-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;min-width:100%;height:32rem}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.marketing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400}.marketing[_ngcontent-%COMP%]   .col-lg-4[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:.75rem;margin-left:.75rem}.featurette-divider[_ngcontent-%COMP%]{margin:5rem 0}.featurette-heading[_ngcontent-%COMP%]{font-weight:300;line-height:1;letter-spacing:-.05rem}@media (min-width: 40em){.carousel-caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.4}.featurette-heading[_ngcontent-%COMP%]{font-size:50px}}@media (min-width: 62em){.featurette-heading[_ngcontent-%COMP%]{margin-top:7rem}}.custom[_ngcontent-%COMP%]{width:20%}.customWrapper[_ngcontent-%COMP%]{width:100%;position:absolute;top:100px;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),n})(),bx=(()=>{class n{constructor(t,r){this.usuarioService=t,this.usuarioActual=r,this.usuarioActual=new Jc,this.usuarioActual.email=t.email,this.usuarioActual.password=t.password}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(ge(Jc),ge(Jc))},n.\u0275cmp=Cn({type:n,selectors:[["app-bienvenido"]],decls:150,vars:1,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","font-weight-normal"],[1,"lead","font-weight-normal"],["href","#",1,"btn","btn-outline-secondary"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","pl-md-3"],[1,"bg-dark","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","py-3"],[1,"display-5"],[1,"lead"],[1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-light","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"my-3","p-3"],[1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-primary","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"bg-white","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"container","py-5"],[1,"row"],[1,"col-12","col-md"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24","focusable","false",1,"d-block","mb-2"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],[1,"d-block","mb-3","text-muted"],[1,"col-6","col-md"],[1,"list-unstyled","text-small"],["href","#",1,"text-muted"]],template:function(t,r){1&t&&(ie(0,"div",0),ie(1,"div",1),ie(2,"h1",2),Fe(3),oe(),ie(4,"p",3),Fe(5,"And an even wittier subheading to boot. Jumpstart your marketing efforts with this example based on Apple\u2019s marketing pages."),oe(),ie(6,"a",4),Fe(7,"Coming soon"),oe(),oe(),on(8,"div",5),on(9,"div",6),oe(),ie(10,"div",7),ie(11,"div",8),ie(12,"div",9),ie(13,"h2",10),Fe(14,"Another headline"),oe(),ie(15,"p",11),Fe(16,"And an even wittier subheading."),oe(),oe(),on(17,"div",12),oe(),ie(18,"div",13),ie(19,"div",14),ie(20,"h2",10),Fe(21,"Another headline"),oe(),ie(22,"p",11),Fe(23,"And an even wittier subheading."),oe(),oe(),on(24,"div",15),oe(),oe(),ie(25,"div",7),ie(26,"div",13),ie(27,"div",14),ie(28,"h2",10),Fe(29,"Another headline"),oe(),ie(30,"p",11),Fe(31,"And an even wittier subheading."),oe(),oe(),on(32,"div",15),oe(),ie(33,"div",16),ie(34,"div",9),ie(35,"h2",10),Fe(36,"Another headline"),oe(),ie(37,"p",11),Fe(38,"And an even wittier subheading."),oe(),oe(),on(39,"div",12),oe(),oe(),ie(40,"div",7),ie(41,"div",13),ie(42,"div",14),ie(43,"h2",10),Fe(44,"Another headline"),oe(),ie(45,"p",11),Fe(46,"And an even wittier subheading."),oe(),oe(),on(47,"div",17),oe(),ie(48,"div",13),ie(49,"div",9),ie(50,"h2",10),Fe(51,"Another headline"),oe(),ie(52,"p",11),Fe(53,"And an even wittier subheading."),oe(),oe(),on(54,"div",17),oe(),oe(),ie(55,"div",7),ie(56,"div",13),ie(57,"div",14),ie(58,"h2",10),Fe(59,"Another headline"),oe(),ie(60,"p",11),Fe(61,"And an even wittier subheading."),oe(),oe(),on(62,"div",17),oe(),ie(63,"div",13),ie(64,"div",9),ie(65,"h2",10),Fe(66,"Another headline"),oe(),ie(67,"p",11),Fe(68,"And an even wittier subheading."),oe(),oe(),on(69,"div",17),oe(),oe(),ie(70,"footer",18),ie(71,"div",19),ie(72,"div",20),$r(),ie(73,"svg",21),ie(74,"title"),Fe(75,"Product"),oe(),on(76,"circle",22),on(77,"path",23),oe(),rn(),ie(78,"small",24),Fe(79,"\xa9 2017-2021"),oe(),oe(),ie(80,"div",25),ie(81,"h5"),Fe(82,"Features"),oe(),ie(83,"ul",26),ie(84,"li"),ie(85,"a",27),Fe(86,"Cool stuff"),oe(),oe(),ie(87,"li"),ie(88,"a",27),Fe(89,"Random feature"),oe(),oe(),ie(90,"li"),ie(91,"a",27),Fe(92,"Team feature"),oe(),oe(),ie(93,"li"),ie(94,"a",27),Fe(95,"Stuff for developers"),oe(),oe(),ie(96,"li"),ie(97,"a",27),Fe(98,"Another one"),oe(),oe(),ie(99,"li"),ie(100,"a",27),Fe(101,"Last time"),oe(),oe(),oe(),oe(),ie(102,"div",25),ie(103,"h5"),Fe(104,"Resources"),oe(),ie(105,"ul",26),ie(106,"li"),ie(107,"a",27),Fe(108,"Resource"),oe(),oe(),ie(109,"li"),ie(110,"a",27),Fe(111,"Resource name"),oe(),oe(),ie(112,"li"),ie(113,"a",27),Fe(114,"Another resource"),oe(),oe(),ie(115,"li"),ie(116,"a",27),Fe(117,"Final resource"),oe(),oe(),oe(),oe(),ie(118,"div",25),ie(119,"h5"),Fe(120,"Resources"),oe(),ie(121,"ul",26),ie(122,"li"),ie(123,"a",27),Fe(124,"Business"),oe(),oe(),ie(125,"li"),ie(126,"a",27),Fe(127,"Education"),oe(),oe(),ie(128,"li"),ie(129,"a",27),Fe(130,"Government"),oe(),oe(),ie(131,"li"),ie(132,"a",27),Fe(133,"Gaming"),oe(),oe(),oe(),oe(),ie(134,"div",25),ie(135,"h5"),Fe(136,"About"),oe(),ie(137,"ul",26),ie(138,"li"),ie(139,"a",27),Fe(140,"Team"),oe(),oe(),ie(141,"li"),ie(142,"a",27),Fe(143,"Locations"),oe(),oe(),ie(144,"li"),ie(145,"a",27),Fe(146,"Privacy"),oe(),oe(),ie(147,"li"),ie(148,"a",27),Fe(149,"Terms"),oe(),oe(),oe(),oe(),oe(),oe()),2&t&&(to(3),v_(r.usuarioActual.email))},styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,a.85);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),n})(),h$=(()=>{class n{constructor(){this.title="ejercicio-1",this.edadUno=0,this.edadDos=0,this.promedio=0}ngOnInit(){}calcular(){this.promedio=(this.edadUno+this.edadDos)/2}limpiar(){this.edadDos=0,this.edadUno=0,this.promedio=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Cn({type:n,selectors:[["app-ej1"]],decls:22,vars:3,consts:[["type","number",3,"ngModel","ngModelChange"],["type","button","value","Calcular",3,"click"],["type","button","value","Limpiar cuadros de texto",3,"click"]],template:function(t,r){1&t&&(ie(0,"h1"),Fe(1,"Ejercicio 1"),oe(),on(2,"br"),on(3,"br"),ie(4,"h4"),Fe(5,"Edad 1: "),oe(),ie(6,"input",0),Nn("ngModelChange",function(s){return r.edadUno=s}),oe(),on(7,"br"),on(8,"br"),ie(9,"h4"),Fe(10,"Edad 2: "),oe(),ie(11,"input",0),Nn("ngModelChange",function(s){return r.edadDos=s}),oe(),on(12,"br"),on(13,"br"),ie(14,"h4"),Fe(15,"Promedio Edades"),oe(),ie(16,"input",0),Nn("ngModelChange",function(s){return r.promedio=s}),oe(),on(17,"br"),on(18,"br"),ie(19,"input",1),Nn("click",function(){return r.calcular()}),oe(),on(20,"br"),ie(21,"input",2),Nn("click",function(){return r.limpiar()}),oe()),2&t&&(to(6),qs("ngModel",r.edadUno),to(5),qs("ngModel",r.edadDos),to(5),qs("ngModel",r.promedio))},directives:[h0,Td,r0,cm],styles:[""]}),n})();class d${constructor(){this.nombre="Kiki",this.clave="unotresdos"}}const p$=[{path:"login",component:wx},{path:"ingreso",component:wx},{path:"quien-soy",component:f$},{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:bx},{path:"casa",component:bx},{path:"ej1",component:h$},{path:"**",component:(()=>{class n{constructor(){this.myUsuario=new d$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Cn({type:n,selectors:[["app-error"]],decls:6,vars:2,template:function(t,r){1&t&&(ie(0,"p"),Fe(1,"ERROR !!"),oe(),ie(2,"p"),Fe(3),oe(),ie(4,"p"),Fe(5),oe()),2&t&&(to(3),lf("Nombre de usuario: ",r.myUsuario.nombre,""),to(2),lf("Pass de usuario: ",r.myUsuario.clave,""))},styles:[""]}),n})()}];let g$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n}),n.\u0275inj=an({imports:[[iA.forRoot(p$)],iA]}),n})();function m$(n,e){1&n&&(ie(0,"a",12),Fe(1,"Login/Signup"),oe())}function y$(n,e){if(1&n){const t=he();ie(0,"a",13),Nn("click",function(){return function(n){at.lFrame.contextLView=n}(t),m_().signOut()}),Fe(1,"Logout"),oe()}}function _$(n,e){if(1&n&&(ie(0,"p",14),Fe(1),oe()),2&n){const t=m_();to(1),lf("Bienvenida/o: ",t.authService.email,"")}}let v$=(()=>{class n{constructor(t,r){this.authService=t,this.usuarioService=r}ngOnInit(){}signOut(){this.authService.SignOut()}}return n.\u0275fac=function(t){return new(t||n)(ge(Aw),ge(Jc))},n.\u0275cmp=Cn({type:n,selectors:[["app-nav-bar"]],decls:18,vars:3,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#002BFF","role","img","viewBox","0 0 32 32","focusable","false",1,"d-block","mx-auto"],["d","M27.5,15.4c0.8-2.6,0.6-5.4-0.6-7.9L26,5.7c-0.2-0.3-0.6-0.5-0.9-0.4l-2.2,0.8c-2,0.7-3.8,1.9-5.3,3.5\n\tc-0.5-0.1-1.1-0.1-1.6-0.1c-0.6,0-1.1,0-1.6,0.1c-1.4-1.6-3.2-2.8-5.3-3.5L6.9,5.4C6.6,5.2,6.2,5.4,6,5.7L5.2,7.5\n\tC4,10,3.8,12.8,4.5,15.4c-0.4,0.8-0.6,1.7-0.6,2.7c0,4.7,5.4,8.6,12.1,8.6s12.1-3.8,12.1-8.6C28.1,17.2,27.9,16.3,27.5,15.4z\n\t M18.1,21.7l-1.6,1.4c-0.2,0.1-0.3,0.2-0.5,0.2c-0.2,0-0.4-0.1-0.5-0.2l-1.6-1.4c-0.6-0.5-0.2-1.4,0.5-1.4h3.2\n\tC18.3,20.3,18.7,21.2,18.1,21.7z",1,"st0"],["routerLink","/home",1,"py-2","d-none","d-md-inline-block"],["routerLink","/quien-soy",1,"py-2","d-none","d-md-inline-block"],["routerLink","/ej1",1,"py-2","d-none","d-md-inline-block"],["routerLink","/error",1,"py-2","d-none","d-md-inline-block"],["class","py-2 d-none d-md-inline-block","routerLink","/login",4,"ngIf"],["class","py-2 d-none d-md-inline-block","id","logout",3,"click",4,"ngIf"],["class","py-2 d-none d-md-inline-block",4,"ngIf"],["routerLink","/login",1,"py-2","d-none","d-md-inline-block"],["id","logout",1,"py-2","d-none","d-md-inline-block",3,"click"],[1,"py-2","d-none","d-md-inline-block"]],template:function(t,r){1&t&&(ie(0,"nav",0),ie(1,"div",1),ie(2,"a",2),$r(),ie(3,"svg",3),ie(4,"title"),Fe(5,"Logo"),oe(),on(6,"path",4),oe(),oe(),rn(),ie(7,"a",5),Fe(8,"Home"),oe(),ie(9,"a",6),Fe(10,"Quien soy"),oe(),ie(11,"a",7),Fe(12,"Ejercicio 1"),oe(),ie(13,"a",8),Fe(14,"Ejercicio 2"),oe(),ig(15,m$,2,0,"a",9),ig(16,y$,2,0,"a",10),ig(17,_$,2,1,"p",11),oe(),oe()),2&t&&(to(15),qs("ngIf",!r.authService.isLoggedIn),to(1),qs("ngIf",r.authService.isLoggedIn),to(1),qs("ngIf",r.authService.isLoggedIn))},directives:[Pm,bI],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{background-color:#fffaff;font-family:"Raleway"}#navBar[_ngcontent-%COMP%]{width:150px;background-color:#2e1284;height:100%;position:fixed;top:0;left:0;display:flex;flex-direction:column;align-items:center;font-family:"Vollkorn";font-weight:400;font-size:16px;padding-top:20px}.navItem[_ngcontent-%COMP%]{padding:15px 0;color:#fffaff;text-decoration:none;display:flex;flex-direction:column;align-items:center;border-bottom:solid 1px rgba(251,241,231,.5);width:100%}.navItem[_ngcontent-%COMP%]:hover{opacity:.5}.navIcon[_ngcontent-%COMP%]{width:35px;height:auto;fill:azure}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}#logout[_ngcontent-%COMP%]{color:red;cursor:pointer}']}),n})(),w$=(()=>{class n{constructor(){this.title="my-app",this.edadUno=0,this.edadDos=0,this.promedio=0}calcular(){this.promedio=(this.edadUno+this.edadDos)/2}limpiar(){this.edadDos=0,this.edadUno=0,this.promedio=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Cn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(on(0,"app-nav-bar"),on(1,"router-outlet"))},directives:[v$,z0],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@200;300;400;500;700;900&family=Vollkorn:wght@400;500;700;900&display=swap";*[_ngcontent-%COMP%]{text-align:center}body[_ngcontent-%COMP%]{background-color:#fffaff;font-family:"Raleway"}#navBar[_ngcontent-%COMP%]{width:150px;background-color:#2e1284;height:100%;position:fixed;top:0;left:0;display:flex;flex-direction:column;align-items:center;font-family:"Vollkorn";font-weight:400;font-size:16px;padding-top:20px}.navItem[_ngcontent-%COMP%]{padding:15px 0;color:#fffaff;text-decoration:none;display:flex;flex-direction:column;align-items:center;border-bottom:solid 1px rgba(251,241,231,.5);width:100%}.navItem[_ngcontent-%COMP%]:hover{opacity:.5}.navIcon[_ngcontent-%COMP%]{width:35px;height:auto;fill:azure}#mainSection[_ngcontent-%COMP%]{position:absolute;left:7%;width:93%;display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%]{font-family:"Vollkorn";font-weight:700;font-size:40px;color:#2e1284}']}),n})();const Ex_firebaseConfig={apiKey:"AIzaSyCnTq9tZXg8rOShB4Umkxj0V94t9qo9JT8",authDomain:"yanina-perez-labiv.firebaseapp.com",databaseURL:"https://yanina-perez-labiv-default-rtdb.firebaseio.com",projectId:"yanina-perez-labiv",storageBucket:"yanina-perez-labiv.appspot.com",messagingSenderId:"1024446828734",appId:"1:1024446828734:web:e4dd40ffa1eb8959a70eef"};let b$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=mr({type:n,bootstrap:[w$]}),n.\u0275inj=an({providers:[Aw],imports:[[Uj,g$,VU,cB.initializeApp(Ex_firebaseConfig),wB]]}),n})();(function(){if(S1)throw new Error("Cannot enable prod mode after platform setup.");T1=!1})(),Lj().bootstrapModule(b$).catch(n=>console.error(n))},796:(Lr,be,nt)=>{"use strict";nt.r(be),nt.d(be,{__extends:()=>yt,__assign:()=>$e,__rest:()=>Re,__decorate:()=>fe,__param:()=>qt,__metadata:()=>Ne,__awaiter:()=>Sn,__generator:()=>$,__createBinding:()=>H,__exportStar:()=>ke,__values:()=>Ee,__read:()=>Z,__spread:()=>pe,__spreadArrays:()=>St,__await:()=>ct,__asyncGenerator:()=>me,__asyncDelegator:()=>Ce,__asyncValues:()=>de,__makeTemplateObject:()=>At,__importStar:()=>lt,__importDefault:()=>Ke,__classPrivateFieldGet:()=>bn,__classPrivateFieldSet:()=>st});var k=function(T,R){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,V){S.__proto__=V}||function(S,V){for(var L in V)V.hasOwnProperty(L)&&(S[L]=V[L])})(T,R)};function yt(T,R){function S(){this.constructor=T}k(T,R),T.prototype=null===R?Object.create(R):(S.prototype=R.prototype,new S)}var $e=function(){return($e=Object.assign||function(R){for(var S,V=1,L=arguments.length;V<L;V++)for(var O in S=arguments[V])Object.prototype.hasOwnProperty.call(S,O)&&(R[O]=S[O]);return R}).apply(this,arguments)};function Re(T,R){var S={};for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&R.indexOf(V)<0&&(S[V]=T[V]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(V=Object.getOwnPropertySymbols(T);L<V.length;L++)R.indexOf(V[L])<0&&Object.prototype.propertyIsEnumerable.call(T,V[L])&&(S[V[L]]=T[V[L]])}return S}function fe(T,R,S,V){var G,L=arguments.length,O=L<3?R:null===V?V=Object.getOwnPropertyDescriptor(R,S):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(T,R,S,V);else for(var se=T.length-1;se>=0;se--)(G=T[se])&&(O=(L<3?G(O):L>3?G(R,S,O):G(R,S))||O);return L>3&&O&&Object.defineProperty(R,S,O),O}function qt(T,R){return function(S,V){R(S,V,T)}}function Ne(T,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(T,R)}function Sn(T,R,S,V){return new(S||(S=Promise))(function(O,G){function se(Te){try{X(V.next(Te))}catch(Pe){G(Pe)}}function ze(Te){try{X(V.throw(Te))}catch(Pe){G(Pe)}}function X(Te){Te.done?O(Te.value):function(O){return O instanceof S?O:new S(function(G){G(O)})}(Te.value).then(se,ze)}X((V=V.apply(T,R||[])).next())})}function $(T,R){var V,L,O,G,S={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return G={next:se(0),throw:se(1),return:se(2)},"function"==typeof Symbol&&(G[Symbol.iterator]=function(){return this}),G;function se(X){return function(Te){return function(X){if(V)throw new TypeError("Generator is already executing.");for(;S;)try{if(V=1,L&&(O=2&X[0]?L.return:X[0]?L.throw||((O=L.return)&&O.call(L),0):L.next)&&!(O=O.call(L,X[1])).done)return O;switch(L=0,O&&(X=[2&X[0],O.value]),X[0]){case 0:case 1:O=X;break;case 4:return S.label++,{value:X[1],done:!1};case 5:S.label++,L=X[1],X=[0];continue;case 7:X=S.ops.pop(),S.trys.pop();continue;default:if(!(O=(O=S.trys).length>0&&O[O.length-1])&&(6===X[0]||2===X[0])){S=0;continue}if(3===X[0]&&(!O||X[1]>O[0]&&X[1]<O[3])){S.label=X[1];break}if(6===X[0]&&S.label<O[1]){S.label=O[1],O=X;break}if(O&&S.label<O[2]){S.label=O[2],S.ops.push(X);break}O[2]&&S.ops.pop(),S.trys.pop();continue}X=R.call(T,S)}catch(Te){X=[6,Te],L=0}finally{V=O=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,Te])}}}function H(T,R,S,V){void 0===V&&(V=S),T[V]=R[S]}function ke(T,R){for(var S in T)"default"!==S&&!R.hasOwnProperty(S)&&(R[S]=T[S])}function Ee(T){var R="function"==typeof Symbol&&Symbol.iterator,S=R&&T[R],V=0;if(S)return S.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&V>=T.length&&(T=void 0),{value:T&&T[V++],done:!T}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(T,R){var S="function"==typeof Symbol&&T[Symbol.iterator];if(!S)return T;var L,G,V=S.call(T),O=[];try{for(;(void 0===R||R-- >0)&&!(L=V.next()).done;)O.push(L.value)}catch(se){G={error:se}}finally{try{L&&!L.done&&(S=V.return)&&S.call(V)}finally{if(G)throw G.error}}return O}function pe(){for(var T=[],R=0;R<arguments.length;R++)T=T.concat(Z(arguments[R]));return T}function St(){for(var T=0,R=0,S=arguments.length;R<S;R++)T+=arguments[R].length;var V=Array(T),L=0;for(R=0;R<S;R++)for(var O=arguments[R],G=0,se=O.length;G<se;G++,L++)V[L]=O[G];return V}function ct(T){return this instanceof ct?(this.v=T,this):new ct(T)}function me(T,R,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,V=S.apply(T,R||[]),O=[];return L={},G("next"),G("throw"),G("return"),L[Symbol.asyncIterator]=function(){return this},L;function G(ue){V[ue]&&(L[ue]=function(Ue){return new Promise(function(Dt,Xt){O.push([ue,Ue,Dt,Xt])>1||se(ue,Ue)})})}function se(ue,Ue){try{!function(ue){ue.value instanceof ct?Promise.resolve(ue.value.v).then(X,Te):Pe(O[0][2],ue)}(V[ue](Ue))}catch(Dt){Pe(O[0][3],Dt)}}function X(ue){se("next",ue)}function Te(ue){se("throw",ue)}function Pe(ue,Ue){ue(Ue),O.shift(),O.length&&se(O[0][0],O[0][1])}}function Ce(T){var R,S;return R={},V("next"),V("throw",function(L){throw L}),V("return"),R[Symbol.iterator]=function(){return this},R;function V(L,O){R[L]=T[L]?function(G){return(S=!S)?{value:ct(T[L](G)),done:"return"===L}:O?O(G):G}:O}}function de(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,R=T[Symbol.asyncIterator];return R?R.call(T):(T=Ee(T),S={},V("next"),V("throw"),V("return"),S[Symbol.asyncIterator]=function(){return this},S);function V(O){S[O]=T[O]&&function(G){return new Promise(function(se,ze){!function(O,G,se,ze){Promise.resolve(ze).then(function(X){O({value:X,done:se})},G)}(se,ze,(G=T[O](G)).done,G.value)})}}}function At(T,R){return Object.defineProperty?Object.defineProperty(T,"raw",{value:R}):T.raw=R,T}function lt(T){if(T&&T.__esModule)return T;var R={};if(null!=T)for(var S in T)Object.hasOwnProperty.call(T,S)&&(R[S]=T[S]);return R.default=T,R}function Ke(T){return T&&T.__esModule?T:{default:T}}function bn(T,R){if(!R.has(T))throw new TypeError("attempted to get private field on non-instance");return R.get(T)}function st(T,R,S){if(!R.has(T))throw new TypeError("attempted to set private field on non-instance");return R.set(T,S),S}},385:(Lr,be,nt)=>{"use strict";nt.r(be),nt.d(be,{__extends:()=>yt,__assign:()=>$e,__rest:()=>Re,__decorate:()=>fe,__param:()=>qt,__metadata:()=>Ne,__awaiter:()=>Sn,__generator:()=>$,__createBinding:()=>H,__exportStar:()=>ke,__values:()=>Ee,__read:()=>Z,__spread:()=>pe,__spreadArrays:()=>St,__await:()=>ct,__asyncGenerator:()=>me,__asyncDelegator:()=>Ce,__asyncValues:()=>de,__makeTemplateObject:()=>At,__importStar:()=>lt,__importDefault:()=>Ke,__classPrivateFieldGet:()=>bn,__classPrivateFieldSet:()=>st});var k=function(T,R){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,V){S.__proto__=V}||function(S,V){for(var L in V)V.hasOwnProperty(L)&&(S[L]=V[L])})(T,R)};function yt(T,R){function S(){this.constructor=T}k(T,R),T.prototype=null===R?Object.create(R):(S.prototype=R.prototype,new S)}var $e=function(){return($e=Object.assign||function(R){for(var S,V=1,L=arguments.length;V<L;V++)for(var O in S=arguments[V])Object.prototype.hasOwnProperty.call(S,O)&&(R[O]=S[O]);return R}).apply(this,arguments)};function Re(T,R){var S={};for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&R.indexOf(V)<0&&(S[V]=T[V]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(V=Object.getOwnPropertySymbols(T);L<V.length;L++)R.indexOf(V[L])<0&&Object.prototype.propertyIsEnumerable.call(T,V[L])&&(S[V[L]]=T[V[L]])}return S}function fe(T,R,S,V){var G,L=arguments.length,O=L<3?R:null===V?V=Object.getOwnPropertyDescriptor(R,S):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(T,R,S,V);else for(var se=T.length-1;se>=0;se--)(G=T[se])&&(O=(L<3?G(O):L>3?G(R,S,O):G(R,S))||O);return L>3&&O&&Object.defineProperty(R,S,O),O}function qt(T,R){return function(S,V){R(S,V,T)}}function Ne(T,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(T,R)}function Sn(T,R,S,V){return new(S||(S=Promise))(function(O,G){function se(Te){try{X(V.next(Te))}catch(Pe){G(Pe)}}function ze(Te){try{X(V.throw(Te))}catch(Pe){G(Pe)}}function X(Te){Te.done?O(Te.value):function(O){return O instanceof S?O:new S(function(G){G(O)})}(Te.value).then(se,ze)}X((V=V.apply(T,R||[])).next())})}function $(T,R){var V,L,O,G,S={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return G={next:se(0),throw:se(1),return:se(2)},"function"==typeof Symbol&&(G[Symbol.iterator]=function(){return this}),G;function se(X){return function(Te){return function(X){if(V)throw new TypeError("Generator is already executing.");for(;S;)try{if(V=1,L&&(O=2&X[0]?L.return:X[0]?L.throw||((O=L.return)&&O.call(L),0):L.next)&&!(O=O.call(L,X[1])).done)return O;switch(L=0,O&&(X=[2&X[0],O.value]),X[0]){case 0:case 1:O=X;break;case 4:return S.label++,{value:X[1],done:!1};case 5:S.label++,L=X[1],X=[0];continue;case 7:X=S.ops.pop(),S.trys.pop();continue;default:if(!(O=(O=S.trys).length>0&&O[O.length-1])&&(6===X[0]||2===X[0])){S=0;continue}if(3===X[0]&&(!O||X[1]>O[0]&&X[1]<O[3])){S.label=X[1];break}if(6===X[0]&&S.label<O[1]){S.label=O[1],O=X;break}if(O&&S.label<O[2]){S.label=O[2],S.ops.push(X);break}O[2]&&S.ops.pop(),S.trys.pop();continue}X=R.call(T,S)}catch(Te){X=[6,Te],L=0}finally{V=O=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,Te])}}}function H(T,R,S,V){void 0===V&&(V=S),T[V]=R[S]}function ke(T,R){for(var S in T)"default"!==S&&!R.hasOwnProperty(S)&&(R[S]=T[S])}function Ee(T){var R="function"==typeof Symbol&&Symbol.iterator,S=R&&T[R],V=0;if(S)return S.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&V>=T.length&&(T=void 0),{value:T&&T[V++],done:!T}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(T,R){var S="function"==typeof Symbol&&T[Symbol.iterator];if(!S)return T;var L,G,V=S.call(T),O=[];try{for(;(void 0===R||R-- >0)&&!(L=V.next()).done;)O.push(L.value)}catch(se){G={error:se}}finally{try{L&&!L.done&&(S=V.return)&&S.call(V)}finally{if(G)throw G.error}}return O}function pe(){for(var T=[],R=0;R<arguments.length;R++)T=T.concat(Z(arguments[R]));return T}function St(){for(var T=0,R=0,S=arguments.length;R<S;R++)T+=arguments[R].length;var V=Array(T),L=0;for(R=0;R<S;R++)for(var O=arguments[R],G=0,se=O.length;G<se;G++,L++)V[L]=O[G];return V}function ct(T){return this instanceof ct?(this.v=T,this):new ct(T)}function me(T,R,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,V=S.apply(T,R||[]),O=[];return L={},G("next"),G("throw"),G("return"),L[Symbol.asyncIterator]=function(){return this},L;function G(ue){V[ue]&&(L[ue]=function(Ue){return new Promise(function(Dt,Xt){O.push([ue,Ue,Dt,Xt])>1||se(ue,Ue)})})}function se(ue,Ue){try{!function(ue){ue.value instanceof ct?Promise.resolve(ue.value.v).then(X,Te):Pe(O[0][2],ue)}(V[ue](Ue))}catch(Dt){Pe(O[0][3],Dt)}}function X(ue){se("next",ue)}function Te(ue){se("throw",ue)}function Pe(ue,Ue){ue(Ue),O.shift(),O.length&&se(O[0][0],O[0][1])}}function Ce(T){var R,S;return R={},V("next"),V("throw",function(L){throw L}),V("return"),R[Symbol.iterator]=function(){return this},R;function V(L,O){R[L]=T[L]?function(G){return(S=!S)?{value:ct(T[L](G)),done:"return"===L}:O?O(G):G}:O}}function de(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,R=T[Symbol.asyncIterator];return R?R.call(T):(T=Ee(T),S={},V("next"),V("throw"),V("return"),S[Symbol.asyncIterator]=function(){return this},S);function V(O){S[O]=T[O]&&function(G){return new Promise(function(se,ze){!function(O,G,se,ze){Promise.resolve(ze).then(function(X){O({value:X,done:se})},G)}(se,ze,(G=T[O](G)).done,G.value)})}}}function At(T,R){return Object.defineProperty?Object.defineProperty(T,"raw",{value:R}):T.raw=R,T}function lt(T){if(T&&T.__esModule)return T;var R={};if(null!=T)for(var S in T)Object.hasOwnProperty.call(T,S)&&(R[S]=T[S]);return R.default=T,R}function Ke(T){return T&&T.__esModule?T:{default:T}}function bn(T,R){if(!R.has(T))throw new TypeError("attempted to get private field on non-instance");return R.get(T)}function st(T,R,S){if(!R.has(T))throw new TypeError("attempted to set private field on non-instance");return R.set(T,S),S}},812:(Lr,be,nt)=>{"use strict";nt.r(be),nt.d(be,{__extends:()=>yt,__assign:()=>$e,__rest:()=>Re,__decorate:()=>fe,__param:()=>qt,__metadata:()=>Ne,__awaiter:()=>Sn,__generator:()=>$,__createBinding:()=>H,__exportStar:()=>ke,__values:()=>Ee,__read:()=>Z,__spread:()=>pe,__spreadArrays:()=>St,__await:()=>ct,__asyncGenerator:()=>me,__asyncDelegator:()=>Ce,__asyncValues:()=>de,__makeTemplateObject:()=>At,__importStar:()=>lt,__importDefault:()=>Ke,__classPrivateFieldGet:()=>bn,__classPrivateFieldSet:()=>st});var k=function(T,R){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,V){S.__proto__=V}||function(S,V){for(var L in V)V.hasOwnProperty(L)&&(S[L]=V[L])})(T,R)};function yt(T,R){function S(){this.constructor=T}k(T,R),T.prototype=null===R?Object.create(R):(S.prototype=R.prototype,new S)}var $e=function(){return($e=Object.assign||function(R){for(var S,V=1,L=arguments.length;V<L;V++)for(var O in S=arguments[V])Object.prototype.hasOwnProperty.call(S,O)&&(R[O]=S[O]);return R}).apply(this,arguments)};function Re(T,R){var S={};for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&R.indexOf(V)<0&&(S[V]=T[V]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(V=Object.getOwnPropertySymbols(T);L<V.length;L++)R.indexOf(V[L])<0&&Object.prototype.propertyIsEnumerable.call(T,V[L])&&(S[V[L]]=T[V[L]])}return S}function fe(T,R,S,V){var G,L=arguments.length,O=L<3?R:null===V?V=Object.getOwnPropertyDescriptor(R,S):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(T,R,S,V);else for(var se=T.length-1;se>=0;se--)(G=T[se])&&(O=(L<3?G(O):L>3?G(R,S,O):G(R,S))||O);return L>3&&O&&Object.defineProperty(R,S,O),O}function qt(T,R){return function(S,V){R(S,V,T)}}function Ne(T,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(T,R)}function Sn(T,R,S,V){return new(S||(S=Promise))(function(O,G){function se(Te){try{X(V.next(Te))}catch(Pe){G(Pe)}}function ze(Te){try{X(V.throw(Te))}catch(Pe){G(Pe)}}function X(Te){Te.done?O(Te.value):function(O){return O instanceof S?O:new S(function(G){G(O)})}(Te.value).then(se,ze)}X((V=V.apply(T,R||[])).next())})}function $(T,R){var V,L,O,G,S={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return G={next:se(0),throw:se(1),return:se(2)},"function"==typeof Symbol&&(G[Symbol.iterator]=function(){return this}),G;function se(X){return function(Te){return function(X){if(V)throw new TypeError("Generator is already executing.");for(;S;)try{if(V=1,L&&(O=2&X[0]?L.return:X[0]?L.throw||((O=L.return)&&O.call(L),0):L.next)&&!(O=O.call(L,X[1])).done)return O;switch(L=0,O&&(X=[2&X[0],O.value]),X[0]){case 0:case 1:O=X;break;case 4:return S.label++,{value:X[1],done:!1};case 5:S.label++,L=X[1],X=[0];continue;case 7:X=S.ops.pop(),S.trys.pop();continue;default:if(!(O=(O=S.trys).length>0&&O[O.length-1])&&(6===X[0]||2===X[0])){S=0;continue}if(3===X[0]&&(!O||X[1]>O[0]&&X[1]<O[3])){S.label=X[1];break}if(6===X[0]&&S.label<O[1]){S.label=O[1],O=X;break}if(O&&S.label<O[2]){S.label=O[2],S.ops.push(X);break}O[2]&&S.ops.pop(),S.trys.pop();continue}X=R.call(T,S)}catch(Te){X=[6,Te],L=0}finally{V=O=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,Te])}}}function H(T,R,S,V){void 0===V&&(V=S),T[V]=R[S]}function ke(T,R){for(var S in T)"default"!==S&&!R.hasOwnProperty(S)&&(R[S]=T[S])}function Ee(T){var R="function"==typeof Symbol&&Symbol.iterator,S=R&&T[R],V=0;if(S)return S.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&V>=T.length&&(T=void 0),{value:T&&T[V++],done:!T}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(T,R){var S="function"==typeof Symbol&&T[Symbol.iterator];if(!S)return T;var L,G,V=S.call(T),O=[];try{for(;(void 0===R||R-- >0)&&!(L=V.next()).done;)O.push(L.value)}catch(se){G={error:se}}finally{try{L&&!L.done&&(S=V.return)&&S.call(V)}finally{if(G)throw G.error}}return O}function pe(){for(var T=[],R=0;R<arguments.length;R++)T=T.concat(Z(arguments[R]));return T}function St(){for(var T=0,R=0,S=arguments.length;R<S;R++)T+=arguments[R].length;var V=Array(T),L=0;for(R=0;R<S;R++)for(var O=arguments[R],G=0,se=O.length;G<se;G++,L++)V[L]=O[G];return V}function ct(T){return this instanceof ct?(this.v=T,this):new ct(T)}function me(T,R,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,V=S.apply(T,R||[]),O=[];return L={},G("next"),G("throw"),G("return"),L[Symbol.asyncIterator]=function(){return this},L;function G(ue){V[ue]&&(L[ue]=function(Ue){return new Promise(function(Dt,Xt){O.push([ue,Ue,Dt,Xt])>1||se(ue,Ue)})})}function se(ue,Ue){try{!function(ue){ue.value instanceof ct?Promise.resolve(ue.value.v).then(X,Te):Pe(O[0][2],ue)}(V[ue](Ue))}catch(Dt){Pe(O[0][3],Dt)}}function X(ue){se("next",ue)}function Te(ue){se("throw",ue)}function Pe(ue,Ue){ue(Ue),O.shift(),O.length&&se(O[0][0],O[0][1])}}function Ce(T){var R,S;return R={},V("next"),V("throw",function(L){throw L}),V("return"),R[Symbol.iterator]=function(){return this},R;function V(L,O){R[L]=T[L]?function(G){return(S=!S)?{value:ct(T[L](G)),done:"return"===L}:O?O(G):G}:O}}function de(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,R=T[Symbol.asyncIterator];return R?R.call(T):(T=Ee(T),S={},V("next"),V("throw"),V("return"),S[Symbol.asyncIterator]=function(){return this},S);function V(O){S[O]=T[O]&&function(G){return new Promise(function(se,ze){!function(O,G,se,ze){Promise.resolve(ze).then(function(X){O({value:X,done:se})},G)}(se,ze,(G=T[O](G)).done,G.value)})}}}function At(T,R){return Object.defineProperty?Object.defineProperty(T,"raw",{value:R}):T.raw=R,T}function lt(T){if(T&&T.__esModule)return T;var R={};if(null!=T)for(var S in T)Object.hasOwnProperty.call(T,S)&&(R[S]=T[S]);return R.default=T,R}function Ke(T){return T&&T.__esModule?T:{default:T}}function bn(T,R){if(!R.has(T))throw new TypeError("attempted to get private field on non-instance");return R.get(T)}function st(T,R,S){if(!R.has(T))throw new TypeError("attempted to set private field on non-instance");return R.set(T,S),S}},57:(Lr,be,nt)=>{"use strict";nt.r(be),nt.d(be,{__extends:()=>yt,__assign:()=>$e,__rest:()=>Re,__decorate:()=>fe,__param:()=>qt,__metadata:()=>Ne,__awaiter:()=>Sn,__generator:()=>$,__createBinding:()=>H,__exportStar:()=>ke,__values:()=>Ee,__read:()=>Z,__spread:()=>pe,__spreadArrays:()=>St,__await:()=>ct,__asyncGenerator:()=>me,__asyncDelegator:()=>Ce,__asyncValues:()=>de,__makeTemplateObject:()=>At,__importStar:()=>lt,__importDefault:()=>Ke,__classPrivateFieldGet:()=>bn,__classPrivateFieldSet:()=>st});var k=function(T,R){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,V){S.__proto__=V}||function(S,V){for(var L in V)V.hasOwnProperty(L)&&(S[L]=V[L])})(T,R)};function yt(T,R){function S(){this.constructor=T}k(T,R),T.prototype=null===R?Object.create(R):(S.prototype=R.prototype,new S)}var $e=function(){return($e=Object.assign||function(R){for(var S,V=1,L=arguments.length;V<L;V++)for(var O in S=arguments[V])Object.prototype.hasOwnProperty.call(S,O)&&(R[O]=S[O]);return R}).apply(this,arguments)};function Re(T,R){var S={};for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&R.indexOf(V)<0&&(S[V]=T[V]);if(null!=T&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(V=Object.getOwnPropertySymbols(T);L<V.length;L++)R.indexOf(V[L])<0&&Object.prototype.propertyIsEnumerable.call(T,V[L])&&(S[V[L]]=T[V[L]])}return S}function fe(T,R,S,V){var G,L=arguments.length,O=L<3?R:null===V?V=Object.getOwnPropertyDescriptor(R,S):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(T,R,S,V);else for(var se=T.length-1;se>=0;se--)(G=T[se])&&(O=(L<3?G(O):L>3?G(R,S,O):G(R,S))||O);return L>3&&O&&Object.defineProperty(R,S,O),O}function qt(T,R){return function(S,V){R(S,V,T)}}function Ne(T,R){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(T,R)}function Sn(T,R,S,V){return new(S||(S=Promise))(function(O,G){function se(Te){try{X(V.next(Te))}catch(Pe){G(Pe)}}function ze(Te){try{X(V.throw(Te))}catch(Pe){G(Pe)}}function X(Te){Te.done?O(Te.value):function(O){return O instanceof S?O:new S(function(G){G(O)})}(Te.value).then(se,ze)}X((V=V.apply(T,R||[])).next())})}function $(T,R){var V,L,O,G,S={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return G={next:se(0),throw:se(1),return:se(2)},"function"==typeof Symbol&&(G[Symbol.iterator]=function(){return this}),G;function se(X){return function(Te){return function(X){if(V)throw new TypeError("Generator is already executing.");for(;S;)try{if(V=1,L&&(O=2&X[0]?L.return:X[0]?L.throw||((O=L.return)&&O.call(L),0):L.next)&&!(O=O.call(L,X[1])).done)return O;switch(L=0,O&&(X=[2&X[0],O.value]),X[0]){case 0:case 1:O=X;break;case 4:return S.label++,{value:X[1],done:!1};case 5:S.label++,L=X[1],X=[0];continue;case 7:X=S.ops.pop(),S.trys.pop();continue;default:if(!(O=(O=S.trys).length>0&&O[O.length-1])&&(6===X[0]||2===X[0])){S=0;continue}if(3===X[0]&&(!O||X[1]>O[0]&&X[1]<O[3])){S.label=X[1];break}if(6===X[0]&&S.label<O[1]){S.label=O[1],O=X;break}if(O&&S.label<O[2]){S.label=O[2],S.ops.push(X);break}O[2]&&S.ops.pop(),S.trys.pop();continue}X=R.call(T,S)}catch(Te){X=[6,Te],L=0}finally{V=O=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,Te])}}}function H(T,R,S,V){void 0===V&&(V=S),T[V]=R[S]}function ke(T,R){for(var S in T)"default"!==S&&!R.hasOwnProperty(S)&&(R[S]=T[S])}function Ee(T){var R="function"==typeof Symbol&&Symbol.iterator,S=R&&T[R],V=0;if(S)return S.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&V>=T.length&&(T=void 0),{value:T&&T[V++],done:!T}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(T,R){var S="function"==typeof Symbol&&T[Symbol.iterator];if(!S)return T;var L,G,V=S.call(T),O=[];try{for(;(void 0===R||R-- >0)&&!(L=V.next()).done;)O.push(L.value)}catch(se){G={error:se}}finally{try{L&&!L.done&&(S=V.return)&&S.call(V)}finally{if(G)throw G.error}}return O}function pe(){for(var T=[],R=0;R<arguments.length;R++)T=T.concat(Z(arguments[R]));return T}function St(){for(var T=0,R=0,S=arguments.length;R<S;R++)T+=arguments[R].length;var V=Array(T),L=0;for(R=0;R<S;R++)for(var O=arguments[R],G=0,se=O.length;G<se;G++,L++)V[L]=O[G];return V}function ct(T){return this instanceof ct?(this.v=T,this):new ct(T)}function me(T,R,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,V=S.apply(T,R||[]),O=[];return L={},G("next"),G("throw"),G("return"),L[Symbol.asyncIterator]=function(){return this},L;function G(ue){V[ue]&&(L[ue]=function(Ue){return new Promise(function(Dt,Xt){O.push([ue,Ue,Dt,Xt])>1||se(ue,Ue)})})}function se(ue,Ue){try{!function(ue){ue.value instanceof ct?Promise.resolve(ue.value.v).then(X,Te):Pe(O[0][2],ue)}(V[ue](Ue))}catch(Dt){Pe(O[0][3],Dt)}}function X(ue){se("next",ue)}function Te(ue){se("throw",ue)}function Pe(ue,Ue){ue(Ue),O.shift(),O.length&&se(O[0][0],O[0][1])}}function Ce(T){var R,S;return R={},V("next"),V("throw",function(L){throw L}),V("return"),R[Symbol.iterator]=function(){return this},R;function V(L,O){R[L]=T[L]?function(G){return(S=!S)?{value:ct(T[L](G)),done:"return"===L}:O?O(G):G}:O}}function de(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,R=T[Symbol.asyncIterator];return R?R.call(T):(T=Ee(T),S={},V("next"),V("throw"),V("return"),S[Symbol.asyncIterator]=function(){return this},S);function V(O){S[O]=T[O]&&function(G){return new Promise(function(se,ze){!function(O,G,se,ze){Promise.resolve(ze).then(function(X){O({value:X,done:se})},G)}(se,ze,(G=T[O](G)).done,G.value)})}}}function At(T,R){return Object.defineProperty?Object.defineProperty(T,"raw",{value:R}):T.raw=R,T}function lt(T){if(T&&T.__esModule)return T;var R={};if(null!=T)for(var S in T)Object.hasOwnProperty.call(T,S)&&(R[S]=T[S]);return R.default=T,R}function Ke(T){return T&&T.__esModule?T:{default:T}}function bn(T,R){if(!R.has(T))throw new TypeError("attempted to get private field on non-instance");return R.get(T)}function st(T,R,S){if(!R.has(T))throw new TypeError("attempted to set private field on non-instance");return R.set(T,S),S}}},Lr=>{Lr(Lr.s=98)}]);